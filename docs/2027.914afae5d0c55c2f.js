(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2027],{2027:(Mt,dt,G)=>{"use strict";G.r(dt),G.d(dt,{WikiModule:()=>Pl});var et=G(4521),x=G(5861),F=G(9268),f=G(5e3);let T=(()=>{class e{constructor(){this.subscriptionsData=[]}ngOnDestroy(){this.allSubscriptions().forEach(i=>{i.unsubscribe()})}subscribe(i,o,a,l){const d=(0,F.V)();return this.subscriptionsData.push({id:d,subscription:i.subscribe(o,a,l)}),d}unsubscribe(i){const o=this.subscriptionById(i);!o||o.closed||o.unsubscribe()}unsubscribeAll(){this.subscriptionsData.forEach(i=>i.subscription.unsubscribe())}allSubscriptions(){return this.subscriptionsData.map(i=>i.subscription)}subscriptionById(i){const o=this.subscriptionsData.find(a=>a.id===i);return null==o?void 0:o.subscription}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f.Xpm({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(i,o){},encapsulation:2}),e})();const b=(e,r)=>{if(0===e.length)return[];if(0===r.length)return[];const i=I(e,r);return e.map(o=>({id:o.id,label:o.name,group:o.planet,score:i[o.id]}))},w=e=>{const r={};for(const o of e){const a=`${o.characterId1}-${o.characterId2}`;r[a]?r[a]+=1:r[a]=1}let i=[];for(const o in r){const[a,l]=o.split("-");i.push({source:a,target:l,weight:r[o],group:"undefined"})}return i},E=e=>{const r=new Set;return e.forEach(i=>{r.add(i.characterId1),r.add(i.characterId2)}),Array.from(r)},I=(e,r)=>{const a={};r.forEach(O=>{var H,Y,q,gt;null!==(H=a[q=O.characterId1])&&void 0!==H||(a[q]=0),null!==(Y=a[gt=O.characterId2])&&void 0!==Y||(a[gt]=0),a[O.characterId1]+=1,a[O.characterId2]+=1});const l=Object.values(a);let d=Math.min(...l);const C=Math.max(...l)-d,A={};for(const[O,H]of Object.entries(a))A[O]=(H-d)/C*55+5;return A};var k=G(7489),R=G.n(k),Q=G(5595),$=G(7749),j=G.n($),J=G(4004),P=G(520),B=G(3905),W=G(2843),L=G(262),ot=G(2340);let at=(()=>{class e{generate(i){let o=i;return o.startsWith("/")||(o="/"+o),"assets/db"+o+".json"}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),lt=(()=>{class e{constructor(i,o){this.http=i,this.router=o,this.requestCache={},setInterval(()=>{this.clearCache()},300)}get(i){var o=this;const a=this.router.generate(i);return new Promise(function(){var l=(0,x.Z)(function*(d,y){try{d(yield(0,B.z)(o.http.get(a).pipe((0,L.K)(A=>(0,W._)(A)))))}catch(C){y(C)}});return function(d,y){return l.apply(this,arguments)}}())}headers(){return{headers:(new P.WM).set("app-version",ot.N.appVersion).set("Access-Control-Allow-Origin","*")}}clearCache(){const i=(0,k.keys)(this.requestCache),o=(new Date).getTime();for(const a of i){const l=this.requestCache[a];if(!l)continue;const d=o-l.timestamp;!l.response&&d<2e4||l.response&&d<200||(this.requestCache[a]=null,delete this.requestCache[a])}}}return e.\u0275fac=function(i){return new(i||e)(f.LFG(P.eN),f.LFG(at))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ct=G(8306),ft=G(727),wt=G(3101),Nt=G(4707),Dt=G(576);function Yt(e){return!!e&&(e instanceof ct.y||(0,Dt.m)(e.lift)&&(0,Dt.m)(e.subscribe))}var Jt=G(9646),Vt=G(9975),qt=G(4408),be=G(7565);const ie=new class Te extends be.v{}(class ve extends qt.o{constructor(r,i){super(r,i),this.scheduler=r,this.work=i}schedule(r,i=0){return i>0?super.schedule(r,i):(this.delay=i,this.state=r,this.scheduler.flush(this),this)}execute(r,i){return i>0||this.closed?super.execute(r,i):this._execute(r,i)}requestAsyncId(r,i,o=0){return null!=o&&o>0||null==o&&this.delay>0?super.requestAsyncId(r,i,o):r.flush(this)}});var Ve=G(9841),me=G(7579),kt=G(4351),It=G(4482),Gt=G(5403),Re=G(8421),qe=G(4671),cn=G(5032),Be=G(3269),_n=G(2722),Je=G(5698),gn=G(1884),Vi=G(4782);function Oe(){return e=>new ct.y(r=>{let i,o;const a=new ft.w0;return a.add(e.subscribe({complete:()=>{i&&r.next(o),r.complete()},error:l=>{r.error(l)},next:l=>{o=l,i||(i=wt.E.schedule(()=>{r.next(o),i=void 0}),a.add(i))}})),a})}const No=new f.OlP("@ngrx/component-store Initial State");let Wr=(()=>{class e{constructor(i){this.destroySubject$=new Nt.t(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new Nt.t(1),this.isInitialized=!1,this.notInitializedErrorMessage=`${this.constructor.name} has not been initialized yet. Please make sure it is initialized before updating/getting.`,this.state$=this.select(o=>o),i&&this.initState(i)}ngOnDestroy(){this.stateSubject$.complete(),this.destroySubject$.next()}updater(i){return o=>{let a;const d=(Yt(o)?o:(0,Jt.of)(o)).pipe((0,kt.b)(y=>this.isInitialized?(0,Vt.x)([y],ie).pipe(function De(...e){const r=(0,Be.jO)(e);return(0,It.e)((i,o)=>{const a=e.length,l=new Array(a);let d=e.map(()=>!1),y=!1;for(let C=0;C<a;C++)(0,Re.Xf)(e[C]).subscribe(new Gt.Q(o,A=>{l[C]=A,!y&&!d[C]&&(d[C]=!0,(y=d.every(qe.y))&&(d=null))},cn.Z));i.subscribe(new Gt.Q(o,C=>{if(y){const A=[C,...l];o.next(r?r(...A):A)}}))})}(this.stateSubject$)):(0,W._)(new Error(this.notInitializedErrorMessage))),(0,_n.R)(this.destroy$)).subscribe({next:([y,C])=>{this.stateSubject$.next(i(C,y))},error:y=>{a=y,this.stateSubject$.error(y)}});if(a)throw a;return d}}initState(i){(0,Vt.x)([i],ie).subscribe(o=>{this.isInitialized=!0,this.stateSubject$.next(o)})}setState(i){"function"!=typeof i?this.initState(i):this.updater(i)()}patchState(i){const o="function"==typeof i?i(this.get()):i;this.updater((a,l)=>Object.assign(Object.assign({},a),l))(o)}get(i){if(!this.isInitialized)throw new Error(this.notInitializedErrorMessage);let o;return this.stateSubject$.pipe((0,Je.q)(1)).subscribe(a=>{o=i?i(a):a}),o}select(...i){const{observables:o,projector:a,config:l}=function Br(e){const r=Array.from(e);let o,i={debounce:!1};const a=r.pop();return"function"!=typeof a?(i=Object.assign(Object.assign({},i),a),o=r.pop()):o=a,{observables:r,projector:o,config:i}}(i);let d;return d=0===o.length?this.stateSubject$.pipe(l.debounce?Oe():y=>y,(0,J.U)(a)):(0,Ve.a)(o).pipe(l.debounce?Oe():y=>y,(0,J.U)(y=>a(...y))),d.pipe((0,gn.x)(),(0,Vi.d)({refCount:!0,bufferSize:1}),(0,_n.R)(this.destroy$))}effect(i){const o=new me.x;return i(o).pipe((0,_n.R)(this.destroy$)).subscribe(),a=>(Yt(a)?a:(0,Jt.of)(a)).pipe((0,_n.R)(this.destroy$)).subscribe(d=>{o.next(d)})}}return e.\u0275fac=function(i){return new(i||e)(f.LFG(No,8))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac}),e})();const Kn=(e,r)=>r.find(i=>i.id===e),Vn=(e,r)=>{e||(e=[]);let i=[...e];return r.forEach(o=>{i=qi(i,o)}),i},qi=(e,r)=>{const i=r;let o=[...e];return(0,k.some)(o,a=>a.id===i.id)?o=o.map(a=>a.id===i.id?r:a):o.push(r),o};let Zr=(()=>{class e extends Wr{constructor(){super({characters:[]}),this.characters$=this.select(i=>i.characters)}saveAllCharacters(i){(0,k.isEqual)(this.get().characters,i)||this.patchState(o=>({characters:Vn(o.characters,i)}))}syncState(){return this.get()}syncCharacter(i){return Kn(i,this.get().characters)}reset(){this.patchState({characters:[]})}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Mn=(()=>{class e{constructor(i,o){this.api=i,this.store=o}fetchAllCharacter(){var i=this;return(0,x.Z)(function*(){const o=yield i.api.get("characters");i.store.saveAllCharacters(o)})()}fetchAllCosmereCharacter(){var i=this;return(0,x.Z)(function*(){const a=(yield i.api.get("characters")).filter(l=>"Cosmere"===l.universe);i.store.saveAllCharacters(a)})()}syncAllCharacters(){return this.store.syncState().characters}allCharacters(){return this.store.characters$}cosmereCharacters(){return this.store.characters$.pipe((0,J.U)(i=>i.filter(o=>"Cosmere"===o.universe)))}}return e.\u0275fac=function(i){return new(i||e)(f.LFG(lt),f.LFG(Zr))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),$r=(()=>{class e extends Wr{constructor(){super({relationships:[]}),this.relationships$=this.select(i=>i.relationships)}saveAllRelationship(i){(0,k.isEqual)(this.get().relationships,i)||this.patchState(o=>({relationships:Vn(o.relationships,i)}))}syncState(){return this.get()}reset(){this.patchState({relationships:[]})}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Yr=(()=>{class e{constructor(i,o){this.api=i,this.store=o}fetchAllRelationship(){var i=this;return(0,x.Z)(function*(){const o=yield i.api.get("relationships");i.store.saveAllRelationship(o)})()}fetchAllRelationshipByBookId(i){var o=this;return(0,x.Z)(function*(){const a=yield o.api.get("relationships-"+i);o.store.saveAllRelationship(a)})()}fetchAllCosmereRelationship(){var i=this;return(0,x.Z)(function*(){const o=[];for(const d of["warbreaker","mistborn1","mistborn2","mistborn3","mistborn4","mistborn5","mistborn6","stormlight1","stormlight2","stormlight3","stormlight4"])o.push(i.api.get("relationships-"+d).then(y=>y).catch(y=>{}));const a=yield Promise.all(o);let l=[];a.forEach(d=>l=Vn(l,d)),i.store.saveAllRelationship(l)})()}syncAllRelationship(){return this.store.syncState().relationships}allRelationship(){return this.store.relationships$}cosmereRelationships(){return this.store.relationships$.pipe((0,J.U)(i=>i.filter(o=>["warbreaker","mistborn1","mistborn2","mistborn3","mistborn4","mistborn5","mistborn6","stormlight1","stormlight2","stormlight3","stormlight4"].includes(o.bookId))))}relationshipsByBook(i){return this.store.relationships$.pipe((0,J.U)(o=>o.filter(a=>(null==a?void 0:a.bookId)===i)))}}return e.\u0275fac=function(i){return new(i||e)(f.LFG(lt),f.LFG($r))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var qn=G(9976);function Ar(e,r){let i;if(void 0===r)for(const o of e)null!=o&&(i<o||void 0===i&&o>=o)&&(i=o);else{let o=-1;for(let a of e)null!=(a=r(a,++o,e))&&(i<a||void 0===i&&a>=a)&&(i=a)}return i}function Jn(e,r){let i;if(void 0===r)for(const o of e)null!=o&&(i>o||void 0===i&&o>=o)&&(i=o);else{let o=-1;for(let a of e)null!=(a=r(a,++o,e))&&(i>a||void 0===i&&a>=a)&&(i=a)}return i}function yn(e,r){return null==e||null==r?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function Ei(e,r){return(null==e||!(e>=e))-(null==r||!(r>=r))||(e<r?-1:e>r?1:0)}function Do(e,r,i=0,o=1/0,a){if(r=Math.floor(r),i=Math.floor(Math.max(0,i)),o=Math.floor(Math.min(e.length-1,o)),!(i<=r&&r<=o))return e;for(a=void 0===a?Ei:function Er(e=yn){if(e===yn)return Ei;if("function"!=typeof e)throw new TypeError("compare is not a function");return(r,i)=>{const o=e(r,i);return o||0===o?o:(0===e(i,i))-(0===e(r,r))}}(a);o>i;){if(o-i>600){const C=o-i+1,A=r-i+1,O=Math.log(C),H=.5*Math.exp(2*O/3),Y=.5*Math.sqrt(O*H*(C-H)/C)*(A-C/2<0?-1:1);Do(e,r,Math.max(i,Math.floor(r-A*H/C+Y)),Math.min(o,Math.floor(r+(C-A)*H/C+Y)),a)}const l=e[r];let d=i,y=o;for(On(e,i,r),a(e[o],l)>0&&On(e,i,o);d<y;){for(On(e,d,y),++d,--y;a(e[d],l)<0;)++d;for(;a(e[y],l)>0;)--y}0===a(e[i],l)?On(e,i,y):(++y,On(e,y,o)),y<=r&&(i=y+1),r<=y&&(o=y-1)}return e}function On(e,r,i){const o=e[r];e[r]=e[i],e[i]=o}function Qn(e,r,i){e=+e,r=+r,i=(a=arguments.length)<2?(r=e,e=0,1):a<3?1:+i;for(var o=-1,a=0|Math.max(0,Math.ceil((r-e)/i)),l=new Array(a);++o<a;)l[o]=e+o*i;return l}class zo extends Map{constructor(r,i=Ee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),null!=r)for(const[o,a]of r)this.set(o,a)}get(r){return super.get(Ci(this,r))}has(r){return super.has(Ci(this,r))}set(r,i){return super.set(Si(this,r),i)}delete(r){return super.delete(sr(this,r))}}class Ro extends Set{constructor(r,i=Ee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),null!=r)for(const o of r)this.add(o)}has(r){return super.has(Ci(this,r))}add(r){return super.add(Si(this,r))}delete(r){return super.delete(sr(this,r))}}function Ci({_intern:e,_key:r},i){const o=r(i);return e.has(o)?e.get(o):i}function Si({_intern:e,_key:r},i){const o=r(i);return e.has(o)?e.get(o):(e.set(o,i),i)}function sr({_intern:e,_key:r},i){const o=r(i);return e.has(o)&&(i=e.get(o),e.delete(o)),i}function Ee(e){return null!==e&&"object"==typeof e?e.valueOf():e}function Go(e){return e}function p(e){return"translate("+e+",0)"}function _(e){return"translate(0,"+e+")"}function g(e){return r=>+e(r)}function u(e,r){return r=Math.max(0,e.bandwidth()-2*r)/2,e.round()&&(r=Math.round(r)),i=>+e(i)+r}function c(){return!this.__axis}function v(e,r){var i=[],o=null,a=null,l=6,d=6,y=3,C="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,A=1===e||4===e?-1:1,O=4===e||2===e?"x":"y",H=1===e||3===e?p:_;function Y(q){var gt=null==o?r.ticks?r.ticks.apply(r,i):r.domain():o,pt=null==a?r.tickFormat?r.tickFormat.apply(r,i):Go:a,V=Math.max(l,0)+y,X=r.range(),ut=+X[0]+C,xt=+X[X.length-1]+C,it=(r.bandwidth?u:g)(r.copy(),C),Ct=q.selection?q.selection():q,Ut=Ct.selectAll(".domain").data([null]),Zt=Ct.selectAll(".tick").data(gt,r).order(),Ft=Zt.exit(),ae=Zt.enter().append("g").attr("class","tick"),$t=Zt.select("line"),Tt=Zt.select("text");Ut=Ut.merge(Ut.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Zt=Zt.merge(ae),$t=$t.merge(ae.append("line").attr("stroke","currentColor").attr(O+"2",A*l)),Tt=Tt.merge(ae.append("text").attr("fill","currentColor").attr(O,A*V).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),q!==Ct&&(Ut=Ut.transition(q),Zt=Zt.transition(q),$t=$t.transition(q),Tt=Tt.transition(q),Ft=Ft.transition(q).attr("opacity",1e-6).attr("transform",function(ue){return isFinite(ue=it(ue))?H(ue+C):this.getAttribute("transform")}),ae.attr("opacity",1e-6).attr("transform",function(ue){var ee=this.parentNode.__axis;return H((ee&&isFinite(ee=ee(ue))?ee:it(ue))+C)})),Ft.remove(),Ut.attr("d",4===e||2===e?d?"M"+A*d+","+ut+"H"+C+"V"+xt+"H"+A*d:"M"+C+","+ut+"V"+xt:d?"M"+ut+","+A*d+"V"+C+"H"+xt+"V"+A*d:"M"+ut+","+C+"H"+xt),Zt.attr("opacity",1).attr("transform",function(ue){return H(it(ue)+C)}),$t.attr(O+"2",A*l),Tt.attr(O,A*V).text(pt),Ct.filter(c).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),Ct.each(function(){this.__axis=it})}return Y.scale=function(q){return arguments.length?(r=q,Y):r},Y.ticks=function(){return i=Array.from(arguments),Y},Y.tickArguments=function(q){return arguments.length?(i=null==q?[]:Array.from(q),Y):i.slice()},Y.tickValues=function(q){return arguments.length?(o=null==q?null:Array.from(q),Y):o&&o.slice()},Y.tickFormat=function(q){return arguments.length?(a=q,Y):a},Y.tickSize=function(q){return arguments.length?(l=d=+q,Y):l},Y.tickSizeInner=function(q){return arguments.length?(l=+q,Y):l},Y.tickSizeOuter=function(q){return arguments.length?(d=+q,Y):d},Y.tickPadding=function(q){return arguments.length?(y=+q,Y):y},Y.offset=function(q){return arguments.length?(C=+q,Y):C},Y}function rt(e){return v(3,e)}function At(e){return v(4,e)}function Et(){}function mt(e){return null==e?Et:function(){return this.querySelector(e)}}function Rt(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function Qt(){return[]}function we(e){return null==e?Qt:function(){return this.querySelectorAll(e)}}function Ge(e){return function(){return this.matches(e)}}function nn(e){return function(r){return r.matches(e)}}var mn=Array.prototype.find;function wn(){return this.firstElementChild}var Kr=Array.prototype.filter;function Oo(){return Array.from(this.children)}function Us(e){return new Array(e.length)}function to(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}function Ka(e){return function(){return e}}function Ws(e,r,i,o,a,l){for(var y,d=0,C=r.length,A=l.length;d<A;++d)(y=r[d])?(y.__data__=l[d],o[d]=y):i[d]=new to(e,l[d]);for(;d<C;++d)(y=r[d])&&(a[d]=y)}function eh(e,r,i,o,a,l,d){var y,C,q,A=new Map,O=r.length,H=l.length,Y=new Array(O);for(y=0;y<O;++y)(C=r[y])&&(Y[y]=q=d.call(C,C.__data__,y,r)+"",A.has(q)?a[y]=C:A.set(q,C));for(y=0;y<H;++y)q=d.call(e,l[y],y,l)+"",(C=A.get(q))?(o[y]=C,C.__data__=l[y],A.delete(q)):i[y]=new to(e,l[y]);for(y=0;y<O;++y)(C=r[y])&&A.get(Y[y])===C&&(a[y]=C)}function Va(e){return e.__data__}function Fs(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function tu(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}to.prototype={constructor:to,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Zs="http://www.w3.org/1999/xhtml";const iu={svg:"http://www.w3.org/2000/svg",xhtml:Zs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Uo(e){var r=e+="",i=r.indexOf(":");return i>=0&&"xmlns"!==(r=e.slice(0,i))&&(e=e.slice(i+1)),iu.hasOwnProperty(r)?{space:iu[r],local:e}:e}function sh(e){return function(){this.removeAttribute(e)}}function $s(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ah(e,r){return function(){this.setAttribute(e,r)}}function uh(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function ch(e,r){return function(){var i=r.apply(this,arguments);null==i?this.removeAttribute(e):this.setAttribute(e,i)}}function hh(e,r){return function(){var i=r.apply(this,arguments);null==i?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}}function ke(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ie(e){return function(){this.style.removeProperty(e)}}function lh(e,r,i){return function(){this.style.setProperty(e,r,i)}}function dh(e,r,i){return function(){var o=r.apply(this,arguments);null==o?this.style.removeProperty(e):this.style.setProperty(e,o,i)}}function Ii(e,r){return e.style.getPropertyValue(r)||ke(e).getComputedStyle(e,null).getPropertyValue(r)}function gh(e){return function(){delete this[e]}}function vh(e,r){return function(){this[e]=r}}function ou(e,r){return function(){var i=r.apply(this,arguments);null==i?delete this[e]:this[e]=i}}function Ke(e){return e.trim().split(/^|\s+/)}function Wo(e){return e.classList||new Ni(e)}function Ni(e){this._node=e,this._names=Ke(e.getAttribute("class")||"")}function Ys(e,r){for(var i=Wo(e),o=-1,a=r.length;++o<a;)i.add(r[o])}function Bo(e,r){for(var i=Wo(e),o=-1,a=r.length;++o<a;)i.remove(r[o])}function kn(e){return function(){Ys(this,e)}}function su(e){return function(){Bo(this,e)}}function au(e,r){return function(){(r.apply(this,arguments)?Ys:Bo)(this,e)}}function cu(){this.textContent=""}function hu(e){return function(){this.textContent=e}}function fu(e){return function(){var r=e.apply(this,arguments);this.textContent=null==r?"":r}}function mh(){this.innerHTML=""}function In(e){return function(){this.innerHTML=e}}function wh(e){return function(){var r=e.apply(this,arguments);this.innerHTML=null==r?"":r}}function Sr(){this.nextSibling&&this.parentNode.appendChild(this)}function Hs(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Mr(e){return function(){var r=this.ownerDocument,i=this.namespaceURI;return i===Zs&&r.documentElement.namespaceURI===Zs?r.createElement(e):r.createElementNS(i,e)}}function Xs(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function js(e){var r=Uo(e);return(r.local?Xs:Mr)(r)}function xh(){return null}function _h(){var e=this.parentNode;e&&e.removeChild(this)}function Zo(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function Di(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function Vs(e){return e.trim().split(/^|\s+/).map(function(r){var i="",o=r.indexOf(".");return o>=0&&(i=r.slice(o+1),r=r.slice(0,o)),{type:r,name:i}})}function qs(e){return function(){var r=this.__on;if(r){for(var l,i=0,o=-1,a=r.length;i<a;++i)l=r[i],e.type&&l.type!==e.type||l.name!==e.name?r[++o]=l:this.removeEventListener(l.type,l.listener,l.options);++o?r.length=o:delete this.__on}}}function vu(e,r,i){return function(){var a,o=this.__on,l=function gu(e){return function(r){e.call(this,r,this.__data__)}}(r);if(o)for(var d=0,y=o.length;d<y;++d)if((a=o[d]).type===e.type&&a.name===e.name)return this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=l,a.options=i),void(a.value=r);this.addEventListener(e.type,l,i),a={type:e.type,name:e.name,value:r,listener:l,options:i},o?o.push(a):this.__on=[a]}}function $o(e,r,i){var o=ke(e),a=o.CustomEvent;"function"==typeof a?a=new a(r,i):(a=o.document.createEvent("Event"),i?(a.initEvent(r,i.bubbles,i.cancelable),a.detail=i.detail):a.initEvent(r,!1,!1)),e.dispatchEvent(a)}function Js(e,r){return function(){return $o(this,e,r)}}function Ch(e,r){return function(){return $o(this,e,r.apply(this,arguments))}}Ni.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Yo=[null];function Qe(e,r){this._groups=e,this._parents=r}function Qs(){return new Qe([[document.documentElement]],Yo)}Qe.prototype=Qs.prototype={constructor:Qe,select:function zt(e){"function"!=typeof e&&(e=mt(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var C,A,l=r[a],d=l.length,y=o[a]=new Array(d),O=0;O<d;++O)(C=l[O])&&(A=e.call(C,C.__data__,O,l))&&("__data__"in C&&(A.__data__=C.__data__),y[O]=A);return new Qe(o,this._parents)},selectAll:function Pe(e){e="function"==typeof e?function Se(e){return function(){return Rt(e.apply(this,arguments))}}(e):we(e);for(var r=this._groups,i=r.length,o=[],a=[],l=0;l<i;++l)for(var C,d=r[l],y=d.length,A=0;A<y;++A)(C=d[A])&&(o.push(e.call(C,C.__data__,A,d)),a.push(C));return new Qe(o,a)},selectChild:function jr(e){return this.select(null==e?wn:function hn(e){return function(){return mn.call(this.children,e)}}("function"==typeof e?e:nn(e)))},selectChildren:function Qi(e){return this.selectAll(null==e?Oo:function ja(e){return function(){return Kr.call(this.children,e)}}("function"==typeof e?e:nn(e)))},filter:function Po(e){"function"!=typeof e&&(e=Ge(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var C,l=r[a],d=l.length,y=o[a]=[],A=0;A<d;++A)(C=l[A])&&e.call(C,C.__data__,A,l)&&y.push(C);return new Qe(o,this._parents)},data:function Bs(e,r){if(!arguments.length)return Array.from(this,Va);var i=r?eh:Ws,o=this._parents,a=this._groups;"function"!=typeof e&&(e=Ka(e));for(var l=a.length,d=new Array(l),y=new Array(l),C=new Array(l),A=0;A<l;++A){var O=o[A],H=a[A],Y=H.length,q=Fs(e.call(O,O&&O.__data__,A,o)),gt=q.length,pt=y[A]=new Array(gt),V=d[A]=new Array(gt),X=C[A]=new Array(Y);i(O,H,pt,V,X,q,r);for(var it,Ct,ut=0,xt=0;ut<gt;++ut)if(it=pt[ut]){for(ut>=xt&&(xt=ut+1);!(Ct=V[xt])&&++xt<gt;);it._next=Ct||null}}return(d=new Qe(d,o))._enter=y,d._exit=C,d},enter:function th(){return new Qe(this._enter||this._groups.map(Us),this._parents)},exit:function ki(){return new Qe(this._exit||this._groups.map(Us),this._parents)},join:function qa(e,r,i){var o=this.enter(),a=this,l=this.exit();return"function"==typeof e?(o=e(o))&&(o=o.selection()):o=o.append(e+""),null!=r&&(a=r(a))&&(a=a.selection()),null==i?l.remove():i(l),o&&a?o.merge(a).order():a},merge:function Ja(e){for(var r=e.selection?e.selection():e,i=this._groups,o=r._groups,a=i.length,d=Math.min(a,o.length),y=new Array(a),C=0;C<d;++C)for(var q,A=i[C],O=o[C],H=A.length,Y=y[C]=new Array(H),gt=0;gt<H;++gt)(q=A[gt]||O[gt])&&(Y[gt]=q);for(;C<a;++C)y[C]=i[C];return new Qe(y,this._parents)},selection:function mu(){return this},order:function nh(){for(var e=this._groups,r=-1,i=e.length;++r<i;)for(var d,o=e[r],a=o.length-1,l=o[a];--a>=0;)(d=o[a])&&(l&&4^d.compareDocumentPosition(l)&&l.parentNode.insertBefore(d,l),l=d);return this},sort:function Qa(e){function r(H,Y){return H&&Y?e(H.__data__,Y.__data__):!H-!Y}e||(e=tu);for(var i=this._groups,o=i.length,a=new Array(o),l=0;l<o;++l){for(var A,d=i[l],y=d.length,C=a[l]=new Array(y),O=0;O<y;++O)(A=d[O])&&(C[O]=A);C.sort(r)}return new Qe(a,this._parents).order()},call:function eu(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function nu(){return Array.from(this)},node:function rh(){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var o=e[r],a=0,l=o.length;a<l;++a){var d=o[a];if(d)return d}return null},size:function ih(){let e=0;for(const r of this)++e;return e},empty:function oh(){return!this.node()},each:function ru(e){for(var r=this._groups,i=0,o=r.length;i<o;++i)for(var y,a=r[i],l=0,d=a.length;l<d;++l)(y=a[l])&&e.call(y,y.__data__,l,a);return this},attr:function fh(e,r){var i=Uo(e);if(arguments.length<2){var o=this.node();return i.local?o.getAttributeNS(i.space,i.local):o.getAttribute(i)}return this.each((null==r?i.local?$s:sh:"function"==typeof r?i.local?hh:ch:i.local?uh:ah)(i,r))},style:function ph(e,r,i){return arguments.length>1?this.each((null==r?Ie:"function"==typeof r?dh:lh)(e,r,null==i?"":i)):Ii(this.node(),e)},property:function yh(e,r){return arguments.length>1?this.each((null==r?gh:"function"==typeof r?ou:vh)(e,r)):this.node()[e]},classed:function uu(e,r){var i=Ke(e+"");if(arguments.length<2){for(var o=Wo(this.node()),a=-1,l=i.length;++a<l;)if(!o.contains(i[a]))return!1;return!0}return this.each(("function"==typeof r?au:r?kn:su)(i,r))},text:function An(e){return arguments.length?this.each(null==e?cu:("function"==typeof e?fu:hu)(e)):this.node().textContent},html:function lu(e){return arguments.length?this.each(null==e?mh:("function"==typeof e?wh:In)(e)):this.node().innerHTML},raise:function Fo(){return this.each(Sr)},lower:function Le(){return this.each(Hs)},append:function Ks(e){var r="function"==typeof e?e:js(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})},insert:function bh(e,r){var i="function"==typeof e?e:js(e),o=null==r?xh:"function"==typeof r?r:mt(r);return this.select(function(){return this.insertBefore(i.apply(this,arguments),o.apply(this,arguments)||null)})},remove:function du(){return this.each(_h)},clone:function Ah(e){return this.select(e?Di:Zo)},datum:function pu(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function Eh(e,r,i){var a,d,o=Vs(e+""),l=o.length;if(!(arguments.length<2)){for(y=r?vu:qs,a=0;a<l;++a)this.each(y(o[a],r,i));return this}var y=this.node().__on;if(y)for(var O,C=0,A=y.length;C<A;++C)for(a=0,O=y[C];a<l;++a)if((d=o[a]).type===O.type&&d.name===O.name)return O.value},dispatch:function yu(e,r){return this.each(("function"==typeof r?Ch:Js)(e,r))},[Symbol.iterator]:function*En(){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var d,o=e[r],a=0,l=o.length;a<l;++a)(d=o[a])&&(yield d)}};const eo=Qs;var Sh={value:()=>{}};function wu(){for(var o,e=0,r=arguments.length,i={};e<r;++e){if(!(o=arguments[e]+"")||o in i||/[\s.]/.test(o))throw new Error("illegal type: "+o);i[o]=[]}return new Ho(i)}function Ho(e){this._=e}function Mh(e,r){return e.trim().split(/^|\s+/).map(function(i){var o="",a=i.indexOf(".");if(a>=0&&(o=i.slice(a+1),i=i.slice(0,a)),i&&!r.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:o}})}function Li(e,r){for(var a,i=0,o=e.length;i<o;++i)if((a=e[i]).name===r)return a.value}function xu(e,r,i){for(var o=0,a=e.length;o<a;++o)if(e[o].name===r){e[o]=Sh,e=e.slice(0,o).concat(e.slice(o+1));break}return null!=i&&e.push({name:r,value:i}),e}Ho.prototype=wu.prototype={constructor:Ho,on:function(e,r){var a,i=this._,o=Mh(e+"",i),l=-1,d=o.length;if(!(arguments.length<2)){if(null!=r&&"function"!=typeof r)throw new Error("invalid callback: "+r);for(;++l<d;)if(a=(e=o[l]).type)i[a]=xu(i[a],e.name,r);else if(null==r)for(a in i)i[a]=xu(i[a],e.name,null);return this}for(;++l<d;)if((a=(e=o[l]).type)&&(a=Li(i[a],e.name)))return a},copy:function(){var e={},r=this._;for(var i in r)e[i]=r[i].slice();return new Ho(e)},call:function(e,r){if((a=arguments.length-2)>0)for(var a,l,i=new Array(a),o=0;o<a;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,a=(l=this._[e]).length;o<a;++o)l[o].value.apply(r,i)},apply:function(e,r,i){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],a=0,l=o.length;a<l;++a)o[a].value.apply(r,i)}};const Xo=wu;var jo,ro,kr=0,Ti=0,Nn=0,Ko=0,Dn=0,xn=0,zi="object"==typeof performance&&performance.now?performance:Date,bu="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ta(){return Dn||(bu(kh),Dn=zi.now()+xn)}function kh(){Dn=0}function Vo(){this._call=this._time=this._next=null}function ea(e,r,i){var o=new Vo;return o.restart(e,r,i),o}function tt(){Dn=(Ko=zi.now())+xn,kr=Ti=0;try{!function qo(){ta(),++kr;for(var r,e=jo;e;)(r=Dn-e._time)>=0&&e._call.call(void 0,r),e=e._next;--kr}()}finally{kr=0,function ht(){for(var e,i,r=jo,o=1/0;r;)r._call?(o>r._time&&(o=r._time),e=r,r=r._next):(i=r._next,r._next=null,r=e?e._next=i:jo=i);ro=e,Wt(o)}(),Dn=0}}function yt(){var e=zi.now(),r=e-Ko;r>1e3&&(xn-=r,Ko=e)}function Wt(e){kr||(Ti&&(Ti=clearTimeout(Ti)),e-Dn>24?(e<1/0&&(Ti=setTimeout(tt,e-zi.now()-xn)),Nn&&(Nn=clearInterval(Nn))):(Nn||(Ko=zi.now(),Nn=setInterval(yt,1e3)),kr=1,bu(tt)))}function se(e,r,i){var o=new Vo;return o.restart(a=>{o.stop(),e(a+r)},r=null==r?0:+r,i),o}Vo.prototype=ea.prototype={constructor:Vo,restart:function(e,r,i){if("function"!=typeof e)throw new TypeError("callback is not a function");i=(null==i?ta():+i)+(null==r?0:+r),!this._next&&ro!==this&&(ro?ro._next=this:jo=this,ro=this),this._call=e,this._time=i,Wt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Wt())}};var Ae=Xo("start","end","cancel","interrupt"),Fe=[];function Vr(e,r,i,o,a,l){var d=e.__transition;if(d){if(i in d)return}else e.__transition={};!function _u(e,r,i){var a,o=e.__transition;function d(A){var O,H,Y,q;if(1!==i.state)return C();for(O in o)if((q=o[O]).name===i.name){if(3===q.state)return se(d);4===q.state?(q.state=6,q.timer.stop(),q.on.call("interrupt",e,e.__data__,q.index,q.group),delete o[O]):+O<r&&(q.state=6,q.timer.stop(),q.on.call("cancel",e,e.__data__,q.index,q.group),delete o[O])}if(se(function(){3===i.state&&(i.state=4,i.timer.restart(y,i.delay,i.time),y(A))}),i.state=2,i.on.call("start",e,e.__data__,i.index,i.group),2===i.state){for(i.state=3,a=new Array(Y=i.tween.length),O=0,H=-1;O<Y;++O)(q=i.tween[O].value.call(e,e.__data__,i.index,i.group))&&(a[++H]=q);a.length=H+1}}function y(A){for(var O=A<i.duration?i.ease.call(null,A/i.duration):(i.timer.restart(C),i.state=5,1),H=-1,Y=a.length;++H<Y;)a[H].call(e,O);5===i.state&&(i.on.call("end",e,e.__data__,i.index,i.group),C())}function C(){for(var A in i.state=6,i.timer.stop(),delete o[r],o)return;delete e.__transition}o[r]=i,i.timer=ea(function l(A){i.state=1,i.timer.restart(d,i.delay,i.time),i.delay<=A&&d(A-i.delay)},0,i.time)}(e,i,{name:r,index:o,group:a,on:Ae,tween:Fe,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:0})}function Ri(e,r){var i=Pn(e,r);if(i.state>0)throw new Error("too late; already scheduled");return i}function le(e,r){var i=Pn(e,r);if(i.state>3)throw new Error("too late; already running");return i}function Pn(e,r){var i=e.__transition;if(!i||!(i=i[r]))throw new Error("transition not found");return i}function qr(e,r){var o,a,d,i=e.__transition,l=!0;if(i){for(d in r=null==r?null:r+"",i)(o=i[d]).name===r?(a=o.state>2&&o.state<5,o.state=6,o.timer.stop(),o.on.call(a?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete i[d]):l=!1;l&&delete e.__transition}}function Un(e,r){return e=+e,r=+r,function(i){return e*(1-i)+r*i}}var Jr,Au=180/Math.PI,Gi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function cr(e,r,i,o,a,l){var d,y,C;return(d=Math.sqrt(e*e+r*r))&&(e/=d,r/=d),(C=e*i+r*o)&&(i-=e*C,o-=r*C),(y=Math.sqrt(i*i+o*o))&&(i/=y,o/=y,C/=y),e*o<r*i&&(e=-e,r=-r,C=-C,d=-d),{translateX:a,translateY:l,rotate:Math.atan2(r,e)*Au,skewX:Math.atan(C)*Au,scaleX:d,scaleY:y}}function ia(e,r,i,o){function a(A){return A.length?A.pop()+" ":""}return function(A,O){var H=[],Y=[];return A=e(A),O=e(O),function l(A,O,H,Y,q,gt){if(A!==H||O!==Y){var pt=q.push("translate(",null,r,null,i);gt.push({i:pt-4,x:Un(A,H)},{i:pt-2,x:Un(O,Y)})}else(H||Y)&&q.push("translate("+H+r+Y+i)}(A.translateX,A.translateY,O.translateX,O.translateY,H,Y),function d(A,O,H,Y){A!==O?(A-O>180?O+=360:O-A>180&&(A+=360),Y.push({i:H.push(a(H)+"rotate(",null,o)-2,x:Un(A,O)})):O&&H.push(a(H)+"rotate("+O+o)}(A.rotate,O.rotate,H,Y),function y(A,O,H,Y){A!==O?Y.push({i:H.push(a(H)+"skewX(",null,o)-2,x:Un(A,O)}):O&&H.push(a(H)+"skewX("+O+o)}(A.skewX,O.skewX,H,Y),function C(A,O,H,Y,q,gt){if(A!==H||O!==Y){var pt=q.push(a(q)+"scale(",null,",",null,")");gt.push({i:pt-4,x:Un(A,H)},{i:pt-2,x:Un(O,Y)})}else(1!==H||1!==Y)&&q.push(a(q)+"scale("+H+","+Y+")")}(A.scaleX,A.scaleY,O.scaleX,O.scaleY,H,Y),A=O=null,function(q){for(var V,gt=-1,pt=Y.length;++gt<pt;)H[(V=Y[gt]).i]=V.x(q);return H.join("")}}}var Cu=ia(function Eu(e){const r=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?Gi:cr(r.a,r.b,r.c,r.d,r.e,r.f)},"px, ","px)","deg)"),ts=ia(function Qo(e){return null!=e&&(Jr||(Jr=document.createElementNS("http://www.w3.org/2000/svg","g")),Jr.setAttribute("transform",e),e=Jr.transform.baseVal.consolidate())?cr((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Gi},", ",")",")");function Su(e,r){var i,o;return function(){var a=le(this,e),l=a.tween;if(l!==i)for(var d=0,y=(o=i=l).length;d<y;++d)if(o[d].name===r){(o=o.slice()).splice(d,1);break}a.tween=o}}function oo(e,r,i){var o,a;if("function"!=typeof i)throw new Error;return function(){var l=le(this,e),d=l.tween;if(d!==o){a=(o=d).slice();for(var y={name:r,value:i},C=0,A=a.length;C<A;++C)if(a[C].name===r){a[C]=y;break}C===A&&a.push(y)}l.tween=a}}function Oi(e,r,i){var o=e._id;return e.each(function(){var a=le(this,o);(a.value||(a.value={}))[r]=i.apply(this,arguments)}),function(a){return Pn(a,o).value[r]}}function es(e,r,i){e.prototype=r.prototype=i,i.constructor=e}function oa(e,r){var i=Object.create(e.prototype);for(var o in r)i[o]=r[o];return i}function Pi(){}var hr=1/.7,Ir="\\s*([+-]?\\d+)\\s*",so="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nh=/^#([0-9a-f]{3,8})$/,Dh=new RegExp(`^rgb\\(${Ir},${Ir},${Ir}\\)$`),Ze=new RegExp(`^rgb\\(${Wn},${Wn},${Wn}\\)$`),rn=new RegExp(`^rgba\\(${Ir},${Ir},${Ir},${so}\\)$`),Lh=new RegExp(`^rgba\\(${Wn},${Wn},${Wn},${so}\\)$`),Th=new RegExp(`^hsl\\(${so},${Wn},${Wn}\\)$`),Mu=new RegExp(`^hsla\\(${so},${Wn},${Wn},${so}\\)$`),ku={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ns(){return this.rgb().formatHex()}function ti(){return this.rgb().formatRgb()}function Bn(e){var r,i;return e=(e+"").trim().toLowerCase(),(r=Nh.exec(e))?(i=r[1].length,r=parseInt(r[1],16),6===i?Ui(r):3===i?new on(r>>8&15|r>>4&240,r>>4&15|240&r,(15&r)<<4|15&r,1):8===i?ei(r>>24&255,r>>16&255,r>>8&255,(255&r)/255):4===i?ei(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|240&r,((15&r)<<4|15&r)/255):null):(r=Dh.exec(e))?new on(r[1],r[2],r[3],1):(r=Ze.exec(e))?new on(255*r[1]/100,255*r[2]/100,255*r[3]/100,1):(r=rn.exec(e))?ei(r[1],r[2],r[3],r[4]):(r=Lh.exec(e))?ei(255*r[1]/100,255*r[2]/100,255*r[3]/100,r[4]):(r=Th.exec(e))?S(r[1],r[2]/100,r[3]/100,1):(r=Mu.exec(e))?S(r[1],r[2]/100,r[3]/100,r[4]):ku.hasOwnProperty(e)?Ui(ku[e]):"transparent"===e?new on(NaN,NaN,NaN,0):null}function Ui(e){return new on(e>>16&255,e>>8&255,255&e,1)}function ei(e,r,i,o){return o<=0&&(e=r=i=NaN),new on(e,r,i,o)}function ni(e){return e instanceof Pi||(e=Bn(e)),e?new on((e=e.rgb()).r,e.g,e.b,e.opacity):new on}function rs(e,r,i,o){return 1===arguments.length?ni(e):new on(e,r,i,null==o?1:o)}function on(e,r,i,o){this.r=+e,this.g=+r,this.b=+i,this.opacity=+o}function Iu(){return`#${Nr(this.r)}${Nr(this.g)}${Nr(this.b)}`}function Nu(){const e=ri(this.opacity);return`${1===e?"rgb(":"rgba("}${Fn(this.r)}, ${Fn(this.g)}, ${Fn(this.b)}${1===e?")":`, ${e})`}`}function ri(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Nr(e){return((e=Fn(e))<16?"0":"")+e.toString(16)}function S(e,r,i,o){return o<=0?e=r=i=NaN:i<=0||i>=1?e=r=NaN:r<=0&&(e=NaN),new ze(e,r,i,o)}function ii(e){if(e instanceof ze)return new ze(e.h,e.s,e.l,e.opacity);if(e instanceof Pi||(e=Bn(e)),!e)return new ze;if(e instanceof ze)return e;var r=(e=e.rgb()).r/255,i=e.g/255,o=e.b/255,a=Math.min(r,i,o),l=Math.max(r,i,o),d=NaN,y=l-a,C=(l+a)/2;return y?(d=r===l?(i-o)/y+6*(i<o):i===l?(o-r)/y+2:(r-i)/y+4,y/=C<.5?l+a:2-l-a,d*=60):y=C>0&&C<1?0:d,new ze(d,y,C,e.opacity)}function ze(e,r,i,o){this.h=+e,this.s=+r,this.l=+i,this.opacity=+o}function pe(e){return(e=(e||0)%360)<0?e+360:e}function os(e){return Math.max(0,Math.min(1,e||0))}function aa(e,r,i){return 255*(e<60?r+(i-r)*e/60:e<180?i:e<240?r+(i-r)*(240-e)/60:r)}function Du(e,r,i,o,a){var l=e*e,d=l*e;return((1-3*e+3*l-d)*r+(4-6*l+3*d)*i+(1+3*e+3*l-3*d)*o+d*a)/6}es(Pi,Bn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ns,formatHex:ns,formatHex8:function ao(){return this.rgb().formatHex8()},formatHsl:function sa(){return ii(this).formatHsl()},formatRgb:ti,toString:ti}),es(on,rs,oa(Pi,{brighter(e){return e=null==e?hr:Math.pow(hr,e),new on(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new on(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new on(Fn(this.r),Fn(this.g),Fn(this.b),ri(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Iu,formatHex:Iu,formatHex8:function zh(){return`#${Nr(this.r)}${Nr(this.g)}${Nr(this.b)}${Nr(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Nu,toString:Nu})),es(ze,function is(e,r,i,o){return 1===arguments.length?ii(e):new ze(e,r,i,null==o?1:o)},oa(Pi,{brighter(e){return e=null==e?hr:Math.pow(hr,e),new ze(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new ze(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),r=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,o=i+(i<.5?i:1-i)*r,a=2*i-o;return new on(aa(e>=240?e-240:e+120,a,o),aa(e,a,o),aa(e<120?e+240:e-120,a,o),this.opacity)},clamp(){return new ze(pe(this.h),os(this.s),os(this.l),ri(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ri(this.opacity);return`${1===e?"hsl(":"hsla("}${pe(this.h)}, ${100*os(this.s)}%, ${100*os(this.l)}%${1===e?")":`, ${e})`}`}}));const ss=e=>()=>e;function Lu(e,r){return function(i){return e+i*r}}function Wi(e,r){var i=r-e;return i?Lu(e,i):ss(isNaN(e)?r:e)}const as=function e(r){var i=function fr(e){return 1==(e=+e)?Wi:function(r,i){return i-r?function Gh(e,r,i){return e=Math.pow(e,i),r=Math.pow(r,i)-e,i=1/i,function(o){return Math.pow(e+o*r,i)}}(r,i,e):ss(isNaN(r)?i:r)}}(r);function o(a,l){var d=i((a=rs(a)).r,(l=rs(l)).r),y=i(a.g,l.g),C=i(a.b,l.b),A=Wi(a.opacity,l.opacity);return function(O){return a.r=d(O),a.g=y(O),a.b=C(O),a.opacity=A(O),a+""}}return o.gamma=e,o}(1);function Tu(e){return function(r){var d,y,i=r.length,o=new Array(i),a=new Array(i),l=new Array(i);for(d=0;d<i;++d)y=rs(r[d]),o[d]=y.r||0,a[d]=y.g||0,l[d]=y.b||0;return o=e(o),a=e(a),l=e(l),y.opacity=1,function(C){return y.r=o(C),y.g=a(C),y.b=l(C),y+""}}}Tu(function oi(e){var r=e.length-1;return function(i){var o=i<=0?i=0:i>=1?(i=1,r-1):Math.floor(i*r),a=e[o],l=e[o+1];return Du((i-o/r)*r,o>0?e[o-1]:2*a-l,a,l,o<r-1?e[o+2]:2*l-a)}}),Tu(function Rh(e){var r=e.length;return function(i){var o=Math.floor(((i%=1)<0?++i:i)*r);return Du((i-o/r)*r,e[(o+r-1)%r],e[o%r],e[(o+1)%r],e[(o+2)%r])}});var Zn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ua=new RegExp(Zn.source,"g");function zu(e,r){var o,a,l,i=Zn.lastIndex=ua.lastIndex=0,d=-1,y=[],C=[];for(e+="",r+="";(o=Zn.exec(e))&&(a=ua.exec(r));)(l=a.index)>i&&(l=r.slice(i,l),y[d]?y[d]+=l:y[++d]=l),(o=o[0])===(a=a[0])?y[d]?y[d]+=a:y[++d]=a:(y[++d]=null,C.push({i:d,x:Un(o,a)})),i=ua.lastIndex;return i<r.length&&(l=r.slice(i),y[d]?y[d]+=l:y[++d]=l),y.length<2?C[0]?function Uh(e){return function(r){return e(r)+""}}(C[0].x):function Ph(e){return function(){return e}}(r):(r=C.length,function(A){for(var H,O=0;O<r;++O)y[(H=C[O]).i]=H.x(A);return y.join("")})}function Ru(e,r){var i;return("number"==typeof r?Un:r instanceof Bn?as:(i=Bn(r))?(r=i,as):zu)(e,r)}function si(e){return function(){this.removeAttribute(e)}}function Wh(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Bh(e,r,i){var o,l,a=i+"";return function(){var d=this.getAttribute(e);return d===a?null:d===o?l:l=r(o=d,i)}}function $n(e,r,i){var o,l,a=i+"";return function(){var d=this.getAttributeNS(e.space,e.local);return d===a?null:d===o?l:l=r(o=d,i)}}function Fh(e,r,i){var o,a,l;return function(){var d,C,y=i(this);return null==y?void this.removeAttribute(e):(d=this.getAttribute(e))===(C=y+"")?null:d===o&&C===a?l:(a=C,l=r(o=d,y))}}function Zh(e,r,i){var o,a,l;return function(){var d,C,y=i(this);return null==y?void this.removeAttributeNS(e.space,e.local):(d=this.getAttributeNS(e.space,e.local))===(C=y+"")?null:d===o&&C===a?l:(a=C,l=r(o=d,y))}}function Yh(e,r){return function(i){this.setAttribute(e,r.call(this,i))}}function Hh(e,r){return function(i){this.setAttributeNS(e.space,e.local,r.call(this,i))}}function Gu(e,r){var i,o;function a(){var l=r.apply(this,arguments);return l!==o&&(i=(o=l)&&Hh(e,l)),i}return a._value=r,a}function Ou(e,r){var i,o;function a(){var l=r.apply(this,arguments);return l!==o&&(i=(o=l)&&Yh(e,l)),i}return a._value=r,a}function jh(e,r){return function(){Ri(this,e).delay=+r.apply(this,arguments)}}function ca(e,r){return r=+r,function(){Ri(this,e).delay=r}}function us(e,r){return function(){le(this,e).duration=+r.apply(this,arguments)}}function Kh(e,r){return r=+r,function(){le(this,e).duration=r}}function Vh(e,r){if("function"!=typeof r)throw new Error;return function(){le(this,e).ease=r}}function Wu(e,r,i){var o,a,l=function Uu(e){return(e+"").trim().split(/^|\s+/).every(function(r){var i=r.indexOf(".");return i>=0&&(r=r.slice(0,i)),!r||"start"===r})}(r)?Ri:le;return function(){var d=l(this,e),y=d.on;y!==o&&(a=(o=y).copy()).on(r,i),d.on=a}}var Qh=eo.prototype.constructor;function hs(e){return function(){this.style.removeProperty(e)}}function ui(e,r,i){return function(o){this.style.setProperty(e,r.call(this,o),i)}}function $u(e,r,i){var o,a;function l(){var d=r.apply(this,arguments);return d!==a&&(o=(a=d)&&ui(e,d,i)),o}return l._value=r,l}function nf(e){return function(r){this.textContent=e.call(this,r)}}function da(e){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&nf(a)),r}return o._value=e,o}var of=0;function dr(e,r,i,o){this._groups=e,this._parents=r,this._name=i,this._id=o}function Hu(){return++of}var pr=eo.prototype;dr.prototype=function fo(e){return eo().transition(e)}.prototype={constructor:dr,select:function Jh(e){var r=this._name,i=this._id;"function"!=typeof e&&(e=mt(e));for(var o=this._groups,a=o.length,l=new Array(a),d=0;d<a;++d)for(var O,H,y=o[d],C=y.length,A=l[d]=new Array(C),Y=0;Y<C;++Y)(O=y[Y])&&(H=e.call(O,O.__data__,Y,y))&&("__data__"in O&&(H.__data__=O.__data__),A[Y]=H,Vr(A[Y],r,i,Y,A,Pn(O,i)));return new dr(l,this._parents,r,i)},selectAll:function cs(e){var r=this._name,i=this._id;"function"!=typeof e&&(e=we(e));for(var o=this._groups,a=o.length,l=[],d=[],y=0;y<a;++y)for(var O,C=o[y],A=C.length,H=0;H<A;++H)if(O=C[H]){for(var q,Y=e.call(O,O.__data__,H,C),gt=Pn(O,i),pt=0,V=Y.length;pt<V;++pt)(q=Y[pt])&&Vr(q,r,i,pt,Y,gt);l.push(Y),d.push(O)}return new dr(l,d,r,i)},selectChild:pr.selectChild,selectChildren:pr.selectChildren,filter:function Ln(e){"function"!=typeof e&&(e=Ge(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var C,l=r[a],d=l.length,y=o[a]=[],A=0;A<d;++A)(C=l[A])&&e.call(C,C.__data__,A,l)&&y.push(C);return new dr(o,this._parents,this._name,this._id)},merge:function qh(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,i=e._groups,o=r.length,l=Math.min(o,i.length),d=new Array(o),y=0;y<l;++y)for(var Y,C=r[y],A=i[y],O=C.length,H=d[y]=new Array(O),q=0;q<O;++q)(Y=C[q]||A[q])&&(H[q]=Y);for(;y<o;++y)d[y]=r[y];return new dr(d,this._parents,this._name,this._id)},selection:function Fu(){return new Qh(this._groups,this._parents)},transition:function ho(){for(var e=this._name,r=this._id,i=Hu(),o=this._groups,a=o.length,l=0;l<a;++l)for(var C,d=o[l],y=d.length,A=0;A<y;++A)if(C=d[A]){var O=Pn(C,r);Vr(C,e,i,A,d,{time:O.time+O.delay+O.duration,delay:0,duration:O.duration,ease:O.ease})}return new dr(o,this._parents,e,i)},call:pr.call,nodes:pr.nodes,node:pr.node,size:pr.size,empty:pr.empty,each:pr.each,on:function co(e,r){var i=this._id;return arguments.length<2?Pn(this.node(),i).on.on(e):this.each(Wu(i,e,r))},attr:function $h(e,r){var i=Uo(e),o="transform"===i?ts:Ru;return this.attrTween(e,"function"==typeof r?(i.local?Zh:Fh)(i,o,Oi(this,"attr."+e,r)):null==r?(i.local?Wh:si)(i):(i.local?$n:Bh)(i,o,r))},attrTween:function Xh(e,r){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==r)return this.tween(i,null);if("function"!=typeof r)throw new Error;var o=Uo(e);return this.tween(i,(o.local?Gu:Ou)(o,r))},style:function fs(e,r,i){var o="transform"==(e+="")?Cu:Ru;return null==r?this.styleTween(e,function tn(e,r){var i,o,a;return function(){var l=Ii(this,e),d=(this.style.removeProperty(e),Ii(this,e));return l===d?null:l===i&&d===o?a:a=r(i=l,o=d)}}(e,o)).on("end.style."+e,hs(e)):"function"==typeof r?this.styleTween(e,function er(e,r,i){var o,a,l;return function(){var d=Ii(this,e),y=i(this),C=y+"";return null==y&&(this.style.removeProperty(e),C=y=Ii(this,e)),d===C?null:d===o&&C===a?l:(a=C,l=r(o=d,y))}}(e,o,Oi(this,"style."+e,r))).each(function fa(e,r){var i,o,a,y,l="style."+r,d="end."+l;return function(){var C=le(this,e),A=C.on,O=null==C.value[l]?y||(y=hs(r)):void 0;(A!==i||a!==O)&&(o=(i=A).copy()).on(d,a=O),C.on=o}}(this._id,e)):this.styleTween(e,function Zu(e,r,i){var o,l,a=i+"";return function(){var d=Ii(this,e);return d===a?null:d===o?l:l=r(o=d,i)}}(e,o,r),i).on("end.style."+e,null)},styleTween:function ln(e,r,i){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==r)return this.tween(o,null);if("function"!=typeof r)throw new Error;return this.tween(o,$u(e,r,null==i?"":i))},text:function ef(e){return this.tween("text","function"==typeof e?function tf(e){return function(){var r=e(this);this.textContent=null==r?"":r}}(Oi(this,"text",e)):function la(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function rf(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,da(e))},remove:function Bu(){return this.on("end.remove",function Dr(e){return function(){var r=this.parentNode;for(var i in this.__transition)if(+i!==e)return;r&&r.removeChild(this)}}(this._id))},tween:function Qr(e,r){var i=this._id;if(e+="",arguments.length<2){for(var d,o=Pn(this.node(),i).tween,a=0,l=o.length;a<l;++a)if((d=o[a]).name===e)return d.value;return null}return this.each((null==r?Su:oo)(i,e,r))},delay:function uo(e){var r=this._id;return arguments.length?this.each(("function"==typeof e?jh:ca)(r,e)):Pn(this.node(),r).delay},duration:function Pu(e){var r=this._id;return arguments.length?this.each(("function"==typeof e?us:Kh)(r,e)):Pn(this.node(),r).duration},ease:function lr(e){var r=this._id;return arguments.length?this.each(Vh(r,e)):Pn(this.node(),r).ease},easeVarying:function ai(e){if("function"!=typeof e)throw new Error;return this.each(function ha(e,r){return function(){var i=r.apply(this,arguments);if("function"!=typeof i)throw new Error;le(this,e).ease=i}}(this._id,e))},end:function Yu(){var e,r,i=this,o=i._id,a=i.size();return new Promise(function(l,d){var y={value:d},C={value:function(){0==--a&&l()}};i.each(function(){var A=le(this,o),O=A.on;O!==e&&((r=(e=O).copy())._.cancel.push(y),r._.interrupt.push(y),r._.end.push(C)),A.on=r}),0===a&&l()})},[Symbol.iterator]:pr[Symbol.iterator]};var uf={time:null,delay:0,duration:250,ease:function af(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function cf(e,r){for(var i;!(i=e.__transition)||!(i=i[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return i}eo.prototype.interrupt=function Ih(e){return this.each(function(){qr(this,e)})},eo.prototype.transition=function ju(e){var r,i;e instanceof dr?(r=e._id,e=e._name):(r=Hu(),(i=uf).time=ta(),e=null==e?null:e+"");for(var o=this._groups,a=o.length,l=0;l<a;++l)for(var C,d=o[l],y=d.length,A=0;A<y;++A)(C=d[A])&&Vr(C,e,r,A,d,i||cf(C,r));return new dr(o,this._parents,e,r)};Math;function hi(e){return{type:e}}function Ue(e){return"string"==typeof e?new Qe([[document.querySelector(e)]],[document.documentElement]):new Qe([[e]],Yo)}function nr(e,r){if(e=function Ju(e){let r;for(;r=e.sourceEvent;)e=r;return e}(e),void 0===r&&(r=e.currentTarget),r){var i=r.ownerSVGElement||r;if(i.createSVGPoint){var o=i.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,[(o=o.matrixTransform(r.getScreenCTM().inverse())).x,o.y]}if(r.getBoundingClientRect){var a=r.getBoundingClientRect();return[e.clientX-a.left-r.clientLeft,e.clientY-a.top-r.clientTop]}}return[e.pageX,e.pageY]}["w","e"].map(hi),["n","s"].map(hi),["n","w","e","s","nw","ne","sw","se"].map(hi);const Cn={passive:!1},Tn={capture:!0,passive:!1};function po(e){e.stopImmediatePropagation()}function li(e){e.preventDefault(),e.stopImmediatePropagation()}function go(e){var r=e.document.documentElement,i=Ue(e).on("dragstart.drag",li,Tn);"onselectstart"in r?i.on("selectstart.drag",li,Tn):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function ma(e,r){var i=e.document.documentElement,o=Ue(e).on("dragstart.drag",null);r&&(o.on("click.drag",li,Tn),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in i?o.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const Fi=e=>()=>e;function vs(e,{sourceEvent:r,subject:i,target:o,identifier:a,active:l,x:d,y,dx:C,dy:A,dispatch:O}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:d,enumerable:!0,configurable:!0},y:{value:y,enumerable:!0,configurable:!0},dx:{value:C,enumerable:!0,configurable:!0},dy:{value:A,enumerable:!0,configurable:!0},_:{value:O}})}function wa(e){return!e.ctrlKey&&!e.button}function xa(){return this.parentNode}function Tr(e,r){return null==r?{x:e.x,y:e.y}:r}function df(){return navigator.maxTouchPoints||"ontouchstart"in this}function ys(e,r,i,o){if(isNaN(r)||isNaN(i))return e;var a,H,Y,q,gt,pt,V,X,ut,l=e._root,d={data:o},y=e._x0,C=e._y0,A=e._x1,O=e._y1;if(!l)return e._root=d,e;for(;l.length;)if((pt=r>=(H=(y+A)/2))?y=H:A=H,(V=i>=(Y=(C+O)/2))?C=Y:O=Y,a=l,!(l=l[X=V<<1|pt]))return a[X]=d,e;if(q=+e._x.call(null,l.data),gt=+e._y.call(null,l.data),r===q&&i===gt)return d.next=l,a?a[X]=d:e._root=d,e;do{a=a?a[X]=new Array(4):e._root=new Array(4),(pt=r>=(H=(y+A)/2))?y=H:A=H,(V=i>=(Y=(C+O)/2))?C=Y:O=Y}while((X=V<<1|pt)==(ut=(gt>=Y)<<1|q>=H));return a[ut]=l,a[X]=d,e}function sn(e,r,i,o,a){this.node=e,this.x0=r,this.y0=i,this.x1=o,this.y1=a}function ms(e){return e[0]}function ic(e){return e[1]}function ba(e,r,i){var o=new ws(null==r?ms:r,null==i?ic:i,NaN,NaN,NaN,NaN);return null==e?o:o.addAll(e)}function ws(e,r,i,o,a,l){this._x=e,this._y=r,this._x0=i,this._y0=o,this._x1=a,this._y1=l,this._root=void 0}function di(e){for(var r={data:e.data},i=r;e=e.next;)i=i.next={data:e.data};return r}vs.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var Ye=ba.prototype=ws.prototype;function pi(e){return function(){return e}}function vr(e){return 1e-6*(e()-.5)}function sc(e){return e.x+e.vx}function xs(e){return e.y+e.vy}function bs(e){return e.index}function _s(e,r){var i=e.get(r);if(!i)throw new Error("node not found: "+r);return i}Ye.copy=function(){var i,o,e=new ws(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=di(r),e;for(i=[{source:r,target:e._root=new Array(4)}];r=i.pop();)for(var a=0;a<4;++a)(o=r.source[a])&&(o.length?i.push({source:o,target:r.target[a]=new Array(4)}):r.target[a]=di(o));return e},Ye.add=function tc(e){const r=+this._x.call(null,e),i=+this._y.call(null,e);return ys(this.cover(r,i),r,i,e)},Ye.addAll=function pf(e){var r,i,a,l,o=e.length,d=new Array(o),y=new Array(o),C=1/0,A=1/0,O=-1/0,H=-1/0;for(i=0;i<o;++i)isNaN(a=+this._x.call(null,r=e[i]))||isNaN(l=+this._y.call(null,r))||(d[i]=a,y[i]=l,a<C&&(C=a),a>O&&(O=a),l<A&&(A=l),l>H&&(H=l));if(C>O||A>H)return this;for(this.cover(C,A).cover(O,H),i=0;i<o;++i)ys(this,d[i],y[i],e[i]);return this},Ye.cover=function gf(e,r){if(isNaN(e=+e)||isNaN(r=+r))return this;var i=this._x0,o=this._y0,a=this._x1,l=this._y1;if(isNaN(i))a=(i=Math.floor(e))+1,l=(o=Math.floor(r))+1;else{for(var C,A,d=a-i||1,y=this._root;i>e||e>=a||o>r||r>=l;)switch(A=(r<o)<<1|e<i,C=new Array(4),C[A]=y,y=C,d*=2,A){case 0:a=i+d,l=o+d;break;case 1:i=a-d,l=o+d;break;case 2:a=i+d,o=l-d;break;case 3:i=a-d,o=l-d}this._root&&this._root.length&&(this._root=y)}return this._x0=i,this._y0=o,this._x1=a,this._y1=l,this},Ye.data=function vf(){var e=[];return this.visit(function(r){if(!r.length)do{e.push(r.data)}while(r=r.next)}),e},Ye.extent=function ec(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ye.find=function yf(e,r,i){var o,d,y,C,A,gt,pt,a=this._x0,l=this._y0,O=this._x1,H=this._y1,Y=[],q=this._root;for(q&&Y.push(new sn(q,a,l,O,H)),null==i?i=1/0:(a=e-i,l=r-i,O=e+i,H=r+i,i*=i);gt=Y.pop();)if(!(!(q=gt.node)||(d=gt.x0)>O||(y=gt.y0)>H||(C=gt.x1)<a||(A=gt.y1)<l))if(q.length){var V=(d+C)/2,X=(y+A)/2;Y.push(new sn(q[3],V,X,C,A),new sn(q[2],d,X,V,A),new sn(q[1],V,y,C,X),new sn(q[0],d,y,V,X)),(pt=(r>=X)<<1|e>=V)&&(gt=Y[Y.length-1],Y[Y.length-1]=Y[Y.length-1-pt],Y[Y.length-1-pt]=gt)}else{var ut=e-+this._x.call(null,q.data),xt=r-+this._y.call(null,q.data),it=ut*ut+xt*xt;if(it<i){var Ct=Math.sqrt(i=it);a=e-Ct,l=r-Ct,O=e+Ct,H=r+Ct,o=q.data}}return o},Ye.remove=function nc(e){if(isNaN(O=+this._x.call(null,e))||isNaN(H=+this._y.call(null,e)))return this;var r,o,a,l,O,H,Y,q,gt,pt,V,X,i=this._root,d=this._x0,y=this._y0,C=this._x1,A=this._y1;if(!i)return this;if(i.length)for(;;){if((gt=O>=(Y=(d+C)/2))?d=Y:C=Y,(pt=H>=(q=(y+A)/2))?y=q:A=q,r=i,!(i=i[V=pt<<1|gt]))return this;if(!i.length)break;(r[V+1&3]||r[V+2&3]||r[V+3&3])&&(o=r,X=V)}for(;i.data!==e;)if(a=i,!(i=i.next))return this;return(l=i.next)&&delete i.next,a?(l?a.next=l:delete a.next,this):r?(l?r[V]=l:delete r[V],(i=r[0]||r[1]||r[2]||r[3])&&i===(r[3]||r[2]||r[1]||r[0])&&!i.length&&(o?o[X]=i:this._root=i),this):(this._root=l,this)},Ye.removeAll=function rc(e){for(var r=0,i=e.length;r<i;++r)this.remove(e[r]);return this},Ye.root=function bn(){return this._root},Ye.size=function rr(){var e=0;return this.visit(function(r){if(!r.length)do{++e}while(r=r.next)}),e},Ye.visit=function mf(e){var i,a,l,d,y,C,r=[],o=this._root;for(o&&r.push(new sn(o,this._x0,this._y0,this._x1,this._y1));i=r.pop();)if(!e(o=i.node,l=i.x0,d=i.y0,y=i.x1,C=i.y1)&&o.length){var A=(l+y)/2,O=(d+C)/2;(a=o[3])&&r.push(new sn(a,A,O,y,C)),(a=o[2])&&r.push(new sn(a,l,O,A,C)),(a=o[1])&&r.push(new sn(a,A,d,y,O)),(a=o[0])&&r.push(new sn(a,l,d,A,O))}return this},Ye.visitAfter=function wf(e){var o,r=[],i=[];for(this._root&&r.push(new sn(this._root,this._x0,this._y0,this._x1,this._y1));o=r.pop();){var a=o.node;if(a.length){var l,d=o.x0,y=o.y0,C=o.x1,A=o.y1,O=(d+C)/2,H=(y+A)/2;(l=a[0])&&r.push(new sn(l,d,y,O,H)),(l=a[1])&&r.push(new sn(l,O,y,C,H)),(l=a[2])&&r.push(new sn(l,d,H,O,A)),(l=a[3])&&r.push(new sn(l,O,H,C,A))}i.push(o)}for(;o=i.pop();)e(o.node,o.x0,o.y0,o.x1,o.y1);return this},Ye.x=function Zi(e){return arguments.length?(this._x=e,this):this._x},Ye.y=function oc(e){return arguments.length?(this._y=e,this):this._y};const vo=4294967296;function _a(e){return e.x}function bf(e){return e.y}var yr=Math.PI*(3-Math.sqrt(5));function yo(e,r){if((i=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var i,o=e.slice(0,i);return[o.length>1?o[0]+o.slice(2):o,+e.slice(i+1)]}function $i(e){return(e=yo(Math.abs(e)))?e[1]:NaN}var gi,Aa=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yi(e){if(!(r=Aa.exec(e)))throw new Error("invalid format: "+e);var r;return new mo({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}function mo(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function wo(e,r){var i=yo(e,r);if(!i)return e+"";var o=i[0],a=i[1];return a<0?"0."+new Array(-a).join("0")+o:o.length>a+1?o.slice(0,a+1)+"."+o.slice(a+1):o+new Array(a-o.length+2).join("0")}Yi.prototype=mo.prototype,mo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Cs={"%":(e,r)=>(100*e).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function _f(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>wo(100*e,r),r:wo,s:function te(e,r){var i=yo(e,r);if(!i)return e+"";var o=i[0],a=i[1],l=a-(gi=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,d=o.length;return l===d?o:l>d?o+new Array(l-d+1).join("0"):l>0?o.slice(0,l)+"."+o.slice(l):"0."+new Array(1-l).join("0")+yo(e,Math.max(0,r+l-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Rr(e){return e}var He,Ms,gc,dc=Array.prototype.map,Ss=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Ea(e,r){var d,i=r?r.length:0,o=e?Math.min(i,e.length):0,a=new Array(o),l=new Array(i);for(d=0;d<o;++d)a[d]=We(e[d],r[d]);for(;d<i;++d)l[d]=r[d];return function(y){for(d=0;d<o;++d)l[d]=a[d](y);return l}}function Ef(e,r){var i=new Date;return e=+e,r=+r,function(o){return i.setTime(e*(1-o)+r*o),i}}function Cf(e,r){var a,i={},o={};for(a in(null===e||"object"!=typeof e)&&(e={}),(null===r||"object"!=typeof r)&&(r={}),r)a in e?i[a]=We(e[a],r[a]):o[a]=r[a];return function(l){for(a in i)o[a]=i[a](l);return o}}function Sf(e,r){r||(r=[]);var a,i=e?Math.min(r.length,e.length):0,o=r.slice();return function(l){for(a=0;a<i;++a)o[a]=e[a]*(1-l)+r[a]*l;return o}}function We(e,r){var o,i=typeof r;return null==r||"boolean"===i?ss(r):("number"===i?Un:"string"===i?(o=Bn(r))?(r=o,as):zu:r instanceof Bn?as:r instanceof Date?Ef:function wr(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(r)?Sf:Array.isArray(r)?Ea:"function"!=typeof r.valueOf&&"function"!=typeof r.toString||isNaN(r)?Cf:Un)(e,r)}function xo(e,r){return e=+e,r=+r,function(i){return Math.round(e*(1-i)+r*i)}}function yc(e,r){for(var i=new Array(r),o=0;o<r;++o)i[o]=e(o/(r-1));return i}function bo(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e)}return this}function Mf(e,r){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof r?this.interpolator(r):this.range(r)}return this}!function vc(e){He=function pc(e){var r=void 0===e.grouping||void 0===e.thousands?Rr:function Af(e,r){return function(i,o){for(var a=i.length,l=[],d=0,y=e[0],C=0;a>0&&y>0&&(C+y+1>o&&(y=Math.max(1,o-C)),l.push(i.substring(a-=y,a+y)),!((C+=y+1)>o));)y=e[d=(d+1)%e.length];return l.reverse().join(r)}}(dc.call(e.grouping,Number),e.thousands+""),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",l=void 0===e.numerals?Rr:function mr(e){return function(r){return r.replace(/[0-9]/g,function(i){return e[+i]})}}(dc.call(e.numerals,String)),d=void 0===e.percent?"%":e.percent+"",y=void 0===e.minus?"\u2212":e.minus+"",C=void 0===e.nan?"NaN":e.nan+"";function A(H){var Y=(H=Yi(H)).fill,q=H.align,gt=H.sign,pt=H.symbol,V=H.zero,X=H.width,ut=H.comma,xt=H.precision,it=H.trim,Ct=H.type;"n"===Ct?(ut=!0,Ct="g"):Cs[Ct]||(void 0===xt&&(xt=12),it=!0,Ct="g"),(V||"0"===Y&&"="===q)&&(V=!0,Y="0",q="=");var Ut="$"===pt?i:"#"===pt&&/[boxX]/.test(Ct)?"0"+Ct.toLowerCase():"",Zt="$"===pt?o:/[%p]/.test(Ct)?d:"",Ft=Cs[Ct],ae=/[defgprs%]/.test(Ct);function $t(Tt){var st,Ot,vt,ue=Ut,ee=Zt;if("c"===Ct)ee=Ft(Tt)+ee,Tt="";else{var Lt=(Tt=+Tt)<0||1/Tt<0;if(Tt=isNaN(Tt)?C:Ft(Math.abs(Tt),xt),it&&(Tt=function Es(e){t:for(var a,r=e.length,i=1,o=-1;i<r;++i)switch(e[i]){case".":o=a=i;break;case"0":0===o&&(o=i),a=i;break;default:if(!+e[i])break t;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(a+1):e}(Tt)),Lt&&0==+Tt&&"+"!==gt&&(Lt=!1),ue=(Lt?"("===gt?gt:y:"-"===gt||"("===gt?"":gt)+ue,ee=("s"===Ct?Ss[8+gi/3]:"")+ee+(Lt&&"("===gt?")":""),ae)for(st=-1,Ot=Tt.length;++st<Ot;)if(48>(vt=Tt.charCodeAt(st))||vt>57){ee=(46===vt?a+Tt.slice(st+1):Tt.slice(st))+ee,Tt=Tt.slice(0,st);break}}ut&&!V&&(Tt=r(Tt,1/0));var jt=ue.length+Tt.length+ee.length,Bt=jt<X?new Array(X-jt+1).join(Y):"";switch(ut&&V&&(Tt=r(Bt+Tt,Bt.length?X-ee.length:1/0),Bt=""),q){case"<":Tt=ue+Tt+ee+Bt;break;case"=":Tt=ue+Bt+Tt+ee;break;case"^":Tt=Bt.slice(0,jt=Bt.length>>1)+ue+Tt+ee+Bt.slice(jt);break;default:Tt=Bt+ue+Tt+ee}return l(Tt)}return xt=void 0===xt?6:/[gprs]/.test(Ct)?Math.max(1,Math.min(21,xt)):Math.max(0,Math.min(20,xt)),$t.toString=function(){return H+""},$t}return{format:A,formatPrefix:function O(H,Y){var q=A(((H=Yi(H)).type="f",H)),gt=3*Math.max(-8,Math.min(8,Math.floor($i(Y)/3))),pt=Math.pow(10,-gt),V=Ss[8+gt/3];return function(X){return q(pt*X)+V}}}}(e),Ms=He.format,gc=He.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});const mc=Symbol("implicit");function vi(){var e=new zo,r=[],i=[],o=mc;function a(l){let d=e.get(l);if(void 0===d){if(o!==mc)return o;e.set(l,d=r.push(l)-1)}return i[d%i.length]}return a.domain=function(l){if(!arguments.length)return r.slice();r=[],e=new zo;for(const d of l)e.has(d)||e.set(d,r.push(d)-1);return a},a.range=function(l){return arguments.length?(i=Array.from(l),a):i.slice()},a.unknown=function(l){return arguments.length?(o=l,a):o},a.copy=function(){return vi(r,i).unknown(o)},bo.apply(a,arguments),a}function Hi(){var l,d,e=vi().unknown(void 0),r=e.domain,i=e.range,o=0,a=1,y=!1,C=0,A=0,O=.5;function H(){var Y=r().length,q=a<o,gt=q?a:o,pt=q?o:a;l=(pt-gt)/Math.max(1,Y-C+2*A),y&&(l=Math.floor(l)),gt+=(pt-gt-l*(Y-C))*O,d=l*(1-C),y&&(gt=Math.round(gt),d=Math.round(d));var V=Qn(Y).map(function(X){return gt+l*X});return i(q?V.reverse():V)}return delete e.unknown,e.domain=function(Y){return arguments.length?(r(Y),H()):r()},e.range=function(Y){return arguments.length?([o,a]=Y,o=+o,a=+a,H()):[o,a]},e.rangeRound=function(Y){return[o,a]=Y,o=+o,a=+a,y=!0,H()},e.bandwidth=function(){return d},e.step=function(){return l},e.round=function(Y){return arguments.length?(y=!!Y,H()):y},e.padding=function(Y){return arguments.length?(C=Math.min(1,A=+Y),H()):C},e.paddingInner=function(Y){return arguments.length?(C=Math.min(1,Y),H()):C},e.paddingOuter=function(Y){return arguments.length?(A=+Y,H()):A},e.align=function(Y){return arguments.length?(O=Math.max(0,Math.min(1,Y)),H()):O},e.copy=function(){return Hi(r(),[o,a]).round(y).paddingInner(C).paddingOuter(A).align(O)},bo.apply(H(),arguments)}const kf=Math.sqrt(50),If=Math.sqrt(10),Nf=Math.sqrt(2);function _o(e,r,i){const o=(r-e)/Math.max(0,i),a=Math.floor(Math.log10(o)),l=o/Math.pow(10,a),d=l>=kf?10:l>=If?5:l>=Nf?2:1;let y,C,A;return a<0?(A=Math.pow(10,-a)/d,y=Math.round(e*A),C=Math.round(r*A),y/A<e&&++y,C/A>r&&--C,A=-A):(A=Math.pow(10,a)*d,y=Math.round(e/A),C=Math.round(r/A),y*A<e&&++y,C*A>r&&--C),C<y&&.5<=i&&i<2?_o(e,r,2*i):[y,C,A]}function Sa(e,r,i){return _o(e=+e,r=+r,i=+i)[2]}function xc(e,r){return null==e||null==r?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function Xi(e){let r,i,o;function a(y,C,A=0,O=y.length){if(A<O){if(0!==r(C,C))return O;do{const H=A+O>>>1;i(y[H],C)<0?A=H+1:O=H}while(A<O)}return A}return 2!==e.length?(r=yn,i=(y,C)=>yn(e(y),C),o=(y,C)=>e(y)-C):(r=e===yn||e===xc?e:ka,i=e,o=e),{left:a,center:function d(y,C,A=0,O=y.length){const H=a(y,C,A,O-1);return H>A&&o(y[H-1],C)>-o(y[H],C)?H-1:H},right:function l(y,C,A=0,O=y.length){if(A<O){if(0!==r(C,C))return O;do{const H=A+O>>>1;i(y[H],C)<=0?A=H+1:O=H}while(A<O)}return A}}}function ka(){return 0}const bc=Xi(yn).right,ir=(Xi(function Lo(e){return null===e?NaN:+e}),bc);function Lf(e){return+e}var Da=[0,1];function Gr(e){return e}function La(e,r){return(r-=e=+e)?function(i){return(i-e)/r}:function yi(e){return function(){return e}}(isNaN(r)?NaN:.5)}function zf(e,r,i){var o=e[0],a=e[1],l=r[0],d=r[1];return a<o?(o=La(a,o),l=i(d,l)):(o=La(o,a),l=i(l,d)),function(y){return l(o(y))}}function Rf(e,r,i){var o=Math.min(e.length,r.length)-1,a=new Array(o),l=new Array(o),d=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++d<o;)a[d]=La(e[d],e[d+1]),l[d]=i(r[d],r[d+1]);return function(y){var C=ir(e,y,1,o)-1;return l[C](a[C](y))}}function Gf(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Pf(){return function Of(){var o,a,l,y,C,A,e=Da,r=Da,i=We,d=Gr;function O(){var Y=Math.min(e.length,r.length);return d!==Gr&&(d=function Tf(e,r){var i;return e>r&&(i=e,e=r,r=i),function(o){return Math.max(e,Math.min(r,o))}}(e[0],e[Y-1])),y=Y>2?Rf:zf,C=A=null,H}function H(Y){return null==Y||isNaN(Y=+Y)?l:(C||(C=y(e.map(o),r,i)))(o(d(Y)))}return H.invert=function(Y){return d(a((A||(A=y(r,e.map(o),Un)))(Y)))},H.domain=function(Y){return arguments.length?(e=Array.from(Y,Lf),O()):e.slice()},H.range=function(Y){return arguments.length?(r=Array.from(Y),O()):r.slice()},H.rangeRound=function(Y){return r=Array.from(Y),i=xo,O()},H.clamp=function(Y){return arguments.length?(d=!!Y||Gr,O()):d!==Gr},H.interpolate=function(Y){return arguments.length?(i=Y,O()):i},H.unknown=function(Y){return arguments.length?(l=Y,H):l},function(Y,q){return o=Y,a=q,O()}}()(Gr,Gr)}function Ta(e){var r=e.domain;return e.ticks=function(i){var o=r();return function wc(e,r,i){if(!((i=+i)>0))return[];if((e=+e)==(r=+r))return[e];const o=r<e,[a,l,d]=o?_o(r,e,i):_o(e,r,i);if(!(l>=a))return[];const y=l-a+1,C=new Array(y);if(o)if(d<0)for(let A=0;A<y;++A)C[A]=(l-A)/-d;else for(let A=0;A<y;++A)C[A]=(l-A)*d;else if(d<0)for(let A=0;A<y;++A)C[A]=(a+A)/-d;else for(let A=0;A<y;++A)C[A]=(a+A)*d;return C}(o[0],o[o.length-1],null==i?10:i)},e.tickFormat=function(i,o){var a=r();return function _c(e,r,i,o){var l,a=function Ma(e,r,i){i=+i;const o=(r=+r)<(e=+e),a=o?Sa(r,e,i):Sa(e,r,i);return(o?-1:1)*(a<0?1/-a:a)}(e,r,i);switch((o=Yi(null==o?",f":o)).type){case"s":var d=Math.max(Math.abs(e),Math.abs(r));return null==o.precision&&!isNaN(l=function Uf(e,r){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor($i(r)/3)))-$i(Math.abs(e)))}(a,d))&&(o.precision=l),gc(o,d);case"":case"e":case"g":case"p":case"r":null==o.precision&&!isNaN(l=function Wf(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,$i(r)-$i(e))+1}(a,Math.max(Math.abs(e),Math.abs(r))))&&(o.precision=l-("e"===o.type));break;case"f":case"%":null==o.precision&&!isNaN(l=function Bf(e){return Math.max(0,-$i(Math.abs(e)))}(a))&&(o.precision=l-2*("%"===o.type))}return Ms(o)}(a[0],a[a.length-1],null==i?10:i,o)},e.nice=function(i){null==i&&(i=10);var C,A,o=r(),a=0,l=o.length-1,d=o[a],y=o[l],O=10;for(y<d&&(A=d,d=y,y=A,A=a,a=l,l=A);O-- >0;){if((A=Sa(d,y,i))===C)return o[a]=d,o[l]=y,r(o);if(A>0)d=Math.floor(d/A)*A,y=Math.ceil(y/A)*A;else{if(!(A<0))break;d=Math.ceil(d*A)/A,y=Math.floor(y*A)/A}C=A}return e},e}function mi(){var e=Pf();return e.copy=function(){return Gf(e,mi())},bo.apply(e,arguments),Ta(e)}function ks(){var i,o,a,l,C,e=0,r=1,d=Gr,y=!1;function A(H){return null==H||isNaN(H=+H)?C:d(0===a?.5:(H=(l(H)-i)*a,y?Math.max(0,Math.min(1,H)):H))}function O(H){return function(Y){var q,gt;return arguments.length?([q,gt]=Y,d=H(q,gt),A):[d(0),d(1)]}}return A.domain=function(H){return arguments.length?([e,r]=H,i=l(e=+e),o=l(r=+r),a=i===o?0:1/(o-i),A):[e,r]},A.clamp=function(H){return arguments.length?(y=!!H,A):y},A.interpolator=function(H){return arguments.length?(d=H,A):d},A.range=O(We),A.rangeRound=O(xo),A.unknown=function(H){return arguments.length?(C=H,A):C},function(H){return l=H,i=H(e),o=H(r),a=i===o?0:1/(o-i),A}}function Is(e,r){return r.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ac(){var e=Ta(ks()(Gr));return e.copy=function(){return Is(e,Ac())},Mf.apply(e,arguments)}const $f=function Zf(e){for(var r=e.length/6|0,i=new Array(r),o=0;o<r;)i[o]="#"+e.slice(6*o,6*++o);return i}("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Yf=Math.PI/180,zn=180/Math.PI;var za=1.78277,Ra=-.29227,Ao=-.90649,Eo=1.97294,Mc=Eo*Ao,kc=Eo*za,Ic=za*Ra- -.14861*Ao;function Ga(e){if(e instanceof wi)return new wi(e.h,e.s,e.l,e.opacity);e instanceof on||(e=ni(e));var i=e.g/255,o=e.b/255,a=(Ic*o+Mc*(e.r/255)-kc*i)/(Ic+Mc-kc),l=o-a,d=(Eo*(i-a)-Ra*l)/Ao,y=Math.sqrt(d*d+l*l)/(Eo*a*(1-a)),C=y?Math.atan2(d,l)*zn-120:NaN;return new wi(C<0?C+360:C,y,a,e.opacity)}function Or(e,r,i,o){return 1===arguments.length?Ga(e):new wi(e,r,i,null==o?1:o)}function wi(e,r,i,o){this.h=+e,this.s=+r,this.l=+i,this.opacity=+o}function Nc(e){return function r(i){function o(a,l){var d=e((a=Or(a)).h,(l=Or(l)).h),y=Wi(a.s,l.s),C=Wi(a.l,l.l),A=Wi(a.opacity,l.opacity);return function(O){return a.h=d(O),a.s=y(O),a.l=C(Math.pow(O,i)),a.opacity=A(O),a+""}}return i=+i,o.gamma=r,o}(1)}es(wi,Or,oa(Pi,{brighter(e){return e=null==e?hr:Math.pow(hr,e),new wi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new wi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Yf,r=+this.l,i=isNaN(this.s)?0:this.s*r*(1-r),o=Math.cos(e),a=Math.sin(e);return new on(255*(r+i*(-.14861*o+za*a)),255*(r+i*(Ra*o+Ao*a)),255*(r+i*(Eo*o)),this.opacity)}})),Nc(function Oh(e,r){var i=r-e;return i?Lu(e,i>180||i<-180?i-360*Math.round(i/360):i):ss(isNaN(e)?r:e)});var Dc=Nc(Wi),Hf=(Dc(Or(-100,.75,.35),Or(80,1.5,.8)),Dc(Or(260,.75,.35),Or(80,1.5,.8)));function Lc(e){return Ue(js(e).call(document.documentElement))}function Tc(e){return((e=Math.exp(e))+1/e)/2}Or();const Vf=function e(r,i,o){function a(l,d){var V,X,y=l[0],C=l[1],A=l[2],Y=d[2],q=d[0]-y,gt=d[1]-C,pt=q*q+gt*gt;if(pt<1e-12)X=Math.log(Y/A)/r,V=function(Zt){return[y+Zt*q,C+Zt*gt,A*Math.exp(r*Zt*X)]};else{var ut=Math.sqrt(pt),xt=(Y*Y-A*A+o*pt)/(2*A*i*ut),it=(Y*Y-A*A-o*pt)/(2*Y*i*ut),Ct=Math.log(Math.sqrt(xt*xt+1)-xt),Ut=Math.log(Math.sqrt(it*it+1)-it);X=(Ut-Ct)/r,V=function(Zt){var Ft=Zt*X,ae=Tc(Ct),$t=A/(i*ut)*(ae*function Kf(e){return((e=Math.exp(2*e))-1)/(e+1)}(r*Ft+Ct)-function jf(e){return((e=Math.exp(e))-1/e)/2}(Ct));return[y+$t*q,C+$t*gt,A*ae/Tc(r*Ft+Ct)]}}return V.duration=1e3*X*r/Math.SQRT2,V}return a.rho=function(l){var d=Math.max(.001,+l),y=d*d;return e(d,y,y*y)},a}(Math.SQRT2,2,4),Ds=e=>()=>e;function qf(e,{sourceEvent:r,target:i,transform:o,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:a}})}function xr(e,r,i){this.k=e,this.x=r,this.y=i}xr.prototype={constructor:xr,scale:function(e){return 1===e?this:new xr(this.k*e,this.x,this.y)},translate:function(e,r){return 0===e&0===r?this:new xr(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Oa=new xr(1,0,0);function Co(e){e.stopImmediatePropagation()}function ji(e){e.preventDefault(),e.stopImmediatePropagation()}function Qf(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function tl(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function zc(){return this.__zoom||Oa}function el(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function nl(){return navigator.maxTouchPoints||"ontouchstart"in this}function rl(e,r,i){var o=e.invertX(r[0][0])-i[0][0],a=e.invertX(r[1][0])-i[1][0],l=e.invertY(r[0][1])-i[0][1],d=e.invertY(r[1][1])-i[1][1];return e.translate(a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a),d>l?(l+d)/2:Math.min(0,l)||Math.max(0,d))}var ol=G(4825);let Pa=(()=>{class e extends qn.H{constructor(){super(),this.nodes=[],this.links=[],this.width=window.screen.availWidth,this.height=window.screen.availHeight,this.characterLinks=[],this.defaultOptions={zoom:!0,edgeRadius:0},this.id=(0,F.V)(),this.groups=[]}ngOnChanges(i){this.nodes.length>0&&this.links.length>0&&this.create()}ngAfterViewInit(){this.nodes.length>0&&this.links.length>0&&this.create()}create(){this.options=Object.assign(Object.assign({},this.defaultOptions),this.options),this.element=document.getElementById(this.id+"-network"),Ue(this.element).selectChildren().remove(),this.createCharacterLinks(),this.initializeColor(),this.createSvg(),this.createLink(),this.createSimulation(),this.createNode()}initializeColor(){this.groups=Array.from(new Set(this.characterLinks.map(i=>i.group))),this.color=vi(this.groups,$f)}createCharacterLinks(){const i=this.nodes.map(o=>o.id);this.characterLinks=this.links.filter(o=>i.includes(o.source)&&i.includes(o.target))}createSimulation(){this.simulation=function fc(e){var r,i=1,o=.001,a=1-Math.pow(o,1/300),l=0,d=.6,y=new Map,C=ea(H),A=Xo("tick","end"),O=function cc(){let e=1;return()=>(e=(1664525*e+1013904223)%vo)/vo}();function H(){Y(),A.call("tick",r),i<o&&(C.stop(),A.call("end",r))}function Y(pt){var V,ut,X=e.length;void 0===pt&&(pt=1);for(var xt=0;xt<pt;++xt)for(i+=(l-i)*a,y.forEach(function(it){it(i)}),V=0;V<X;++V)null==(ut=e[V]).fx?ut.x+=ut.vx*=d:(ut.x=ut.fx,ut.vx=0),null==ut.fy?ut.y+=ut.vy*=d:(ut.y=ut.fy,ut.vy=0);return r}function q(){for(var X,pt=0,V=e.length;pt<V;++pt){if((X=e[pt]).index=pt,null!=X.fx&&(X.x=X.fx),null!=X.fy&&(X.y=X.fy),isNaN(X.x)||isNaN(X.y)){var ut=10*Math.sqrt(.5+pt),xt=pt*yr;X.x=ut*Math.cos(xt),X.y=ut*Math.sin(xt)}(isNaN(X.vx)||isNaN(X.vy))&&(X.vx=X.vy=0)}}function gt(pt){return pt.initialize&&pt.initialize(e,O),pt}return null==e&&(e=[]),q(),r={tick:Y,restart:function(){return C.restart(H),r},stop:function(){return C.stop(),r},nodes:function(pt){return arguments.length?(e=pt,q(),y.forEach(gt),r):e},alpha:function(pt){return arguments.length?(i=+pt,r):i},alphaMin:function(pt){return arguments.length?(o=+pt,r):o},alphaDecay:function(pt){return arguments.length?(a=+pt,r):+a},alphaTarget:function(pt){return arguments.length?(l=+pt,r):l},velocityDecay:function(pt){return arguments.length?(d=1-pt,r):1-d},randomSource:function(pt){return arguments.length?(O=pt,y.forEach(gt),r):O},force:function(pt,V){return arguments.length>1?(null==V?y.delete(pt):y.set(pt,gt(V)),r):y.get(pt)},find:function(pt,V,X){var it,Ct,Ut,Zt,Ft,ut=0,xt=e.length;for(null==X?X=1/0:X*=X,ut=0;ut<xt;++ut)(Ut=(it=pt-(Zt=e[ut]).x)*it+(Ct=V-Zt.y)*Ct)<X&&(Ft=Zt,X=Ut);return Ft},on:function(pt,V){return arguments.length>1?(A.on(pt,V),r):A.on(pt)}}}(this.nodes).force("link",function As(e){var o,l,d,y,C,A,r=bs,i=function H(V){return 1/Math.min(y[V.source.index],y[V.target.index])},a=pi(30),O=1;function Y(V){for(var X=0,ut=e.length;X<O;++X)for(var it,Ct,Ut,Zt,Ft,ae,$t,xt=0;xt<ut;++xt)Zt=(Ut=(it=e[xt]).target).x+Ut.vx-(Ct=it.source).x-Ct.vx||vr(A),Ft=Ut.y+Ut.vy-Ct.y-Ct.vy||vr(A),Ft*=ae=((ae=Math.sqrt(Zt*Zt+Ft*Ft))-l[xt])/ae*V*o[xt],Ut.vx-=(Zt*=ae)*($t=C[xt]),Ut.vy-=Ft*$t,Ct.vx+=Zt*($t=1-$t),Ct.vy+=Ft*$t}function q(){if(d){var V,it,X=d.length,ut=e.length,xt=new Map(d.map((Ct,Ut)=>[r(Ct,Ut,d),Ct]));for(V=0,y=new Array(X);V<ut;++V)(it=e[V]).index=V,"object"!=typeof it.source&&(it.source=_s(xt,it.source)),"object"!=typeof it.target&&(it.target=_s(xt,it.target)),y[it.source.index]=(y[it.source.index]||0)+1,y[it.target.index]=(y[it.target.index]||0)+1;for(V=0,C=new Array(ut);V<ut;++V)C[V]=y[(it=e[V]).source.index]/(y[it.source.index]+y[it.target.index]);o=new Array(ut),gt(),l=new Array(ut),pt()}}function gt(){if(d)for(var V=0,X=e.length;V<X;++V)o[V]=+i(e[V],V,e)}function pt(){if(d)for(var V=0,X=e.length;V<X;++V)l[V]=+a(e[V],V,e)}return null==e&&(e=[]),Y.initialize=function(V,X){d=V,A=X,q()},Y.links=function(V){return arguments.length?(e=V,q(),Y):e},Y.id=function(V){return arguments.length?(r=V,Y):r},Y.iterations=function(V){return arguments.length?(O=+V,Y):O},Y.strength=function(V){return arguments.length?(i="function"==typeof V?V:pi(+V),gt(),Y):i},Y.distance=function(V){return arguments.length?(a="function"==typeof V?V:pi(+V),pt(),Y):a},Y}(this.characterLinks).distance(20).id(this.getId)).force("charge",function lc(){var e,r,i,o,l,a=pi(-30),d=1,y=1/0,C=.81;function A(q){var gt,pt=e.length,V=ba(e,_a,bf).visitAfter(H);for(o=q,gt=0;gt<pt;++gt)r=e[gt],V.visit(Y)}function O(){if(e){var q,pt,gt=e.length;for(l=new Array(gt),q=0;q<gt;++q)l[(pt=e[q]).index]=+a(pt,q,e)}}function H(q){var pt,V,ut,xt,it,gt=0,X=0;if(q.length){for(ut=xt=it=0;it<4;++it)(pt=q[it])&&(V=Math.abs(pt.value))&&(gt+=pt.value,X+=V,ut+=V*pt.x,xt+=V*pt.y);q.x=ut/X,q.y=xt/X}else{(pt=q).x=pt.data.x,pt.y=pt.data.y;do{gt+=l[pt.data.index]}while(pt=pt.next)}q.value=gt}function Y(q,gt,pt,V){if(!q.value)return!0;var X=q.x-r.x,ut=q.y-r.y,xt=V-gt,it=X*X+ut*ut;if(xt*xt/C<it)return it<y&&(0===X&&(it+=(X=vr(i))*X),0===ut&&(it+=(ut=vr(i))*ut),it<d&&(it=Math.sqrt(d*it)),r.vx+=X*q.value*o/it,r.vy+=ut*q.value*o/it),!0;if(!(q.length||it>=y)){(q.data!==r||q.next)&&(0===X&&(it+=(X=vr(i))*X),0===ut&&(it+=(ut=vr(i))*ut),it<d&&(it=Math.sqrt(d*it)));do{q.data!==r&&(r.vx+=X*(xt=l[q.data.index]*o/it),r.vy+=ut*xt)}while(q=q.next)}}return A.initialize=function(q,gt){e=q,i=gt,O()},A.strength=function(q){return arguments.length?(a="function"==typeof q?q:pi(+q),O(),A):a},A.distanceMin=function(q){return arguments.length?(d=q*q,A):Math.sqrt(d)},A.distanceMax=function(q){return arguments.length?(y=q*q,A):Math.sqrt(y)},A.theta=function(q){return arguments.length?(C=q*q,A):Math.sqrt(C)},A}().strength(i=>-100*i.score)).force("center",function Qu(e,r){var i,o=1;function a(){var l,y,d=i.length,C=0,A=0;for(l=0;l<d;++l)C+=(y=i[l]).x,A+=y.y;for(C=(C/d-e)*o,A=(A/d-r)*o,l=0;l<d;++l)(y=i[l]).x-=C,y.y-=A}return null==e&&(e=0),null==r&&(r=0),a.initialize=function(l){i=l},a.x=function(l){return arguments.length?(e=+l,a):e},a.y=function(l){return arguments.length?(r=+l,a):r},a.strength=function(l){return arguments.length?(o=+l,a):o},a}(this.width/2,this.height/2)).force("radius",function ac(e){var r,i,o,a=1,l=1;function d(){for(var A,H,Y,q,gt,pt,V,O=r.length,X=0;X<l;++X)for(H=ba(r,sc,xs).visitAfter(y),A=0;A<O;++A)V=(pt=i[(Y=r[A]).index])*pt,q=Y.x+Y.vx,gt=Y.y+Y.vy,H.visit(ut);function ut(xt,it,Ct,Ut,Zt){var Ft=xt.data,ae=xt.r,$t=pt+ae;if(!Ft)return it>q+$t||Ut<q-$t||Ct>gt+$t||Zt<gt-$t;if(Ft.index>Y.index){var Tt=q-Ft.x-Ft.vx,ue=gt-Ft.y-Ft.vy,ee=Tt*Tt+ue*ue;ee<$t*$t&&(0===Tt&&(ee+=(Tt=vr(o))*Tt),0===ue&&(ee+=(ue=vr(o))*ue),ee=($t-(ee=Math.sqrt(ee)))/ee*a,Y.vx+=(Tt*=ee)*($t=(ae*=ae)/(V+ae)),Y.vy+=(ue*=ee)*$t,Ft.vx-=Tt*($t=1-$t),Ft.vy-=ue*$t)}}}function y(A){if(A.data)return A.r=i[A.data.index];for(var O=A.r=0;O<4;++O)A[O]&&A[O].r>A.r&&(A.r=A[O].r)}function C(){if(r){var A,H,O=r.length;for(i=new Array(O),A=0;A<O;++A)i[(H=r[A]).index]=+e(H,A,r)}}return"function"!=typeof e&&(e=pi(null==e?1:+e)),d.initialize=function(A,O){r=A,o=O,C()},d.iterations=function(A){return arguments.length?(l=+A,d):l},d.strength=function(A){return arguments.length?(a=+A,d):a},d.radius=function(A){return arguments.length?(e="function"==typeof A?A:pi(+A),C(),d):e},d}(i=>i.score+20)).force("cluster",this.cluster(this.nodes)).on("tick",()=>{this.link.attr("d",i=>`\n            M${i.source.x},${i.source.y}\n            A${this.options.edgeRadius},${this.options.edgeRadius} 0 0,1 ${i.target.x},${i.target.y}\n          `),this.node.attr("transform",i=>`translate(${i.x}, ${i.y})`),(0,ol.g)(1e4)}),setTimeout(()=>{this.simulation.stop()},1e4)}createSvg(){const i=this;this.svg=Lc("svg").attr("viewBox",[0,0,this.width,this.height]).style("font","12px sans-serif"),this.g=this.svg.append("g"),this.options.zoom&&this.svg.call(function il(){var O,H,Y,e=Qf,r=tl,i=rl,o=el,a=nl,l=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],y=250,C=Vf,A=Xo("start","zoom","end"),q=500,pt=0,V=10;function X(st){st.property("__zoom",zc).on("wheel.zoom",Ft,{passive:!1}).on("mousedown.zoom",ae).on("dblclick.zoom",$t).filter(a).on("touchstart.zoom",Tt).on("touchmove.zoom",ue).on("touchend.zoom touchcancel.zoom",ee).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function ut(st,Ot){return(Ot=Math.max(l[0],Math.min(l[1],Ot)))===st.k?st:new xr(Ot,st.x,st.y)}function xt(st,Ot,vt){var Lt=Ot[0]-vt[0]*st.k,jt=Ot[1]-vt[1]*st.k;return Lt===st.x&&jt===st.y?st:new xr(st.k,Lt,jt)}function it(st){return[(+st[0][0]+ +st[1][0])/2,(+st[0][1]+ +st[1][1])/2]}function Ct(st,Ot,vt,Lt){st.on("start.zoom",function(){Ut(this,arguments).event(Lt).start()}).on("interrupt.zoom end.zoom",function(){Ut(this,arguments).event(Lt).end()}).tween("zoom",function(){var jt=this,Bt=arguments,Xt=Ut(jt,Bt).event(Lt),oe=r.apply(jt,Bt),ce=null==vt?it(oe):"function"==typeof vt?vt.apply(jt,Bt):vt,dn=Math.max(oe[1][0]-oe[0][0],oe[1][1]-oe[0][1]),Ce=jt.__zoom,Kt="function"==typeof Ot?Ot.apply(jt,Bt):Ot,pn=C(Ce.invert(ce).concat(dn/Ce.k),Kt.invert(ce).concat(dn/Kt.k));return function(ge){if(1===ge)ge=Kt;else{var an=pn(ge),Ki=dn/an[2];ge=new xr(Ki,ce[0]-an[0]*Ki,ce[1]-an[1]*Ki)}Xt.zoom(null,ge)}})}function Ut(st,Ot,vt){return!vt&&st.__zooming||new Zt(st,Ot)}function Zt(st,Ot){this.that=st,this.args=Ot,this.active=0,this.sourceEvent=null,this.extent=r.apply(st,Ot),this.taps=0}function Ft(st,...Ot){if(e.apply(this,arguments)){var vt=Ut(this,Ot).event(st),Lt=this.__zoom,jt=Math.max(l[0],Math.min(l[1],Lt.k*Math.pow(2,o.apply(this,arguments)))),Bt=nr(st);if(vt.wheel)(vt.mouse[0][0]!==Bt[0]||vt.mouse[0][1]!==Bt[1])&&(vt.mouse[1]=Lt.invert(vt.mouse[0]=Bt)),clearTimeout(vt.wheel);else{if(Lt.k===jt)return;vt.mouse=[Bt,Lt.invert(Bt)],qr(this),vt.start()}ji(st),vt.wheel=setTimeout(Xt,150),vt.zoom("mouse",i(xt(ut(Lt,jt),vt.mouse[0],vt.mouse[1]),vt.extent,d))}function Xt(){vt.wheel=null,vt.end()}}function ae(st,...Ot){if(!Y&&e.apply(this,arguments)){var vt=st.currentTarget,Lt=Ut(this,Ot,!0).event(st),jt=Ue(st.view).on("mousemove.zoom",ce,!0).on("mouseup.zoom",dn,!0),Bt=nr(st,vt),Xt=st.clientX,oe=st.clientY;go(st.view),Co(st),Lt.mouse=[Bt,this.__zoom.invert(Bt)],qr(this),Lt.start()}function ce(Ce){if(ji(Ce),!Lt.moved){var Kt=Ce.clientX-Xt,pn=Ce.clientY-oe;Lt.moved=Kt*Kt+pn*pn>pt}Lt.event(Ce).zoom("mouse",i(xt(Lt.that.__zoom,Lt.mouse[0]=nr(Ce,vt),Lt.mouse[1]),Lt.extent,d))}function dn(Ce){jt.on("mousemove.zoom mouseup.zoom",null),ma(Ce.view,Lt.moved),ji(Ce),Lt.event(Ce).end()}}function $t(st,...Ot){if(e.apply(this,arguments)){var vt=this.__zoom,Lt=nr(st.changedTouches?st.changedTouches[0]:st,this),jt=vt.invert(Lt),Xt=i(xt(ut(vt,vt.k*(st.shiftKey?.5:2)),Lt,jt),r.apply(this,Ot),d);ji(st),y>0?Ue(this).transition().duration(y).call(Ct,Xt,Lt,st):Ue(this).call(X.transform,Xt,Lt,st)}}function Tt(st,...Ot){if(e.apply(this,arguments)){var Bt,Xt,oe,ce,vt=st.touches,Lt=vt.length,jt=Ut(this,Ot,st.changedTouches.length===Lt).event(st);for(Co(st),Xt=0;Xt<Lt;++Xt)ce=[ce=nr(oe=vt[Xt],this),this.__zoom.invert(ce),oe.identifier],jt.touch0?!jt.touch1&&jt.touch0[2]!==ce[2]&&(jt.touch1=ce,jt.taps=0):(jt.touch0=ce,Bt=!0,jt.taps=1+!!O);O&&(O=clearTimeout(O)),Bt&&(jt.taps<2&&(H=ce[0],O=setTimeout(function(){O=null},q)),qr(this),jt.start())}}function ue(st,...Ot){if(this.__zooming){var Bt,Xt,oe,ce,vt=Ut(this,Ot).event(st),Lt=st.changedTouches,jt=Lt.length;for(ji(st),Bt=0;Bt<jt;++Bt)oe=nr(Xt=Lt[Bt],this),vt.touch0&&vt.touch0[2]===Xt.identifier?vt.touch0[0]=oe:vt.touch1&&vt.touch1[2]===Xt.identifier&&(vt.touch1[0]=oe);if(Xt=vt.that.__zoom,vt.touch1){var dn=vt.touch0[0],Ce=vt.touch0[1],Kt=vt.touch1[0],pn=vt.touch1[1],ge=(ge=Kt[0]-dn[0])*ge+(ge=Kt[1]-dn[1])*ge,an=(an=pn[0]-Ce[0])*an+(an=pn[1]-Ce[1])*an;Xt=ut(Xt,Math.sqrt(ge/an)),oe=[(dn[0]+Kt[0])/2,(dn[1]+Kt[1])/2],ce=[(Ce[0]+pn[0])/2,(Ce[1]+pn[1])/2]}else{if(!vt.touch0)return;oe=vt.touch0[0],ce=vt.touch0[1]}vt.zoom("touch",i(xt(Xt,oe,ce),vt.extent,d))}}function ee(st,...Ot){if(this.__zooming){var Bt,Xt,vt=Ut(this,Ot).event(st),Lt=st.changedTouches,jt=Lt.length;for(Co(st),Y&&clearTimeout(Y),Y=setTimeout(function(){Y=null},q),Bt=0;Bt<jt;++Bt)Xt=Lt[Bt],vt.touch0&&vt.touch0[2]===Xt.identifier?delete vt.touch0:vt.touch1&&vt.touch1[2]===Xt.identifier&&delete vt.touch1;if(vt.touch1&&!vt.touch0&&(vt.touch0=vt.touch1,delete vt.touch1),vt.touch0)vt.touch0[1]=this.__zoom.invert(vt.touch0[0]);else if(vt.end(),2===vt.taps&&(Xt=nr(Xt,this),Math.hypot(H[0]-Xt[0],H[1]-Xt[1])<V)){var oe=Ue(this).on("dblclick.zoom");oe&&oe.apply(this,arguments)}}}return X.transform=function(st,Ot,vt,Lt){var jt=st.selection?st.selection():st;jt.property("__zoom",zc),st!==jt?Ct(st,Ot,vt,Lt):jt.interrupt().each(function(){Ut(this,arguments).event(Lt).start().zoom(null,"function"==typeof Ot?Ot.apply(this,arguments):Ot).end()})},X.scaleBy=function(st,Ot,vt,Lt){X.scaleTo(st,function(){return this.__zoom.k*("function"==typeof Ot?Ot.apply(this,arguments):Ot)},vt,Lt)},X.scaleTo=function(st,Ot,vt,Lt){X.transform(st,function(){var jt=r.apply(this,arguments),Bt=this.__zoom,Xt=null==vt?it(jt):"function"==typeof vt?vt.apply(this,arguments):vt,oe=Bt.invert(Xt),ce="function"==typeof Ot?Ot.apply(this,arguments):Ot;return i(xt(ut(Bt,ce),Xt,oe),jt,d)},vt,Lt)},X.translateBy=function(st,Ot,vt,Lt){X.transform(st,function(){return i(this.__zoom.translate("function"==typeof Ot?Ot.apply(this,arguments):Ot,"function"==typeof vt?vt.apply(this,arguments):vt),r.apply(this,arguments),d)},null,Lt)},X.translateTo=function(st,Ot,vt,Lt,jt){X.transform(st,function(){var Bt=r.apply(this,arguments),Xt=this.__zoom,oe=null==Lt?it(Bt):"function"==typeof Lt?Lt.apply(this,arguments):Lt;return i(Oa.translate(oe[0],oe[1]).scale(Xt.k).translate("function"==typeof Ot?-Ot.apply(this,arguments):-Ot,"function"==typeof vt?-vt.apply(this,arguments):-vt),Bt,d)},Lt,jt)},Zt.prototype={event:function(st){return st&&(this.sourceEvent=st),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(st,Ot){return this.mouse&&"mouse"!==st&&(this.mouse[1]=Ot.invert(this.mouse[0])),this.touch0&&"touch"!==st&&(this.touch0[1]=Ot.invert(this.touch0[0])),this.touch1&&"touch"!==st&&(this.touch1[1]=Ot.invert(this.touch1[0])),this.that.__zoom=Ot,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(st){var Ot=Ue(this.that).datum();A.call(st,this.that,new qf(st,{sourceEvent:this.sourceEvent,target:X,type:st,transform:this.that.__zoom,dispatch:A}),Ot)}},X.wheelDelta=function(st){return arguments.length?(o="function"==typeof st?st:Ds(+st),X):o},X.filter=function(st){return arguments.length?(e="function"==typeof st?st:Ds(!!st),X):e},X.touchable=function(st){return arguments.length?(a="function"==typeof st?st:Ds(!!st),X):a},X.extent=function(st){return arguments.length?(r="function"==typeof st?st:Ds([[+st[0][0],+st[0][1]],[+st[1][0],+st[1][1]]]),X):r},X.scaleExtent=function(st){return arguments.length?(l[0]=+st[0],l[1]=+st[1],X):[l[0],l[1]]},X.translateExtent=function(st){return arguments.length?(d[0][0]=+st[0][0],d[1][0]=+st[1][0],d[0][1]=+st[0][1],d[1][1]=+st[1][1],X):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},X.constrain=function(st){return arguments.length?(i=st,X):i},X.duration=function(st){return arguments.length?(y=+st,X):y},X.interpolate=function(st){return arguments.length?(C=st,X):C},X.on=function(){var st=A.on.apply(A,arguments);return st===A?X:st},X.clickDistance=function(st){return arguments.length?(pt=(st=+st)*st,X):Math.sqrt(pt)},X.tapDistance=function(st){return arguments.length?(V=+st,X):V},X}().extent([[0,0],[this.width,this.height]]).on("zoom",function o({transform:a}){i.g.attr("transform",a)})),this.element.append(this.svg.node()),this.svg.attr("width",this.width).attr("height",this.height),this.svg.append("defs").selectAll("marker").data(this.groups).join("marker").attr("id",a=>`arrow-${a}`).attr("viewBox","0 -5 10 10").attr("refX",15).attr("refY",-.5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("fill",this.color).attr("d","M0,-5L10,0L0,5")}createLink(){this.link=this.g.append("g").attr("fill","none").attr("stroke-width",1.5).selectAll("path").data(this.characterLinks).join("path").attr("stroke",i=>this.color(i.group))}createNode(){this.node=this.g.append("g").attr("fill","currentColor").attr("stroke-linecap","round").attr("stroke-linejoin","round").selectAll("g").data(this.nodes).join("g"),this.node.append("circle").attr("stroke","black").attr("stroke-width",1).attr("r",i=>i.score).style("fill",i=>this.color(i.group)),this.node.append("text").text(i=>""!==i.label?i.label:i.id).style("font-size","1rem").style("color","white").style("text-anchor","middle").style("dominant-baseline","central")}getId(i){return i.id}drag(i){return function zr(){var y,C,A,O,e=wa,r=xa,i=Tr,o=df,a={},l=Xo("start","drag","end"),d=0,H=0;function Y(it){it.on("mousedown.drag",q).filter(o).on("touchstart.drag",V).on("touchmove.drag",X,Cn).on("touchend.drag touchcancel.drag",ut).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function q(it,Ct){if(!O&&e.call(this,it,Ct)){var Ut=xt(this,r.call(this,it,Ct),it,Ct,"mouse");!Ut||(Ue(it.view).on("mousemove.drag",gt,Tn).on("mouseup.drag",pt,Tn),go(it.view),po(it),A=!1,y=it.clientX,C=it.clientY,Ut("start",it))}}function gt(it){if(li(it),!A){var Ct=it.clientX-y,Ut=it.clientY-C;A=Ct*Ct+Ut*Ut>H}a.mouse("drag",it)}function pt(it){Ue(it.view).on("mousemove.drag mouseup.drag",null),ma(it.view,A),li(it),a.mouse("end",it)}function V(it,Ct){if(e.call(this,it,Ct)){var ae,$t,Ut=it.changedTouches,Zt=r.call(this,it,Ct),Ft=Ut.length;for(ae=0;ae<Ft;++ae)($t=xt(this,Zt,it,Ct,Ut[ae].identifier,Ut[ae]))&&(po(it),$t("start",it,Ut[ae]))}}function X(it){var Zt,Ft,Ct=it.changedTouches,Ut=Ct.length;for(Zt=0;Zt<Ut;++Zt)(Ft=a[Ct[Zt].identifier])&&(li(it),Ft("drag",it,Ct[Zt]))}function ut(it){var Zt,Ft,Ct=it.changedTouches,Ut=Ct.length;for(O&&clearTimeout(O),O=setTimeout(function(){O=null},500),Zt=0;Zt<Ut;++Zt)(Ft=a[Ct[Zt].identifier])&&(po(it),Ft("end",it,Ct[Zt]))}function xt(it,Ct,Ut,Zt,Ft,ae){var ue,ee,st,$t=l.copy(),Tt=nr(ae||Ut,Ct);if(null!=(st=i.call(it,new vs("beforestart",{sourceEvent:Ut,target:Y,identifier:Ft,active:d,x:Tt[0],y:Tt[1],dx:0,dy:0,dispatch:$t}),Zt)))return ue=st.x-Tt[0]||0,ee=st.y-Tt[1]||0,function Ot(vt,Lt,jt){var Xt,Bt=Tt;switch(vt){case"start":a[Ft]=Ot,Xt=d++;break;case"end":delete a[Ft],--d;case"drag":Tt=nr(jt||Lt,Ct),Xt=d}$t.call(vt,it,new vs(vt,{sourceEvent:Lt,subject:st,target:Y,identifier:Ft,active:Xt,x:Tt[0]+ue,y:Tt[1]+ee,dx:Tt[0]-Bt[0],dy:Tt[1]-Bt[1],dispatch:$t}),Zt)}}return Y.filter=function(it){return arguments.length?(e="function"==typeof it?it:Fi(!!it),Y):e},Y.container=function(it){return arguments.length?(r="function"==typeof it?it:Fi(it),Y):r},Y.subject=function(it){return arguments.length?(i="function"==typeof it?it:Fi(it),Y):i},Y.touchable=function(it){return arguments.length?(o="function"==typeof it?it:Fi(!!it),Y):o},Y.on=function(){var it=l.on.apply(l,arguments);return it===l?Y:it},Y.clickDistance=function(it){return arguments.length?(H=(it=+it)*it,Y):Math.sqrt(H)},Y}().on("start",function o(d,y){d.active||i.alphaTarget(.3).restart(),y.fx=y.x,y.fy=y.y}).on("drag",function a(d,y){y.fx=d.x,y.fy=d.y}).on("end",function l(d,y){d.active||i.alphaTarget(0),y.fx=null,y.fy=null})}cluster(i){return function a(l){for(const d of i){const y=i.filter(O=>O.group===d.group),C=y.reduce((O,H)=>O+H.x,0)/y.length,A=y.reduce((O,H)=>O+H.y,0)/y.length;d.vx+=(C-d.x)*l*.2,d.vy+=(A-d.y)*l*.2}}}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f.Xpm({type:e,selectors:[["d3-network"]],inputs:{nodes:"nodes",links:"links",options:"options",width:"width",height:"height"},features:[f.qOj,f.TTD],decls:1,vars:1,consts:[[1,"flex","flex-1",3,"id"]],template:function(i,o){1&i&&f._UZ(0,"div",0),2&i&&f.MGl("id","",o.id,"-network")},encapsulation:2}),e})();var Ua=G(7423),So=G(2108);const sl=function(){return["/wiki/network"]},al=function(){return["/wiki/analysis"]},ul=[{path:"",component:(()=>{class e extends T{constructor(i,o){super(),this.characterApi=i,this.relationshipApi=o,this.nodes=[],this.edges=[],this.characters=[],this.relationships=[],this.networkOptions={zoom:!1}}ngOnInit(){var i=this;this.subscribe(this.characterApi.cosmereCharacters(),o=>this.onCharactersChanges(o)),this.subscribe(this.relationshipApi.relationshipsByBook("mistborn1"),o=>this.onRelationshipsChanges(o)),(0,k.defer)((0,x.Z)(function*(){yield i.characterApi.fetchAllCosmereCharacter(),yield i.relationshipApi.fetchAllCosmereRelationship()}))}generateNetworkParameters(){this.edges=w(this.relationships);const i=new Q.UndirectedGraph;E(this.relationships).forEach(l=>i.addNode(l)),this.relationships.forEach(l=>i.addEdge(l.characterId1,l.characterId2));const a=j()(i);this.nodes=b(this.characters,this.relationships).filter(l=>this.edges.map(d=>d.source).includes(l.id)||this.edges.map(d=>d.target).includes(l.id)),this.nodes=this.nodes.map(l=>Object.assign(Object.assign({},l),{group:a[l.id]}))}onCharactersChanges(i){this.characters=i,this.generateNetworkParameters()}onRelationshipsChanges(i){this.relationships=i,this.generateNetworkParameters()}}return e.\u0275fac=function(i){return new(i||e)(f.Y36(Mn),f.Y36(Yr))},e.\u0275cmp=f.Xpm({type:e,selectors:[["home"]],features:[f.qOj],decls:24,vars:20,consts:[[1,"inset-0","flex","flex-col","min-w-0","w-full"],[1,"flex","flex-col","mx-100","text-center","p-6","gap-5"],[1,"font-black","mt-3","text-7xl","text-center","mb-7"],[3,"nodes","links","height","options"],[1,"flex","flex-col"],[1,"font-black","mt-3","text-2xl","text-center","mb-3"],["mat-button","",1,"bg-primary","text-lg",3,"routerLink"],[1,"font-black","mt-3","text-2xl","text-center","mb-7"]],template:function(i,o){1&i&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f._uU(3),f.ALo(4,"trans"),f.qZA(),f._UZ(5,"d3-network",3),f.TgZ(6,"div",4),f.TgZ(7,"div",5),f._uU(8),f.ALo(9,"trans"),f.qZA(),f.TgZ(10,"div"),f.TgZ(11,"button",6),f._uU(12," Conexiones "),f.qZA(),f.qZA(),f.qZA(),f.TgZ(13,"div",4),f.TgZ(14,"div",5),f._uU(15),f.ALo(16,"trans"),f.qZA(),f.TgZ(17,"div"),f.TgZ(18,"button",6),f._uU(19," An\xe1lisis "),f.qZA(),f.qZA(),f.qZA(),f.TgZ(20,"div",4),f.TgZ(21,"div",7),f._uU(22),f.ALo(23,"trans"),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&i&&(f.xp6(3),f.hij(" ",f.lcZ(4,10,"home.title")," "),f.xp6(2),f.Q6J("nodes",o.nodes)("links",o.edges)("height",600)("options",o.networkOptions),f.xp6(3),f.hij(" ",f.lcZ(9,12,"home.network.1")," "),f.xp6(3),f.Q6J("routerLink",f.DdM(18,sl)),f.xp6(4),f.hij(" ",f.lcZ(16,14,"home.analysis.1")," "),f.xp6(3),f.Q6J("routerLink",f.DdM(19,al)),f.xp6(4),f.hij(" ",f.lcZ(23,16,"home.me.1")," "))},directives:[Pa,Ua.lW,et.rH],pipes:[So.u],encapsulation:2}),e})()}];var cl=G(5245),Ls=G(4613),Rc=G(6767),Ts=G(393);let Wa=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[]]}),e})(),hl=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[et.Bz.forChild(ul),Ua.ot,cl.Ps,Ls.m,Rc.d,Ts.ZD,Ts.Cl,Wa]]}),e})();const Gc=()=>({id:(0,F.V)(),books:[]}),Oc=()=>({configuration:Gc()});let fl=(()=>{class e extends Wr{constructor(){super(Oc()),this.configuration$=this.select(i=>i.configuration)}saveConfiguration(i){(0,k.isEqual)(this.get().configuration,i)||this.patchState(o=>({configuration:i}))}syncState(){return this.get()}syncConfiguration(){return this.get().configuration}reset(){this.patchState(Oc())}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ba=(()=>{class e{constructor(i){this.store=i}syncConfiguration(){return this.store.syncState().configuration}configuration(){return this.store.configuration$}saveConfiguration(i){this.store.saveConfiguration(i)}}return e.\u0275fac=function(i){return new(i||e)(f.LFG(fl))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Pc=function ll(e){var r=typeof e;return null!=e&&("object"==r||"function"==r)};var Pr=G(3075);let Fa=(()=>{class e{constructor(i){this.formBuilder=i}build(i,o=[],a=[]){const l={};return Object.keys(i).forEach(d=>{const y=i[d],C=this.getValidator(d,o);if(l[d]=[y,C],a.includes(d)&&(0,k.isArray)(y)){const A=[];y.forEach(O=>{A.push(Pc(O)?this.build(O,o):O)}),l[d]=this.formBuilder.array(A)}if(!a.includes(d)&&!(0,k.isArray)(y)&&Pc(y)){const A=this.extractSubValidator(d,o);l[d]=this.build(y,A)}}),this.formBuilder.group(l)}extractSubValidator(i,o){return o.filter(a=>a.key.startsWith(i)).map(a=>({key:a.key.replace(i+".",""),validators:a.validators}))}getValidator(i,o){const a=o.find(l=>l.key===i);return a?a.validators:[]}}return e.\u0275fac=function(i){return new(i||e)(f.LFG(Pr.qu))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),dl=(()=>{class e extends Wr{constructor(){super({books:[]}),this.books$=this.select(i=>i.books)}saveAllBooks(i){(0,k.isEqual)(this.get().books,i)||this.patchState(o=>({books:Vn(o.books,i)}))}syncState(){return this.get()}syncBook(i){return Kn(i,this.get().books)}reset(){this.patchState({books:[]})}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Wc=(()=>{class e{constructor(i,o){this.api=i,this.store=o}fetchAllBooks(){var i=this;return(0,x.Z)(function*(){const o=yield i.api.get("books");i.store.saveAllBooks(o)})()}syncAllBooks(){return this.store.syncState().books}allBooks(){return this.store.books$}}return e.\u0275fac=function(i){return new(i||e)(f.LFG(lt),f.LFG(dl))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var pl=G(96),br=G(9808),Bc=G(9895),Za=G(4106),Fc=G(4107),gl=G(508);function vl(e,r){if(1&e&&(f.TgZ(0,"mat-option",12),f._uU(1),f.ALo(2,"uppercase"),f.ALo(3,"trans"),f.qZA()),2&e){const i=r.$implicit;f.Q6J("value",i.id),f.xp6(1),f.hij(" ",f.lcZ(2,2,f.lcZ(3,4,i.title))," ")}}function yl(e,r){if(1&e&&(f.TgZ(0,"div",5),f.TgZ(1,"app-card",6),f.TgZ(2,"form",7),f.TgZ(3,"mat-form-field",8),f.TgZ(4,"mat-label",9),f._uU(5),f.ALo(6,"titlecase"),f.ALo(7,"trans"),f.qZA(),f.TgZ(8,"mat-select",10),f.YNc(9,vl,4,6,"mat-option",11),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&e){const i=f.oxw();f.xp6(2),f.Q6J("formGroup",i.configurationForm),f.xp6(3),f.Oqu(f.lcZ(6,3,f.lcZ(7,5,"books"))),f.xp6(4),f.Q6J("ngForOf",i.data.books)}}let Zc=(()=>{class e extends qn.H{constructor(i,o,a){super(),this.configurationApi=i,this.formBuilder=o,this.bookApi=a,this.configurationChanges=new f.vpe,this.showCard=!1,this.data={books:[]}}ngOnInit(){var i=this;this.subscribe(this.bookApi.allBooks(),o=>this.data.books=o),this.subscribe(this.configurationApi.configuration(),o=>this.setConfiguration(o)),(0,k.defer)((0,x.Z)(function*(){yield i.bookApi.fetchAllBooks()})),this.buildForm()}buildForm(){this.configurationForm=this.formBuilder.build(this.configuration),this.configurationForm.get("books").valueChanges.subscribe(i=>{this.configuration.books=i,this.saveConfiguration()})}toggle(){this.showCard=!this.showCard}setConfiguration(i){this.configuration=Object.assign({},i),this.configurationForm&&this.configurationForm.patchValue(i)}saveConfiguration(){this.configurationApi.saveConfiguration(this.configuration)}}return e.\u0275fac=function(i){return new(i||e)(f.Y36(Ba),f.Y36(Fa),f.Y36(Wc))},e.\u0275cmp=f.Xpm({type:e,selectors:[["configuration"]],outputs:{configurationChanges:"configurationChanges"},features:[f.qOj],decls:5,vars:1,consts:[[1,"absolute","top-0","right-0","z-50"],[1,"flex","flex-col","items-end","pr-6"],["mat-icon-button","",3,"click"],["icon","settings","size","10"],["class","z-50",4,"ngIf"],[1,"z-50"],[1,"flex","flex-col","h-full","p-6","gap-5","w-100"],[1,"w-full",3,"formGroup"],["floatLabel","always",1,"w-full"],[1,"text-white"],["multiple","","formControlName","books","placeholder","Libros: Todos"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,o){1&i&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"button",2),f.NdJ("click",function(){return o.toggle()}),f._UZ(3,"app-icon",3),f.qZA(),f.YNc(4,yl,10,7,"div",4),f.qZA(),f.qZA()),2&i&&(f.xp6(4),f.Q6J("ngIf",o.showCard))},directives:[Ua.lW,pl.o,br.O5,Bc.A,Pr._Y,Pr.JL,Pr.sg,Za.KE,Za.hX,Fc.gD,Pr.JJ,Pr.u,br.sg,gl.ey],pipes:[br.rS,So.u,br.gd],encapsulation:2,changeDetection:0}),e})();var ml=G(340);let wl=(()=>{class e extends Wr{constructor(){super({planets:[]}),this.planets$=this.select(i=>i.planets)}saveAllPlanets(i){(0,k.isEqual)(this.get().planets,i)||this.patchState(o=>({planets:Vn(o.planets,i)}))}syncState(){return this.get()}syncPlanet(i){return Kn(i,this.get().planets)}reset(){this.patchState({planets:[]})}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),xl=(()=>{class e{constructor(i,o){this.api=i,this.store=o}fetchAllPlanets(){var i=this;return(0,x.Z)(function*(){const o=yield i.api.get("planets");i.store.saveAllPlanets(o)})()}syncAllPlanets(){return this.store.syncState().planets}allPlanets(){return this.store.planets$}}return e.\u0275fac=function(i){return new(i||e)(f.LFG(lt),f.LFG(wl))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var zs=G(1628);let bl=(()=>{class e extends qn.H{constructor(i,o,a,l,d,y,C){super(),this.characterApi=i,this.relationshipApi=o,this.formBuilder=a,this.bookApi=l,this.planetApi=d,this.modal=y,this.configurationApi=C,this.nodes=[],this.edges=[],this.characters=[],this.relationships=[]}ngOnInit(){var i=this;return(0,x.Z)(function*(){i.subscribe(i.characterApi.cosmereCharacters(),o=>{i.onCharactersChanges(o)}),i.subscribe(i.relationshipApi.cosmereRelationships(),o=>{i.onRelationshipsChanges(o)}),i.subscribe(i.configurationApi.configuration(),o=>i.onConfigurationChanges(o)),(0,k.defer)((0,x.Z)(function*(){yield i.characterApi.fetchAllCosmereCharacter(),yield i.relationshipApi.fetchAllCosmereRelationship()}))})()}regenerateNetworkParameters(){this.edges=w(this.filterRelationships(this.relationships));const i=new Q.UndirectedGraph;E(this.relationships).forEach(l=>i.addNode(l)),this.filterRelationships(this.relationships).forEach(l=>{i.hasEdge(l.characterId1,l.characterId2)||i.addEdge(l.characterId1,l.characterId2)});const a=j()(i,{rng:ml("1231312"),resolution:2});this.nodes=b(this.filterCharacters(this.characters),this.filterRelationships(this.relationships)).filter(l=>this.edges.map(d=>d.source).includes(l.id)||this.edges.map(d=>d.target).includes(l.id)),this.nodes=this.nodes.map(l=>Object.assign(Object.assign({},l),{group:a[l.id]})),this.edges=this.edges.map(l=>{const d=this.nodes.find(A=>A.id===l.target),y=this.nodes.find(A=>A.id===l.source);if(void 0===d||void 0===y)return l;const C=d.score>y.score?a[d.id]:a[y.id];return Object.assign(Object.assign({},l),{group:C})})}filterCharacters(i){return i}filterRelationships(i){if(!this.configuration)return i;let o=i;return this.configuration.books.length>0&&(o=o.filter(a=>this.configuration.books.includes(a.bookId))),o}onCharactersChanges(i){this.characters=i,this.regenerateNetworkParameters()}onRelationshipsChanges(i){this.relationships=i,this.regenerateNetworkParameters()}onConfigurationChanges(i){this.configuration=i,this.regenerateNetworkParameters()}}return e.\u0275fac=function(i){return new(i||e)(f.Y36(Mn),f.Y36(Yr),f.Y36(Fa),f.Y36(Wc),f.Y36(xl),f.Y36(zs.u),f.Y36(Ba))},e.\u0275cmp=f.Xpm({type:e,selectors:[["characters-relationships-graph"]],features:[f.qOj],decls:2,vars:2,consts:[[1,"relative","w-full","h-full","justify-center"],[3,"nodes","links"]],template:function(i,o){1&i&&(f.TgZ(0,"div",0),f._UZ(1,"d3-network",1),f.qZA()),2&i&&(f.xp6(1),f.Q6J("nodes",o.nodes)("links",o.edges))},directives:[Pa],encapsulation:2}),e})();const Yc=[{path:"",component:(()=>{class e extends T{constructor(){super()}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f.Xpm({type:e,selectors:[["network"]],features:[f.qOj],decls:4,vars:0,consts:[[1,"inset-0","flex","flex-col","min-w-0","w-full","overflow-hidden"],[1,"flex","flex-row","h-full","grow","justify-center"],[1,"w-full"]],template:function(i,o){1&i&&(f.TgZ(0,"div",0),f._UZ(1,"configuration"),f.TgZ(2,"div",1),f._UZ(3,"characters-relationships-graph",2),f.qZA(),f.qZA())},directives:[Zc,bl],encapsulation:2}),e})()}];let $a=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[]]}),e})(),Hc=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[Za.lN,Fc.LD,br.ez,Rc.d,Pr.UX,Ls.m,$a,Wa]]}),e})(),Xc=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[et.Bz.forChild(Yc),Hc,Ts.ZD,Ls.m]]}),e})();var jc=G(5547),Kc=G(3378),Al=G.n(Kc),El=G(5894),Cl=G.n(El),Rs=G(1063),Gs=G.n(Rs);const Mo=e=>(e=>e.map(([r,i])=>({label:r,value:i})))(R().map((e=>(0,k.fromPairs)((0,k.sortBy)((0,k.toPairs)(e),1).reverse()))(e),(r,i)=>[i,r])),ko=e=>{const r=Math.min(...e.map(o=>o.value)),i=Math.max(...e.map(o=>o.value));return e.map(o=>Object.assign(Object.assign({},o),{value:(o.value-r)/(i-r)}))};var Vc=G(5408),Ml=G(5149),kl=G(9637);let Ll=(()=>{class e extends qn.H{constructor(){super(),this.config={colors:{highlight:"#b11adc",highlightLight:"#d975f6",text:"#777",xAxis:"#eee",yAxis:"#999"},height:500,width:640,margin:{top:30,left:150,right:5,bottom:0},gap:.4,xFormat:"",animationDuration:300,ticksInterval:10,type:mi,titleColor:"white",title:""},this.id=(0,F.V)()}ngOnChanges(i){this.create()}ngAfterViewInit(){this.create()}create(){!this.data||0===this.data.length||(this.data=this.data.splice(0,10),this.element=document.getElementById(this.id+"-vertical-bar-chart"),this.initValues(),this.initScales(),this.createSvg())}initValues(){this.X=this.data.map(i=>i.value),this.Y=this.data.map(i=>i.label)}initScales(){const i=[this.config.margin.left,this.config.width-this.config.margin.right],o=[this.config.margin.top,this.config.height-this.config.margin.bottom];this.xDomain=[0,Ar(this.X)],this.yDomain=new Ro(this.Y),this.xScale=this.config.type(this.xDomain,i),this.yScale=Hi(this.yDomain,o).padding(this.config.gap),this.xAxis=function M(e){return v(1,e)}(this.xScale).ticks(this.config.width/80,this.config.xFormat),this.yAxis=At(this.yScale).tickSizeOuter(0)}createSvg(){const i=Qn(this.X.length).filter(a=>this.yDomain.has(this.Y[a]));Ue(this.element).select("svg").remove(),this.svg=this.svg=Ue(this.element).append("svg").attr("width",this.config.width).attr("height",this.config.height).attr("viewBox",[0,0,this.config.width,this.config.height]).attr("style","max-width: 100%; height: auto; height: intrinsic;"),this.svg.append("g").attr("transform",`translate(0,${this.config.margin.top})`).call(this.xAxis).call(a=>a.select(".domain").remove()).call(a=>a.selectAll(".tick line").clone().attr("y2",this.config.height-this.config.margin.top-this.config.margin.bottom).attr("stroke-opacity",.1)).call(a=>a.append("text").attr("x",this.config.width-this.config.margin.right).attr("y",-22).attr("fill","none").attr("text-anchor","end"));const o=this.svg.append("g").selectAll("rect").data(i).join("rect").attr("x",this.xScale(0)).attr("y",a=>this.yScale(this.Y[a])).attr("width",0).attr("height",this.yScale.bandwidth());this.svg.append("g").attr("fill",this.config.titleColor).attr("text-anchor","end").attr("font-family","sans-serif").attr("font-size",10).selectAll("text").data(i).join("text").attr("x",a=>this.xScale(this.X[a])).attr("y",a=>this.yScale(this.Y[a])+this.yScale.bandwidth()/2).attr("dy","0.35em").attr("dx",-4).text(this.config.title).call(a=>a.filter(l=>this.xScale(this.X[l])-this.xScale(0)<20).attr("dx",4).attr("fill",this.config.titleAltColor).attr("text-anchor","start")),this.svg.append("g").attr("transform",`translate(${this.config.margin.left},0)`).call(this.yAxis),o.transition().style("fill",(a,l)=>this.getBarColor(l)).duration(this.config.animationDuration).delay((a,l)=>l*this.config.animationDuration/3).attr("height",this.yScale.bandwidth()).attr("width",(a,l)=>this.xScale(this.X[l])-this.config.margin.left)}getBarColor(i,o=0){return`rgb(${(210+o).toString()}, ${(10+20*i+o).toString()}, ${(220-20*i+o).toString()})`}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f.Xpm({type:e,selectors:[["vertical-bar-chart"]],inputs:{data:"data",config:"config"},features:[f.qOj,f.TTD],decls:1,vars:1,consts:[[1,"flex","flex-1",3,"id"]],template:function(i,o){1&i&&f._UZ(0,"div",0),2&i&&f.MGl("id","",o.id,"-vertical-bar-chart")},encapsulation:2}),e})();const Tl=({color:e,title:r,tickSize:i=6,width:o=36+i,height:a=320,marginTop:l=20,marginRight:d=10+i,marginBottom:y=20,marginLeft:C=5,ticks:A=a/64,tickFormat:O,tickValues:H}={})=>{const Y=Lc("svg").attr("width",o).attr("height",a).attr("viewBox",[0,0,o,a]).style("overflow","visible").style("display","block");let gt,q=pt=>pt.selectAll(".tick line").attr("x1",C-o+d);if(e.interpolate){const pt=Math.min(e.domain().length,e.range().length);gt=e.copy().rangeRound(yc(We(a-y,l),pt)),Y.append("image").attr("x",C).attr("y",l).attr("width",o-C-d).attr("height",a-l-y).attr("preserveAspectRatio","none").attr("xlink:href",qc(e.copy().domain(yc(We(0,1),pt))).toDataURL())}else if(e.interpolator){if(gt=Object.assign(e.copy().interpolator(xo(a-y,l)),{range:()=>[a-y,l]}),Y.append("image").attr("x",C).attr("y",l).attr("width",o-C-d).attr("height",a-l-y).attr("preserveAspectRatio","none").attr("xlink:href",qc(e.interpolator()).toDataURL()),!gt.ticks){if(void 0===H){const pt=Math.round(A+1);H=Qn(pt).map(V=>function To(e,r,i){if(e=Float64Array.from(function*Ps(e,r){if(void 0===r)for(let i of e)null!=i&&(i=+i)>=i&&(yield i);else{let i=-1;for(let o of e)null!=(o=r(o,++i,e))&&(o=+o)>=o&&(yield o)}}(e,i)),(o=e.length)&&!isNaN(r=+r)){if(r<=0||o<2)return Jn(e);if(r>=1)return Ar(e);var o,a=(o-1)*r,l=Math.floor(a),d=Ar(Do(e,l).subarray(0,l+1));return d+(Jn(e.subarray(l+1))-d)*(a-l)}}(e.domain(),V/(pt-1)))}"function"!=typeof O&&(O=Ms(void 0===O?",f":O))}}else if(e.invertExtent){const pt=e.thresholds?e.thresholds():e.quantiles?e.quantiles():e.domain(),V=void 0===O?X=>X:"string"==typeof O?Ms(O):O;gt=mi().domain([-1,e.range().length-1]).rangeRound([a-y,l]),Y.append("g").selectAll("rect").data(e.range()).join("rect").attr("y",(X,ut)=>gt(ut)).attr("x",C).attr("height",(X,ut)=>gt(ut-1)-gt(ut)).attr("width",o-d-C).attr("fill",X=>X),H=Qn(pt.length),O=X=>V(pt[X],X)}else gt=Hi().domain(e.domain()).rangeRound([a-y,l]),Y.append("g").selectAll("rect").data(e.domain()).join("rect").attr("y",gt).attr("x",C).attr("height",Math.max(0,gt.bandwidth()-1)).attr("width",o-C-d).attr("fill",e),q=()=>{};return Y.append("g").attr("transform",`translate(${o-d},0)`).call(function U(e){return v(2,e)}(gt).ticks(A,"string"==typeof O?O:void 0).tickFormat("function"==typeof O?O:void 0).tickSize(i).tickValues(H)).call(q).call(pt=>pt.select(".domain").remove()).call(pt=>pt.append("text").attr("x",C-o+d).attr("y",0).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").attr("class","title").text(r)),Y.node()};function qc(e,r=256){const i=document.createElement("canvas");i.width=1,i.height=r;const o=i.getContext("2d");for(let a=0;a<r;++a)o.fillStyle=e(a/(r-1)),o.fillRect(0,r-a,1,1);return i}let zl=(()=>{class e extends qn.H{constructor(){super(),this.xLabel="",this.yLabel="",this.config={height:500,width:500,margin:{top:20,left:40,right:50,bottom:30},inset:{top:6,right:6,bottom:6,left:6},dot:{radius:20,strokeWidth:0,strokeColor:"white"},domain:{x:[.3,1],y:[.3,1]},padding:10,animationDuration:300,ticksInterval:10,color:Hf},this.id=(0,F.V)()}ngOnChanges(i){this.create()}ngAfterViewInit(){this.create()}create(){!this.data||0===this.data.length||(this.element=document.getElementById(this.id+"-chart-3d"),this.initValues(),this.createColorBar(),this.initScales(),this.createAxis(),this.createSvg())}createColorBar(){const i=Tl({color:Ac([0,1],this.color),title:"Degree"});this.legendElement=document.getElementById(this.id+"-legend-bar"),this.legendElement&&(Ue(this.legendElement).select("svg").remove(),this.legendElement.append(i))}initValues(){this.color=this.config.color,this.X=this.data.map(i=>i.x),this.Y=this.data.map(i=>i.y),this.Z=this.data.map(i=>i.z),this.labels=this.data.map(i=>i.label)}initScales(){const o=[this.config.height-this.config.margin.bottom-this.config.inset.bottom,this.config.margin.top+this.config.inset.top];this.xScale=mi(this.config.domain.x,[this.config.margin.left+this.config.inset.left,this.config.width-this.config.margin.right-this.config.inset.right]),this.yScale=mi(this.config.domain.y,o)}createAxis(){this.xAxis=rt(this.xScale).ticks(this.config.width/80),this.yAxis=At(this.yScale).ticks(this.config.height/50)}createSvg(){Ue(this.element).select("svg").remove(),this.svg=Ue(this.element).append("svg").attr("width",this.config.width).attr("height",this.config.height).attr("viewBox",[0,0,this.config.width,this.config.height]).attr("style","max-width: 100%; this.options.height: auto; height: intrinsic;"),this.svg.append("g").attr("transform",`translate(0,${this.config.height-this.config.margin.bottom})`).call(this.xAxis).call(a=>a.select(".domain").remove()).call(a=>a.selectAll(".tick line").clone().attr("y2",this.config.margin.top+this.config.margin.bottom-this.config.height).attr("stroke-opacity",.1)).call(a=>a.append("text").attr("x",this.config.width).attr("y",this.config.margin.bottom-4).attr("fill","currentColor").attr("text-anchor","end").text(this.xLabel)),this.svg.append("g").attr("transform",`translate(${this.config.margin.left},0)`).call(this.yAxis).call(a=>a.select(".domain").remove()).call(a=>a.selectAll(".tick line").clone().attr("x2",this.config.width-this.config.margin.left-this.config.margin.right).attr("stroke-opacity",.1)).call(a=>a.append("text").attr("x",-this.config.margin.left).attr("y",10).attr("fill","currentColor").attr("text-anchor","start").text(this.yLabel));const o=Qn(this.X.length).filter(a=>!isNaN(this.X[a])&&!isNaN(this.Y[a]));this.svg.append("g").attr("stroke",this.config.dot.strokeColor).attr("stroke-width",this.config.dot.strokeWidth).selectAll("circle").data(o).join("circle").attr("cx",a=>this.xScale(this.X[a])).attr("cy",a=>this.yScale(this.Y[a])).attr("fill",a=>this.color(this.Z[a])).attr("r",this.config.dot.radius).attr("opacity",.5),this.svg.append("g").attr("font-family","sans-serif").attr("font-size",15).attr("stroke-linejoin","round").attr("stroke-linecap","round").selectAll("text").data(o).join("text").attr("x",a=>this.xScale(this.X[a])).attr("y",a=>this.yScale(this.Y[a])).text(a=>this.labels[a]).style("fill","white").style("text-anchor","middle").style("dominant-baseline","central")}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f.Xpm({type:e,selectors:[["chart-3d"]],inputs:{data:"data",xLabel:"xLabel",yLabel:"yLabel",config:"config"},features:[f.qOj,f.TTD],decls:3,vars:2,consts:[[1,"flex","flex-row"],[3,"id"],[1,"flex","flex-1","items-end","pb-10",3,"id"]],template:function(i,o){1&i&&(f.TgZ(0,"div",0),f._UZ(1,"div",1),f._UZ(2,"div",2),f.qZA()),2&i&&(f.xp6(1),f.MGl("id","",o.id,"-chart-3d"),f.xp6(1),f.MGl("id","",o.id,"-legend-bar"))},encapsulation:2}),e})(),Rl=(()=>{class e extends qn.H{constructor(){super(),this.options={colors:{highlight:"#b11adc",highlightLight:"#d975f6",text:"#777",xAxis:"#eee",yAxis:"#999"},height:200,width:600,margin:{top:10,left:70,right:10,bottom:20},animationDuration:300,ticksInterval:10},this.id=(0,F.V)()}ngOnChanges(i){this.create()}ngAfterViewInit(){this.create()}create(){!this.data||0===this.data.length||(this.data=this.data.splice(0,10),this.element=document.getElementById(this.id+"-barchart"),this.initValues(),this.initScales(),this.initChart(),this.createAxis(),this.createBars())}initChart(){Ue(this.element).select("svg").remove(),this.svg=Ue(this.element).append("svg").attr("viewBox",`0 0 ${this.options.width} ${this.options.height+100}`)}initValues(){const i=Number(Jn(this.data.map(a=>a.value))),o=Number(Ar(this.data.map(a=>a.value)));this.minValue=i<0?i-this.options.ticksInterval:0,this.maxValue=o}initScales(){this.yScale=mi().domain([this.minValue,this.maxValue]).range([this.options.height-this.options.margin.bottom,this.options.margin.top]),this.xScale=Hi().domain(Qn(this.data.length)).range([this.options.margin.left+this.options.margin.right,this.options.width-this.options.margin.right]).paddingInner(this.calculatePadding(this.data.length))}getBarMaxWidth(){const i=window.innerWidth;return i<=768?i<=480?10:15:20}getBarColor(i,o=0){return`rgb(${(210+o).toString()}, ${(10+20*i+o).toString()}, ${(220-20*i+o).toString()})`}createBars(){this.svg.selectAll(".bar").data(this.data).enter().append("rect").classed("bar",!0).style("fill","transparent").style("display",o=>"number"==typeof o.value?"initial":"none").attr("x",(o,a)=>this.xScale(a)).attr("y",this.yScale(0)).attr("width",this.xScale.bandwidth()).attr("height",0).transition().style("fill",(o,a)=>this.getBarColor(a)).duration(this.options.animationDuration).delay((o,a)=>a*this.options.animationDuration/3).attr("x",(o,a)=>this.xScale(a)).attr("y",(o,a)=>this.yScale(o.value<0?0:o.value)).attr("width",this.xScale.bandwidth()).attr("height",(o,a)=>o.value<0?this.yScale(o.value)-this.yScale(0):this.yScale(0)-this.yScale(o.value))}createAxis(){const i=rt(this.xScale).tickSize(-this.options.width).tickFormat((a,l)=>this.data[l].label.toUpperCase()),o=At(this.yScale).tickSize(-this.options.width).tickFormat(a=>`${a}`).ticks(this.options.ticksInterval);this.svg.append("g").attr("class","axis x-axis").attr("transform",`translate(0, ${this.options.height-15})`).call(i).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end"),this.svg.append("g").attr("class","axis y-axis").attr("transform",`translate(${+this.options.margin.left}, 0)`).call(o),this.svg.selectAll(".axis .domain").remove(),this.svg.selectAll(".axis .tick text").style("fill",this.options.colors.text),this.svg.selectAll(".y-axis .tick line").style("stroke",this.options.colors.yAxis),this.svg.selectAll(".x-axis .tick line").style("stroke",this.options.colors.xAxis)}calculatePadding(i){return 1-i*this.getBarMaxWidth()/this.options.width}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f.Xpm({type:e,selectors:[["bar-chart"]],inputs:{data:"data",options:"options"},features:[f.qOj,f.TTD],decls:1,vars:1,consts:[[1,"flex","flex-1",3,"id"]],template:function(i,o){1&i&&f._UZ(0,"div",0),2&i&&f.MGl("id","",o.id,"-barchart")},encapsulation:2}),e})();const Gl=[{path:"",component:(()=>{class e extends T{constructor(i,o,a){super(),this.relationshipApi=i,this.characterApi=o,this.configurationApi=a,this.pagerankEigenvectorAndDegreeCentrality=[],this.configuration=Gc()}ngOnInit(){var i=this;return(0,x.Z)(function*(){i.subscribe(i.relationshipApi.cosmereRelationships(),o=>i.onRelationshipsChanges(o)),i.subscribe(i.characterApi.cosmereCharacters(),o=>i.onCharactersChanges(o)),i.subscribe(i.configurationApi.configuration(),o=>i.onConfigurationChanges(o)),yield i.relationshipApi.fetchAllCosmereRelationship(),yield i.characterApi.fetchAllCosmereCharacter()})()}analyseNetwork(i){var o=this;return(0,x.Z)(function*(){const a=(0,Ml.dQ)(i),l=a.nodes(),d=(0,jc.pagerank)(a,{getEdgeWeight:void 0,maxIterations:300});o.pagerankCosmere=Mo(d);const y=Gs()(a);o.betweennessCosmere=Mo(y);const C=Al()(a);o.closenessCosmere=Mo(C),o.closenessCosmere=(0,k.reject)(o.closenessCosmere,q=>1===q.value);const A=Cl()(a,{maxIterations:200});o.eigenvectorCosmere=Mo(A);const O=(0,Vc.degreeCentrality)(a);o.degreeCentralityCosmere=Mo(O),o.pageRankNormalized=ko(o.pagerankCosmere);const H=ko(o.eigenvectorCosmere),Y=ko(o.degreeCentralityCosmere);o.pagerankEigenvectorAndDegreeCentrality=l.map(q=>({label:q,x:o.pageRankNormalized.find(gt=>gt.label===q).value,y:H.find(gt=>gt.label===q).value,z:Y.find(gt=>gt.label===q).value})).filter(q=>q.x>.3&&q.y>.3),console.log("calculateClusteringCoefficient",(e=>{let r=0;return e.forEachNode(i=>{r+=((e,r)=>{const i=e.neighbors(r),o=i.length;if(o<2)return 0;let a=0;for(let l=0;l<o;l++){const d=i[l];for(let y=l+1;y<o;y++)e.hasEdge(d,i[y])&&a++}return 2*a/(o*(o-1))})(e,i)}),r/e.order})(a)),console.log("calculateEccentricityCoefficient",(e=>{let r=0;return e.forEachNode(i=>{r+=(0,kl.eccentricity)(e,i)}),r/e.order})(a))})()}onRelationshipsChanges(i){var o=this;return(0,x.Z)(function*(){o.relationships=i,yield o.analyseNetwork(o.graph())})()}onCharactersChanges(i){var o=this;return(0,x.Z)(function*(){o.characters=i,yield o.analyseNetwork(o.graph())})()}onConfigurationChanges(i){var o=this;return(0,x.Z)(function*(){o.configuration=i,yield o.analyseNetwork(o.graph())})()}filterRelationships(i){if(!this.configuration)return i;let o=i;return this.configuration.books.length>0&&(o=o.filter(a=>this.configuration.books.includes(a.bookId))),o}graph(){const i=this.filterRelationships(this.relationships),o=new Q.UndirectedGraph;return E(i).forEach(l=>o.addNode(this.getCharacterName(l))),i.forEach(l=>{o.hasEdge(this.getCharacterName(l.characterId1),this.getCharacterName(l.characterId2))||o.addEdge(this.getCharacterName(l.characterId1),this.getCharacterName(l.characterId2))}),o}getCharacterName(i){if(0===this.characters.length)return i;const o=Kn(i,this.characters);return o&&o.name&&""!==o.name?o.name:i}}return e.\u0275fac=function(i){return new(i||e)(f.Y36(Yr),f.Y36(Mn),f.Y36(Ba))},e.\u0275cmp=f.Xpm({type:e,selectors:[["network"]],features:[f.qOj],decls:28,vars:7,consts:[[1,"inset-0","flex","flex-col","min-w-0","w-full","h-screen"],[1,"mr-6"],[1,"flex","flex-col","p-10"],[1,"flex","flex-row","mt-5","gap-5"],[1,"flex","flex-col","p-10","basis-1/2"],[1,"text-xl","mb-5"],[1,"w-full",3,"data"],[1,"flex","flex-col","p-6","basis-1/2"],[1,"flex","flex-auto","w-full",3,"data","xLabel","yLabel"],[1,"flex","flex-auto","grow","p-6"],[1,"flex","flex-col","grow"]],template:function(i,o){1&i&&(f.TgZ(0,"div",0),f._UZ(1,"configuration",1),f.TgZ(2,"div",2),f.TgZ(3,"div",3),f.TgZ(4,"app-card",4),f.TgZ(5,"div",5),f._uU(6,"PageRank"),f.qZA(),f._UZ(7,"vertical-bar-chart",6),f.qZA(),f.TgZ(8,"app-card",7),f.TgZ(9,"div",5),f._uU(10,"Fractal protagonism"),f.qZA(),f._UZ(11,"chart-3d",8),f.qZA(),f.qZA(),f.TgZ(12,"div",3),f.TgZ(13,"app-card",9),f.TgZ(14,"div",10),f.TgZ(15,"div",5),f._uU(16,"Eigenvector"),f.qZA(),f._UZ(17,"bar-chart",6),f.qZA(),f.qZA(),f.TgZ(18,"app-card",9),f.TgZ(19,"div",10),f.TgZ(20,"div",5),f._uU(21,"Betweenness"),f.qZA(),f._UZ(22,"bar-chart",6),f.qZA(),f.qZA(),f.TgZ(23,"app-card",9),f.TgZ(24,"div",10),f.TgZ(25,"div",5),f._uU(26,"Closeness"),f.qZA(),f._UZ(27,"bar-chart",6),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&i&&(f.xp6(7),f.Q6J("data",o.pageRankNormalized),f.xp6(4),f.Q6J("data",o.pagerankEigenvectorAndDegreeCentrality)("xLabel","pagerank")("yLabel","eigenvector"),f.xp6(6),f.Q6J("data",o.eigenvectorCosmere),f.xp6(5),f.Q6J("data",o.betweennessCosmere),f.xp6(5),f.Q6J("data",o.closenessCosmere))},directives:[Zc,Bc.A,Ll,zl,Rl],encapsulation:2}),e})()}];let Hn=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[et.Bz.forChild(Gl),Ts.ZD,Wa,br.ez,Ls.m]]}),e})();const Ol=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>hl},{path:"network",loadChildren:()=>Xc},{path:"analysis",loadChildren:()=>Hn}];let Pl=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[et.Bz.forChild(Ol)]]}),e})()},3333:Mt=>{Mt.exports=function(G,et){var x=et.length;if(0!==x){var F=G.length;G.length+=x;for(var f=0;f<x;f++)G[F+f]=et[f]}}},7749:(Mt,dt,G)=>{var et=G(8487),x=G(6714),F=G(5568),f=G(8090),T=G(5766),N=G(8859).createRandomIndex,z=G(6956),b=z.UndirectedLouvainIndex,w=z.DirectedLouvainIndex,E={nodeCommunityAttribute:"community",getEdgeWeight:"weight",fastLocalMoves:!0,randomWalk:!0,resolution:1,rng:Math.random};function I(P,B,W){var L=P.get(B);void 0===L&&(L=0),P.set(B,L+=W)}function R(P,B,W,L,ot){return Math.abs(L-ot)<1e-10?P!==B&&W>P:L>ot}function Q(P,B,W){var ct,ft,Nt,Dt,Yt,Jt,Vt,qt,ve,be,Te,ie,Ne,me,kt,Gt,Be,De,L=new b(B,{getEdgeWeight:W.getEdgeWeight,keepDendrogram:P,resolution:W.resolution}),ot=N(W.rng),at=!0,lt=!0,wt=new f(Float64Array,L.C),Re=0,qe=0,cn=[];for(W.fastLocalMoves&&(Nt=new T(L.C));at;){if(ie=L.C,at=!1,lt=!0,W.fastLocalMoves){for(De=0,qt=W.randomWalk?ot(ie):0,ve=0;ve<ie;ve++,qt++)Nt.enqueue(be=qt%ie);for(;0!==Nt.size;){for(be=Nt.dequeue(),qe++,Ne=0,wt.clear(),ct=L.belongings[be],Dt=L.starts[be],Yt=L.starts[be+1];Dt<Yt;Dt++)Ne+=Jt=L.weights[Dt],I(wt,ft=L.belongings[Te=L.neighborhood[Dt]],Jt);for(kt=L.fastDeltaWithOwnCommunity(be,Ne,wt.get(ct)||0,ct),me=ct,Vt=0;Vt<wt.size;Vt++)(ft=wt.dense[Vt])!==ct&&(Re++,R(me,ct,ft,Gt=L.fastDelta(be,Ne,wt.vals[Vt],ft),kt)&&(kt=Gt,me=ft));if(kt<0){if((me=L.isolate(be,Ne))===ct)continue}else{if(me===ct)continue;L.move(be,Ne,me)}for(at=!0,De++,Dt=L.starts[be],Yt=L.starts[be+1];Dt<Yt;Dt++)(ft=L.belongings[Te=L.neighborhood[Dt]])!==me&&Nt.enqueue(Te)}cn.push(De)}else for(cn.push(Be=[]);lt;){for(lt=!1,De=0,qt=W.randomWalk?ot(ie):0,ve=0;ve<ie;ve++,qt++){for(be=qt%ie,qe++,Ne=0,wt.clear(),ct=L.belongings[be],Dt=L.starts[be],Yt=L.starts[be+1];Dt<Yt;Dt++)Ne+=Jt=L.weights[Dt],I(wt,ft=L.belongings[Te=L.neighborhood[Dt]],Jt);for(kt=L.fastDeltaWithOwnCommunity(be,Ne,wt.get(ct)||0,ct),me=ct,Vt=0;Vt<wt.size;Vt++)(ft=wt.dense[Vt])!==ct&&(Re++,R(me,ct,ft,Gt=L.fastDelta(be,Ne,wt.vals[Vt],ft),kt)&&(kt=Gt,me=ft));if(kt<0){if((me=L.isolate(be,Ne))===ct)continue}else{if(me===ct)continue;L.move(be,Ne,me)}lt=!0,De++}Be.push(De),at=lt||at}at&&L.zoomOut()}return{index:L,deltaComputations:Re,nodesVisited:qe,moves:cn}}function $(P,B,W){var ct,ft,Nt,Dt,Yt,Jt,qt,ve,be,Te,ie,Ne,Ve,me,kt,Gt,Re,cn,Je,gn,L=new w(B,{getEdgeWeight:W.getEdgeWeight,keepDendrogram:P,resolution:W.resolution}),ot=N(W.rng),at=!0,lt=!0,wt=new f(Float64Array,L.C),Be=0,De=0,_n=[];for(W.fastLocalMoves&&(Nt=new T(L.C));at;){if(Ve=L.C,at=!1,lt=!0,W.fastLocalMoves){for(gn=0,be=W.randomWalk?ot(Ve):0,Te=0;Te<Ve;Te++,be++)Nt.enqueue(ie=be%Ve);for(;0!==Nt.size;){for(ie=Nt.dequeue(),De++,me=0,kt=0,wt.clear(),ct=L.belongings[ie],Dt=L.starts[ie],Yt=L.starts[ie+1],Jt=L.offsets[ie];Dt<Yt;Dt++)qt=L.weights[Dt],Dt<Jt?kt+=qt:me+=qt,I(wt,ft=L.belongings[Ne=L.neighborhood[Dt]],qt);for(Re=L.deltaWithOwnCommunity(ie,me,kt,wt.get(ct)||0,ct),Gt=ct,ve=0;ve<wt.size;ve++)(ft=wt.dense[ve])!==ct&&(Be++,R(Gt,ct,ft,cn=L.delta(ie,me,kt,wt.vals[ve],ft),Re)&&(Re=cn,Gt=ft));if(Re<0){if((Gt=L.isolate(ie,me,kt))===ct)continue}else{if(Gt===ct)continue;L.move(ie,me,kt,Gt)}for(at=!0,gn++,Dt=L.starts[ie],Yt=L.starts[ie+1];Dt<Yt;Dt++)(ft=L.belongings[Ne=L.neighborhood[Dt]])!==Gt&&Nt.enqueue(Ne)}_n.push(gn)}else for(_n.push(Je=[]);lt;){for(lt=!1,gn=0,be=W.randomWalk?ot(Ve):0,Te=0;Te<Ve;Te++,be++){for(ie=be%Ve,De++,me=0,kt=0,wt.clear(),ct=L.belongings[ie],Dt=L.starts[ie],Yt=L.starts[ie+1],Jt=L.offsets[ie];Dt<Yt;Dt++)qt=L.weights[Dt],Dt<Jt?kt+=qt:me+=qt,I(wt,ft=L.belongings[Ne=L.neighborhood[Dt]],qt);for(Re=L.deltaWithOwnCommunity(ie,me,kt,wt.get(ct)||0,ct),Gt=ct,ve=0;ve<wt.size;ve++)(ft=wt.dense[ve])!==ct&&(Be++,R(Gt,ct,ft,cn=L.delta(ie,me,kt,wt.vals[ve],ft),Re)&&(Re=cn,Gt=ft));if(Re<0){if((Gt=L.isolate(ie,me,kt))===ct)continue}else{if(Gt===ct)continue;L.move(ie,me,kt,Gt)}lt=!0,gn++}Je.push(gn),at=lt||at}at&&L.zoomOut()}return{index:L,deltaComputations:Be,nodesVisited:De,moves:_n}}function j(P,B,W,L){if(!x(W))throw new Error("graphology-communities-louvain: the given graph is not a valid graphology instance.");var ot=F(W);if("mixed"===ot)throw new Error("graphology-communities-louvain: cannot run the algorithm on a true mixed graph.");L=et(L,E);var at=0;if(0===W.size){if(P)return void W.forEachNode(function(Dt){W.setNodeAttribute(Dt,L.nodeCommunityAttribute,at++)});var lt={};return W.forEachNode(function(Dt){lt[Dt]=at++}),B?{communities:lt,count:W.order,deltaComputations:0,dendrogram:null,level:0,modularity:NaN,moves:null,nodesVisited:0,resolution:L.resolution}:lt}var ft=("undirected"===ot?Q:$)(B,W,L),wt=ft.index;if(!B)return P?void wt.assign(L.nodeCommunityAttribute):wt.collect();var Nt={count:wt.C,deltaComputations:ft.deltaComputations,dendrogram:wt.dendrogram,level:wt.level,modularity:wt.modularity(),moves:ft.moves,nodesVisited:ft.nodesVisited,resolution:L.resolution};return P?(wt.assign(L.nodeCommunityAttribute),Nt):(Nt.communities=wt.collect(),Nt)}var J=j.bind(null,!1,!1);J.assign=j.bind(null,!0,!1),J.detailed=j.bind(null,!1,!0),J.defaults=E,Mt.exports=J},5149:(Mt,dt,G)=>{var x=G(6714),F=G(6262).B,f=G(778).De,T=G(3882);dt.dQ=function k($){var j=function I($){if(!x($))throw new Error("graphology-components: the given graph is not a valid graphology instance.");if(!$.order)return[];var B,j=new T($),J=j.push.bind(j),P=[];return j.forEachNodeYetUnseen(function(W){B=[],j.push(W);for(var L;0!==j.size;)L=j.pop(),B.push(L),$.forEachNeighbor(L,J);return B.length>P.length&&(P=B),P.length>j.countUnseenNodes()}),P}($),J=$.nullCopy();return j.forEach(function(P){F(J,P,$.getNodeAttributes(P))}),$.forEachEdge(function(P,B,W,L,ot,at,lt){J.hasNode(W)&&f(J,lt,P,W,L,B)}),J}},3882:Mt=>{function dt(G){this.graph=G,this.stack=new Array(G.order),this.seen=new Set,this.size=0}dt.prototype.hasAlreadySeenEverything=function(){return this.seen.size===this.graph.order},dt.prototype.countUnseenNodes=function(){return this.graph.order-this.seen.size},dt.prototype.forEachNodeYetUnseen=function(G){var et=this.seen,x=this.graph;x.someNode(function(F,f){return et.size===x.order||!et.has(F)&&!!G(F,f)})},dt.prototype.has=function(G){return this.seen.has(G)},dt.prototype.push=function(G){var et=this.seen.size;return this.seen.add(G),et!==this.seen.size&&(this.stack[this.size++]=G,!0)},dt.prototype.pushWith=function(G,et){var x=this.seen.size;return this.seen.add(G),x!==this.seen.size&&(this.stack[this.size++]=et,!0)},dt.prototype.pop=function(){if(0!==this.size)return this.stack[--this.size]},Mt.exports=dt},6956:(Mt,dt,G)=>{var et=G(6116),x=G(8487),F=G(2954).Q6,f=Symbol.for("nodejs.util.inspect.custom"),T={getEdgeWeight:"weight",keepDendrogram:!1,resolution:1};function N(b,w){var E=(w=x(w,T)).resolution,I=F(w.getEdgeWeight).fromEntry,k=2*(b.size-b.selfLoopCount),R=et.getPointerArray(k),Q=et.getPointerArray(b.order+1),$=w.getEdgeWeight?Float64Array:et.getPointerArray(2*b.size);this.C=b.order,this.M=0,this.E=k,this.U=0,this.resolution=E,this.level=0,this.graph=b,this.nodes=new Array(b.order),this.keepDendrogram=w.keepDendrogram,this.neighborhood=new Q(k),this.weights=new $(k),this.loops=new $(b.order),this.starts=new R(b.order+1),this.belongings=new Q(b.order),this.dendrogram=[],this.mapping=null,this.counts=new Q(b.order),this.unused=new Q(b.order),this.totalWeights=new $(b.order);var J,j={},P=0,B=0,W=this;b.forEachNode(function(L){W.nodes[P]=L,j[L]=P,B+=b.undirectedDegreeWithoutSelfLoops(L),W.starts[P]=B,W.belongings[P]=P,W.counts[P]=1,P++}),b.forEachEdge(function(L,ot,at,lt,ct,ft,wt){if(J=I(L,ot,at,lt,ct,ft,wt),at=j[at],lt=j[lt],W.M+=J,at===lt)W.totalWeights[at]+=2*J,W.loops[at]=2*J;else{W.totalWeights[at]+=J,W.totalWeights[lt]+=J;var Nt=--W.starts[at],Dt=--W.starts[lt];W.neighborhood[Nt]=lt,W.neighborhood[Dt]=at,W.weights[Nt]=J,W.weights[Dt]=J}}),this.starts[P]=this.E,this.keepDendrogram?this.dendrogram.push(this.belongings.slice()):this.mapping=this.belongings.slice()}function z(b,w){var E=(w=x(w,T)).resolution,I=F(w.getEdgeWeight).fromEntry,k=2*(b.size-b.selfLoopCount),R=et.getPointerArray(k),Q=et.getPointerArray(b.order+1),$=w.getEdgeWeight?Float64Array:et.getPointerArray(2*b.size);this.C=b.order,this.M=0,this.E=k,this.U=0,this.resolution=E,this.level=0,this.graph=b,this.nodes=new Array(b.order),this.keepDendrogram=w.keepDendrogram,this.neighborhood=new Q(k),this.weights=new $(k),this.loops=new $(b.order),this.starts=new R(b.order+1),this.offsets=new R(b.order),this.belongings=new Q(b.order),this.dendrogram=[],this.counts=new Q(b.order),this.unused=new Q(b.order),this.totalInWeights=new $(b.order),this.totalOutWeights=new $(b.order);var J,j={},P=0,B=0,W=this;b.forEachNode(function(L){W.nodes[P]=L,j[L]=P,B+=b.outDegreeWithoutSelfLoops(L),W.starts[P]=B,B+=b.inDegreeWithoutSelfLoops(L),W.offsets[P]=B,W.belongings[P]=P,W.counts[P]=1,P++}),b.forEachEdge(function(L,ot,at,lt,ct,ft,wt){if(J=I(L,ot,at,lt,ct,ft,wt),at=j[at],lt=j[lt],W.M+=J,at===lt)W.loops[at]+=J,W.totalInWeights[at]+=J,W.totalOutWeights[at]+=J;else{W.totalOutWeights[at]+=J,W.totalInWeights[lt]+=J;var Nt=--W.starts[at],Dt=--W.offsets[lt];W.neighborhood[Nt]=lt,W.neighborhood[Dt]=at,W.weights[Nt]=J,W.weights[Dt]=J}}),this.starts[P]=this.E,this.keepDendrogram?this.dendrogram.push(this.belongings.slice()):this.mapping=this.belongings.slice()}N.prototype.isolate=function(b,w){var E=this.belongings[b];if(1===this.counts[E])return E;var I=this.unused[--this.U],k=this.loops[b];return this.totalWeights[E]-=w+k,this.totalWeights[I]+=w+k,this.belongings[b]=I,this.counts[E]--,this.counts[I]++,I},N.prototype.move=function(b,w,E){var I=this.belongings[b],k=this.loops[b];this.totalWeights[I]-=w+k,this.totalWeights[E]+=w+k,this.belongings[b]=E;var R=1==this.counts[I]--;this.counts[E]++,R&&(this.unused[this.U++]=I)},N.prototype.computeNodeDegree=function(b){var w,E,k=0;for(w=this.starts[b],E=this.starts[b+1];w<E;w++)k+=this.weights[w];return k},N.prototype.expensiveIsolate=function(b){var w=this.computeNodeDegree(b);return this.isolate(b,w)},N.prototype.expensiveMove=function(b,w){var E=this.computeNodeDegree(b);this.move(b,E,w)},N.prototype.zoomOut=function(){var R,Q,$,j,J,P,B,W,L,ot,at,b=new Array(this.C-this.U),w={},E=this.nodes.length,I=0,k=0;for(R=0,$=this.C;R<$;R++)(P=this.belongings[R])in w||(w[P]=I,b[I]={adj:{},totalWeights:this.totalWeights[P],internalWeights:0},I++),this.belongings[R]=w[P];if(this.keepDendrogram){for(ot=this.dendrogram[this.level],at=new(et.getPointerArray(I))(E),R=0;R<E;R++)at[R]=this.belongings[ot[R]];this.dendrogram.push(at)}else for(R=0;R<E;R++)this.mapping[R]=this.belongings[this.mapping[R]];for(R=0,$=this.C;R<$;R++)for(L=(W=b[P=this.belongings[R]]).adj,W.internalWeights+=this.loops[R],Q=this.starts[R],j=this.starts[R+1];Q<j;Q++)P!==(B=this.belongings[J=this.neighborhood[Q]])?(B in L||(L[B]=0),L[B]+=this.weights[Q]):W.internalWeights+=this.weights[Q];for(this.C=I,J=0,P=0;P<I;P++)for(B in L=(W=b[P]).adj,this.totalWeights[P=+P]=W.totalWeights,this.loops[P]=W.internalWeights,this.counts[P]=1,this.starts[P]=J,this.belongings[P]=P,L)this.neighborhood[J]=+B,this.weights[J]=L[B],k++,J++;return this.starts[I]=k,this.E=k,this.U=0,this.level++,w},N.prototype.modularity=function(){var b,E,I,k,R=0,Q=2*this.M,$=new Float64Array(this.C);for(E=0;E<this.C;E++)for($[b=this.belongings[E]]+=this.loops[E],I=this.starts[E],k=this.starts[E+1];I<k;I++)b===this.belongings[this.neighborhood[I]]&&($[b]+=this.weights[I]);for(E=0;E<this.C;E++)R+=$[E]/Q-Math.pow(this.totalWeights[E]/Q,2)*this.resolution;return R},N.prototype.delta=function(b,w,E,I){var k=this.M;return E/k-this.totalWeights[I]*(w+=this.loops[b])*this.resolution/(2*k*k)},N.prototype.deltaWithOwnCommunity=function(b,w,E,I){var k=this.M;return E/k-(this.totalWeights[I]-(w+=this.loops[b]))*w*this.resolution/(2*k*k)},N.prototype.fastDelta=function(b,w,E,I){return E-(w+=this.loops[b])*this.totalWeights[I]*this.resolution/(2*this.M)},N.prototype.fastDeltaWithOwnCommunity=function(b,w,E,I){return E-(w+=this.loops[b])*(this.totalWeights[I]-w)*this.resolution/(2*this.M)},N.prototype.bounds=function(b){return[this.starts[b],this.starts[b+1]]},N.prototype.project=function(){var b=this,w={};return b.nodes.slice(0,this.C).forEach(function(E,I){w[E]=Array.from(b.neighborhood.slice(b.starts[I],b.starts[I+1])).map(function(k){return b.nodes[k]})}),w},N.prototype.collect=function(b){arguments.length<1&&(b=this.level);var I,k,w={},E=this.keepDendrogram?this.dendrogram[b]:this.mapping;for(I=0,k=E.length;I<k;I++)w[this.nodes[I]]=E[I];return w},N.prototype.assign=function(b,w){arguments.length<2&&(w=this.level);var I,k,E=this.keepDendrogram?this.dendrogram[w]:this.mapping;for(I=0,k=E.length;I<k;I++)this.graph.setNodeAttribute(this.nodes[I],b,E[I])},N.prototype[f]=function(){var b={};Object.defineProperty(b,"constructor",{value:N,enumerable:!1}),b.C=this.C,b.M=this.M,b.E=this.E,b.U=this.U,b.resolution=this.resolution,b.level=this.level,b.nodes=this.nodes,b.starts=this.starts.slice(0,b.C+1);var I=this;return["neighborhood","weights"].forEach(function(k){b[k]=I[k].slice(0,b.E)}),["counts","loops","belongings","totalWeights"].forEach(function(k){b[k]=I[k].slice(0,b.C)}),b.unused=this.unused.slice(0,this.U),this.keepDendrogram?b.dendrogram=this.dendrogram:b.mapping=this.mapping,b},z.prototype.bounds=N.prototype.bounds,z.prototype.inBounds=function(b){return[this.offsets[b],this.starts[b+1]]},z.prototype.outBounds=function(b){return[this.starts[b],this.offsets[b]]},z.prototype.project=N.prototype.project,z.prototype.projectIn=function(){var b=this,w={};return b.nodes.slice(0,this.C).forEach(function(E,I){w[E]=Array.from(b.neighborhood.slice(b.offsets[I],b.starts[I+1])).map(function(k){return b.nodes[k]})}),w},z.prototype.projectOut=function(){var b=this,w={};return b.nodes.slice(0,this.C).forEach(function(E,I){w[E]=Array.from(b.neighborhood.slice(b.starts[I],b.offsets[I])).map(function(k){return b.nodes[k]})}),w},z.prototype.isolate=function(b,w,E){var I=this.belongings[b];if(1===this.counts[I])return I;var k=this.unused[--this.U],R=this.loops[b];return this.totalInWeights[I]-=w+R,this.totalInWeights[k]+=w+R,this.totalOutWeights[I]-=E+R,this.totalOutWeights[k]+=E+R,this.belongings[b]=k,this.counts[I]--,this.counts[k]++,k},z.prototype.move=function(b,w,E,I){var k=this.belongings[b],R=this.loops[b];this.totalInWeights[k]-=w+R,this.totalInWeights[I]+=w+R,this.totalOutWeights[k]-=E+R,this.totalOutWeights[I]+=E+R,this.belongings[b]=I;var Q=1==this.counts[k]--;this.counts[I]++,Q&&(this.unused[this.U++]=k)},z.prototype.computeNodeInDegree=function(b){var w,E,k=0;for(w=this.offsets[b],E=this.starts[b+1];w<E;w++)k+=this.weights[w];return k},z.prototype.computeNodeOutDegree=function(b){var w,E,k=0;for(w=this.starts[b],E=this.offsets[b];w<E;w++)k+=this.weights[w];return k},z.prototype.expensiveMove=function(b,w){var E=this.computeNodeInDegree(b),I=this.computeNodeOutDegree(b);this.move(b,E,I,w)},z.prototype.zoomOut=function(){var R,Q,$,j,J,P,B,W,L,ot,at,lt,ct,ft,wt,b=new Array(this.C-this.U),w={},E=this.nodes.length,I=0,k=0;for(R=0,$=this.C;R<$;R++)(P=this.belongings[R])in w||(w[P]=I,b[I]={inAdj:{},outAdj:{},totalInWeights:this.totalInWeights[P],totalOutWeights:this.totalOutWeights[P],internalWeights:0},I++),this.belongings[R]=w[P];if(this.keepDendrogram){for(ft=this.dendrogram[this.level],wt=new(et.getPointerArray(I))(E),R=0;R<E;R++)wt[R]=this.belongings[ft[R]];this.dendrogram.push(wt)}else for(R=0;R<E;R++)this.mapping[R]=this.belongings[this.mapping[R]];for(R=0,$=this.C;R<$;R++)for(L=this.offsets[R],lt=(W=b[P=this.belongings[R]]).inAdj,ct=W.outAdj,W.internalWeights+=this.loops[R],Q=this.starts[R],j=this.starts[R+1];Q<j;Q++)at=(ot=Q<L)?ct:lt,P!==(B=this.belongings[J=this.neighborhood[Q]])?(B in at||(at[B]=0),at[B]+=this.weights[Q]):ot&&(W.internalWeights+=this.weights[Q]);for(this.C=I,J=0,P=0;P<I;P++){for(B in lt=(W=b[P]).inAdj,ct=W.outAdj,this.totalInWeights[P=+P]=W.totalInWeights,this.totalOutWeights[P]=W.totalOutWeights,this.loops[P]=W.internalWeights,this.counts[P]=1,this.starts[P]=J,this.belongings[P]=P,ct)this.neighborhood[J]=+B,this.weights[J]=ct[B],k++,J++;for(B in this.offsets[P]=J,lt)this.neighborhood[J]=+B,this.weights[J]=lt[B],k++,J++}return this.starts[I]=k,this.E=k,this.U=0,this.level++,w},z.prototype.modularity=function(){var b,E,I,k,R=0,Q=this.M,$=new Float64Array(this.C);for(E=0;E<this.C;E++)for($[b=this.belongings[E]]+=this.loops[E],I=this.starts[E],k=this.offsets[E];I<k;I++)b===this.belongings[this.neighborhood[I]]&&($[b]+=this.weights[I]);for(E=0;E<this.C;E++)R+=$[E]/Q-this.totalInWeights[E]*this.totalOutWeights[E]/Math.pow(Q,2)*this.resolution;return R},z.prototype.delta=function(b,w,E,I,k){var R=this.M,j=this.loops[b];return I/R-((E+=j)*this.totalInWeights[k]+(w+=j)*this.totalOutWeights[k])*this.resolution/(R*R)},z.prototype.deltaWithOwnCommunity=function(b,w,E,I,k){var R=this.M,j=this.loops[b];return I/R-((E+=j)*(this.totalInWeights[k]-(w+=j))+w*(this.totalOutWeights[k]-E))*this.resolution/(R*R)},z.prototype.collect=N.prototype.collect,z.prototype.assign=N.prototype.assign,z.prototype[f]=function(){var b={};Object.defineProperty(b,"constructor",{value:z,enumerable:!1}),b.C=this.C,b.M=this.M,b.E=this.E,b.U=this.U,b.resolution=this.resolution,b.level=this.level,b.nodes=this.nodes,b.starts=this.starts.slice(0,b.C+1);var I=this;return["neighborhood","weights"].forEach(function(k){b[k]=I[k].slice(0,b.E)}),["counts","offsets","loops","belongings","totalInWeights","totalOutWeights"].forEach(function(k){b[k]=I[k].slice(0,b.C)}),b.unused=this.unused.slice(0,this.U),this.keepDendrogram?b.dendrogram=this.dendrogram:b.mapping=this.mapping,b},dt.UndirectedLouvainIndex=N,dt.DirectedLouvainIndex=z},6078:(Mt,dt,G)=>{var et=G(6116),x=G(2954).Q6;function F(N,z){return"outbound"===N||"inbound"===N?z.directedSize+2*z.undirectedSize:"in"===N||"out"===N||"directed"===N?z.directedSize:2*z.undirectedSize}function f(N,z){var b=N[(z=z||"outbound")+"Neighbors"].bind(N),w=F(z,N),E=et.getPointerArray(w),I=et.getPointerArray(N.order);this.graph=N,this.neighborhood=new I(w),this.starts=new E(N.order+1),this.nodes=N.nodes();var R,Q,$,j,P,k={},B=0;for(R=0,Q=N.order;R<Q;R++)k[this.nodes[R]]=R;for(R=0,Q=N.order;R<Q;R++)for(P=b(this.nodes[R]),this.starts[R]=B,$=0,j=P.length;$<j;$++)this.neighborhood[B++]=k[P[$]];this.starts[R]=w}function T(N,z,b){var w=N[(b=b||"outbound")+"Edges"].bind(N),E=F(b,N),I=et.getPointerArray(E),k=et.getPointerArray(N.order),R=x(z).fromMinimalEntry;this.graph=N,this.neighborhood=new k(E),this.weights=new Float64Array(E),this.outDegrees=new Float64Array(N.order),this.starts=new I(N.order+1),this.nodes=N.nodes();var $,j,J,P,B,W,L,ot,at,Q={},lt=0;for($=0,j=N.order;$<j;$++)Q[this.nodes[$]]=$;for($=0,j=N.order;$<j;$++)for(L=w(B=this.nodes[$]),this.starts[$]=lt,J=0,P=L.length;J<P;J++)W=N.opposite(B,ot=L[J]),at=R(ot,N.getEdgeAttributes(ot)),this.neighborhood[lt]=Q[W],this.weights[lt++]=at,this.outDegrees[$]+=at;this.starts[$]=E}f.prototype.bounds=function(N){return[this.starts[N],this.starts[N+1]]},f.prototype.project=function(){var N=this,z={};return N.nodes.forEach(function(b,w){z[b]=Array.from(N.neighborhood.slice(N.starts[w],N.starts[w+1])).map(function(E){return N.nodes[E]})}),z},f.prototype.collect=function(N){var z,b,w={};for(z=0,b=N.length;z<b;z++)w[this.nodes[z]]=N[z];return w},f.prototype.assign=function(N,z){var b=0;this.graph.updateEachNodeAttributes(function(w,E){return E[N]=z[b++],E},{attributes:[N]})},dt.NeighborhoodIndex=f,T.prototype.bounds=f.prototype.bounds,T.prototype.project=f.prototype.project,T.prototype.collect=f.prototype.collect,T.prototype.assign=f.prototype.assign,dt.WeightedNeighborhoodIndex=T},1063:(Mt,dt,G)=>{var et=G(6714),x=G(3933),F=G(8487),f=x.createUnweightedIndexedBrandes,T=x.createDijkstraIndexedBrandes,N={nodeCentralityAttribute:"betweennessCentrality",getEdgeWeight:"weight",normalized:!0};function z(w,E,I){if(!et(E))throw new Error("graphology-centrality/beetweenness-centrality: the given graph is not a valid graphology instance.");var j,J,P,B,W,L,ot,at,lt,ct,k=(I=F(I,N)).nodeCentralityAttribute,R=I.normalized,Q=I.getEdgeWeight?T(E,I.getEdgeWeight):f(E),$=E.order,ft=new Float64Array($),wt=new Float64Array($);for(L=0;L<$;L++){for(P=(j=Q(L))[1],B=j[2],ot=(J=j[0]).size;ot--;)ft[J.items[J.size-ot]]=0;for(;0!==J.size;){for(W=(1+ft[ct=J.pop()])/B[ct],ot=0,at=P[ct].length;ot<at;ot++)ft[lt=P[ct][ot]]+=B[lt]*W;ct!==L&&(wt[ct]+=ft[ct])}}var Nt;if(null!==(Nt=R?$<=2?null:1/(($-1)*($-2)):"undirected"===E.type?.5:null))for(L=0;L<$;L++)wt[L]*=Nt;return w?Q.index.assign(k,wt):Q.index.collect(wt)}var b=z.bind(null,!1);b.assign=z.bind(null,!0),Mt.exports=b},3378:(Mt,dt,G)=>{var et=G(6714),x=G(8487),F=G(8740),f=G(4268),T=G(6078).NeighborhoodIndex,N={nodeCentralityAttribute:"closenessCentrality",wassermanFaust:!1};function z(E){this.index=new T(E,"inbound"),this.queue=new F(Array,E.order),this.seen=new f(E.order)}function b(E,I,k){if(!et(I))throw new Error("graphology-metrics/centrality/closeness: the given graph is not a valid graphology instance.");var j,J,P,B,W,R=(k=x(k,N)).wassermanFaust,Q=new z(I),$=I.order,L=new Float64Array($);for(j=0;j<$;j++)P=(J=Q.fromNode(j))[0],W=0,(B=J[1])>0&&$>1&&(W=P/B,R&&(W*=P/($-1))),L[j]=W;return E?Q.index.assign(k.nodeCentralityAttribute,L):Q.index.collect(L)}z.prototype.fromNode=function(E){var I=this.index,k=this.queue,R=this.seen;R.clear(),k.clear(),R.add(E),k.push([E,0]);for(var Q,$,j,J,P,B,W=0,L=0;0!==k.size;)for(0!==(j=(Q=k.shift())[1])&&(W+=j,L+=1),P=I.starts[($=Q[0])+1],J=I.starts[$];J<P;J++)!R.has(B=I.neighborhood[J])&&(R.add(B),k.push([B,j+1]));return[L,W]};var w=b.bind(null,!1);w.assign=b.bind(null,!0),Mt.exports=w},5408:(Mt,dt,G)=>{var et=G(6714);function x(N,z,b,w){var E=z+"Centrality";if(!et(b))throw new Error("graphology-centrality/"+E+": the given graph is not a valid graphology instance.");if("degree"!==z&&"undirected"===b.type)throw new Error("graphology-centrality/"+E+": cannot compute "+z+" centrality on an undirected graph.");var I=(w=w||{}).nodeCentralityAttribute||E,k=b.order-1,R=b[z].bind(b);if(!N){var Q={};return b.forEachNode(function($){Q[$]=R($)/k}),Q}b.updateEachNodeAttributes(function($,j){return j[I]=R($)/k,j},{attributes:[I]})}var F=x.bind(null,!1,"degree"),f=x.bind(null,!1,"inDegree"),T=x.bind(null,!1,"outDegree");F.assign=x.bind(null,!0,"degree"),f.assign=x.bind(null,!0,"inDegree"),T.assign=x.bind(null,!0,"outDegree"),dt.degreeCentrality=F,dt.inDegreeCentrality=f,dt.outDegreeCentrality=T},5894:(Mt,dt,G)=>{var et=G(6714),x=G(8487),F=G(6078).WeightedNeighborhoodIndex,f={nodeCentralityAttribute:"eigenvectorCentrality",getEdgeWeight:"weight",maxIterations:100,tolerance:1e-6};function T(b){for(var w=0,E=0,I=0,k=b.length;I<k;I++){var R=Math.abs(b[I]);R>w&&(E*=w/R*(w/R),w=R),E+=0===R&&0===w?0:R/w*(R/w)}return w===1/0?1:w*Math.sqrt(E)}function N(b,w,E){if(!et(w))throw new Error("graphology-metrics/centrality/eigenvector: the given graph is not a valid graphology instance.");var $,j,J,I=(E=x(E,f)).maxIterations,k=E.tolerance,R=w.order,Q=new F(w,E.getEdgeWeight),B=new Float64Array(w.order);for($=0;$<R;$++)B[$]=1/R;for(var at,lt,W=0,L=0,ct=!1;W<I;){for(at=B,B=new Float64Array(at),$=0;$<R;$++)for(J=Q.starts[$+1],j=Q.starts[$];j<J;j++)B[Q.neighborhood[j]]+=at[$]*Q.weights[j];for(lt=T(B),$=0;$<R;$++)B[$]/=lt;for(L=0,$=0;$<R;$++)L+=Math.abs(B[$]-at[$]);if(L<R*k){ct=!0;break}W++}if(!ct)throw Error("graphology-metrics/centrality/eigenvector: failed to converge.");if(!b)return Q.collect(B);Q.assign(E.nodeCentralityAttribute,B)}var z=N.bind(null,!1);z.assign=N.bind(null,!0),Mt.exports=z},9850:(Mt,dt,G)=>{var et=G(8487),x=G(6714),F=G(2954).Q6,f={nodeAuthorityAttribute:"authority",nodeHubAttribute:"hub",getEdgeWeight:"weight",maxIterations:100,normalize:!0,tolerance:1e-8};function T(w,E){var k,R,I=Object.create(null);for(k=0,R=w.length;k<R;k++)I[w[k]]=E;return I}function N(w){var E=0;for(var I in w)E+=w[I];return E}function z(w,E,I){if(!x(E))throw new Error("graphology-hits: the given graph is not a valid graphology instance.");if(E.multi)throw new Error("graphology-hits: the HITS algorithm does not work with MultiGraphs.");I=et(I,f);var $,B,W,L,ot,at,lt,ct,ft,wt,Nt,Dt,Yt,Jt,k=F(I.getEdgeWeight).fromEntry,R=E.order,Q=E.nodes(),j=T(Q,1/R),J={},P=!1;for(E.forEachEdge(function(Vt,qt,ve,be,Te,ie,Ne){J[Vt]=k(Vt,qt,ve,be,Te,ie,Ne)}),lt=0;lt<I.maxIterations;lt++){for(B=j,j=T(Q,0),W=T(Q,0),ft=0,ct=0,Dt=0;Dt<R;Dt++)for(Yt=0,Jt=($=E.outboundEdges(L=Q[Dt])).length;Yt<Jt;Yt++)ot=E.opposite(L,at=$[Yt]),W[ot]+=B[L]*J[at],W[ot]>ct&&(ct=W[ot]);for(Dt=0;Dt<R;Dt++)for(Yt=0,Jt=($=E.outboundEdges(L=Q[Dt])).length;Yt<Jt;Yt++)ot=E.opposite(L,at=$[Yt]),j[L]+=W[ot]*J[at],j[ot]>ft&&(ft=j[ot]);for(L in Nt=1/ft,j)j[L]*=Nt;for(L in Nt=1/ct,W)W[L]*=Nt;for(L in wt=0,j)wt+=Math.abs(j[L]-B[L]);if(wt<I.tolerance){P=!0;break}}if(!P)throw Error("graphology-metrics/centrality/hits: failed to converge.");if(I.normalize){for(L in Nt=1/N(W),W)W[L]*=Nt;for(L in Nt=1/N(j),j)j[L]*=Nt}if(!w)return{hubs:j,authorities:W};E.updateEachNodeAttributes(function(Vt,qt){return qt[I.nodeAuthorityAttribute]=W[Vt],qt[I.nodeHubAttribute]=j[Vt],qt},{attributes:[I.nodeAuthorityAttribute,I.nodeHubAttribute]})}var b=z.bind(null,!1);b.assign=z.bind(null,!0),Mt.exports=b},5547:(Mt,dt,G)=>{G(5408);G(1063),G(3378),G(5894),G(9850),dt.pagerank=G(593)},593:(Mt,dt,G)=>{var et=G(6714),x=G(8487),F=G(6078).WeightedNeighborhoodIndex,f={nodePagerankAttribute:"pagerank",getEdgeWeight:"weight",alpha:.85,maxIterations:100,tolerance:1e-6};function T(z,b,w){if(!et(b))throw new Error("graphology-metrics/centrality/pagerank: the given graph is not a valid graphology instance.");var J,P,B,W,E=(w=x(w,f)).alpha,I=w.maxIterations,k=w.tolerance,R=w.nodePagerankAttribute,Q=b.order,$=1/Q,j=new F(b,w.getEdgeWeight),L=new Float64Array(b.order),ot=new Float64Array(j.weights.length),at=[];for(J=0;J<Q;J++)for(L[J]=$,B=j.starts[J+1],0===(W=j.outDegrees[J])&&at.push(J),P=j.starts[J];P<B;P++)ot[P]=j.weights[P]/W;for(var ft,Nt,lt=0,ct=0,Dt=!1;lt<I;){for(Nt=L,L=new Float64Array(b.order),ft=0,J=0,B=at.length;J<B;J++)ft+=Nt[at[J]];for(ft*=E,J=0;J<Q;J++){for(B=j.starts[J+1],P=j.starts[J];P<B;P++)L[j.neighborhood[P]]+=E*Nt[J]*ot[P];L[J]+=ft*$+(1-E)*$}for(ct=0,J=0;J<Q;J++)ct+=Math.abs(L[J]-Nt[J]);if(ct<Q*k){Dt=!0;break}lt++}if(!Dt)throw Error("graphology-metrics/centrality/pagerank: failed to converge.");if(!z)return j.collect(L);j.assign(R,L)}var N=T.bind(null,!1);N.assign=T.bind(null,!0),Mt.exports=N},3956:(Mt,dt,G)=>{var et=G(6714),x=G(4651).jZ;Mt.exports=function(f,T){if(!et(f))throw new Error("graphology-metrics/eccentricity: given graph is not a valid graphology instance.");if(0===f.size)return 1/0;var b,w,N=-1/0,z=x(f,T),E=0;for(b in z)(w=z[b])>N&&(N=w),E++;return E<f.order?1/0:N}},9637:(Mt,dt,G)=>{G(677);dt.eccentricity=G(3956)},677:(Mt,dt,G)=>{var et=G(6714);function F(f,T,N,z,b){if(!et(N))throw new Error("graphology-metrics/"+f+": the given graph is not a valid graphology instance.");b=b||"weight";var w=0;return N[T](z,function(E,I,k,R,Q,$,j){var J="function"==typeof b?b(E,I,k,R,Q,$,j):I[b];("number"!=typeof J||isNaN(J))&&(J=1),w+=J}),w}dt.weightedDegree=F.bind(null,"weightedDegree","forEachEdge"),dt.weightedInDegree=F.bind(null,"weightedInDegree","forEachInEdge"),dt.weightedOutDegree=F.bind(null,"weightedOutDegree","forEachOutEdge"),dt.weightedInboundDegree=F.bind(null,"weightedInboundDegree","forEachInboundEdge"),dt.weightedOutboundDegree=F.bind(null,"weightedOutboundDegree","forEachOutboundEdge"),dt.weightedUndirectedDegree=F.bind(null,"weightedUndirectedDegree","forEachUndirectedEdge"),dt.weightedDirectedDegree=F.bind(null,"weightedDirectedDegree","forEachDirectedEdge")},3933:(Mt,dt,G)=>{var et=G(8740),x=G(7451),F=G(4547),f=G(6116),T=G(6078),N=T.NeighborhoodIndex,z=T.WeightedNeighborhoodIndex;function b(w,E){return w[0]>E[0]?1:w[0]<E[0]?-1:w[1]>E[1]?1:w[1]<E[1]?-1:w[2]>E[2]?1:w[2]<E[2]?-1:w[3]>E[3]?1:w[3]<E[3]?-1:0}dt.createUnweightedIndexedBrandes=function(E){var I=new N(E),k=I.neighborhood,R=I.starts,Q=E.order,$=new x(f.getPointerArray(Q),Q),j=new Uint32Array(Q),J=new Array(Q),P=new Int32Array(Q),B=new et(Uint32Array,Q),W=function(L){var ot,at,ct,ft,wt,Nt;for(wt=0;wt<Q;wt++)J[wt]=[],j[wt]=0,P[wt]=-1;for(j[L]=1,P[L]=0,B.push(L);0!==B.size;)for(wt=B.shift(),$.push(wt),ot=P[wt],at=j[wt],ct=R[wt+1],ft=R[wt];ft<ct;ft++)-1===P[Nt=k[ft]]&&(B.push(Nt),P[Nt]=ot+1),P[Nt]===ot+1&&(j[Nt]+=at,J[Nt].push(wt));return[$,J,j]};return W.index=I,W},dt.createDijkstraIndexedBrandes=function(E,I){var k=new z(E,I||"weight"),R=k.neighborhood,Q=k.weights,$=k.starts,j=E.order,J=new x(f.getPointerArray(j),j),P=new Uint32Array(j),B=new Array(j),W=new Float64Array(j),L=new Float64Array(j),ot=new F(b),at=function(lt){var ft,wt,Nt,Dt,Yt,Jt,Vt,qt,ve=0;for(Vt=0;Vt<j;Vt++)B[Vt]=[],P[Vt]=0,W[Vt]=-1,L[Vt]=-1;for(P[lt]=1,L[lt]=0,ot.push([0,ve++,lt,lt]);0!==ot.size;)if(Nt=(wt=ot.pop())[0],Dt=wt[2],-1===W[Vt=wt[3]])for(J.push(Vt),W[Vt]=Nt,P[Vt]+=P[Dt],ft=$[Vt+1],Jt=$[Vt];Jt<ft;Jt++)Yt=Nt+Q[Jt],-1===W[qt=R[Jt]]&&(-1===L[qt]||Yt<L[qt])?(L[qt]=Yt,ot.push([Yt,ve++,Vt,qt]),P[qt]=0,B[qt]=[Vt]):Yt===L[qt]&&(P[qt]+=P[Vt],B[qt].push(Vt));return[J,B,P]};return at.index=k,at}},4651:(Mt,dt,G)=>{var x=G(6714),f=(G(7621),G(3333));function z(I,k,R){if(!x(k))throw new Error("graphology-shortest-path: invalid graphology instance.");if(!k.hasNode(R))throw new Error('graphology-shortest-path: the "'+R+'" source node does not exist in the given graph.');R=""+R;var Q=new Set,$={},j=0;$[R]=0;for(var P,B,W,J=[R];0!==J.length;){var L=[];for(P=0,B=J.length;P<B;P++)!Q.has(W=J[P])&&(Q.add(W),f(L,k[I](W)),$[W]=j);j++,J=L}return $}var b=z.bind(null,"outboundNeighbors");z.bind(null,"neighbors");dt.jZ=b},778:(Mt,dt)=>{dt.De=function(x,F,f,T,N,z){return z=Object.assign({},z),F?null==f?x.addUndirectedEdge(T,N,z):x.addUndirectedEdgeWithKey(f,T,N,z):null==f?x.addDirectedEdge(T,N,z):x.addDirectedEdgeWithKey(f,T,N,z)}},6262:(Mt,dt)=>{dt.B=function(G,et,x){return x=Object.assign({},x),G.addNode(et,x)}},8487:Mt=>{function dt(et){return!et||"object"!=typeof et||"function"==typeof et||Array.isArray(et)||et instanceof Set||et instanceof Map||et instanceof RegExp||et instanceof Date}Mt.exports=function G(et,x){et=et||{};var F={};for(var f in x){var T=et[f],N=x[f];F[f]=dt(N)?void 0===T?N:T:G(T,N)}return F}},2954:(Mt,dt)=>{function et(f){return"number"!=typeof f||isNaN(f)?1:f}dt.Q6=function(f){return function F(f,T){var N={},z=function(E){return void 0===E?T:E};"function"==typeof T&&(z=T);var b=function(E){return z(E[f])},w=function(){return z(void 0)};return"string"==typeof f?(N.fromAttributes=b,N.fromGraph=function(E,I){return b(E.getEdgeAttributes(I))},N.fromEntry=function(E,I){return b(I)},N.fromPartialEntry=N.fromEntry,N.fromMinimalEntry=N.fromEntry):"function"==typeof f?(N.fromAttributes=function(){throw new Error("graphology-utils/getters/createEdgeValueGetter: irrelevant usage.")},N.fromGraph=function(E,I){var k=E.extremities(I);return z(f(I,E.getEdgeAttributes(I),k[0],k[1],E.getNodeAttributes(k[0]),E.getNodeAttributes(k[1]),E.isUndirected(I)))},N.fromEntry=function(E,I,k,R,Q,$,j){return z(f(E,I,k,R,Q,$,j))},N.fromPartialEntry=function(E,I,k,R){return z(f(E,I,k,R))},N.fromMinimalEntry=function(E,I){return z(f(E,I))}):(N.fromAttributes=w,N.fromGraph=w,N.fromEntry=w,N.fromMinimalEntry=w),N}(f,et)}},5568:(Mt,dt,G)=>{var et=G(6714);Mt.exports=function(F){if(!et(F))throw new Error("graphology-utils/infer-type: expecting a valid graphology instance.");var f=F.type;return"mixed"!==f?f:0===F.directedSize&&0===F.undirectedSize||F.directedSize>0&&F.undirectedSize>0?"mixed":F.directedSize>0?"directed":"undirected"}},6714:Mt=>{Mt.exports=function(G){return null!==G&&"object"==typeof G&&"function"==typeof G.addUndirectedEdgeWithKey&&"function"==typeof G.dropNode&&"boolean"==typeof G.multi}},5595:function(Mt){Mt.exports=function(){"use strict";function dt(p){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(p)}function G(p,_){p.prototype=Object.create(_.prototype),p.prototype.constructor=p,x(p,_)}function et(p){return(et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)})(p)}function x(p,_){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,u){return g.__proto__=u,g})(p,_)}function F(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(p){return!1}}function f(p,_,g){return(f=F()?Reflect.construct.bind():function(u,c,v){var M=[null];M.push.apply(M,c);var U=new(Function.bind.apply(u,M));return v&&x(U,v.prototype),U}).apply(null,arguments)}function T(p){var _="function"==typeof Map?new Map:void 0;return T=function(g){if(null===g||-1===Function.toString.call(g).indexOf("[native code]"))return g;if("function"!=typeof g)throw new TypeError("Super expression must either be null or a function");if(void 0!==_){if(_.has(g))return _.get(g);_.set(g,c)}function c(){return f(g,arguments,et(this).constructor)}return c.prototype=Object.create(g.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),x(c,g)},T(p)}function N(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}var z=function(){for(var p=arguments[0],_=1,g=arguments.length;_<g;_++)if(arguments[_])for(var u in arguments[_])p[u]=arguments[_][u];return p};function b(p,_,g,u){var c=p._nodes.get(_),v=null;return c?v="mixed"===u?c.out&&c.out[g]||c.undirected&&c.undirected[g]:"directed"===u?c.out&&c.out[g]:c.undirected&&c.undirected[g]:v}function w(p){return"object"===dt(p)&&null!==p&&p.constructor===Object}function E(p){var _;for(_ in p)return!1;return!0}function I(p,_,g){Object.defineProperty(p,_,{enumerable:!1,configurable:!1,writable:!0,value:g})}function k(p,_,g){var u={enumerable:!0,configurable:!0};"function"==typeof g?u.get=g:(u.value=g,u.writable=!1),Object.defineProperty(p,_,u)}function R(p){return!(!w(p)||p.attributes&&!Array.isArray(p.attributes))}"function"==typeof Object.assign&&(z=Object.assign);var Q,$={exports:{}},j="object"==typeof Reflect?Reflect:null,J=j&&"function"==typeof j.apply?j.apply:function(p,_,g){return Function.prototype.apply.call(p,_,g)};Q=j&&"function"==typeof j.ownKeys?j.ownKeys:Object.getOwnPropertySymbols?function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:function(p){return Object.getOwnPropertyNames(p)};var P=Number.isNaN||function(p){return p!=p};function B(){B.init.call(this)}$.exports=B,$.exports.once=function(p,_){return new Promise(function(g,u){function c(M){p.removeListener(_,v),u(M)}function v(){"function"==typeof p.removeListener&&p.removeListener("error",c),g([].slice.call(arguments))}var M;Dt(p,_,v,{once:!0}),"error"!==_&&("function"==typeof(M=p).on&&Dt(M,"error",c,{once:!0}))})},B.EventEmitter=B,B.prototype._events=void 0,B.prototype._eventsCount=0,B.prototype._maxListeners=void 0;var W=10;function L(p){if("function"!=typeof p)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof p)}function ot(p){return void 0===p._maxListeners?B.defaultMaxListeners:p._maxListeners}function at(p,_,g,u){var c,v,M;if(L(g),void 0===(v=p._events)?(v=p._events=Object.create(null),p._eventsCount=0):(void 0!==v.newListener&&(p.emit("newListener",_,g.listener?g.listener:g),v=p._events),M=v[_]),void 0===M)M=v[_]=g,++p._eventsCount;else if("function"==typeof M?M=v[_]=u?[g,M]:[M,g]:u?M.unshift(g):M.push(g),(c=ot(p))>0&&M.length>c&&!M.warned){M.warned=!0;var rt=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(_)+" listeners added. Use emitter.setMaxListeners() to increase limit");rt.name="MaxListenersExceededWarning",rt.emitter=p,rt.type=_,rt.count=M.length,console&&console.warn&&console.warn(rt)}return p}function lt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ct(p,_,g){var u={fired:!1,wrapFn:void 0,target:p,type:_,listener:g},c=lt.bind(u);return c.listener=g,u.wrapFn=c,c}function ft(p,_,g){var u=p._events;if(void 0===u)return[];var c=u[_];return void 0===c?[]:"function"==typeof c?g?[c.listener||c]:[c]:g?function(v){for(var M=new Array(v.length),U=0;U<M.length;++U)M[U]=v[U].listener||v[U];return M}(c):Nt(c,c.length)}function wt(p){var _=this._events;if(void 0!==_){var g=_[p];if("function"==typeof g)return 1;if(void 0!==g)return g.length}return 0}function Nt(p,_){for(var g=new Array(_),u=0;u<_;++u)g[u]=p[u];return g}function Dt(p,_,g,u){if("function"==typeof p.on)u.once?p.once(_,g):p.on(_,g);else{if("function"!=typeof p.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof p);p.addEventListener(_,function c(v){u.once&&p.removeEventListener(_,c),g(v)})}}function Yt(p){if("function"!=typeof p)throw new Error("obliterator/iterator: expecting a function!");this.next=p}Object.defineProperty(B,"defaultMaxListeners",{enumerable:!0,get:function(){return W},set:function(p){if("number"!=typeof p||p<0||P(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+p+".");W=p}}),B.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},B.prototype.setMaxListeners=function(p){if("number"!=typeof p||p<0||P(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this},B.prototype.getMaxListeners=function(){return ot(this)},B.prototype.emit=function(p){for(var _=[],g=1;g<arguments.length;g++)_.push(arguments[g]);var u="error"===p,c=this._events;if(void 0!==c)u=u&&void 0===c.error;else if(!u)return!1;if(u){var v;if(_.length>0&&(v=_[0]),v instanceof Error)throw v;var M=new Error("Unhandled error."+(v?" ("+v.message+")":""));throw M.context=v,M}var U=c[p];if(void 0===U)return!1;if("function"==typeof U)J(U,this,_);else{var rt=U.length,At=Nt(U,rt);for(g=0;g<rt;++g)J(At[g],this,_)}return!0},B.prototype.on=B.prototype.addListener=function(p,_){return at(this,p,_,!1)},B.prototype.prependListener=function(p,_){return at(this,p,_,!0)},B.prototype.once=function(p,_){return L(_),this.on(p,ct(this,p,_)),this},B.prototype.prependOnceListener=function(p,_){return L(_),this.prependListener(p,ct(this,p,_)),this},B.prototype.off=B.prototype.removeListener=function(p,_){var g,u,c,v,M;if(L(_),void 0===(u=this._events))return this;if(void 0===(g=u[p]))return this;if(g===_||g.listener===_)0==--this._eventsCount?this._events=Object.create(null):(delete u[p],u.removeListener&&this.emit("removeListener",p,g.listener||_));else if("function"!=typeof g){for(c=-1,v=g.length-1;v>=0;v--)if(g[v]===_||g[v].listener===_){M=g[v].listener,c=v;break}if(c<0)return this;0===c?g.shift():function(U,rt){for(;rt+1<U.length;rt++)U[rt]=U[rt+1];U.pop()}(g,c),1===g.length&&(u[p]=g[0]),void 0!==u.removeListener&&this.emit("removeListener",p,M||_)}return this},B.prototype.removeAllListeners=function(p){var _,g,u;if(void 0===(g=this._events))return this;if(void 0===g.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==g[p]&&(0==--this._eventsCount?this._events=Object.create(null):delete g[p]),this;if(0===arguments.length){var c,v=Object.keys(g);for(u=0;u<v.length;++u)"removeListener"!==(c=v[u])&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(_=g[p]))this.removeListener(p,_);else if(void 0!==_)for(u=_.length-1;u>=0;u--)this.removeListener(p,_[u]);return this},B.prototype.listeners=function(p){return ft(this,p,!0)},B.prototype.rawListeners=function(p){return ft(this,p,!1)},B.listenerCount=function(p,_){return"function"==typeof p.listenerCount?p.listenerCount(_):wt.call(p,_)},B.prototype.listenerCount=wt,B.prototype.eventNames=function(){return this._eventsCount>0?Q(this._events):[]},"undefined"!=typeof Symbol&&(Yt.prototype[Symbol.iterator]=function(){return this}),Yt.of=function(){var p=arguments,_=p.length,g=0;return new Yt(function(){return g>=_?{done:!0}:{done:!1,value:p[g++]}})},Yt.empty=function(){return new Yt(function(){return{done:!0}})},Yt.fromSequence=function(p){var _=0,g=p.length;return new Yt(function(){return _>=g?{done:!0}:{done:!1,value:p[_++]}})},Yt.is=function(p){return p instanceof Yt||"object"==typeof p&&null!==p&&"function"==typeof p.next};var Jt=Yt,Vt={};Vt.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,Vt.SYMBOL_SUPPORT="undefined"!=typeof Symbol;var qt=Jt,be=Vt.ARRAY_BUFFER_SUPPORT,Te=Vt.SYMBOL_SUPPORT,ie=function(p){var g,_="string"==typeof(g=p)||Array.isArray(g)||be&&ArrayBuffer.isView(g)?qt.fromSequence(g):"object"!=typeof g||null===g?null:Te&&"function"==typeof g[Symbol.iterator]?g[Symbol.iterator]():"function"==typeof g.next?g:null;if(!_)throw new Error("obliterator: target is not iterable nor a valid iterator.");return _},Ne=ie,Ve=function(p,_){for(var g,u=arguments.length>1?_:1/0,c=u!==1/0?new Array(u):[],v=0,M=Ne(p);;){if(v===u)return c;if((g=M.next()).done)return v!==_&&(c.length=v),c;c[v++]=g.value}},me=function(p){function _(g){var u;return(u=p.call(this)||this).name="GraphError",u.message=g,u}return G(_,p),_}(T(Error)),kt=function(p){function _(g){var u;return(u=p.call(this,g)||this).name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(N(u),_.prototype.constructor),u}return G(_,p),_}(me),It=function(p){function _(g){var u;return(u=p.call(this,g)||this).name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(N(u),_.prototype.constructor),u}return G(_,p),_}(me),Gt=function(p){function _(g){var u;return(u=p.call(this,g)||this).name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(N(u),_.prototype.constructor),u}return G(_,p),_}(me);function Re(p,_){this.key=p,this.attributes=_,this.clear()}function qe(p,_){this.key=p,this.attributes=_,this.clear()}function cn(p,_){this.key=p,this.attributes=_,this.clear()}function Be(p,_,g,u,c){this.key=_,this.attributes=c,this.undirected=p,this.source=g,this.target=u}function De(p,_,g,u,c,v,M){var U,rt,At,Et;if(u=""+u,0===g){if(!(U=p._nodes.get(u)))throw new It("Graph.".concat(_,': could not find the "').concat(u,'" node in the graph.'));At=c,Et=v}else if(3===g){if(!(rt=p._edges.get(c=""+c)))throw new It("Graph.".concat(_,': could not find the "').concat(c,'" edge in the graph.'));var mt=rt.source.key,zt=rt.target.key;if(u===mt)U=rt.target;else{if(u!==zt)throw new It("Graph.".concat(_,': the "').concat(u,'" node is not attached to the "').concat(c,'" edge (').concat(mt,", ").concat(zt,")."));U=rt.source}At=v,Et=M}else{if(!(rt=p._edges.get(u)))throw new It("Graph.".concat(_,': could not find the "').concat(u,'" edge in the graph.'));U=1===g?rt.source:rt.target,At=c,Et=v}return[U,At,Et]}Re.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}},qe.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}},cn.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}},Be.prototype.attach=function(){var p="out",_="in";this.undirected&&(p=_="undirected");var g=this.source.key,u=this.target.key;this.source[p][u]=this,this.undirected&&g===u||(this.target[_][g]=this)},Be.prototype.attachMulti=function(){var p="out",_="in",g=this.source.key,u=this.target.key;this.undirected&&(p=_="undirected");var c=this.source[p],v=c[u];if(void 0===v)return c[u]=this,void(this.undirected&&g===u||(this.target[_][g]=this));v.previous=this,this.next=v,c[u]=this,this.target[_][g]=this},Be.prototype.detach=function(){var p=this.source.key,g="out",u="in";this.undirected&&(g=u="undirected"),delete this.source[g][this.target.key],delete this.target[u][p]},Be.prototype.detachMulti=function(){var p=this.source.key,_=this.target.key,g="out",u="in";this.undirected&&(g=u="undirected"),void 0===this.previous?void 0===this.next?(delete this.source[g][_],delete this.target[u][p]):(this.next.previous=void 0,this.source[g][_]=this.next,this.target[u][p]=this.next):(this.previous.next=this.next,void 0!==this.next&&(this.next.previous=this.previous))};var _n=[{name:function(p){return"get".concat(p,"Attribute")},attacher:function(p,_,g){p.prototype[_]=function(u,c,v){var M=De(this,_,g,u,c,v);return M[0].attributes[M[1]]}}},{name:function(p){return"get".concat(p,"Attributes")},attacher:function(p,_,g){p.prototype[_]=function(u,c){return De(this,_,g,u,c)[0].attributes}}},{name:function(p){return"has".concat(p,"Attribute")},attacher:function(p,_,g){p.prototype[_]=function(u,c,v){var M=De(this,_,g,u,c,v);return M[0].attributes.hasOwnProperty(M[1])}}},{name:function(p){return"set".concat(p,"Attribute")},attacher:function(p,_,g){p.prototype[_]=function(u,c,v,M){var U=De(this,_,g,u,c,v,M),rt=U[0],At=U[1];return rt.attributes[At]=U[2],this.emit("nodeAttributesUpdated",{key:rt.key,type:"set",attributes:rt.attributes,name:At}),this}}},{name:function(p){return"update".concat(p,"Attribute")},attacher:function(p,_,g){p.prototype[_]=function(u,c,v,M){var U=De(this,_,g,u,c,v,M),rt=U[0],At=U[1],Et=U[2];if("function"!=typeof Et)throw new kt("Graph.".concat(_,": updater should be a function."));var mt=rt.attributes,zt=Et(mt[At]);return mt[At]=zt,this.emit("nodeAttributesUpdated",{key:rt.key,type:"set",attributes:rt.attributes,name:At}),this}}},{name:function(p){return"remove".concat(p,"Attribute")},attacher:function(p,_,g){p.prototype[_]=function(u,c,v){var M=De(this,_,g,u,c,v),U=M[0],rt=M[1];return delete U.attributes[rt],this.emit("nodeAttributesUpdated",{key:U.key,type:"remove",attributes:U.attributes,name:rt}),this}}},{name:function(p){return"replace".concat(p,"Attributes")},attacher:function(p,_,g){p.prototype[_]=function(u,c,v){var M=De(this,_,g,u,c,v),U=M[0],rt=M[1];if(!w(rt))throw new kt("Graph.".concat(_,": provided attributes are not a plain object."));return U.attributes=rt,this.emit("nodeAttributesUpdated",{key:U.key,type:"replace",attributes:U.attributes}),this}}},{name:function(p){return"merge".concat(p,"Attributes")},attacher:function(p,_,g){p.prototype[_]=function(u,c,v){var M=De(this,_,g,u,c,v),U=M[0],rt=M[1];if(!w(rt))throw new kt("Graph.".concat(_,": provided attributes are not a plain object."));return z(U.attributes,rt),this.emit("nodeAttributesUpdated",{key:U.key,type:"merge",attributes:U.attributes,data:rt}),this}}},{name:function(p){return"update".concat(p,"Attributes")},attacher:function(p,_,g){p.prototype[_]=function(u,c,v){var M=De(this,_,g,u,c,v),U=M[0],rt=M[1];if("function"!=typeof rt)throw new kt("Graph.".concat(_,": provided updater is not a function."));return U.attributes=rt(U.attributes),this.emit("nodeAttributesUpdated",{key:U.key,type:"update",attributes:U.attributes}),this}}}],Je=[{name:function(p){return"get".concat(p,"Attribute")},attacher:function(p,_,g){p.prototype[_]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Gt("Graph.".concat(_,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Gt("Graph.".concat(_,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var M=""+u,U=""+c;if(c=arguments[2],!(v=b(this,M,U,g)))throw new It("Graph.".concat(_,': could not find an edge for the given path ("').concat(M,'" - "').concat(U,'").'))}else{if("mixed"!==g)throw new Gt("Graph.".concat(_,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new It("Graph.".concat(_,': could not find the "').concat(u,'" edge in the graph.'))}return v.attributes[c]}}},{name:function(p){return"get".concat(p,"Attributes")},attacher:function(p,_,g){p.prototype[_]=function(u){var c;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Gt("Graph.".concat(_,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new Gt("Graph.".concat(_,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var v=""+u,M=""+arguments[1];if(!(c=b(this,v,M,g)))throw new It("Graph.".concat(_,': could not find an edge for the given path ("').concat(v,'" - "').concat(M,'").'))}else{if("mixed"!==g)throw new Gt("Graph.".concat(_,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(c=this._edges.get(u=""+u)))throw new It("Graph.".concat(_,': could not find the "').concat(u,'" edge in the graph.'))}return c.attributes}}},{name:function(p){return"has".concat(p,"Attribute")},attacher:function(p,_,g){p.prototype[_]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Gt("Graph.".concat(_,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Gt("Graph.".concat(_,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var M=""+u,U=""+c;if(c=arguments[2],!(v=b(this,M,U,g)))throw new It("Graph.".concat(_,': could not find an edge for the given path ("').concat(M,'" - "').concat(U,'").'))}else{if("mixed"!==g)throw new Gt("Graph.".concat(_,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new It("Graph.".concat(_,': could not find the "').concat(u,'" edge in the graph.'))}return v.attributes.hasOwnProperty(c)}}},{name:function(p){return"set".concat(p,"Attribute")},attacher:function(p,_,g){p.prototype[_]=function(u,c,v){var M;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Gt("Graph.".concat(_,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new Gt("Graph.".concat(_,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var U=""+u,rt=""+c;if(c=arguments[2],v=arguments[3],!(M=b(this,U,rt,g)))throw new It("Graph.".concat(_,': could not find an edge for the given path ("').concat(U,'" - "').concat(rt,'").'))}else{if("mixed"!==g)throw new Gt("Graph.".concat(_,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(M=this._edges.get(u=""+u)))throw new It("Graph.".concat(_,': could not find the "').concat(u,'" edge in the graph.'))}return M.attributes[c]=v,this.emit("edgeAttributesUpdated",{key:M.key,type:"set",attributes:M.attributes,name:c}),this}}},{name:function(p){return"update".concat(p,"Attribute")},attacher:function(p,_,g){p.prototype[_]=function(u,c,v){var M;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Gt("Graph.".concat(_,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new Gt("Graph.".concat(_,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var U=""+u,rt=""+c;if(c=arguments[2],v=arguments[3],!(M=b(this,U,rt,g)))throw new It("Graph.".concat(_,': could not find an edge for the given path ("').concat(U,'" - "').concat(rt,'").'))}else{if("mixed"!==g)throw new Gt("Graph.".concat(_,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(M=this._edges.get(u=""+u)))throw new It("Graph.".concat(_,': could not find the "').concat(u,'" edge in the graph.'))}if("function"!=typeof v)throw new kt("Graph.".concat(_,": updater should be a function."));return M.attributes[c]=v(M.attributes[c]),this.emit("edgeAttributesUpdated",{key:M.key,type:"set",attributes:M.attributes,name:c}),this}}},{name:function(p){return"remove".concat(p,"Attribute")},attacher:function(p,_,g){p.prototype[_]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Gt("Graph.".concat(_,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Gt("Graph.".concat(_,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var M=""+u,U=""+c;if(c=arguments[2],!(v=b(this,M,U,g)))throw new It("Graph.".concat(_,': could not find an edge for the given path ("').concat(M,'" - "').concat(U,'").'))}else{if("mixed"!==g)throw new Gt("Graph.".concat(_,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new It("Graph.".concat(_,': could not find the "').concat(u,'" edge in the graph.'))}return delete v.attributes[c],this.emit("edgeAttributesUpdated",{key:v.key,type:"remove",attributes:v.attributes,name:c}),this}}},{name:function(p){return"replace".concat(p,"Attributes")},attacher:function(p,_,g){p.prototype[_]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Gt("Graph.".concat(_,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Gt("Graph.".concat(_,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var M=""+u,U=""+c;if(c=arguments[2],!(v=b(this,M,U,g)))throw new It("Graph.".concat(_,': could not find an edge for the given path ("').concat(M,'" - "').concat(U,'").'))}else{if("mixed"!==g)throw new Gt("Graph.".concat(_,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new It("Graph.".concat(_,': could not find the "').concat(u,'" edge in the graph.'))}if(!w(c))throw new kt("Graph.".concat(_,": provided attributes are not a plain object."));return v.attributes=c,this.emit("edgeAttributesUpdated",{key:v.key,type:"replace",attributes:v.attributes}),this}}},{name:function(p){return"merge".concat(p,"Attributes")},attacher:function(p,_,g){p.prototype[_]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Gt("Graph.".concat(_,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Gt("Graph.".concat(_,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var M=""+u,U=""+c;if(c=arguments[2],!(v=b(this,M,U,g)))throw new It("Graph.".concat(_,': could not find an edge for the given path ("').concat(M,'" - "').concat(U,'").'))}else{if("mixed"!==g)throw new Gt("Graph.".concat(_,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new It("Graph.".concat(_,': could not find the "').concat(u,'" edge in the graph.'))}if(!w(c))throw new kt("Graph.".concat(_,": provided attributes are not a plain object."));return z(v.attributes,c),this.emit("edgeAttributesUpdated",{key:v.key,type:"merge",attributes:v.attributes,data:c}),this}}},{name:function(p){return"update".concat(p,"Attributes")},attacher:function(p,_,g){p.prototype[_]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Gt("Graph.".concat(_,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Gt("Graph.".concat(_,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var M=""+u,U=""+c;if(c=arguments[2],!(v=b(this,M,U,g)))throw new It("Graph.".concat(_,': could not find an edge for the given path ("').concat(M,'" - "').concat(U,'").'))}else{if("mixed"!==g)throw new Gt("Graph.".concat(_,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new It("Graph.".concat(_,': could not find the "').concat(u,'" edge in the graph.'))}if("function"!=typeof c)throw new kt("Graph.".concat(_,": provided updater is not a function."));return v.attributes=c(v.attributes),this.emit("edgeAttributesUpdated",{key:v.key,type:"update",attributes:v.attributes}),this}}}],gn=Jt,Vi=ie,Oe=function(){var p=arguments,_=null,g=-1;return new gn(function(){for(var u=null;;){if(null===_){if(++g>=p.length)return{done:!0};_=Vi(p[g])}if(!0!==(u=_.next()).done)break;_=null}return u})},No=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function Wr(p,_,g,u){var c=!1;for(var v in _)if(v!==u){var M=_[v];if(c=g(M.key,M.attributes,M.source.key,M.target.key,M.source.attributes,M.target.attributes,M.undirected),p&&c)return M.key}}function Br(p,_,g,u){var c,v,M,U=!1;for(var rt in _)if(rt!==u){c=_[rt];do{if(U=g(c.key,c.attributes,(v=c.source).key,(M=c.target).key,v.attributes,M.attributes,c.undirected),p&&U)return c.key;c=c.next}while(void 0!==c)}}function vn(p,_){var g,u=Object.keys(p),c=u.length,v=0;return new Jt(function(){do{if(g)g=g.next;else{if(v>=c)return{done:!0};var M=u[v++];if(M===_){g=void 0;continue}g=p[M]}}while(!g);return{done:!1,value:{edge:g.key,attributes:g.attributes,source:g.source.key,target:g.target.key,sourceAttributes:g.source.attributes,targetAttributes:g.target.attributes,undirected:g.undirected}}})}function Kn(p,_,g,u){var c=_[g];if(c){var v=c.source,M=c.target;return u(c.key,c.attributes,v.key,M.key,v.attributes,M.attributes,c.undirected)&&p?c.key:void 0}}function Vn(p,_,g,u){var c=_[g];if(c){var v=!1;do{if(v=u(c.key,c.attributes,c.source.key,c.target.key,c.source.attributes,c.target.attributes,c.undirected),p&&v)return c.key;c=c.next}while(void 0!==c)}}function qi(p,_){var g=p[_];return void 0!==g.next?new Jt(function(){if(!g)return{done:!0};var u={edge:g.key,attributes:g.attributes,source:g.source.key,target:g.target.key,sourceAttributes:g.source.attributes,targetAttributes:g.target.attributes,undirected:g.undirected};return g=g.next,{done:!1,value:u}}):Jt.of({edge:g.key,attributes:g.attributes,source:g.source.key,target:g.target.key,sourceAttributes:g.source.attributes,targetAttributes:g.target.attributes,undirected:g.undirected})}function Fr(p,_){if(0===p.size)return[];if("mixed"===_||_===p.type)return"function"==typeof Array.from?Array.from(p._edges.keys()):Ve(p._edges.keys(),p._edges.size);for(var g,u,v=new Array("undirected"===_?p.undirectedSize:p.directedSize),M="undirected"===_,U=p._edges.values(),rt=0;!0!==(g=U.next()).done;)(u=g.value).undirected===M&&(v[rt++]=u.key);return v}function Ji(p,_,g,u){if(0!==_.size)for(var c,v,M="mixed"!==g&&g!==_.type,U="undirected"===g,rt=!1,At=_._edges.values();!0!==(c=At.next()).done;)if(v=c.value,!M||v.undirected===U){var mt=v.key,Rt=v.source,Qt=v.target;if(rt=u(mt,v.attributes,Rt.key,Qt.key,Rt.attributes,Qt.attributes,v.undirected),p&&rt)return mt}}function Zr(p,_){if(0===p.size)return Jt.empty();var g="mixed"!==_&&_!==p.type,u="undirected"===_,c=p._edges.values();return new Jt(function(){for(var v,M;;){if((v=c.next()).done)return v;if(M=v.value,!g||M.undirected===u)break}return{value:{edge:M.key,attributes:M.attributes,source:M.source.key,target:M.target.key,sourceAttributes:M.source.attributes,targetAttributes:M.target.attributes,undirected:M.undirected},done:!1}})}function Mn(p,_,g,u,c,v){var M,U=_?Br:Wr;if("undirected"!==g&&("out"!==u&&(M=U(p,c.in,v),p&&M)||"in"!==u&&(M=U(p,c.out,v,u?void 0:c.key),p&&M))||"directed"!==g&&(M=U(p,c.undirected,v),p&&M))return M}function bi(p,_,g,u){var c=[];return Mn(!1,p,_,g,u,function(v){c.push(v)}),c}function _i(p,_,g){var u=Jt.empty();return"undirected"!==p&&("out"!==_&&void 0!==g.in&&(u=Oe(u,vn(g.in))),"in"!==_&&void 0!==g.out&&(u=Oe(u,vn(g.out,_?void 0:g.key)))),"directed"!==p&&void 0!==g.undirected&&(u=Oe(u,vn(g.undirected))),u}function $r(p,_,g,u,c,v,M){var U,rt=g?Vn:Kn;if("undirected"!==_&&(void 0!==c.in&&"out"!==u&&(U=rt(p,c.in,v,M),p&&U)||void 0!==c.out&&"in"!==u&&(u||c.key!==v)&&(U=rt(p,c.out,v,M),p&&U))||"directed"!==_&&void 0!==c.undirected&&(U=rt(p,c.undirected,v,M),p&&U))return U}function Yr(p,_,g,u,c){var v=[];return $r(!1,p,_,g,u,c,function(M){v.push(M)}),v}function qn(p,_,g,u){var c=Jt.empty();return"undirected"!==p&&(void 0!==g.in&&"out"!==_&&u in g.in&&(c=Oe(c,qi(g.in,u))),void 0!==g.out&&"in"!==_&&u in g.out&&(_||g.key!==u)&&(c=Oe(c,qi(g.out,u)))),"directed"!==p&&void 0!==g.undirected&&u in g.undirected&&(c=Oe(c,qi(g.undirected,u))),c}var Ar=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function Jn(){this.A=null,this.B=null}function yn(p,_,g,u,c){for(var v in u){var M=u[v],U=M.source,At=U===g?M.target:U;if(!_||!_.has(At.key)){var Et=c(At.key,At.attributes);if(p&&Et)return At.key}}}function Ai(p,_,g,u,c){if("mixed"!==_){if("undirected"===_)return yn(p,null,u,u.undirected,c);if("string"==typeof g)return yn(p,null,u,u[g],c)}var v,M=new Jn;if("undirected"!==_){if("out"!==g){if(v=yn(p,null,u,u.in,c),p&&v)return v;M.wrap(u.in)}if("in"!==g){if(v=yn(p,M,u,u.out,c),p&&v)return v;M.wrap(u.out)}}if("directed"!==_&&(v=yn(p,M,u,u.undirected,c),p&&v))return v}function Er(p,_,g){var u=Object.keys(g),c=u.length,v=0;return new Jt(function(){var M=null;do{if(v>=c)return p&&p.wrap(g),{done:!0};var U=g[u[v++]],rt=U.source;M=rt===_?U.target:rt,p&&p.has(M.key)&&(M=null)}while(null===M);return{done:!1,value:{neighbor:M.key,attributes:M.attributes}}})}function On(p,_,g,u,c){for(var v,M,U,rt,At,Et,mt,zt=u._nodes.values(),Rt=u.type;!0!==(v=zt.next()).done;){var Qt=!1;if(M=v.value,"undirected"!==Rt)for(U in rt=M.out){At=rt[U];do{if(Qt=!0,mt=c(M.key,(Et=At.target).key,M.attributes,Et.attributes,At.key,At.attributes,At.undirected),p&&mt)return At;At=At.next}while(At)}if("directed"!==Rt)for(U in rt=M.undirected)if(!(_&&M.key>U)){At=rt[U];do{if((Et=At.target).key!==U&&(Et=At.source),Qt=!0,mt=c(M.key,Et.key,M.attributes,Et.attributes,At.key,At.attributes,At.undirected),p&&mt)return At;At=At.next}while(At)}if(g&&!Qt&&(mt=c(M.key,null,M.attributes,null,null,null,null),p&&mt))return null}}function Lo(p){if(!w(p))throw new kt('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in p))throw new kt("Graph.import: serialized node is missing its key.");if("attributes"in p&&(!w(p.attributes)||null===p.attributes))throw new kt("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function Ps(p){if(!w(p))throw new kt('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in p))throw new kt("Graph.import: serialized edge is missing its source.");if(!("target"in p))throw new kt("Graph.import: serialized edge is missing its target.");if("attributes"in p&&(!w(p.attributes)||null===p.attributes))throw new kt("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in p&&"boolean"!=typeof p.undirected)throw new kt("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}Jn.prototype.wrap=function(p){null===this.A?this.A=p:null===this.B&&(this.B=p)},Jn.prototype.has=function(p){return null!==this.A&&p in this.A||null!==this.B&&p in this.B};var To,Ha=(To=255&Math.floor(256*Math.random()),function(){return To++}),Xa=new Set(["directed","undirected","mixed"]),Qn=new Set(["domain","_events","_eventsCount","_maxListeners"]),zo={allowSelfLoops:!0,multi:!1,type:"mixed"};function Ro(p,_,g){var u=new p.NodeDataClass(_,g);return p._nodes.set(_,u),p.emit("nodeAdded",{key:_,attributes:g}),u}function Ci(p,_,g,u,c,v,M,U){if(!u&&"undirected"===p.type)throw new Gt("Graph.".concat(_,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(u&&"directed"===p.type)throw new Gt("Graph.".concat(_,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(U&&!w(U))throw new kt("Graph.".concat(_,': invalid attributes. Expecting an object but got "').concat(U,'"'));if(v=""+v,M=""+M,U=U||{},!p.allowSelfLoops&&v===M)throw new Gt("Graph.".concat(_,': source & target are the same ("').concat(v,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var rt=p._nodes.get(v),At=p._nodes.get(M);if(!rt)throw new It("Graph.".concat(_,': source node "').concat(v,'" not found.'));if(!At)throw new It("Graph.".concat(_,': target node "').concat(M,'" not found.'));var Et={key:null,undirected:u,source:v,target:M,attributes:U};if(g)c=p._edgeKeyGenerator();else if(p._edges.has(c=""+c))throw new Gt("Graph.".concat(_,': the "').concat(c,'" edge already exists in the graph.'));if(!p.multi&&(u?void 0!==rt.undirected[M]:void 0!==rt.out[M]))throw new Gt("Graph.".concat(_,': an edge linking "').concat(v,'" to "').concat(M,"\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option."));var mt=new Be(u,c,rt,At,U);p._edges.set(c,mt);var zt=v===M;return u?(rt.undirectedDegree++,At.undirectedDegree++,zt&&(rt.undirectedLoops++,p._undirectedSelfLoopCount++)):(rt.outDegree++,At.inDegree++,zt&&(rt.directedLoops++,p._directedSelfLoopCount++)),p.multi?mt.attachMulti():mt.attach(),u?p._undirectedSize++:p._directedSize++,Et.key=c,p.emit("edgeAdded",Et),c}function Si(p,_,g,u,c,v,M,U,rt){if(!u&&"undirected"===p.type)throw new Gt("Graph.".concat(_,": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead."));if(u&&"directed"===p.type)throw new Gt("Graph.".concat(_,": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead."));if(U)if(rt){if("function"!=typeof U)throw new kt("Graph.".concat(_,': invalid updater function. Expecting a function but got "').concat(U,'"'))}else if(!w(U))throw new kt("Graph.".concat(_,': invalid attributes. Expecting an object but got "').concat(U,'"'));var At;if(v=""+v,M=""+M,rt&&(At=U,U=void 0),!p.allowSelfLoops&&v===M)throw new Gt("Graph.".concat(_,': source & target are the same ("').concat(v,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var Et,mt,zt=p._nodes.get(v),Rt=p._nodes.get(M);if(!g&&(Et=p._edges.get(c))){if(!(Et.source.key===v&&Et.target.key===M||u&&Et.source.key===M&&Et.target.key===v))throw new Gt("Graph.".concat(_,': inconsistency detected when attempting to merge the "').concat(c,'" edge with "').concat(v,'" source & "').concat(M,'" target vs. ("').concat(Et.source.key,'", "').concat(Et.target.key,'").'));mt=Et}if(mt||p.multi||!zt||(mt=u?zt.undirected[M]:zt.out[M]),mt){var Qt=[mt.key,!1,!1,!1];return(rt?At:U)?(rt?(mt.attributes=At(mt.attributes),p.emit("edgeAttributesUpdated",{type:"replace",key:mt.key,attributes:mt.attributes})):(z(mt.attributes,U),p.emit("edgeAttributesUpdated",{type:"merge",key:mt.key,attributes:mt.attributes,data:U})),Qt):Qt}U=U||{},rt&&At&&(U=At(U));var Se={key:null,undirected:u,source:v,target:M,attributes:U};if(g)c=p._edgeKeyGenerator();else if(p._edges.has(c=""+c))throw new Gt("Graph.".concat(_,': the "').concat(c,'" edge already exists in the graph.'));var Pe=!1,Ge=!1;zt||(zt=Ro(p,v,{}),Pe=!0,v===M&&(Rt=zt,Ge=!0)),Rt||(Rt=Ro(p,M,{}),Ge=!0),Et=new Be(u,c,zt,Rt,U),p._edges.set(c,Et);var nn=v===M;return u?(zt.undirectedDegree++,Rt.undirectedDegree++,nn&&(zt.undirectedLoops++,p._undirectedSelfLoopCount++)):(zt.outDegree++,Rt.inDegree++,nn&&(zt.directedLoops++,p._directedSelfLoopCount++)),p.multi?Et.attachMulti():Et.attach(),u?p._undirectedSize++:p._directedSize++,Se.key=c,p.emit("edgeAdded",Se),[c,!0,Pe,Ge]}function sr(p,_){p._edges.delete(_.key);var g=_.source,u=_.target,c=_.attributes,v=_.undirected,M=g===u;v?(g.undirectedDegree--,u.undirectedDegree--,M&&(g.undirectedLoops--,p._undirectedSelfLoopCount--)):(g.outDegree--,u.inDegree--,M&&(g.directedLoops--,p._directedSelfLoopCount--)),p.multi?_.detachMulti():_.detach(),v?p._undirectedSize--:p._directedSize--,p.emit("edgeDropped",{key:_.key,attributes:c,source:g.key,target:u.key,undirected:v})}var p,Ee=function(p){function _(u){var c;if(c=p.call(this)||this,"boolean"!=typeof(u=z({},zo,u)).multi)throw new kt("Graph.constructor: invalid 'multi' option. Expecting a boolean but got \"".concat(u.multi,'".'));if(!Xa.has(u.type))throw new kt('Graph.constructor: invalid \'type\' option. Should be one of "mixed", "directed" or "undirected" but got "'.concat(u.type,'".'));if("boolean"!=typeof u.allowSelfLoops)throw new kt("Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \"".concat(u.allowSelfLoops,'".'));var v="mixed"===u.type?Re:"directed"===u.type?qe:cn;I(N(c),"NodeDataClass",v);var M="geid_"+Ha()+"_",U=0;return I(N(c),"_attributes",{}),I(N(c),"_nodes",new Map),I(N(c),"_edges",new Map),I(N(c),"_directedSize",0),I(N(c),"_undirectedSize",0),I(N(c),"_directedSelfLoopCount",0),I(N(c),"_undirectedSelfLoopCount",0),I(N(c),"_edgeKeyGenerator",function(){var rt;do{rt=M+U++}while(c._edges.has(rt));return rt}),I(N(c),"_options",u),Qn.forEach(function(rt){return I(N(c),rt,c[rt])}),k(N(c),"order",function(){return c._nodes.size}),k(N(c),"size",function(){return c._edges.size}),k(N(c),"directedSize",function(){return c._directedSize}),k(N(c),"undirectedSize",function(){return c._undirectedSize}),k(N(c),"selfLoopCount",function(){return c._directedSelfLoopCount+c._undirectedSelfLoopCount}),k(N(c),"directedSelfLoopCount",function(){return c._directedSelfLoopCount}),k(N(c),"undirectedSelfLoopCount",function(){return c._undirectedSelfLoopCount}),k(N(c),"multi",c._options.multi),k(N(c),"type",c._options.type),k(N(c),"allowSelfLoops",c._options.allowSelfLoops),k(N(c),"implementation",function(){return"graphology"}),c}G(_,p);var g=_.prototype;return g._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},g.hasNode=function(u){return this._nodes.has(""+u)},g.hasDirectedEdge=function(u,c){if("undirected"===this.type)return!1;if(1===arguments.length){var M=this._edges.get(""+u);return!!M&&!M.undirected}if(2===arguments.length){c=""+c;var U=this._nodes.get(u=""+u);return!!U&&U.out.hasOwnProperty(c)}throw new kt("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},g.hasUndirectedEdge=function(u,c){if("directed"===this.type)return!1;if(1===arguments.length){var M=this._edges.get(""+u);return!!M&&M.undirected}if(2===arguments.length){c=""+c;var U=this._nodes.get(u=""+u);return!!U&&U.undirected.hasOwnProperty(c)}throw new kt("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},g.hasEdge=function(u,c){if(1===arguments.length)return this._edges.has(""+u);if(2===arguments.length){c=""+c;var M=this._nodes.get(u=""+u);return!!M&&(void 0!==M.out&&M.out.hasOwnProperty(c)||void 0!==M.undirected&&M.undirected.hasOwnProperty(c))}throw new kt("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},g.directedEdge=function(u,c){if("undirected"!==this.type){if(u=""+u,c=""+c,this.multi)throw new Gt("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var v=this._nodes.get(u);if(!v)throw new It('Graph.directedEdge: could not find the "'.concat(u,'" source node in the graph.'));if(!this._nodes.has(c))throw new It('Graph.directedEdge: could not find the "'.concat(c,'" target node in the graph.'));var M=v.out&&v.out[c]||void 0;return M?M.key:void 0}},g.undirectedEdge=function(u,c){if("directed"!==this.type){if(u=""+u,c=""+c,this.multi)throw new Gt("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var v=this._nodes.get(u);if(!v)throw new It('Graph.undirectedEdge: could not find the "'.concat(u,'" source node in the graph.'));if(!this._nodes.has(c))throw new It('Graph.undirectedEdge: could not find the "'.concat(c,'" target node in the graph.'));var M=v.undirected&&v.undirected[c]||void 0;return M?M.key:void 0}},g.edge=function(u,c){if(this.multi)throw new Gt("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new It('Graph.edge: could not find the "'.concat(u,'" source node in the graph.'));if(!this._nodes.has(c))throw new It('Graph.edge: could not find the "'.concat(c,'" target node in the graph.'));var M=v.out&&v.out[c]||v.undirected&&v.undirected[c]||void 0;if(M)return M.key},g.areDirectedNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new It('Graph.areDirectedNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&(c in v.in||c in v.out)},g.areOutNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new It('Graph.areOutNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&c in v.out},g.areInNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new It('Graph.areInNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&c in v.in},g.areUndirectedNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new It('Graph.areUndirectedNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"directed"!==this.type&&c in v.undirected},g.areNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new It('Graph.areNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&(c in v.in||c in v.out)||"directed"!==this.type&&c in v.undirected},g.areInboundNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new It('Graph.areInboundNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&c in v.in||"directed"!==this.type&&c in v.undirected},g.areOutboundNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new It('Graph.areOutboundNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&c in v.out||"directed"!==this.type&&c in v.undirected},g.inDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.inDegree: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.inDegree},g.outDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.outDegree: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.outDegree},g.directedDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.directedDegree: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.inDegree+c.outDegree},g.undirectedDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.undirectedDegree: could not find the "'.concat(u,'" node in the graph.'));return"directed"===this.type?0:c.undirectedDegree},g.inboundDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.inboundDegree: could not find the "'.concat(u,'" node in the graph.'));var v=0;return"directed"!==this.type&&(v+=c.undirectedDegree),"undirected"!==this.type&&(v+=c.inDegree),v},g.outboundDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.outboundDegree: could not find the "'.concat(u,'" node in the graph.'));var v=0;return"directed"!==this.type&&(v+=c.undirectedDegree),"undirected"!==this.type&&(v+=c.outDegree),v},g.degree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.degree: could not find the "'.concat(u,'" node in the graph.'));var v=0;return"directed"!==this.type&&(v+=c.undirectedDegree),"undirected"!==this.type&&(v+=c.inDegree+c.outDegree),v},g.inDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.inDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.inDegree-c.directedLoops},g.outDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.outDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.outDegree-c.directedLoops},g.directedDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.directedDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.inDegree+c.outDegree-2*c.directedLoops},g.undirectedDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.undirectedDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));return"directed"===this.type?0:c.undirectedDegree-2*c.undirectedLoops},g.inboundDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.inboundDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));var v=0,M=0;return"directed"!==this.type&&(v+=c.undirectedDegree,M+=2*c.undirectedLoops),"undirected"!==this.type&&(v+=c.inDegree,M+=c.directedLoops),v-M},g.outboundDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.outboundDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));var v=0,M=0;return"directed"!==this.type&&(v+=c.undirectedDegree,M+=2*c.undirectedLoops),"undirected"!==this.type&&(v+=c.outDegree,M+=c.directedLoops),v-M},g.degreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.degreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));var v=0,M=0;return"directed"!==this.type&&(v+=c.undirectedDegree,M+=2*c.undirectedLoops),"undirected"!==this.type&&(v+=c.inDegree+c.outDegree,M+=2*c.directedLoops),v-M},g.source=function(u){var c=this._edges.get(u=""+u);if(!c)throw new It('Graph.source: could not find the "'.concat(u,'" edge in the graph.'));return c.source.key},g.target=function(u){var c=this._edges.get(u=""+u);if(!c)throw new It('Graph.target: could not find the "'.concat(u,'" edge in the graph.'));return c.target.key},g.extremities=function(u){var c=this._edges.get(u=""+u);if(!c)throw new It('Graph.extremities: could not find the "'.concat(u,'" edge in the graph.'));return[c.source.key,c.target.key]},g.opposite=function(u,c){u=""+u;var v=this._edges.get(c=""+c);if(!v)throw new It('Graph.opposite: could not find the "'.concat(c,'" edge in the graph.'));var M=v.source.key,U=v.target.key;if(u===M)return U;if(u===U)return M;throw new It('Graph.opposite: the "'.concat(u,'" node is not attached to the "').concat(c,'" edge (').concat(M,", ").concat(U,")."))},g.hasExtremity=function(u,c){c=""+c;var v=this._edges.get(u=""+u);if(!v)throw new It('Graph.hasExtremity: could not find the "'.concat(u,'" edge in the graph.'));return v.source.key===c||v.target.key===c},g.isUndirected=function(u){var c=this._edges.get(u=""+u);if(!c)throw new It('Graph.isUndirected: could not find the "'.concat(u,'" edge in the graph.'));return c.undirected},g.isDirected=function(u){var c=this._edges.get(u=""+u);if(!c)throw new It('Graph.isDirected: could not find the "'.concat(u,'" edge in the graph.'));return!c.undirected},g.isSelfLoop=function(u){var c=this._edges.get(u=""+u);if(!c)throw new It('Graph.isSelfLoop: could not find the "'.concat(u,'" edge in the graph.'));return c.source===c.target},g.addNode=function(u,c){return function(M,U,rt){if(rt&&!w(rt))throw new kt('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(rt,'"'));if(rt=rt||{},M._nodes.has(U=""+U))throw new Gt('Graph.addNode: the "'.concat(U,'" node already exist in the graph.'));var At=new M.NodeDataClass(U,rt);return M._nodes.set(U,At),M.emit("nodeAdded",{key:U,attributes:rt}),At}(this,u,c).key},g.mergeNode=function(u,c){if(c&&!w(c))throw new kt('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(c,'"'));c=c||{};var v=this._nodes.get(u=""+u);return v?(c&&(z(v.attributes,c),this.emit("nodeAttributesUpdated",{type:"merge",key:u,attributes:v.attributes,data:c})),[u,!1]):(v=new this.NodeDataClass(u,c),this._nodes.set(u,v),this.emit("nodeAdded",{key:u,attributes:c}),[u,!0])},g.updateNode=function(u,c){if(c&&"function"!=typeof c)throw new kt('Graph.updateNode: invalid updater function. Expecting a function but got "'.concat(c,'"'));var v=this._nodes.get(u=""+u);if(v)return c&&(v.attributes=c(v.attributes),this.emit("nodeAttributesUpdated",{type:"replace",key:u,attributes:v.attributes})),[u,!1];var U=c?c({}):{};return v=new this.NodeDataClass(u,U),this._nodes.set(u,v),this.emit("nodeAdded",{key:u,attributes:U}),[u,!0]},g.dropNode=function(u){var c,v=this._nodes.get(u=""+u);if(!v)throw new It('Graph.dropNode: could not find the "'.concat(u,'" node in the graph.'));if("undirected"!==this.type){for(var M in v.out){c=v.out[M];do{sr(this,c),c=c.next}while(c)}for(var U in v.in){c=v.in[U];do{sr(this,c),c=c.next}while(c)}}if("directed"!==this.type)for(var rt in v.undirected){c=v.undirected[rt];do{sr(this,c),c=c.next}while(c)}this._nodes.delete(u),this.emit("nodeDropped",{key:u,attributes:v.attributes})},g.dropEdge=function(u){var c;if(arguments.length>1){var v=""+arguments[0],M=""+arguments[1];if(!(c=b(this,v,M,this.type)))throw new It('Graph.dropEdge: could not find the "'.concat(v,'" -> "').concat(M,'" edge in the graph.'))}else if(!(c=this._edges.get(u=""+u)))throw new It('Graph.dropEdge: could not find the "'.concat(u,'" edge in the graph.'));return sr(this,c),this},g.dropDirectedEdge=function(u,c){if(arguments.length<2)throw new Gt("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new Gt("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var v=b(this,u=""+u,c=""+c,"directed");if(!v)throw new It('Graph.dropDirectedEdge: could not find a "'.concat(u,'" -> "').concat(c,'" edge in the graph.'));return sr(this,v),this},g.dropUndirectedEdge=function(u,c){if(arguments.length<2)throw new Gt("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new Gt("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var v=b(this,u,c,"undirected");if(!v)throw new It('Graph.dropUndirectedEdge: could not find a "'.concat(u,'" -> "').concat(c,'" edge in the graph.'));return sr(this,v),this},g.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")},g.clearEdges=function(){for(var u,c=this._nodes.values();!0!==(u=c.next()).done;)u.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")},g.getAttribute=function(u){return this._attributes[u]},g.getAttributes=function(){return this._attributes},g.hasAttribute=function(u){return this._attributes.hasOwnProperty(u)},g.setAttribute=function(u,c){return this._attributes[u]=c,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:u}),this},g.updateAttribute=function(u,c){if("function"!=typeof c)throw new kt("Graph.updateAttribute: updater should be a function.");return this._attributes[u]=c(this._attributes[u]),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:u}),this},g.removeAttribute=function(u){return delete this._attributes[u],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:u}),this},g.replaceAttributes=function(u){if(!w(u))throw new kt("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=u,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this},g.mergeAttributes=function(u){if(!w(u))throw new kt("Graph.mergeAttributes: provided attributes are not a plain object.");return z(this._attributes,u),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:u}),this},g.updateAttributes=function(u){if("function"!=typeof u)throw new kt("Graph.updateAttributes: provided updater is not a function.");return this._attributes=u(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this},g.updateEachNodeAttributes=function(u,c){if("function"!=typeof u)throw new kt("Graph.updateEachNodeAttributes: expecting an updater function.");if(c&&!R(c))throw new kt("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var v,M,U=this._nodes.values();!0!==(v=U.next()).done;)(M=v.value).attributes=u(M.key,M.attributes);this.emit("eachNodeAttributesUpdated",{hints:c||null})},g.updateEachEdgeAttributes=function(u,c){if("function"!=typeof u)throw new kt("Graph.updateEachEdgeAttributes: expecting an updater function.");if(c&&!R(c))throw new kt("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var v,M,U,rt,At=this._edges.values();!0!==(v=At.next()).done;)U=(M=v.value).source,M.attributes=u(M.key,M.attributes,U.key,(rt=M.target).key,U.attributes,rt.attributes,M.undirected);this.emit("eachEdgeAttributesUpdated",{hints:c||null})},g.forEachAdjacencyEntry=function(u){if("function"!=typeof u)throw new kt("Graph.forEachAdjacencyEntry: expecting a callback.");On(!1,!1,!1,this,u)},g.forEachAdjacencyEntryWithOrphans=function(u){if("function"!=typeof u)throw new kt("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");On(!1,!1,!0,this,u)},g.forEachAssymetricAdjacencyEntry=function(u){if("function"!=typeof u)throw new kt("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");On(!1,!0,!1,this,u)},g.forEachAssymetricAdjacencyEntryWithOrphans=function(u){if("function"!=typeof u)throw new kt("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");On(!1,!0,!0,this,u)},g.nodes=function(){return"function"==typeof Array.from?Array.from(this._nodes.keys()):Ve(this._nodes.keys(),this._nodes.size)},g.forEachNode=function(u){if("function"!=typeof u)throw new kt("Graph.forEachNode: expecting a callback.");for(var c,v,M=this._nodes.values();!0!==(c=M.next()).done;)u((v=c.value).key,v.attributes)},g.findNode=function(u){if("function"!=typeof u)throw new kt("Graph.findNode: expecting a callback.");for(var c,v,M=this._nodes.values();!0!==(c=M.next()).done;)if(u((v=c.value).key,v.attributes))return v.key},g.mapNodes=function(u){if("function"!=typeof u)throw new kt("Graph.mapNode: expecting a callback.");for(var c,v,M=this._nodes.values(),U=new Array(this.order),rt=0;!0!==(c=M.next()).done;)U[rt++]=u((v=c.value).key,v.attributes);return U},g.someNode=function(u){if("function"!=typeof u)throw new kt("Graph.someNode: expecting a callback.");for(var c,v,M=this._nodes.values();!0!==(c=M.next()).done;)if(u((v=c.value).key,v.attributes))return!0;return!1},g.everyNode=function(u){if("function"!=typeof u)throw new kt("Graph.everyNode: expecting a callback.");for(var c,v,M=this._nodes.values();!0!==(c=M.next()).done;)if(!u((v=c.value).key,v.attributes))return!1;return!0},g.filterNodes=function(u){if("function"!=typeof u)throw new kt("Graph.filterNodes: expecting a callback.");for(var c,v,M=this._nodes.values(),U=[];!0!==(c=M.next()).done;)u((v=c.value).key,v.attributes)&&U.push(v.key);return U},g.reduceNodes=function(u,c){if("function"!=typeof u)throw new kt("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new kt("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");for(var v,M,U=c,rt=this._nodes.values();!0!==(v=rt.next()).done;)U=u(U,(M=v.value).key,M.attributes);return U},g.nodeEntries=function(){var u=this._nodes.values();return new Jt(function(){var c=u.next();if(c.done)return c;var v=c.value;return{value:{node:v.key,attributes:v.attributes},done:!1}})},g.export=function(){var u=this,c=new Array(this._nodes.size),v=0;this._nodes.forEach(function(U,rt){var Et,mt;c[v++]=(mt={key:rt},E((Et=U).attributes)||(mt.attributes=z({},Et.attributes)),mt)});var M=new Array(this._edges.size);return v=0,this._edges.forEach(function(U,rt){var At,mt,zt;M[v++]=(At=u.type,zt={key:rt,source:(mt=U).source.key,target:mt.target.key},E(mt.attributes)||(zt.attributes=z({},mt.attributes)),"mixed"===At&&mt.undirected&&(zt.undirected=!0),zt)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:c,edges:M}},g.import=function(u){var c,v,M,U,rt,At=this,Et=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(u instanceof _)return u.forEachNode(function(hn,wn){Et?At.mergeNode(hn,wn):At.addNode(hn,wn)}),u.forEachEdge(function(hn,wn,jr,Kr,Oo,ja,Qi){Et?Qi?At.mergeUndirectedEdgeWithKey(hn,jr,Kr,wn):At.mergeDirectedEdgeWithKey(hn,jr,Kr,wn):Qi?At.addUndirectedEdgeWithKey(hn,jr,Kr,wn):At.addDirectedEdgeWithKey(hn,jr,Kr,wn)}),this;if(!w(u))throw new kt("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(u.attributes){if(!w(u.attributes))throw new kt("Graph.import: invalid attributes. Expecting a plain object.");Et?this.mergeAttributes(u.attributes):this.replaceAttributes(u.attributes)}if(u.nodes){if(M=u.nodes,!Array.isArray(M))throw new kt("Graph.import: invalid nodes. Expecting an array.");for(c=0,v=M.length;c<v;c++){Lo(U=M[c]);var zt=U.key,Rt=U.attributes;Et?this.mergeNode(zt,Rt):this.addNode(zt,Rt)}}if(u.edges){var Qt=!1;if("undirected"===this.type&&(Qt=!0),M=u.edges,!Array.isArray(M))throw new kt("Graph.import: invalid edges. Expecting an array.");for(c=0,v=M.length;c<v;c++){Ps(rt=M[c]);var Se=rt.source,Pe=rt.target,Ge=rt.attributes,nn=rt.undirected,mn=void 0===nn?Qt:nn;"key"in rt?(Et?mn?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:mn?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,rt.key,Se,Pe,Ge):(Et?mn?this.mergeUndirectedEdge:this.mergeDirectedEdge:mn?this.addUndirectedEdge:this.addDirectedEdge).call(this,Se,Pe,Ge)}}return this},g.nullCopy=function(u){var c=new _(z({},this._options,u));return c.replaceAttributes(z({},this.getAttributes())),c},g.emptyCopy=function(u){var c=this.nullCopy(u);return this._nodes.forEach(function(v,M){var U=z({},v.attributes);v=new c.NodeDataClass(M,U),c._nodes.set(M,v)}),c},g.copy=function(u){if("string"==typeof(u=u||{}).type&&u.type!==this.type&&"mixed"!==u.type)throw new Gt('Graph.copy: cannot create an incompatible copy from "'.concat(this.type,'" type to "').concat(u.type,'" because this would mean losing information about the current graph.'));if("boolean"==typeof u.multi&&u.multi!==this.multi&&!0!==u.multi)throw new Gt("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if("boolean"==typeof u.allowSelfLoops&&u.allowSelfLoops!==this.allowSelfLoops&&!0!==u.allowSelfLoops)throw new Gt("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");for(var c,v,M=this.emptyCopy(u),U=this._edges.values();!0!==(c=U.next()).done;)Ci(M,"copy",!1,(v=c.value).undirected,v.key,v.source.key,v.target.key,z({},v.attributes));return M},g.toJSON=function(){return this.export()},g.toString=function(){return"[object Graph]"},g.inspect=function(){var u=this,c={};this._nodes.forEach(function(At,Et){c[Et]=At.attributes});var v={},M={};this._edges.forEach(function(At,Et){var mt,zt=At.undirected?"--":"->",Rt="",Qt=At.source.key,we=At.target.key;At.undirected&&Qt>we&&(mt=Qt,Qt=we,we=mt);var Se="(".concat(Qt,")").concat(zt,"(").concat(we,")");Et.startsWith("geid_")?u.multi&&(void 0===M[Se]?M[Se]=0:M[Se]++,Rt+="".concat(M[Se],". ")):Rt+="[".concat(Et,"]: "),v[Rt+=Se]=At.attributes});var U={};for(var rt in this)this.hasOwnProperty(rt)&&!Qn.has(rt)&&"function"!=typeof this[rt]&&"symbol"!==dt(rt)&&(U[rt]=this[rt]);return U.attributes=this._attributes,U.nodes=c,U.edges=v,I(U,"constructor",this.constructor),U},_}($.exports.EventEmitter);"undefined"!=typeof Symbol&&(Ee.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ee.prototype.inspect),[{name:function(p){return"".concat(p,"Edge")},generateKey:!0},{name:function(p){return"".concat(p,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(p){return"".concat(p,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(p){return"".concat(p,"EdgeWithKey")}},{name:function(p){return"".concat(p,"DirectedEdgeWithKey")},type:"directed"},{name:function(p){return"".concat(p,"UndirectedEdgeWithKey")},type:"undirected"}].forEach(function(p){["add","merge","update"].forEach(function(_){var g=p.name(_),u="add"===_?Ci:Si;Ee.prototype[g]=p.generateKey?function(c,v,M){return u(this,g,!0,"undirected"===(p.type||this.type),null,c,v,M,"update"===_)}:function(c,v,M,U){return u(this,g,!1,"undirected"===(p.type||this.type),c,v,M,U,"update"===_)}})}),p=Ee,_n.forEach(function(_){var g=_.name,u=_.attacher;u(p,g("Node"),0),u(p,g("Source"),1),u(p,g("Target"),2),u(p,g("Opposite"),3)}),function(p){Je.forEach(function(_){var g=_.name,u=_.attacher;u(p,g("Edge"),"mixed"),u(p,g("DirectedEdge"),"directed"),u(p,g("UndirectedEdge"),"undirected")})}(Ee),function(p){No.forEach(function(_){var u,c,v,M;v=(u=_).type,M=u.direction,p.prototype[c=u.name]=function(U,rt){if("mixed"!==v&&"mixed"!==this.type&&v!==this.type)return[];if(!arguments.length)return Fr(this,v);if(1===arguments.length){var At=this._nodes.get(U=""+U);if(void 0===At)throw new It("Graph.".concat(c,': could not find the "').concat(U,'" node in the graph.'));return bi(this.multi,"mixed"===v?this.type:v,M,At)}if(2===arguments.length){rt=""+rt;var Et=this._nodes.get(U=""+U);if(!Et)throw new It("Graph.".concat(c,':  could not find the "').concat(U,'" source node in the graph.'));if(!this._nodes.has(rt))throw new It("Graph.".concat(c,':  could not find the "').concat(rt,'" target node in the graph.'));return Yr(v,this.multi,M,Et,rt)}throw new kt("Graph.".concat(c,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))},function(g,u){var c=u.name,v=u.type,M=u.direction,U="forEach"+c[0].toUpperCase()+c.slice(1,-1);g.prototype[U]=function(mt,zt,Rt){if("mixed"===v||"mixed"===this.type||v===this.type){if(1===arguments.length)return Ji(!1,this,v,Rt=mt);if(2===arguments.length){Rt=zt;var Qt=this._nodes.get(mt=""+mt);if(void 0===Qt)throw new It("Graph.".concat(U,': could not find the "').concat(mt,'" node in the graph.'));return Mn(!1,this.multi,"mixed"===v?this.type:v,M,Qt,Rt)}if(3===arguments.length){zt=""+zt;var we=this._nodes.get(mt=""+mt);if(!we)throw new It("Graph.".concat(U,':  could not find the "').concat(mt,'" source node in the graph.'));if(!this._nodes.has(zt))throw new It("Graph.".concat(U,':  could not find the "').concat(zt,'" target node in the graph.'));return $r(!1,v,this.multi,M,we,zt,Rt)}throw new kt("Graph.".concat(U,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}};var rt="map"+c[0].toUpperCase()+c.slice(1);g.prototype[rt]=function(){var mt,zt=Array.prototype.slice.call(arguments),Rt=zt.pop();if(0===zt.length){var Qt=0;"directed"!==v&&(Qt+=this.undirectedSize),"undirected"!==v&&(Qt+=this.directedSize),mt=new Array(Qt);var we=0;zt.push(function(Se,Pe,Ge,nn,mn,hn,wn){mt[we++]=Rt(Se,Pe,Ge,nn,mn,hn,wn)})}else mt=[],zt.push(function(Se,Pe,Ge,nn,mn,hn,wn){mt.push(Rt(Se,Pe,Ge,nn,mn,hn,wn))});return this[U].apply(this,zt),mt};var At="filter"+c[0].toUpperCase()+c.slice(1);g.prototype[At]=function(){var mt=Array.prototype.slice.call(arguments),zt=mt.pop(),Rt=[];return mt.push(function(Qt,we,Se,Pe,Ge,nn,mn){zt(Qt,we,Se,Pe,Ge,nn,mn)&&Rt.push(Qt)}),this[U].apply(this,mt),Rt};var Et="reduce"+c[0].toUpperCase()+c.slice(1);g.prototype[Et]=function(){var mt,zt,Rt=Array.prototype.slice.call(arguments);if(Rt.length<2||Rt.length>4)throw new kt("Graph.".concat(Et,": invalid number of arguments (expecting 2, 3 or 4 and got ").concat(Rt.length,")."));if("function"==typeof Rt[Rt.length-1]&&"function"!=typeof Rt[Rt.length-2])throw new kt("Graph.".concat(Et,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));2===Rt.length?(mt=Rt[0],zt=Rt[1],Rt=[]):3===Rt.length?(mt=Rt[1],zt=Rt[2],Rt=[Rt[0]]):4===Rt.length&&(mt=Rt[2],zt=Rt[3],Rt=[Rt[0],Rt[1]]);var Qt=zt;return Rt.push(function(we,Se,Pe,Ge,nn,mn,hn){Qt=mt(Qt,we,Se,Pe,Ge,nn,mn,hn)}),this[U].apply(this,Rt),Qt}}(p,_),function(g,u){var c=u.name,v=u.type,M=u.direction,U="find"+c[0].toUpperCase()+c.slice(1,-1);g.prototype[U]=function(Et,mt,zt){if("mixed"!==v&&"mixed"!==this.type&&v!==this.type)return!1;if(1===arguments.length)return Ji(!0,this,v,zt=Et);if(2===arguments.length){zt=mt;var Rt=this._nodes.get(Et=""+Et);if(void 0===Rt)throw new It("Graph.".concat(U,': could not find the "').concat(Et,'" node in the graph.'));return Mn(!0,this.multi,"mixed"===v?this.type:v,M,Rt,zt)}if(3===arguments.length){mt=""+mt;var Qt=this._nodes.get(Et=""+Et);if(!Qt)throw new It("Graph.".concat(U,':  could not find the "').concat(Et,'" source node in the graph.'));if(!this._nodes.has(mt))throw new It("Graph.".concat(U,':  could not find the "').concat(mt,'" target node in the graph.'));return $r(!0,v,this.multi,M,Qt,mt,zt)}throw new kt("Graph.".concat(U,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))};var rt="some"+c[0].toUpperCase()+c.slice(1,-1);g.prototype[rt]=function(){var Et=Array.prototype.slice.call(arguments),mt=Et.pop();return Et.push(function(zt,Rt,Qt,we,Se,Pe,Ge){return mt(zt,Rt,Qt,we,Se,Pe,Ge)}),!!this[U].apply(this,Et)};var At="every"+c[0].toUpperCase()+c.slice(1,-1);g.prototype[At]=function(){var Et=Array.prototype.slice.call(arguments),mt=Et.pop();return Et.push(function(zt,Rt,Qt,we,Se,Pe,Ge){return!mt(zt,Rt,Qt,we,Se,Pe,Ge)}),!this[U].apply(this,Et)}}(p,_),function(g,u){var v=u.type,M=u.direction,U=u.name.slice(0,-1)+"Entries";g.prototype[U]=function(rt,At){if("mixed"!==v&&"mixed"!==this.type&&v!==this.type)return Jt.empty();if(!arguments.length)return Zr(this,v);if(1===arguments.length){var Et=this._nodes.get(rt=""+rt);if(!Et)throw new It("Graph.".concat(U,': could not find the "').concat(rt,'" node in the graph.'));return _i(v,M,Et)}if(2===arguments.length){At=""+At;var mt=this._nodes.get(rt=""+rt);if(!mt)throw new It("Graph.".concat(U,':  could not find the "').concat(rt,'" source node in the graph.'));if(!this._nodes.has(At))throw new It("Graph.".concat(U,':  could not find the "').concat(At,'" target node in the graph.'));return qn(v,M,mt,At)}throw new kt("Graph.".concat(U,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(p,_)})}(Ee),function(p){Ar.forEach(function(_){var g,u,c,v,M,U,rt;(function Ei(p,_){var g=_.name,u=_.type,c=_.direction;p.prototype[g]=function(v){if("mixed"!==u&&"mixed"!==this.type&&u!==this.type)return[];var M=this._nodes.get(v=""+v);if(void 0===M)throw new It("Graph.".concat(g,': could not find the "').concat(v,'" node in the graph.'));return function(U,rt,At){if("mixed"!==U){if("undirected"===U)return Object.keys(At.undirected);if("string"==typeof rt)return Object.keys(At[rt])}var Et=[];return Ai(!1,U,rt,At,function(mt){Et.push(mt)}),Et}("mixed"===u?this.type:u,c,M)}})(p,_),function(g,u){var c=u.name,v=u.type,M=u.direction,U="forEach"+c[0].toUpperCase()+c.slice(1,-1);g.prototype[U]=function(mt,zt){if("mixed"===v||"mixed"===this.type||v===this.type){var Rt=this._nodes.get(mt=""+mt);if(void 0===Rt)throw new It("Graph.".concat(U,': could not find the "').concat(mt,'" node in the graph.'));Ai(!1,"mixed"===v?this.type:v,M,Rt,zt)}};var rt="map"+c[0].toUpperCase()+c.slice(1);g.prototype[rt]=function(mt,zt){var Rt=[];return this[U](mt,function(Qt,we){Rt.push(zt(Qt,we))}),Rt};var At="filter"+c[0].toUpperCase()+c.slice(1);g.prototype[At]=function(mt,zt){var Rt=[];return this[U](mt,function(Qt,we){zt(Qt,we)&&Rt.push(Qt)}),Rt};var Et="reduce"+c[0].toUpperCase()+c.slice(1);g.prototype[Et]=function(mt,zt,Rt){if(arguments.length<3)throw new kt("Graph.".concat(Et,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));var Qt=Rt;return this[U](mt,function(we,Se){Qt=zt(Qt,we,Se)}),Qt}}(p,_),g=p,v=(u=_).type,M=u.direction,U=(c=u.name)[0].toUpperCase()+c.slice(1,-1),g.prototype[rt="find"+U]=function(mt,zt){if("mixed"===v||"mixed"===this.type||v===this.type){var Rt=this._nodes.get(mt=""+mt);if(void 0===Rt)throw new It("Graph.".concat(rt,': could not find the "').concat(mt,'" node in the graph.'));return Ai(!0,"mixed"===v?this.type:v,M,Rt,zt)}},g.prototype["some"+U]=function(mt,zt){return!!this[rt](mt,zt)},g.prototype["every"+U]=function(mt,zt){return!this[rt](mt,function(Rt,Qt){return!zt(Rt,Qt)})},function Do(p,_){var u=_.type,c=_.direction,v=_.name.slice(0,-1)+"Entries";p.prototype[v]=function(M){if("mixed"!==u&&"mixed"!==this.type&&u!==this.type)return Jt.empty();var U=this._nodes.get(M=""+M);if(void 0===U)throw new It("Graph.".concat(v,': could not find the "').concat(M,'" node in the graph.'));return function(rt,At,Et){if("mixed"!==rt){if("undirected"===rt)return Er(null,Et,Et.undirected);if("string"==typeof At)return Er(null,Et,Et[At])}var mt=Jt.empty(),zt=new Jn;return"undirected"!==rt&&("out"!==At&&(mt=Oe(mt,Er(zt,Et,Et.in))),"in"!==At&&(mt=Oe(mt,Er(zt,Et,Et.out)))),"directed"!==rt&&(mt=Oe(mt,Er(zt,Et,Et.undirected))),mt}("mixed"===u?this.type:u,c,U)}}(p,_)})}(Ee);var Go=function(p){function _(g){var u=z({type:"directed"},g);if("multi"in u&&!1!==u.multi)throw new kt("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("directed"!==u.type)throw new kt('DirectedGraph.from: inconsistent "'+u.type+'" type in given options!');return p.call(this,u)||this}return G(_,p),_}(Ee),Hr=function(p){function _(g){var u=z({type:"undirected"},g);if("multi"in u&&!1!==u.multi)throw new kt("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("undirected"!==u.type)throw new kt('UndirectedGraph.from: inconsistent "'+u.type+'" type in given options!');return p.call(this,u)||this}return G(_,p),_}(Ee),Xr=function(p){function _(g){var u=z({multi:!0},g);if("multi"in u&&!0!==u.multi)throw new kt("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");return p.call(this,u)||this}return G(_,p),_}(Ee),Mi=function(p){function _(g){var u=z({type:"directed",multi:!0},g);if("multi"in u&&!0!==u.multi)throw new kt("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("directed"!==u.type)throw new kt('MultiDirectedGraph.from: inconsistent "'+u.type+'" type in given options!');return p.call(this,u)||this}return G(_,p),_}(Ee),Cr=function(p){function _(g){var u=z({type:"undirected",multi:!0},g);if("multi"in u&&!0!==u.multi)throw new kt("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("undirected"!==u.type)throw new kt('MultiUndirectedGraph.from: inconsistent "'+u.type+'" type in given options!');return p.call(this,u)||this}return G(_,p),_}(Ee);function ar(p){p.from=function(_,g){var u=z({},_.options,g),c=new p(u);return c.import(_),c}}return ar(Ee),ar(Go),ar(Hr),ar(Xr),ar(Mi),ar(Cr),Ee.Graph=Ee,Ee.DirectedGraph=Go,Ee.UndirectedGraph=Hr,Ee.MultiGraph=Xr,Ee.MultiDirectedGraph=Mi,Ee.MultiUndirectedGraph=Cr,Ee.InvalidArgumentsGraphError=kt,Ee.NotFoundGraphError=It,Ee.UsageGraphError=Gt,Ee}()},7489:function(Mt,dt,G){var et;Mt=G.nmd(Mt),function(){var x,N="Expected a function",b="__lodash_hash_undefined__",E="__lodash_placeholder__",L=32,qt=1/0,ve=9007199254740991,ie=4294967295,me=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",L],["partialRight",64],["rearg",256]],kt="[object Arguments]",It="[object Array]",Re="[object Boolean]",qe="[object Date]",Be="[object Error]",De="[object Function]",_n="[object GeneratorFunction]",Je="[object Map]",gn="[object Number]",Oe="[object Object]",No="[object Promise]",Br="[object RegExp]",vn="[object Set]",Kn="[object String]",Vn="[object Symbol]",Fr="[object WeakMap]",Zr="[object ArrayBuffer]",Mn="[object DataView]",bi="[object Float32Array]",_i="[object Float64Array]",$r="[object Int8Array]",Yr="[object Int16Array]",qn="[object Int32Array]",Ar="[object Uint8Array]",Jn="[object Uint8ClampedArray]",yn="[object Uint16Array]",Ai="[object Uint32Array]",Er=/\b__p \+= '';/g,Ei=/\b(__p \+=) '' \+/g,Do=/(__e\(.*?\)|\b__t\)) \+\n'';/g,On=/&(?:amp|lt|gt|quot|#39);/g,Lo=/[&<>"']/g,Ps=RegExp(On.source),To=RegExp(Lo.source),Ha=/<%-([\s\S]+?)%>/g,Xa=/<%([\s\S]+?)%>/g,Qn=/<%=([\s\S]+?)%>/g,zo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ro=/^\w*$/,Ci=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Si=/[\\^$.*+?()[\]{}|]/g,sr=RegExp(Si.source),Ee=/^\s+/,Go=/\s/,Hr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xr=/\{\n\/\* \[wrapped with (.+)\] \*/,Mi=/,? & /,Cr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ar=/[()=,{}\[\]\/\s]/,p=/\\(\\)?/g,_=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,g=/\w*$/,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,v=/^\[object .+?Constructor\]$/,M=/^0o[0-7]+$/i,U=/^(?:0|[1-9]\d*)$/,rt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,At=/($^)/,Et=/['\n\r\u2028\u2029\\]/g,mt="\\ud800-\\udfff",we="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="\\u2700-\\u27bf",Pe="a-z\\xdf-\\xf6\\xf8-\\xff",wn="A-Z\\xc0-\\xd6\\xd8-\\xde",jr="\\ufe0e\\ufe0f",Kr="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ja="["+mt+"]",Qi="["+Kr+"]",Po="["+we+"]",Us="\\d+",th="["+Se+"]",to="["+Pe+"]",Ka="[^"+mt+Kr+Us+Se+Pe+wn+"]",Ws="\\ud83c[\\udffb-\\udfff]",Va="[^"+mt+"]",Bs="(?:\\ud83c[\\udde6-\\uddff]){2}",Fs="[\\ud800-\\udbff][\\udc00-\\udfff]",ki="["+wn+"]",Ja="(?:"+to+"|"+Ka+")",nh="(?:"+ki+"|"+Ka+")",Qa="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",tu="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",eu="(?:"+Po+"|"+Ws+")?",nu="["+jr+"]?",ru=nu+eu+"(?:\\u200d(?:"+[Va,Bs,Fs].join("|")+")"+nu+eu+")*",Zs="(?:"+[th,Bs,Fs].join("|")+")"+ru,iu="(?:"+[Va+Po+"?",Po,Bs,Fs,ja].join("|")+")",Uo=RegExp("['\u2019]","g"),sh=RegExp(Po,"g"),$s=RegExp(Ws+"(?="+Ws+")|"+iu+ru,"g"),ah=RegExp([ki+"?"+to+"+"+Qa+"(?="+[Qi,ki,"$"].join("|")+")",nh+"+"+tu+"(?="+[Qi,ki+Ja,"$"].join("|")+")",ki+"?"+Ja+"+"+Qa,ki+"+"+tu,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Us,Zs].join("|"),"g"),uh=RegExp("[\\u200d"+mt+we+jr+"]"),ch=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],fh=-1,ke={};ke[bi]=ke[_i]=ke[$r]=ke[Yr]=ke[qn]=ke[Ar]=ke[Jn]=ke[yn]=ke[Ai]=!0,ke[kt]=ke[It]=ke[Zr]=ke[Re]=ke[Mn]=ke[qe]=ke[Be]=ke[De]=ke[Je]=ke[gn]=ke[Oe]=ke[Br]=ke[vn]=ke[Kn]=ke[Fr]=!1;var Ie={};Ie[kt]=Ie[It]=Ie[Zr]=Ie[Mn]=Ie[Re]=Ie[qe]=Ie[bi]=Ie[_i]=Ie[$r]=Ie[Yr]=Ie[qn]=Ie[Je]=Ie[gn]=Ie[Oe]=Ie[Br]=Ie[vn]=Ie[Kn]=Ie[Vn]=Ie[Ar]=Ie[Jn]=Ie[yn]=Ie[Ai]=!0,Ie[Be]=Ie[De]=Ie[Fr]=!1;var Ii={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},gh=parseFloat,vh=parseInt,ou="object"==typeof global&&global&&global.Object===Object&&global,yh="object"==typeof self&&self&&self.Object===Object&&self,Ke=ou||yh||Function("return this")(),Wo=dt&&!dt.nodeType&&dt,Ni=Wo&&Mt&&!Mt.nodeType&&Mt,Ys=Ni&&Ni.exports===Wo,Bo=Ys&&ou.process,kn=function(){try{return Ni&&Ni.require&&Ni.require("util").types||Bo&&Bo.binding&&Bo.binding("util")}catch(yt){}}(),su=kn&&kn.isArrayBuffer,au=kn&&kn.isDate,uu=kn&&kn.isMap,cu=kn&&kn.isRegExp,hu=kn&&kn.isSet,fu=kn&&kn.isTypedArray;function An(tt,yt,ht){switch(ht.length){case 0:return tt.call(yt);case 1:return tt.call(yt,ht[0]);case 2:return tt.call(yt,ht[0],ht[1]);case 3:return tt.call(yt,ht[0],ht[1],ht[2])}return tt.apply(yt,ht)}function mh(tt,yt,ht,Wt){for(var se=-1,Ae=null==tt?0:tt.length;++se<Ae;){var Fe=tt[se];yt(Wt,Fe,ht(Fe),tt)}return Wt}function In(tt,yt){for(var ht=-1,Wt=null==tt?0:tt.length;++ht<Wt&&!1!==yt(tt[ht],ht,tt););return tt}function wh(tt,yt){for(var ht=null==tt?0:tt.length;ht--&&!1!==yt(tt[ht],ht,tt););return tt}function lu(tt,yt){for(var ht=-1,Wt=null==tt?0:tt.length;++ht<Wt;)if(!yt(tt[ht],ht,tt))return!1;return!0}function Sr(tt,yt){for(var ht=-1,Wt=null==tt?0:tt.length,se=0,Ae=[];++ht<Wt;){var Fe=tt[ht];yt(Fe,ht,tt)&&(Ae[se++]=Fe)}return Ae}function Fo(tt,yt){return!(null==tt||!tt.length)&&Di(tt,yt,0)>-1}function Hs(tt,yt,ht){for(var Wt=-1,se=null==tt?0:tt.length;++Wt<se;)if(ht(yt,tt[Wt]))return!0;return!1}function Le(tt,yt){for(var ht=-1,Wt=null==tt?0:tt.length,se=Array(Wt);++ht<Wt;)se[ht]=yt(tt[ht],ht,tt);return se}function Mr(tt,yt){for(var ht=-1,Wt=yt.length,se=tt.length;++ht<Wt;)tt[se+ht]=yt[ht];return tt}function Xs(tt,yt,ht,Wt){var se=-1,Ae=null==tt?0:tt.length;for(Wt&&Ae&&(ht=tt[++se]);++se<Ae;)ht=yt(ht,tt[se],se,tt);return ht}function js(tt,yt,ht,Wt){var se=null==tt?0:tt.length;for(Wt&&se&&(ht=tt[--se]);se--;)ht=yt(ht,tt[se],se,tt);return ht}function Ks(tt,yt){for(var ht=-1,Wt=null==tt?0:tt.length;++ht<Wt;)if(yt(tt[ht],ht,tt))return!0;return!1}var xh=Vs("length");function du(tt,yt,ht){var Wt;return ht(tt,function(se,Ae,Fe){if(yt(se,Ae,Fe))return Wt=Ae,!1}),Wt}function Zo(tt,yt,ht,Wt){for(var se=tt.length,Ae=ht+(Wt?1:-1);Wt?Ae--:++Ae<se;)if(yt(tt[Ae],Ae,tt))return Ae;return-1}function Di(tt,yt,ht){return yt==yt?function ro(tt,yt,ht){for(var Wt=ht-1,se=tt.length;++Wt<se;)if(tt[Wt]===yt)return Wt;return-1}(tt,yt,ht):Zo(tt,pu,ht)}function Ah(tt,yt,ht,Wt){for(var se=ht-1,Ae=tt.length;++se<Ae;)if(Wt(tt[se],yt))return se;return-1}function pu(tt){return tt!=tt}function gu(tt,yt){var ht=null==tt?0:tt.length;return ht?$o(tt,yt)/ht:NaN}function Vs(tt){return function(yt){return null==yt?x:yt[tt]}}function qs(tt){return function(yt){return null==tt?x:tt[yt]}}function vu(tt,yt,ht,Wt,se){return se(tt,function(Ae,Fe,Me){ht=Wt?(Wt=!1,Ae):yt(ht,Ae,Fe,Me)}),ht}function $o(tt,yt){for(var ht,Wt=-1,se=tt.length;++Wt<se;){var Ae=yt(tt[Wt]);Ae!==x&&(ht=ht===x?Ae:ht+Ae)}return ht}function Js(tt,yt){for(var ht=-1,Wt=Array(tt);++ht<tt;)Wt[ht]=yt(ht);return Wt}function yu(tt){return tt&&tt.slice(0,zi(tt)+1).replace(Ee,"")}function En(tt){return function(yt){return tt(yt)}}function Yo(tt,yt){return Le(yt,function(ht){return tt[ht]})}function Qe(tt,yt){return tt.has(yt)}function Qs(tt,yt){for(var ht=-1,Wt=tt.length;++ht<Wt&&Di(yt,tt[ht],0)>-1;);return ht}function mu(tt,yt){for(var ht=tt.length;ht--&&Di(yt,tt[ht],0)>-1;);return ht}function eo(tt,yt){for(var ht=tt.length,Wt=0;ht--;)tt[ht]===yt&&++Wt;return Wt}var Sh=qs({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),wu=qs({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ho(tt){return"\\"+Ii[tt]}function Li(tt){return uh.test(tt)}function kr(tt){var yt=-1,ht=Array(tt.size);return tt.forEach(function(Wt,se){ht[++yt]=[se,Wt]}),ht}function Ti(tt,yt){return function(ht){return tt(yt(ht))}}function Nn(tt,yt){for(var ht=-1,Wt=tt.length,se=0,Ae=[];++ht<Wt;){var Fe=tt[ht];(Fe===yt||Fe===E)&&(tt[ht]=E,Ae[se++]=ht)}return Ae}function no(tt){var yt=-1,ht=Array(tt.size);return tt.forEach(function(Wt){ht[++yt]=Wt}),ht}function Dn(tt){return Li(tt)?function ta(tt){for(var yt=$s.lastIndex=0;$s.test(tt);)++yt;return yt}(tt):xh(tt)}function xn(tt){return Li(tt)?function kh(tt){return tt.match($s)||[]}(tt):function bh(tt){return tt.split("")}(tt)}function zi(tt){for(var yt=tt.length;yt--&&Go.test(tt.charAt(yt)););return yt}var bu=qs({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),qo=function tt(yt){var t,ht=(yt=null==yt?Ke:qo.defaults(Ke.Object(),yt,qo.pick(Ke,hh))).Array,Wt=yt.Date,se=yt.Error,Ae=yt.Function,Fe=yt.Math,Me=yt.Object,Jo=yt.RegExp,na=yt.String,fn=yt.TypeError,io=ht.prototype,ur=Me.prototype,Vr=yt["__core-js_shared__"],Ri=Ae.prototype.toString,le=ur.hasOwnProperty,Pn=0,_u=(t=/[^.]+$/.exec(Vr&&Vr.keys&&Vr.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"",qr=ur.toString,Ih=Ri.call(Me),Un=Ke._,Au=Jo("^"+Ri.call(le).replace(Si,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gi=Ys?yt.Buffer:x,cr=yt.Symbol,Jr=yt.Uint8Array,Eu=Gi?Gi.allocUnsafe:x,Qo=Ti(Me.getPrototypeOf,Me),ia=Me.create,Cu=ur.propertyIsEnumerable,ts=io.splice,Su=cr?cr.isConcatSpreadable:x,oo=cr?cr.iterator:x,Qr=cr?cr.toStringTag:x,Oi=function(){try{var t=Rr(Me,"defineProperty");return t({},"",{}),t}catch(n){}}(),es=yt.clearTimeout!==Ke.clearTimeout&&yt.clearTimeout,oa=Wt&&Wt.now!==Ke.Date.now&&Wt.now,Pi=yt.setTimeout!==Ke.setTimeout&&yt.setTimeout,tr=Fe.ceil,hr=Fe.floor,Ir=Me.getOwnPropertySymbols,so=Gi?Gi.isBuffer:x,Wn=yt.isFinite,Nh=io.join,Dh=Ti(Me.keys,Me),Ze=Fe.max,rn=Fe.min,Lh=Wt.now,Th=yt.parseInt,Mu=Fe.random,ku=io.reverse,ns=Rr(yt,"DataView"),ao=Rr(yt,"Map"),sa=Rr(yt,"Promise"),ti=Rr(yt,"Set"),Bn=Rr(yt,"WeakMap"),Ui=Rr(Me,"create"),ei=Bn&&new Bn,ni={},rs=yi(ns),on=yi(ao),Iu=yi(sa),zh=yi(ti),Nu=yi(Bn),ri=cr?cr.prototype:x,Fn=ri?ri.valueOf:x,Nr=ri?ri.toString:x;function S(t){if(ut(t)&&!r(t)&&!(t instanceof pe)){if(t instanceof ze)return t;if(le.call(t,"__wrapped__"))return Da(t)}return new ze(t)}var ii=function(){function t(){}return function(n){if(!X(n))return{};if(ia)return ia(n);t.prototype=n;var s=new t;return t.prototype=x,s}}();function is(){}function ze(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=x}function pe(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ie,this.__views__=[]}function oi(t){var n=-1,s=null==t?0:t.length;for(this.clear();++n<s;){var h=t[n];this.set(h[0],h[1])}}function fr(t){var n=-1,s=null==t?0:t.length;for(this.clear();++n<s;){var h=t[n];this.set(h[0],h[1])}}function Zn(t){var n=-1,s=null==t?0:t.length;for(this.clear();++n<s;){var h=t[n];this.set(h[0],h[1])}}function si(t){var n=-1,s=null==t?0:t.length;for(this.__data__=new Zn;++n<s;)this.add(t[n])}function $n(t){var n=this.__data__=new fr(t);this.size=n.size}function Gu(t,n){var s=r(t),h=!s&&e(t),m=!s&&!h&&d(t),D=!s&&!h&&!m&&Lt(t),Z=s||h||m||D,K=Z?Js(t.length,na):[],nt=K.length;for(var bt in t)(n||le.call(t,bt))&&(!Z||!("length"==bt||m&&("offset"==bt||"parent"==bt)||D&&("buffer"==bt||"byteLength"==bt||"byteOffset"==bt)||wr(bt,nt)))&&K.push(bt);return K}function Ou(t){var n=t.length;return n?t[ya(0,n-1)]:x}function Xh(t,n){return Na(bn(t),ai(n,0,t.length))}function jh(t){return Na(bn(t))}function ca(t,n,s){(s!==x&&!Hn(t[n],s)||s===x&&!(n in t))&&lr(t,n,s)}function uo(t,n,s){var h=t[n];(!le.call(t,n)||!Hn(h,s)||s===x&&!(n in t))&&lr(t,n,s)}function us(t,n){for(var s=t.length;s--;)if(Hn(t[s][0],n))return s;return-1}function Kh(t,n,s,h){return Dr(t,function(m,D,Z){n(h,m,s(m),Z)}),h}function Pu(t,n){return t&&rr(n,un(n),t)}function lr(t,n,s){"__proto__"==n&&Oi?Oi(t,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):t[n]=s}function ha(t,n){for(var s=-1,h=n.length,m=ht(h),D=null==t;++s<h;)m[s]=D?x:Bl(t,n[s]);return m}function ai(t,n,s){return t==t&&(s!==x&&(t=t<=s?t:s),n!==x&&(t=t>=n?t:n)),t}function Ln(t,n,s,h,m,D){var Z,K=1&n,nt=2&n,bt=4&n;if(s&&(Z=m?s(t,h,m,D):s(t)),Z!==x)return Z;if(!X(t))return t;var _t=r(t);if(_t){if(Z=function ed(t){var n=t.length,s=new t.constructor(n);return n&&"string"==typeof t[0]&&le.call(t,"index")&&(s.index=t.index,s.input=t.input),s}(t),!K)return bn(t,Z)}else{var St=He(t),Pt=St==De||St==_n;if(d(t))return tc(t,K);if(St==Oe||St==kt||Pt&&!m){if(Z=nt||Pt?{}:Ea(t),!K)return nt?function wf(t,n){return rr(t,pc(t),n)}(t,function Vh(t,n){return t&&rr(n,Rn(n),t)}(Z,t)):function mf(t,n){return rr(t,Ss(t),n)}(t,Pu(Z,t))}else{if(!Ie[St])return m?t:{};Z=function Ef(t,n,s){var h=t.constructor;switch(n){case Zr:return ys(t);case Re:case qe:return new h(+t);case Mn:return function pf(t,n){var s=n?ys(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.byteLength)}(t,s);case bi:case _i:case $r:case Yr:case qn:case Ar:case Jn:case yn:case Ai:return ec(t,s);case Je:return new h;case gn:case Kn:return new h(t);case Br:return function gf(t){var n=new t.constructor(t.source,g.exec(t));return n.lastIndex=t.lastIndex,n}(t);case vn:return new h;case Vn:return function vf(t){return Fn?Me(Fn.call(t)):{}}(t)}}(t,St,K)}}D||(D=new $n);var Ht=D.get(t);if(Ht)return Ht;D.set(t,Z),st(t)?t.forEach(function(re){Z.add(Ln(re,n,s,re,t,D))}):xt(t)&&t.forEach(function(re,ye){Z.set(ye,Ln(re,n,s,ye,t,D))});var de=_t?x:(bt?nt?Yi:Aa:nt?Rn:un)(t);return In(de||t,function(re,ye){de&&(re=t[ye=re]),uo(Z,ye,Ln(re,n,s,ye,t,D))}),Z}function Uu(t,n,s){var h=s.length;if(null==t)return!h;for(t=Me(t);h--;){var m=s[h],Z=t[m];if(Z===x&&!(m in t)||!(0,n[m])(Z))return!1}return!0}function Wu(t,n,s){if("function"!=typeof t)throw new fn(N);return Xi(function(){t.apply(x,s)},n)}function co(t,n,s,h){var m=-1,D=Fo,Z=!0,K=t.length,nt=[],bt=n.length;if(!K)return nt;s&&(n=Le(n,En(s))),h?(D=Hs,Z=!1):n.length>=200&&(D=Qe,Z=!1,n=new si(n));t:for(;++m<K;){var _t=t[m],St=null==s?_t:s(_t);if(_t=h||0!==_t?_t:0,Z&&St==St){for(var Pt=bt;Pt--;)if(n[Pt]===St)continue t;nt.push(_t)}else D(n,St,h)||nt.push(_t)}return nt}S.templateSettings={escape:Ha,evaluate:Xa,interpolate:Qn,variable:"",imports:{_:S}},(S.prototype=is.prototype).constructor=S,(ze.prototype=ii(is.prototype)).constructor=ze,(pe.prototype=ii(is.prototype)).constructor=pe,oi.prototype.clear=function Rh(){this.__data__=Ui?Ui(null):{},this.size=0},oi.prototype.delete=function ss(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},oi.prototype.get=function Lu(t){var n=this.__data__;if(Ui){var s=n[t];return s===b?x:s}return le.call(n,t)?n[t]:x},oi.prototype.has=function Gh(t){var n=this.__data__;return Ui?n[t]!==x:le.call(n,t)},oi.prototype.set=function Oh(t,n){var s=this.__data__;return this.size+=this.has(t)?0:1,s[t]=Ui&&n===x?b:n,this},fr.prototype.clear=function Wi(){this.__data__=[],this.size=0},fr.prototype.delete=function as(t){var n=this.__data__,s=us(n,t);return!(s<0||(s==n.length-1?n.pop():ts.call(n,s,1),--this.size,0))},fr.prototype.get=function Tu(t){var n=this.__data__,s=us(n,t);return s<0?x:n[s][1]},fr.prototype.has=function Vl(t){return us(this.__data__,t)>-1},fr.prototype.set=function ql(t,n){var s=this.__data__,h=us(s,t);return h<0?(++this.size,s.push([t,n])):s[h][1]=n,this},Zn.prototype.clear=function ua(){this.size=0,this.__data__={hash:new oi,map:new(ao||fr),string:new oi}},Zn.prototype.delete=function Ph(t){var n=wo(this,t).delete(t);return this.size-=n?1:0,n},Zn.prototype.get=function Uh(t){return wo(this,t).get(t)},Zn.prototype.has=function zu(t){return wo(this,t).has(t)},Zn.prototype.set=function Ru(t,n){var s=wo(this,t),h=s.size;return s.set(t,n),this.size+=s.size==h?0:1,this},si.prototype.add=si.prototype.push=function Wh(t){return this.__data__.set(t,b),this},si.prototype.has=function Bh(t){return this.__data__.has(t)},$n.prototype.clear=function Fh(){this.__data__=new fr,this.size=0},$n.prototype.delete=function Zh(t){var n=this.__data__,s=n.delete(t);return this.size=n.size,s},$n.prototype.get=function $h(t){return this.__data__.get(t)},$n.prototype.has=function Yh(t){return this.__data__.has(t)},$n.prototype.set=function Hh(t,n){var s=this.__data__;if(s instanceof fr){var h=s.__data__;if(!ao||h.length<199)return h.push([t,n]),this.size=++s.size,this;s=this.__data__=new Zn(h)}return s.set(t,n),this.size=s.size,this};var Dr=ic(er),Bu=ic(fa,!0);function Jh(t,n){var s=!0;return Dr(t,function(h,m,D){return s=!!n(h,m,D)}),s}function cs(t,n,s){for(var h=-1,m=t.length;++h<m;){var D=t[h],Z=n(D);if(null!=Z&&(K===x?Z==Z&&!vt(Z):s(Z,K)))var K=Z,nt=D}return nt}function Fu(t,n){var s=[];return Dr(t,function(h,m,D){n(h,m,D)&&s.push(h)}),s}function tn(t,n,s,h,m){var D=-1,Z=t.length;for(s||(s=Sf),m||(m=[]);++D<Z;){var K=t[D];n>0&&s(K)?n>1?tn(K,n-1,s,h,m):Mr(m,K):h||(m[m.length]=K)}return m}var hs=oc(),Zu=oc(!0);function er(t,n){return t&&hs(t,n,un)}function fa(t,n){return t&&Zu(t,n,un)}function fs(t,n){return Sr(n,function(s){return gt(t[s])})}function ui(t,n){for(var s=0,h=(n=Tr(n,t)).length;null!=t&&s<h;)t=t[ir(n[s++])];return s&&s==h?t:x}function $u(t,n,s){var h=n(t);return r(t)?h:Mr(h,s(t))}function ln(t){return null==t?t===x?"[object Undefined]":"[object Null]":Qr&&Qr in Me(t)?function dc(t){var n=le.call(t,Qr),s=t[Qr];try{t[Qr]=x;var h=!0}catch(D){}var m=qr.call(t);return h&&(n?t[Qr]=s:delete t[Qr]),m}(t):function Nf(t){return qr.call(t)}(t)}function la(t,n){return t>n}function tf(t,n){return null!=t&&le.call(t,n)}function ef(t,n){return null!=t&&n in Me(t)}function da(t,n,s){for(var h=s?Hs:Fo,m=t[0].length,D=t.length,Z=D,K=ht(D),nt=1/0,bt=[];Z--;){var _t=t[Z];Z&&n&&(_t=Le(_t,En(n))),nt=rn(_t.length,nt),K[Z]=!s&&(n||m>=120&&_t.length>=120)?new si(Z&&_t):x}_t=t[0];var St=-1,Pt=K[0];t:for(;++St<m&&bt.length<nt;){var Ht=_t[St],ne=n?n(Ht):Ht;if(Ht=s||0!==Ht?Ht:0,!(Pt?Qe(Pt,ne):h(bt,ne,s))){for(Z=D;--Z;){var de=K[Z];if(!(de?Qe(de,ne):h(t[Z],ne,s)))continue t}Pt&&Pt.push(ne),bt.push(Ht)}}return bt}function ho(t,n,s){var h=null==(t=wc(t,n=Tr(n,t)))?t:t[ir(zn(n))];return null==h?x:An(h,t,s)}function Yu(t){return ut(t)&&ln(t)==kt}function fo(t,n,s,h,m){return t===n||(null==t||null==n||!ut(t)&&!ut(n)?t!=t&&n!=n:function Hu(t,n,s,h,m,D){var Z=r(t),K=r(n),nt=Z?It:He(t),bt=K?It:He(n),_t=(nt=nt==kt?Oe:nt)==Oe,St=(bt=bt==kt?Oe:bt)==Oe,Pt=nt==bt;if(Pt&&d(t)){if(!d(n))return!1;Z=!0,_t=!1}if(Pt&&!_t)return D||(D=new $n),Z||Lt(t)?yo(t,n,s,h,m,D):function $i(t,n,s,h,m,D,Z){switch(s){case Mn:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case Zr:return!(t.byteLength!=n.byteLength||!D(new Jr(t),new Jr(n)));case Re:case qe:case gn:return Hn(+t,+n);case Be:return t.name==n.name&&t.message==n.message;case Br:case Kn:return t==n+"";case Je:var K=kr;case vn:if(K||(K=no),t.size!=n.size&&!(1&h))return!1;var bt=Z.get(t);if(bt)return bt==n;h|=2,Z.set(t,n);var _t=yo(K(t),K(n),h,m,D,Z);return Z.delete(t),_t;case Vn:if(Fn)return Fn.call(t)==Fn.call(n)}return!1}(t,n,nt,s,h,m,D);if(!(1&s)){var Ht=_t&&le.call(t,"__wrapped__"),ne=St&&le.call(n,"__wrapped__");if(Ht||ne){var de=Ht?t.value():t,re=ne?n.value():n;return D||(D=new $n),m(de,re,s,h,D)}}return!!Pt&&(D||(D=new $n),function Af(t,n,s,h,m,D){var Z=1&s,K=Aa(t),nt=K.length;if(nt!=Aa(n).length&&!Z)return!1;for(var St=nt;St--;){var Pt=K[St];if(!(Z?Pt in n:le.call(n,Pt)))return!1}var Ht=D.get(t),ne=D.get(n);if(Ht&&ne)return Ht==n&&ne==t;var de=!0;D.set(t,n),D.set(n,t);for(var re=Z;++St<nt;){var ye=t[Pt=K[St]],_e=n[Pt];if(h)var Xn=Z?h(_e,ye,Pt,n,t,D):h(ye,_e,Pt,t,n,D);if(!(Xn===x?ye===_e||m(ye,_e,s,h,D):Xn)){de=!1;break}re||(re="constructor"==Pt)}if(de&&!re){var Sn=t.constructor,jn=n.constructor;Sn!=jn&&"constructor"in t&&"constructor"in n&&!("function"==typeof Sn&&Sn instanceof Sn&&"function"==typeof jn&&jn instanceof jn)&&(de=!1)}return D.delete(t),D.delete(n),de}(t,n,s,h,m,D))}(t,n,s,h,fo,m))}function Xu(t,n,s,h){var m=s.length,D=m,Z=!h;if(null==t)return!D;for(t=Me(t);m--;){var K=s[m];if(Z&&K[2]?K[1]!==t[K[0]]:!(K[0]in t))return!1}for(;++m<D;){var nt=(K=s[m])[0],bt=t[nt],_t=K[1];if(Z&&K[2]){if(bt===x&&!(nt in t))return!1}else{var St=new $n;if(h)var Pt=h(bt,_t,nt,t,n,St);if(!(Pt===x?fo(_t,bt,3,h,St):Pt))return!1}}return!0}function sf(t){return!(!X(t)||function Mf(t){return!!_u&&_u in t}(t))&&(gt(t)?Au:v).test(yi(t))}function ju(t){return"function"==typeof t?t:null==t?Gn:"object"==typeof t?r(t)?en(t[0],t[1]):ga(t):yd(t)}function ls(t){if(!vi(t))return Dh(t);var n=[];for(var s in Me(t))le.call(t,s)&&"constructor"!=s&&n.push(s);return n}function Lr(t,n){return t<n}function ci(t,n){var s=-1,h=o(t)?ht(t.length):[];return Dr(t,function(m,D,Z){h[++s]=n(m,D,Z)}),h}function ga(t){var n=Cs(t);return 1==n.length&&n[0][2]?Ca(n[0][0],n[0][1]):function(s){return s===t||Xu(s,t,n)}}function en(t,n){return xo(t)&&Hi(n)?Ca(ir(t),n):function(s){var h=Bl(s,t);return h===x&&h===n?Fl(s,t):fo(n,h,3)}}function $e(t,n,s,h,m){t!==n&&hs(n,function(D,Z){if(m||(m=new $n),X(D))!function Ku(t,n,s,h,m,D,Z){var K=Ma(t,s),nt=Ma(n,s),bt=Z.get(nt);if(bt)ca(t,s,bt);else{var _t=D?D(K,nt,s+"",t,n,Z):x,St=_t===x;if(St){var Pt=r(nt),Ht=!Pt&&d(nt),ne=!Pt&&!Ht&&Lt(nt);_t=nt,Pt||Ht||ne?r(K)?_t=K:a(K)?_t=bn(K):Ht?(St=!1,_t=tc(nt,!0)):ne?(St=!1,_t=ec(nt,!0)):_t=[]:Tt(nt)||e(nt)?(_t=K,e(K)?_t=an(K):(!X(K)||gt(K))&&(_t=Ea(nt))):St=!1}St&&(Z.set(nt,_t),m(_t,nt,h,D,Z),Z.delete(nt)),ca(t,s,_t)}}(t,n,Z,s,$e,h,m);else{var K=h?h(Ma(t,Z),D,Z+"",t,n,m):x;K===x&&(K=D),ca(t,Z,K)}},Rn)}function ds(t,n){var s=t.length;if(s)return wr(n+=n<0?s:0,s)?t[n]:x}function lo(t,n,s){n=n.length?Le(n,function(D){return r(D)?function(Z){return ui(Z,1===D.length?D[0]:D)}:D}):[Gn];var h=-1;return n=Le(n,En(te())),function Eh(tt,yt){var ht=tt.length;for(tt.sort(yt);ht--;)tt[ht]=tt[ht].value;return tt}(ci(t,function(D,Z,K){return{criteria:Le(n,function(bt){return bt(D)}),index:++h,value:D}}),function(D,Z){return function yf(t,n,s){for(var h=-1,m=t.criteria,D=n.criteria,Z=m.length,K=s.length;++h<Z;){var nt=sn(m[h],D[h]);if(nt)return h>=K?nt:nt*("desc"==s[h]?-1:1)}return t.index-n.index}(D,Z,s)})}function Vu(t,n,s){for(var h=-1,m=n.length,D={};++h<m;){var Z=n[h],K=ui(t,Z);s(K,Z)&&fi(D,Tr(Z,t),K)}return D}function gs(t,n,s,h){var m=h?Ah:Di,D=-1,Z=n.length,K=t;for(t===n&&(n=bn(n)),s&&(K=Le(t,En(s)));++D<Z;)for(var nt=0,bt=n[D],_t=s?s(bt):bt;(nt=m(K,_t,nt,h))>-1;)K!==t&&ts.call(K,nt,1),ts.call(t,nt,1);return t}function va(t,n){for(var s=t?n.length:0,h=s-1;s--;){var m=n[s];if(s==h||m!==D){var D=m;wr(m)?ts.call(t,m,1):po(t,m)}}return t}function ya(t,n){return t+hr(Mu()*(n-t+1))}function hi(t,n){var s="";if(!t||n<1||n>ve)return s;do{n%2&&(s+=t),(n=hr(n/2))&&(t+=t)}while(n);return s}function fe(t,n){return ka(_o(t,n,Gn),t+"")}function ff(t){return Ou(Os(t))}function lf(t,n){var s=Os(t);return Na(s,ai(n,0,s.length))}function fi(t,n,s,h){if(!X(t))return t;for(var m=-1,D=(n=Tr(n,t)).length,Z=D-1,K=t;null!=K&&++m<D;){var nt=ir(n[m]),bt=s;if("__proto__"===nt||"constructor"===nt||"prototype"===nt)return t;if(m!=Z){var _t=K[nt];(bt=h?h(_t,nt,K):x)===x&&(bt=X(_t)?_t:wr(n[m+1])?[]:{})}uo(K,nt,bt),K=K[nt]}return t}var qu=ei?function(t,n){return ei.set(t,n),t}:Gn,Jl=Oi?function(t,n){return Oi(t,"toString",{configurable:!0,enumerable:!1,value:$l(n),writable:!0})}:Gn;function Ql(t){return Na(Os(t))}function Yn(t,n,s){var h=-1,m=t.length;n<0&&(n=-n>m?0:m+n),(s=s>m?m:s)<0&&(s+=m),m=n>s?0:s-n>>>0,n>>>=0;for(var D=ht(m);++h<m;)D[h]=t[h+n];return D}function td(t,n){var s;return Dr(t,function(h,m,D){return!(s=n(h,m,D))}),!!s}function Bi(t,n,s){var h=0,m=null==t?h:t.length;if("number"==typeof n&&n==n&&m<=2147483647){for(;h<m;){var D=h+m>>>1,Z=t[D];null!==Z&&!vt(Z)&&(s?Z<=n:Z<n)?h=D+1:m=D}return m}return Ue(t,n,Gn,s)}function Ue(t,n,s,h){var m=0,D=null==t?0:t.length;if(0===D)return 0;for(var Z=(n=s(n))!=n,K=null===n,nt=vt(n),bt=n===x;m<D;){var _t=hr((m+D)/2),St=s(t[_t]),Pt=St!==x,Ht=null===St,ne=St==St,de=vt(St);if(Z)var re=h||ne;else re=bt?ne&&(h||Pt):K?ne&&Pt&&(h||!Ht):nt?ne&&Pt&&!Ht&&(h||!de):!Ht&&!de&&(h?St<=n:St<n);re?m=_t+1:D=_t}return rn(D,4294967294)}function Ju(t,n){for(var s=-1,h=t.length,m=0,D=[];++s<h;){var Z=t[s],K=n?n(Z):Z;if(!s||!Hn(K,nt)){var nt=K;D[m++]=0===Z?0:Z}}return D}function nr(t){return"number"==typeof t?t:vt(t)?NaN:+t}function Cn(t){if("string"==typeof t)return t;if(r(t))return Le(t,Cn)+"";if(vt(t))return Nr?Nr.call(t):"";var n=t+"";return"0"==n&&1/t==-qt?"-0":n}function Tn(t,n,s){var h=-1,m=Fo,D=t.length,Z=!0,K=[],nt=K;if(s)Z=!1,m=Hs;else if(D>=200){var bt=n?null:bf(t);if(bt)return no(bt);Z=!1,m=Qe,nt=new si}else nt=n?[]:K;t:for(;++h<D;){var _t=t[h],St=n?n(_t):_t;if(_t=s||0!==_t?_t:0,Z&&St==St){for(var Pt=nt.length;Pt--;)if(nt[Pt]===St)continue t;n&&nt.push(St),K.push(_t)}else m(nt,St,s)||(nt!==K&&nt.push(St),K.push(_t))}return K}function po(t,n){return null==(t=wc(t,n=Tr(n,t)))||delete t[ir(zn(n))]}function li(t,n,s,h){return fi(t,n,s(ui(t,n)),h)}function go(t,n,s,h){for(var m=t.length,D=h?m:-1;(h?D--:++D<m)&&n(t[D],D,t););return s?Yn(t,h?0:D,h?D+1:m):Yn(t,h?D+1:0,h?m:D)}function ma(t,n){var s=t;return s instanceof pe&&(s=s.value()),Xs(n,function(h,m){return m.func.apply(m.thisArg,Mr([h],m.args))},s)}function Fi(t,n,s){var h=t.length;if(h<2)return h?Tn(t[0]):[];for(var m=-1,D=ht(h);++m<h;)for(var Z=t[m],K=-1;++K<h;)K!=m&&(D[m]=co(D[m]||Z,t[K],n,s));return Tn(tn(D,1),n,s)}function vs(t,n,s){for(var h=-1,m=t.length,D=n.length,Z={};++h<m;)s(Z,t[h],h<D?n[h]:x);return Z}function wa(t){return a(t)?t:[]}function xa(t){return"function"==typeof t?t:Gn}function Tr(t,n){return r(t)?t:xo(t,n)?[t]:Df(xe(t))}var df=fe;function zr(t,n,s){var h=t.length;return s=s===x?h:s,!n&&s>=h?t:Yn(t,n,s)}var Qu=es||function(t){return Ke.clearTimeout(t)};function tc(t,n){if(n)return t.slice();var s=t.length,h=Eu?Eu(s):new t.constructor(s);return t.copy(h),h}function ys(t){var n=new t.constructor(t.byteLength);return new Jr(n).set(new Jr(t)),n}function ec(t,n){var s=n?ys(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.length)}function sn(t,n){if(t!==n){var s=t!==x,h=null===t,m=t==t,D=vt(t),Z=n!==x,K=null===n,nt=n==n,bt=vt(n);if(!K&&!bt&&!D&&t>n||D&&Z&&nt&&!K&&!bt||h&&Z&&nt||!s&&nt||!m)return 1;if(!h&&!D&&!bt&&t<n||bt&&s&&m&&!h&&!D||K&&s&&m||!Z&&m||!nt)return-1}return 0}function nc(t,n,s,h){for(var m=-1,D=t.length,Z=s.length,K=-1,nt=n.length,bt=Ze(D-Z,0),_t=ht(nt+bt),St=!h;++K<nt;)_t[K]=n[K];for(;++m<Z;)(St||m<D)&&(_t[s[m]]=t[m]);for(;bt--;)_t[K++]=t[m++];return _t}function rc(t,n,s,h){for(var m=-1,D=t.length,Z=-1,K=s.length,nt=-1,bt=n.length,_t=Ze(D-K,0),St=ht(_t+bt),Pt=!h;++m<_t;)St[m]=t[m];for(var Ht=m;++nt<bt;)St[Ht+nt]=n[nt];for(;++Z<K;)(Pt||m<D)&&(St[Ht+s[Z]]=t[m++]);return St}function bn(t,n){var s=-1,h=t.length;for(n||(n=ht(h));++s<h;)n[s]=t[s];return n}function rr(t,n,s,h){var m=!s;s||(s={});for(var D=-1,Z=n.length;++D<Z;){var K=n[D],nt=h?h(s[K],t[K],K,s,t):x;nt===x&&(nt=t[K]),m?lr(s,K,nt):uo(s,K,nt)}return s}function ms(t,n){return function(s,h){var m=r(s)?mh:Kh,D=n?n():{};return m(s,t,te(h,2),D)}}function Zi(t){return fe(function(n,s){var h=-1,m=s.length,D=m>1?s[m-1]:x,Z=m>2?s[2]:x;for(D=t.length>3&&"function"==typeof D?(m--,D):x,Z&&We(s[0],s[1],Z)&&(D=m<3?x:D,m=1),n=Me(n);++h<m;){var K=s[h];K&&t(n,K,h,D)}return n})}function ic(t,n){return function(s,h){if(null==s)return s;if(!o(s))return t(s,h);for(var m=s.length,D=n?m:-1,Z=Me(s);(n?D--:++D<m)&&!1!==h(Z[D],D,Z););return s}}function oc(t){return function(n,s,h){for(var m=-1,D=Me(n),Z=h(n),K=Z.length;K--;){var nt=Z[t?K:++m];if(!1===s(D[nt],nt,D))break}return n}}function ws(t){return function(n){var s=Li(n=xe(n))?xn(n):x,h=s?s[0]:n.charAt(0),m=s?zr(s,1).join(""):n.slice(1);return h[t]()+m}}function di(t){return function(n){return Xs(gd(pd(n).replace(Uo,"")),t,"")}}function Ye(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var s=ii(t.prototype),h=t.apply(s,n);return X(h)?h:s}}function vr(t){return function(n,s,h){var m=Me(n);if(!o(n)){var D=te(s,3);n=un(n),s=function(K){return D(m[K],K,m)}}var Z=t(n,s,h);return Z>-1?m[D?n[Z]:Z]:x}}function sc(t){return mr(function(n){var s=n.length,h=s,m=ze.prototype.thru;for(t&&n.reverse();h--;){var D=n[h];if("function"!=typeof D)throw new fn(N);if(m&&!Z&&"wrapper"==Es(D))var Z=new ze([],!0)}for(h=Z?h:s;++h<s;){var K=Es(D=n[h]),nt="wrapper"==K?mo(D):x;Z=nt&&bo(nt[0])&&424==nt[1]&&!nt[4].length&&1==nt[9]?Z[Es(nt[0])].apply(Z,nt[3]):1==D.length&&bo(D)?Z[K]():Z.thru(D)}return function(){var bt=arguments,_t=bt[0];if(Z&&1==bt.length&&r(_t))return Z.plant(_t).value();for(var St=0,Pt=s?n[St].apply(this,bt):_t;++St<s;)Pt=n[St].call(this,Pt);return Pt}})}function xs(t,n,s,h,m,D,Z,K,nt,bt){var _t=128&n,St=1&n,Pt=2&n,Ht=24&n,ne=512&n,de=Pt?x:Ye(t);return function re(){for(var ye=arguments.length,_e=ht(ye),Xn=ye;Xn--;)_e[Xn]=arguments[Xn];if(Ht)var Sn=gi(re),jn=eo(_e,Sn);if(h&&(_e=nc(_e,h,m,Ht)),D&&(_e=rc(_e,D,Z,Ht)),ye-=jn,Ht&&ye<bt){var je=Nn(_e,Sn);return cc(t,n,xs,re.placeholder,s,_e,je,K,nt,bt-ye)}var _r=St?s:this,xi=Pt?_r[t]:t;return ye=_e.length,K?_e=Sa(_e,K):ne&&ye>1&&_e.reverse(),_t&&nt<ye&&(_e.length=nt),this&&this!==Ke&&this instanceof re&&(xi=de||Ye(xi)),xi.apply(_r,_e)}}function ac(t,n){return function(s,h){return function rf(t,n,s,h){return er(t,function(m,D,Z){n(h,s(m),D,Z)}),h}(s,t,n(h),{})}}function bs(t,n){return function(s,h){var m;if(s===x&&h===x)return n;if(s!==x&&(m=s),h!==x){if(m===x)return h;"string"==typeof s||"string"==typeof h?(s=Cn(s),h=Cn(h)):(s=nr(s),h=nr(h)),m=t(s,h)}return m}}function _s(t){return mr(function(n){return n=Le(n,En(te())),fe(function(s){var h=this;return t(n,function(m){return An(m,h,s)})})})}function As(t,n){var s=(n=n===x?" ":Cn(n)).length;if(s<2)return s?hi(n,t):n;var h=hi(n,tr(t/Dn(n)));return Li(n)?zr(xn(h),0,t).join(""):h.slice(0,t)}function uc(t){return function(n,s,h){return h&&"number"!=typeof h&&We(n,s,h)&&(s=h=x),n=Ce(n),s===x?(s=n,n=0):s=Ce(s),function hf(t,n,s,h){for(var m=-1,D=Ze(tr((n-t)/(s||1)),0),Z=ht(D);D--;)Z[h?D:++m]=t,t+=s;return Z}(n,s,h=h===x?n<s?1:-1:Ce(h),t)}}function vo(t){return function(n,s){return"string"==typeof n&&"string"==typeof s||(n=ge(n),s=ge(s)),t(n,s)}}function cc(t,n,s,h,m,D,Z,K,nt,bt){var _t=8&n;n|=_t?L:64,4&(n&=~(_t?64:L))||(n&=-4);var de=[t,n,m,_t?D:x,_t?Z:x,_t?x:D,_t?x:Z,K,nt,bt],re=s.apply(x,de);return bo(t)&&xc(re,de),re.placeholder=h,Ia(re,t,n)}function _a(t){var n=Fe[t];return function(s,h){if(s=ge(s),(h=null==h?0:rn(Kt(h),292))&&Wn(s)){var m=(xe(s)+"e").split("e");return+((m=(xe(n(m[0]+"e"+(+m[1]+h)))+"e").split("e"))[0]+"e"+(+m[1]-h))}return n(s)}}var bf=ti&&1/no(new ti([,-0]))[1]==qt?function(t){return new ti(t)}:Xl;function hc(t){return function(n){var s=He(n);return s==Je?kr(n):s==vn?function jo(tt){var yt=-1,ht=Array(tt.size);return tt.forEach(function(Wt){ht[++yt]=[Wt,Wt]}),ht}(n):function Ch(tt,yt){return Le(yt,function(ht){return[ht,tt[ht]]})}(n,t(n))}}function yr(t,n,s,h,m,D,Z,K){var nt=2&n;if(!nt&&"function"!=typeof t)throw new fn(N);var bt=h?h.length:0;if(bt||(n&=-97,h=m=x),Z=Z===x?Z:Ze(Kt(Z),0),K=K===x?K:Kt(K),bt-=m?m.length:0,64&n){var _t=h,St=m;h=m=x}var Pt=nt?x:mo(t),Ht=[t,n,s,h,m,_t,St,D,Z,K];if(Pt&&function kf(t,n){var s=t[1],h=n[1],m=s|h;if(!(m<131||(128==h&&8==s||128==h&&256==s&&t[7].length<=n[8]||384==h&&n[7].length<=n[8]&&8==s)))return t;1&h&&(t[2]=n[2],m|=1&s?0:4);var K=n[3];if(K){var nt=t[3];t[3]=nt?nc(nt,K,n[4]):K,t[4]=nt?Nn(t[3],E):n[4]}(K=n[5])&&(t[5]=(nt=t[5])?rc(nt,K,n[6]):K,t[6]=nt?Nn(t[5],E):n[6]),(K=n[7])&&(t[7]=K),128&h&&(t[8]=null==t[8]?n[8]:rn(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=m}(Ht,Pt),t=Ht[0],n=Ht[1],s=Ht[2],h=Ht[3],m=Ht[4],!(K=Ht[9]=Ht[9]===x?nt?0:t.length:Ze(Ht[9]-bt,0))&&24&n&&(n&=-25),n&&1!=n)ne=8==n||16==n?function pi(t,n,s){var h=Ye(t);return function m(){for(var D=arguments.length,Z=ht(D),K=D,nt=gi(m);K--;)Z[K]=arguments[K];var bt=D<3&&Z[0]!==nt&&Z[D-1]!==nt?[]:Nn(Z,nt);return(D-=bt.length)<s?cc(t,n,xs,m.placeholder,x,Z,bt,x,x,s-D):An(this&&this!==Ke&&this instanceof m?h:t,this,Z)}}(t,n,K):n!=L&&33!=n||m.length?xs.apply(x,Ht):function xf(t,n,s,h){var m=1&n,D=Ye(t);return function Z(){for(var K=-1,nt=arguments.length,bt=-1,_t=h.length,St=ht(_t+nt),Pt=this&&this!==Ke&&this instanceof Z?D:t;++bt<_t;)St[bt]=h[bt];for(;nt--;)St[bt++]=arguments[++K];return An(Pt,m?s:this,St)}}(t,n,s,h);else var ne=function ba(t,n,s){var h=1&n,m=Ye(t);return function D(){return(this&&this!==Ke&&this instanceof D?m:t).apply(h?s:this,arguments)}}(t,n,s);return Ia((Pt?qu:xc)(ne,Ht),t,n)}function fc(t,n,s,h){return t===x||Hn(t,ur[s])&&!le.call(h,s)?n:t}function lc(t,n,s,h,m,D){return X(t)&&X(n)&&(D.set(n,t),$e(t,n,x,lc,D),D.delete(n)),t}function _f(t){return Tt(t)?x:t}function yo(t,n,s,h,m,D){var Z=1&s,K=t.length,nt=n.length;if(K!=nt&&!(Z&&nt>K))return!1;var bt=D.get(t),_t=D.get(n);if(bt&&_t)return bt==n&&_t==t;var St=-1,Pt=!0,Ht=2&s?new si:x;for(D.set(t,n),D.set(n,t);++St<K;){var ne=t[St],de=n[St];if(h)var re=Z?h(de,ne,St,n,t,D):h(ne,de,St,t,n,D);if(re!==x){if(re)continue;Pt=!1;break}if(Ht){if(!Ks(n,function(ye,_e){if(!Qe(Ht,_e)&&(ne===ye||m(ne,ye,s,h,D)))return Ht.push(_e)})){Pt=!1;break}}else if(ne!==de&&!m(ne,de,s,h,D)){Pt=!1;break}}return D.delete(t),D.delete(n),Pt}function mr(t){return ka(_o(t,x,mi),t+"")}function Aa(t){return $u(t,un,Ss)}function Yi(t){return $u(t,Rn,pc)}var mo=ei?function(t){return ei.get(t)}:Xl;function Es(t){for(var n=t.name+"",s=ni[n],h=le.call(ni,n)?s.length:0;h--;){var m=s[h],D=m.func;if(null==D||D==t)return m.name}return n}function gi(t){return(le.call(S,"placeholder")?S:t).placeholder}function te(){var t=S.iteratee||Yl;return t=t===Yl?ju:t,arguments.length?t(arguments[0],arguments[1]):t}function wo(t,n){var s=t.__data__;return function yc(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}(n)?s["string"==typeof n?"string":"hash"]:s.map}function Cs(t){for(var n=un(t),s=n.length;s--;){var h=n[s],m=t[h];n[s]=[h,m,Hi(m)]}return n}function Rr(t,n){var s=function Mh(tt,yt){return null==tt?x:tt[yt]}(t,n);return sf(s)?s:x}var Ss=Ir?function(t){return null==t?[]:(t=Me(t),Sr(Ir(t),function(n){return Cu.call(t,n)}))}:jl,pc=Ir?function(t){for(var n=[];t;)Mr(n,Ss(t)),t=Qo(t);return n}:jl,He=ln;function vc(t,n,s){for(var h=-1,m=(n=Tr(n,t)).length,D=!1;++h<m;){var Z=ir(n[h]);if(!(D=null!=t&&s(t,Z)))break;t=t[Z]}return D||++h!=m?D:!!(m=null==t?0:t.length)&&V(m)&&wr(Z,m)&&(r(t)||e(t))}function Ea(t){return"function"!=typeof t.constructor||vi(t)?{}:ii(Qo(t))}function Sf(t){return r(t)||e(t)||!!(Su&&t&&t[Su])}function wr(t,n){var s=typeof t;return!!(n=null==n?ve:n)&&("number"==s||"symbol"!=s&&U.test(t))&&t>-1&&t%1==0&&t<n}function We(t,n,s){if(!X(s))return!1;var h=typeof n;return!!("number"==h?o(s)&&wr(n,s.length):"string"==h&&n in s)&&Hn(s[n],t)}function xo(t,n){if(r(t))return!1;var s=typeof t;return!("number"!=s&&"symbol"!=s&&"boolean"!=s&&null!=t&&!vt(t))||Ro.test(t)||!zo.test(t)||null!=n&&t in Me(n)}function bo(t){var n=Es(t),s=S[n];if("function"!=typeof s||!(n in pe.prototype))return!1;if(t===s)return!0;var h=mo(s);return!!h&&t===h[0]}(ns&&He(new ns(new ArrayBuffer(1)))!=Mn||ao&&He(new ao)!=Je||sa&&He(sa.resolve())!=No||ti&&He(new ti)!=vn||Bn&&He(new Bn)!=Fr)&&(He=function(t){var n=ln(t),s=n==Oe?t.constructor:x,h=s?yi(s):"";if(h)switch(h){case rs:return Mn;case on:return Je;case Iu:return No;case zh:return vn;case Nu:return Fr}return n});var mc=Vr?gt:Kl;function vi(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||ur)}function Hi(t){return t==t&&!X(t)}function Ca(t,n){return function(s){return null!=s&&s[t]===n&&(n!==x||t in Me(s))}}function _o(t,n,s){return n=Ze(n===x?t.length-1:n,0),function(){for(var h=arguments,m=-1,D=Ze(h.length-n,0),Z=ht(D);++m<D;)Z[m]=h[n+m];m=-1;for(var K=ht(n+1);++m<n;)K[m]=h[m];return K[n]=s(Z),An(t,this,K)}}function wc(t,n){return n.length<2?t:ui(t,Yn(n,0,-1))}function Sa(t,n){for(var s=t.length,h=rn(n.length,s),m=bn(t);h--;){var D=n[h];t[h]=wr(D,s)?m[D]:x}return t}function Ma(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]}var xc=bc(qu),Xi=Pi||function(t,n){return Ke.setTimeout(t,n)},ka=bc(Jl);function Ia(t,n,s){var h=n+"";return ka(t,function Cf(t,n){var s=n.length;if(!s)return t;var h=s-1;return n[h]=(s>1?"& ":"")+n[h],n=n.join(s>2?", ":" "),t.replace(Hr,"{\n/* [wrapped with "+n+"] */\n")}(h,function Lf(t,n){return In(me,function(s){var h="_."+s[0];n&s[1]&&!Fo(t,h)&&t.push(h)}),t.sort()}(function gc(t){var n=t.match(Xr);return n?n[1].split(Mi):[]}(h),s)))}function bc(t){var n=0,s=0;return function(){var h=Lh(),m=16-(h-s);if(s=h,m>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(x,arguments)}}function Na(t,n){var s=-1,h=t.length,m=h-1;for(n=n===x?h:n;++s<n;){var D=ya(s,m),Z=t[D];t[D]=t[s],t[s]=Z}return t.length=n,t}var Df=function nd(t){var n=Rs(t,function(h){return 500===s.size&&s.clear(),h}),s=n.cache;return n}(function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(Ci,function(s,h,m,D){n.push(m?D.replace(p,"$1"):h||s)}),n});function ir(t){if("string"==typeof t||vt(t))return t;var n=t+"";return"0"==n&&1/t==-qt?"-0":n}function yi(t){if(null!=t){try{return Ri.call(t)}catch(n){}try{return t+""}catch(n){}}return""}function Da(t){if(t instanceof pe)return t.clone();var n=new ze(t.__wrapped__,t.__chain__);return n.__actions__=bn(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}var zf=fe(function(t,n){return a(t)?co(t,tn(n,1,a,!0)):[]}),Rf=fe(function(t,n){var s=zn(n);return a(s)&&(s=x),a(t)?co(t,tn(n,1,a,!0),te(s,2)):[]}),Gf=fe(function(t,n){var s=zn(n);return a(s)&&(s=x),a(t)?co(t,tn(n,1,a,!0),x,s):[]});function _c(t,n,s){var h=null==t?0:t.length;if(!h)return-1;var m=null==s?0:Kt(s);return m<0&&(m=Ze(h+m,0)),Zo(t,te(n,3),m)}function Ta(t,n,s){var h=null==t?0:t.length;if(!h)return-1;var m=h-1;return s!==x&&(m=Kt(s),m=s<0?Ze(h+m,0):rn(m,h-1)),Zo(t,te(n,3),m,!0)}function mi(t){return null!=t&&t.length?tn(t,1):[]}function Ec(t){return t&&t.length?t[0]:x}var rd=fe(function(t){var n=Le(t,wa);return n.length&&n[0]===t[0]?da(n):[]}),Zf=fe(function(t){var n=zn(t),s=Le(t,wa);return n===zn(s)?n=x:s.pop(),s.length&&s[0]===t[0]?da(s,te(n,2)):[]}),$f=fe(function(t){var n=zn(t),s=Le(t,wa);return(n="function"==typeof n?n:x)&&s.pop(),s.length&&s[0]===t[0]?da(s,x,n):[]});function zn(t){var n=null==t?0:t.length;return n?t[n-1]:x}var Ra=fe(Ao);function Ao(t,n){return t&&t.length&&n&&n.length?gs(t,n):t}var kc=mr(function(t,n){var s=null==t?0:t.length,h=ha(t,n);return va(t,Le(n,function(m){return wr(m,s)?+m:m}).sort(sn)),h});function Ga(t){return null==t?t:ku.call(t)}var Vf=fe(function(t){return Tn(tn(t,1,a,!0))}),Ds=fe(function(t){var n=zn(t);return a(n)&&(n=x),Tn(tn(t,1,a,!0),te(n,2))}),qf=fe(function(t){var n=zn(t);return n="function"==typeof n?n:x,Tn(tn(t,1,a,!0),x,n)});function Co(t){if(!t||!t.length)return[];var n=0;return t=Sr(t,function(s){if(a(s))return n=Ze(s.length,n),!0}),Js(n,function(s){return Le(t,Vs(s))})}function ji(t,n){if(!t||!t.length)return[];var s=Co(t);return null==n?s:Le(s,function(h){return An(n,x,h)})}var Qf=fe(function(t,n){return a(t)?co(t,n):[]}),tl=fe(function(t){return Fi(Sr(t,a))}),zc=fe(function(t){var n=zn(t);return a(n)&&(n=x),Fi(Sr(t,a),te(n,2))}),el=fe(function(t){var n=zn(t);return n="function"==typeof n?n:x,Fi(Sr(t,a),x,n)}),nl=fe(Co),ol=fe(function(t){var n=t.length,s=n>1?t[n-1]:x;return s="function"==typeof s?(t.pop(),s):x,ji(t,s)});function Pa(t){var n=S(t);return n.__chain__=!0,n}function So(t,n){return n(t)}var sl=mr(function(t){var n=t.length,s=n?t[0]:0,h=this.__wrapped__,m=function(D){return ha(D,t)};return!(n>1||this.__actions__.length)&&h instanceof pe&&wr(s)?((h=h.slice(s,+s+(n?1:0))).__actions__.push({func:So,args:[m],thisArg:x}),new ze(h,this.__chain__).thru(function(D){return n&&!D.length&&D.push(x),D})):this.thru(m)}),Wa=ms(function(t,n,s){le.call(t,s)?++t[s]:lr(t,s,1)}),Oc=vr(_c),fl=vr(Ta);function Pr(t,n){return(r(t)?In:Dr)(t,te(n,3))}function Fa(t,n){return(r(t)?wh:Bu)(t,te(n,3))}var Uc=ms(function(t,n,s){le.call(t,s)?t[s].push(n):lr(t,s,[n])}),Wc=fe(function(t,n,s){var h=-1,m="function"==typeof n,D=o(t)?ht(t.length):[];return Dr(t,function(Z){D[++h]=m?An(n,Z,s):ho(Z,n,s)}),D}),pl=ms(function(t,n,s){lr(t,s,n)});function br(t,n){return(r(t)?Le:ci)(t,te(n,3))}var Za=ms(function(t,n,s){t[s?0:1].push(n)},function(){return[[],[]]}),xl=fe(function(t,n){if(null==t)return[];var s=n.length;return s>1&&We(t,n[0],n[1])?n=[]:s>2&&We(n[0],n[1],n[2])&&(n=[n[0]]),lo(t,tn(n,1),[])}),zs=oa||function(){return Ke.Date.now()};function _l(t,n,s){return n=s?x:n,yr(t,128,x,x,x,x,n=t&&null==n?t.length:n)}function Yc(t,n){var s;if("function"!=typeof n)throw new fn(N);return t=Kt(t),function(){return--t>0&&(s=n.apply(this,arguments)),t<=1&&(n=x),s}}var $a=fe(function(t,n,s){var h=1;if(s.length){var m=Nn(s,gi($a));h|=L}return yr(t,h,n,s,m)}),Hc=fe(function(t,n,s){var h=3;if(s.length){var m=Nn(s,gi(Hc));h|=L}return yr(n,h,t,s,m)});function Kc(t,n,s){var h,m,D,Z,K,nt,bt=0,_t=!1,St=!1,Pt=!0;if("function"!=typeof t)throw new fn(N);function Ht(je){var _r=h,xi=m;return h=m=x,bt=je,Z=t.apply(xi,_r)}function ne(je){return bt=je,K=Xi(ye,n),_t?Ht(je):Z}function re(je){var _r=je-nt;return nt===x||_r>=n||_r<0||St&&je-bt>=D}function ye(){var je=zs();if(re(je))return _e(je);K=Xi(ye,function de(je){var md=n-(je-nt);return St?rn(md,D-(je-bt)):md}(je))}function _e(je){return K=x,Pt&&h?Ht(je):(h=m=x,Z)}function jn(){var je=zs(),_r=re(je);if(h=arguments,m=this,nt=je,_r){if(K===x)return ne(nt);if(St)return Qu(K),K=Xi(ye,n),Ht(nt)}return K===x&&(K=Xi(ye,n)),Z}return n=ge(n)||0,X(s)&&(_t=!!s.leading,D=(St="maxWait"in s)?Ze(ge(s.maxWait)||0,n):D,Pt="trailing"in s?!!s.trailing:Pt),jn.cancel=function Xn(){K!==x&&Qu(K),bt=0,h=nt=m=K=x},jn.flush=function Sn(){return K===x?Z:_e(zs())},jn}var Al=fe(function(t,n){return Wu(t,1,n)}),El=fe(function(t,n,s){return Wu(t,ge(n)||0,s)});function Rs(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new fn(N);var s=function(){var h=arguments,m=n?n.apply(this,h):h[0],D=s.cache;if(D.has(m))return D.get(m);var Z=t.apply(this,h);return s.cache=D.set(m,Z)||D,Z};return s.cache=new(Rs.Cache||Zn),s}function Gs(t){if("function"!=typeof t)throw new fn(N);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}Rs.Cache=Zn;var Mo=df(function(t,n){var s=(n=1==n.length&&r(n[0])?Le(n[0],En(te())):Le(tn(n,1),En(te()))).length;return fe(function(h){for(var m=-1,D=rn(h.length,s);++m<D;)h[m]=n[m].call(this,h[m]);return An(t,this,h)})}),ko=fe(function(t,n){var s=Nn(n,gi(ko));return yr(t,L,x,n,s)}),Vc=fe(function(t,n){var s=Nn(n,gi(Vc));return yr(t,64,x,n,s)}),Ml=mr(function(t,n){return yr(t,256,x,x,x,n)});function Hn(t,n){return t===n||t!=t&&n!=n}var Ol=vo(la),Pl=vo(function(t,n){return t>=n}),e=Yu(function(){return arguments}())?Yu:function(t){return ut(t)&&le.call(t,"callee")&&!Cu.call(t,"callee")},r=ht.isArray,i=su?En(su):function of(t){return ut(t)&&ln(t)==Zr};function o(t){return null!=t&&V(t.length)&&!gt(t)}function a(t){return ut(t)&&o(t)}var d=so||Kl,y=au?En(au):function dr(t){return ut(t)&&ln(t)==qe};function Y(t){if(!ut(t))return!1;var n=ln(t);return n==Be||"[object DOMException]"==n||"string"==typeof t.message&&"string"==typeof t.name&&!Tt(t)}function gt(t){if(!X(t))return!1;var n=ln(t);return n==De||n==_n||"[object AsyncFunction]"==n||"[object Proxy]"==n}function pt(t){return"number"==typeof t&&t==Kt(t)}function V(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=ve}function X(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function ut(t){return null!=t&&"object"==typeof t}var xt=uu?En(uu):function pr(t){return ut(t)&&He(t)==Je};function $t(t){return"number"==typeof t||ut(t)&&ln(t)==gn}function Tt(t){if(!ut(t)||ln(t)!=Oe)return!1;var n=Qo(t);if(null===n)return!0;var s=le.call(n,"constructor")&&n.constructor;return"function"==typeof s&&s instanceof s&&Ri.call(s)==Ih}var ue=cu?En(cu):function af(t){return ut(t)&&ln(t)==Br},st=hu?En(hu):function uf(t){return ut(t)&&He(t)==vn};function Ot(t){return"string"==typeof t||!r(t)&&ut(t)&&ln(t)==Kn}function vt(t){return"symbol"==typeof t||ut(t)&&ln(t)==Vn}var Lt=fu?En(fu):function cf(t){return ut(t)&&V(t.length)&&!!ke[ln(t)]},oe=vo(Lr),ce=vo(function(t,n){return t<=n});function dn(t){if(!t)return[];if(o(t))return Ot(t)?xn(t):bn(t);if(oo&&t[oo])return function Xo(tt){for(var yt,ht=[];!(yt=tt.next()).done;)ht.push(yt.value);return ht}(t[oo]());var n=He(t);return(n==Je?kr:n==vn?no:Os)(t)}function Ce(t){return t?(t=ge(t))===qt||t===-qt?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function Kt(t){var n=Ce(t),s=n%1;return n==n?s?n-s:n:0}function pn(t){return t?ai(Kt(t),0,ie):0}function ge(t){if("number"==typeof t)return t;if(vt(t))return NaN;if(X(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=X(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=yu(t);var s=c.test(t);return s||M.test(t)?vh(t.slice(2),s?2:8):u.test(t)?NaN:+t}function an(t){return rr(t,Rn(t))}function xe(t){return null==t?"":Cn(t)}var Jc=Zi(function(t,n){if(vi(n)||o(n))rr(n,un(n),t);else for(var s in n)le.call(n,s)&&uo(t,s,n[s])}),Ya=Zi(function(t,n){rr(n,Rn(n),t)}),or=Zi(function(t,n,s,h){rr(n,Rn(n),t,h)}),Qc=Zi(function(t,n,s,h){rr(n,un(n),t,h)}),Ul=mr(ha),he=fe(function(t,n){t=Me(t);var s=-1,h=n.length,m=h>2?n[2]:x;for(m&&We(n[0],n[1],m)&&(h=1);++s<h;)for(var D=n[s],Z=Rn(D),K=-1,nt=Z.length;++K<nt;){var bt=Z[K],_t=t[bt];(_t===x||Hn(_t,ur[bt])&&!le.call(t,bt))&&(t[bt]=D[bt])}return t}),Xe=fe(function(t){return t.push(x,lc),An(cd,x,t)});function Bl(t,n,s){var h=null==t?x:ui(t,n);return h===x?s:h}function Fl(t,n){return null!=t&&vc(t,n,ef)}var Sd=ac(function(t,n,s){null!=n&&"function"!=typeof n.toString&&(n=qr.call(n)),t[n]=s},$l(Gn)),Md=ac(function(t,n,s){null!=n&&"function"!=typeof n.toString&&(n=qr.call(n)),le.call(t,n)?t[n].push(s):t[n]=[s]},te),kd=fe(ho);function un(t){return o(t)?Gu(t):ls(t)}function Rn(t){return o(t)?Gu(t,!0):function pa(t){if(!X(t))return function If(t){var n=[];if(null!=t)for(var s in Me(t))n.push(s);return n}(t);var n=vi(t),s=[];for(var h in t)"constructor"==h&&(n||!le.call(t,h))||s.push(h);return s}(t)}var Dd=Zi(function(t,n,s){$e(t,n,s)}),cd=Zi(function(t,n,s,h){$e(t,n,s,h)}),Ld=mr(function(t,n){var s={};if(null==t)return s;var h=!1;n=Le(n,function(D){return D=Tr(D,t),h||(h=D.length>1),D}),rr(t,Yi(t),s),h&&(s=Ln(s,7,_f));for(var m=n.length;m--;)po(s,n[m]);return s}),zd=mr(function(t,n){return null==t?{}:function ps(t,n){return Vu(t,n,function(s,h){return Fl(t,h)})}(t,n)});function hd(t,n){if(null==t)return{};var s=Le(Yi(t),function(h){return[h]});return n=te(n),Vu(t,s,function(h,m){return n(h,m[0])})}var fd=hc(un),ld=hc(Rn);function Os(t){return null==t?[]:Yo(t,un(t))}var Hd=di(function(t,n,s){return n=n.toLowerCase(),t+(s?dd(n):n)});function dd(t){return Zl(xe(t).toLowerCase())}function pd(t){return(t=xe(t))&&t.replace(rt,Sh).replace(sh,"")}var Vd=di(function(t,n,s){return t+(s?"-":"")+n.toLowerCase()}),qd=di(function(t,n,s){return t+(s?" ":"")+n.toLowerCase()}),Jd=ws("toLowerCase"),op=di(function(t,n,s){return t+(s?"_":"")+n.toLowerCase()}),ap=di(function(t,n,s){return t+(s?" ":"")+Zl(n)}),yp=di(function(t,n,s){return t+(s?" ":"")+n.toUpperCase()}),Zl=ws("toUpperCase");function gd(t,n,s){return t=xe(t),(n=s?x:n)===x?function xu(tt){return ch.test(tt)}(t)?function Vo(tt){return tt.match(ah)||[]}(t):function _h(tt){return tt.match(Cr)||[]}(t):t.match(n)||[]}var vd=fe(function(t,n){try{return An(t,x,n)}catch(s){return Y(s)?s:new se(s)}}),mp=mr(function(t,n){return In(n,function(s){s=ir(s),lr(t,s,$a(t[s],t))}),t});function $l(t){return function(){return t}}var _p=sc(),Ap=sc(!0);function Gn(t){return t}function Yl(t){return ju("function"==typeof t?t:Ln(t,1))}var Sp=fe(function(t,n){return function(s){return ho(s,t,n)}}),Mp=fe(function(t,n){return function(s){return ho(t,s,n)}});function Hl(t,n,s){var h=un(n),m=fs(n,h);null==s&&(!X(n)||!m.length&&h.length)&&(s=n,n=t,t=this,m=fs(n,un(n)));var D=!(X(s)&&"chain"in s&&!s.chain),Z=gt(t);return In(m,function(K){var nt=n[K];t[K]=nt,Z&&(t.prototype[K]=function(){var bt=this.__chain__;if(D||bt){var _t=t(this.__wrapped__),St=_t.__actions__=bn(this.__actions__);return St.push({func:nt,args:arguments,thisArg:t}),_t.__chain__=bt,_t}return nt.apply(t,Mr([this.value()],arguments))})}),t}function Xl(){}var Np=_s(Le),Dp=_s(lu),Lp=_s(Ks);function yd(t){return xo(t)?Vs(ir(t)):function gr(t){return function(n){return ui(n,t)}}(t)}var zp=uc(),Rp=uc(!0);function jl(){return[]}function Kl(){return!1}var Fp=bs(function(t,n){return t+n},0),Zp=_a("ceil"),$p=bs(function(t,n){return t/n},1),Yp=_a("floor"),Jp=bs(function(t,n){return t*n},1),Qp=_a("round"),tg=bs(function(t,n){return t-n},0);return S.after=function bl(t,n){if("function"!=typeof n)throw new fn(N);return t=Kt(t),function(){if(--t<1)return n.apply(this,arguments)}},S.ary=_l,S.assign=Jc,S.assignIn=Ya,S.assignInWith=or,S.assignWith=Qc,S.at=Ul,S.before=Yc,S.bind=$a,S.bindAll=mp,S.bindKey=Hc,S.castArray=function Tl(){if(!arguments.length)return[];var t=arguments[0];return r(t)?t:[t]},S.chain=Pa,S.chunk=function Gr(t,n,s){n=(s?We(t,n,s):n===x)?1:Ze(Kt(n),0);var h=null==t?0:t.length;if(!h||n<1)return[];for(var m=0,D=0,Z=ht(tr(h/n));m<h;)Z[D++]=Yn(t,m,m+=n);return Z},S.compact=function La(t){for(var n=-1,s=null==t?0:t.length,h=0,m=[];++n<s;){var D=t[n];D&&(m[h++]=D)}return m},S.concat=function Tf(){var t=arguments.length;if(!t)return[];for(var n=ht(t-1),s=arguments[0],h=t;h--;)n[h-1]=arguments[h];return Mr(r(s)?bn(s):[s],tn(n,1))},S.cond=function wp(t){var n=null==t?0:t.length,s=te();return t=n?Le(t,function(h){if("function"!=typeof h[1])throw new fn(N);return[s(h[0]),h[1]]}):[],fe(function(h){for(var m=-1;++m<n;){var D=t[m];if(An(D[0],this,h))return An(D[1],this,h)}})},S.conforms=function xp(t){return function qh(t){var n=un(t);return function(s){return Uu(s,t,n)}}(Ln(t,1))},S.constant=$l,S.countBy=Wa,S.create=function Wl(t,n){var s=ii(t);return null==n?s:Pu(s,n)},S.curry=function Xc(t,n,s){var h=yr(t,8,x,x,x,x,x,n=s?x:n);return h.placeholder=Xc.placeholder,h},S.curryRight=function jc(t,n,s){var h=yr(t,16,x,x,x,x,x,n=s?x:n);return h.placeholder=jc.placeholder,h},S.debounce=Kc,S.defaults=he,S.defaultsDeep=Xe,S.defer=Al,S.delay=El,S.difference=zf,S.differenceBy=Rf,S.differenceWith=Gf,S.drop=function Of(t,n,s){var h=null==t?0:t.length;return h?Yn(t,(n=s||n===x?1:Kt(n))<0?0:n,h):[]},S.dropRight=function Pf(t,n,s){var h=null==t?0:t.length;return h?Yn(t,0,(n=h-(n=s||n===x?1:Kt(n)))<0?0:n):[]},S.dropRightWhile=function Uf(t,n){return t&&t.length?go(t,te(n,3),!0,!0):[]},S.dropWhile=function Wf(t,n){return t&&t.length?go(t,te(n,3),!0):[]},S.fill=function Bf(t,n,s,h){var m=null==t?0:t.length;return m?(s&&"number"!=typeof s&&We(t,n,s)&&(s=0,h=m),function Qh(t,n,s,h){var m=t.length;for((s=Kt(s))<0&&(s=-s>m?0:m+s),(h=h===x||h>m?m:Kt(h))<0&&(h+=m),h=s>h?0:pn(h);s<h;)t[s++]=n;return t}(t,n,s,h)):[]},S.filter=function Gc(t,n){return(r(t)?Sr:Fu)(t,te(n,3))},S.flatMap=function Ba(t,n){return tn(br(t,n),1)},S.flatMapDeep=function ll(t,n){return tn(br(t,n),qt)},S.flatMapDepth=function Pc(t,n,s){return s=s===x?1:Kt(s),tn(br(t,n),s)},S.flatten=mi,S.flattenDeep=function ks(t){return null!=t&&t.length?tn(t,qt):[]},S.flattenDepth=function Is(t,n){return null!=t&&t.length?tn(t,n=n===x?1:Kt(n)):[]},S.flip=function Cl(t){return yr(t,512)},S.flow=_p,S.flowRight=Ap,S.fromPairs=function Ac(t){for(var n=-1,s=null==t?0:t.length,h={};++n<s;){var m=t[n];h[m[0]]=m[1]}return h},S.functions=function Ad(t){return null==t?[]:fs(t,un(t))},S.functionsIn=function Ed(t){return null==t?[]:fs(t,Rn(t))},S.groupBy=Uc,S.initial=function Cc(t){return null!=t&&t.length?Yn(t,0,-1):[]},S.intersection=rd,S.intersectionBy=Zf,S.intersectionWith=$f,S.invert=Sd,S.invertBy=Md,S.invokeMap=Wc,S.iteratee=Yl,S.keyBy=pl,S.keys=un,S.keysIn=Rn,S.map=br,S.mapKeys=function Id(t,n){var s={};return n=te(n,3),er(t,function(h,m,D){lr(s,n(h,m,D),h)}),s},S.mapValues=function Nd(t,n){var s={};return n=te(n,3),er(t,function(h,m,D){lr(s,m,n(h,m,D))}),s},S.matches=function Ep(t){return ga(Ln(t,1))},S.matchesProperty=function Cp(t,n){return en(t,Ln(n,1))},S.memoize=Rs,S.merge=Dd,S.mergeWith=cd,S.method=Sp,S.methodOf=Mp,S.mixin=Hl,S.negate=Gs,S.nthArg=function Ip(t){return t=Kt(t),fe(function(n){return ds(n,t)})},S.omit=Ld,S.omitBy=function Td(t,n){return hd(t,Gs(te(n)))},S.once=function Sl(t){return Yc(2,t)},S.orderBy=function Bc(t,n,s,h){return null==t?[]:(r(n)||(n=null==n?[]:[n]),r(s=h?x:s)||(s=null==s?[]:[s]),lo(t,n,s))},S.over=Np,S.overArgs=Mo,S.overEvery=Dp,S.overSome=Lp,S.partial=ko,S.partialRight=Vc,S.partition=Za,S.pick=zd,S.pickBy=hd,S.property=yd,S.propertyOf=function Tp(t){return function(n){return null==t?x:ui(t,n)}},S.pull=Ra,S.pullAll=Ao,S.pullAllBy=function Eo(t,n,s){return t&&t.length&&n&&n.length?gs(t,n,te(s,2)):t},S.pullAllWith=function Mc(t,n,s){return t&&t.length&&n&&n.length?gs(t,n,x,s):t},S.pullAt=kc,S.range=zp,S.rangeRight=Rp,S.rearg=Ml,S.reject=function vl(t,n){return(r(t)?Sr:Fu)(t,Gs(te(n,3)))},S.remove=function Ic(t,n){var s=[];if(!t||!t.length)return s;var h=-1,m=[],D=t.length;for(n=te(n,3);++h<D;){var Z=t[h];n(Z,h,t)&&(s.push(Z),m.push(h))}return va(t,m),s},S.rest=function kl(t,n){if("function"!=typeof t)throw new fn(N);return fe(t,n=n===x?n:Kt(n))},S.reverse=Ga,S.sampleSize=function Zc(t,n,s){return n=(s?We(t,n,s):n===x)?1:Kt(n),(r(t)?Xh:lf)(t,n)},S.set=function Gd(t,n,s){return null==t?t:fi(t,n,s)},S.setWith=function Od(t,n,s,h){return h="function"==typeof h?h:x,null==t?t:fi(t,n,s,h)},S.shuffle=function ml(t){return(r(t)?jh:Ql)(t)},S.slice=function Or(t,n,s){var h=null==t?0:t.length;return h?(s&&"number"!=typeof s&&We(t,n,s)?(n=0,s=h):(n=null==n?0:Kt(n),s=s===x?h:Kt(s)),Yn(t,n,s)):[]},S.sortBy=xl,S.sortedUniq=function Ns(t){return t&&t.length?Ju(t):[]},S.sortedUniqBy=function sd(t,n){return t&&t.length?Ju(t,te(n,2)):[]},S.split=function sp(t,n,s){return s&&"number"!=typeof s&&We(t,n,s)&&(n=s=x),(s=s===x?ie:s>>>0)?(t=xe(t))&&("string"==typeof n||null!=n&&!ue(n))&&!(n=Cn(n))&&Li(t)?zr(xn(t),0,s):t.split(n,s):[]},S.spread=function Il(t,n){if("function"!=typeof t)throw new fn(N);return n=null==n?0:Ze(Kt(n),0),fe(function(s){var h=s[n],m=zr(s,0,n);return h&&Mr(m,h),An(t,this,m)})},S.tail=function Lc(t){var n=null==t?0:t.length;return n?Yn(t,1,n):[]},S.take=function Xf(t,n,s){return t&&t.length?Yn(t,0,(n=s||n===x?1:Kt(n))<0?0:n):[]},S.takeRight=function Tc(t,n,s){var h=null==t?0:t.length;return h?Yn(t,(n=h-(n=s||n===x?1:Kt(n)))<0?0:n,h):[]},S.takeRightWhile=function jf(t,n){return t&&t.length?go(t,te(n,3),!1,!0):[]},S.takeWhile=function Kf(t,n){return t&&t.length?go(t,te(n,3)):[]},S.tap=function Ua(t,n){return n(t),t},S.throttle=function Nl(t,n,s){var h=!0,m=!0;if("function"!=typeof t)throw new fn(N);return X(s)&&(h="leading"in s?!!s.leading:h,m="trailing"in s?!!s.trailing:m),Kc(t,n,{leading:h,maxWait:n,trailing:m})},S.thru=So,S.toArray=dn,S.toPairs=fd,S.toPairsIn=ld,S.toPath=function Wp(t){return r(t)?Le(t,ir):vt(t)?[t]:bn(Df(xe(t)))},S.toPlainObject=an,S.transform=function Pd(t,n,s){var h=r(t),m=h||d(t)||Lt(t);if(n=te(n,4),null==s){var D=t&&t.constructor;s=m?h?new D:[]:X(t)&&gt(D)?ii(Qo(t)):{}}return(m?In:er)(t,function(Z,K,nt){return n(s,Z,K,nt)}),s},S.unary=function Dl(t){return _l(t,1)},S.union=Vf,S.unionBy=Ds,S.unionWith=qf,S.uniq=function xr(t){return t&&t.length?Tn(t):[]},S.uniqBy=function Oa(t,n){return t&&t.length?Tn(t,te(n,2)):[]},S.uniqWith=function Jf(t,n){return n="function"==typeof n?n:x,t&&t.length?Tn(t,x,n):[]},S.unset=function Ud(t,n){return null==t||po(t,n)},S.unzip=Co,S.unzipWith=ji,S.update=function Wd(t,n,s){return null==t?t:li(t,n,xa(s))},S.updateWith=function Bd(t,n,s,h){return h="function"==typeof h?h:x,null==t?t:li(t,n,xa(s),h)},S.values=Os,S.valuesIn=function Fd(t){return null==t?[]:Yo(t,Rn(t))},S.without=Qf,S.words=gd,S.wrap=function Ll(t,n){return ko(xa(n),t)},S.xor=tl,S.xorBy=zc,S.xorWith=el,S.zip=nl,S.zipObject=function rl(t,n){return vs(t||[],n||[],uo)},S.zipObjectDeep=function il(t,n){return vs(t||[],n||[],fi)},S.zipWith=ol,S.entries=fd,S.entriesIn=ld,S.extend=Ya,S.extendWith=or,Hl(S,S),S.add=Fp,S.attempt=vd,S.camelCase=Hd,S.capitalize=dd,S.ceil=Zp,S.clamp=function Zd(t,n,s){return s===x&&(s=n,n=x),s!==x&&(s=(s=ge(s))==s?s:0),n!==x&&(n=(n=ge(n))==n?n:0),ai(ge(t),n,s)},S.clone=function qc(t){return Ln(t,4)},S.cloneDeep=function Rl(t){return Ln(t,5)},S.cloneDeepWith=function ud(t,n){return Ln(t,5,n="function"==typeof n?n:x)},S.cloneWith=function zl(t,n){return Ln(t,4,n="function"==typeof n?n:x)},S.conformsTo=function Gl(t,n){return null==n||Uu(t,n,un(n))},S.deburr=pd,S.defaultTo=function bp(t,n){return null==t||t!=t?n:t},S.divide=$p,S.endsWith=function Xd(t,n,s){t=xe(t),n=Cn(n);var h=t.length,m=s=s===x?h:ai(Kt(s),0,h);return(s-=n.length)>=0&&t.slice(s,m)==n},S.eq=Hn,S.escape=function jd(t){return(t=xe(t))&&To.test(t)?t.replace(Lo,wu):t},S.escapeRegExp=function Kd(t){return(t=xe(t))&&sr.test(t)?t.replace(Si,"\\$&"):t},S.every=function hl(t,n,s){var h=r(t)?lu:Jh;return s&&We(t,n,s)&&(n=x),h(t,te(n,3))},S.find=Oc,S.findIndex=_c,S.findKey=function Io(t,n){return du(t,te(n,3),er)},S.findLast=fl,S.findLastIndex=Ta,S.findLastKey=function Ur(t,n){return du(t,te(n,3),fa)},S.floor=Yp,S.forEach=Pr,S.forEachRight=Fa,S.forIn=function wd(t,n){return null==t?t:hs(t,te(n,3),Rn)},S.forInRight=function xd(t,n){return null==t?t:Zu(t,te(n,3),Rn)},S.forOwn=function bd(t,n){return t&&er(t,te(n,3))},S.forOwnRight=function _d(t,n){return t&&fa(t,te(n,3))},S.get=Bl,S.gt=Ol,S.gte=Pl,S.has=function Cd(t,n){return null!=t&&vc(t,n,tf)},S.hasIn=Fl,S.head=Ec,S.identity=Gn,S.includes=function dl(t,n,s,h){t=o(t)?t:Os(t),s=s&&!h?Kt(s):0;var m=t.length;return s<0&&(s=Ze(m+s,0)),Ot(t)?s<=m&&t.indexOf(n,s)>-1:!!m&&Di(t,n,s)>-1},S.indexOf=function Ff(t,n,s){var h=null==t?0:t.length;if(!h)return-1;var m=null==s?0:Kt(s);return m<0&&(m=Ze(h+m,0)),Di(t,n,m)},S.inRange=function $d(t,n,s){return n=Ce(n),s===x?(s=n,n=0):s=Ce(s),function nf(t,n,s){return t>=rn(n,s)&&t<Ze(n,s)}(t=ge(t),n,s)},S.invoke=kd,S.isArguments=e,S.isArray=r,S.isArrayBuffer=i,S.isArrayLike=o,S.isArrayLikeObject=a,S.isBoolean=function l(t){return!0===t||!1===t||ut(t)&&ln(t)==Re},S.isBuffer=d,S.isDate=y,S.isElement=function C(t){return ut(t)&&1===t.nodeType&&!Tt(t)},S.isEmpty=function A(t){if(null==t)return!0;if(o(t)&&(r(t)||"string"==typeof t||"function"==typeof t.splice||d(t)||Lt(t)||e(t)))return!t.length;var n=He(t);if(n==Je||n==vn)return!t.size;if(vi(t))return!ls(t).length;for(var s in t)if(le.call(t,s))return!1;return!0},S.isEqual=function O(t,n){return fo(t,n)},S.isEqualWith=function H(t,n,s){var h=(s="function"==typeof s?s:x)?s(t,n):x;return h===x?fo(t,n,x,s):!!h},S.isError=Y,S.isFinite=function q(t){return"number"==typeof t&&Wn(t)},S.isFunction=gt,S.isInteger=pt,S.isLength=V,S.isMap=xt,S.isMatch=function it(t,n){return t===n||Xu(t,n,Cs(n))},S.isMatchWith=function Ct(t,n,s){return s="function"==typeof s?s:x,Xu(t,n,Cs(n),s)},S.isNaN=function Ut(t){return $t(t)&&t!=+t},S.isNative=function Zt(t){if(mc(t))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return sf(t)},S.isNil=function ae(t){return null==t},S.isNull=function Ft(t){return null===t},S.isNumber=$t,S.isObject=X,S.isObjectLike=ut,S.isPlainObject=Tt,S.isRegExp=ue,S.isSafeInteger=function ee(t){return pt(t)&&t>=-ve&&t<=ve},S.isSet=st,S.isString=Ot,S.isSymbol=vt,S.isTypedArray=Lt,S.isUndefined=function jt(t){return t===x},S.isWeakMap=function Bt(t){return ut(t)&&He(t)==Fr},S.isWeakSet=function Xt(t){return ut(t)&&"[object WeakSet]"==ln(t)},S.join=function Yf(t,n){return null==t?"":Nh.call(t,n)},S.kebabCase=Vd,S.last=zn,S.lastIndexOf=function Sc(t,n,s){var h=null==t?0:t.length;if(!h)return-1;var m=h;return s!==x&&(m=(m=Kt(s))<0?Ze(h+m,0):rn(m,h-1)),n==n?function Ko(tt,yt,ht){for(var Wt=ht+1;Wt--;)if(tt[Wt]===yt)return Wt;return Wt}(t,n,m):Zo(t,pu,m,!0)},S.lowerCase=qd,S.lowerFirst=Jd,S.lt=oe,S.lte=ce,S.max=function Hp(t){return t&&t.length?cs(t,Gn,la):x},S.maxBy=function Xp(t,n){return t&&t.length?cs(t,te(n,2),la):x},S.mean=function jp(t){return gu(t,Gn)},S.meanBy=function Kp(t,n){return gu(t,te(n,2))},S.min=function Vp(t){return t&&t.length?cs(t,Gn,Lr):x},S.minBy=function qp(t,n){return t&&t.length?cs(t,te(n,2),Lr):x},S.stubArray=jl,S.stubFalse=Kl,S.stubObject=function Gp(){return{}},S.stubString=function Op(){return""},S.stubTrue=function Pp(){return!0},S.multiply=Jp,S.nth=function za(t,n){return t&&t.length?ds(t,Kt(n)):x},S.noConflict=function kp(){return Ke._===this&&(Ke._=Un),this},S.noop=Xl,S.now=zs,S.pad=function Qd(t,n,s){t=xe(t);var h=(n=Kt(n))?Dn(t):0;if(!n||h>=n)return t;var m=(n-h)/2;return As(hr(m),s)+t+As(tr(m),s)},S.padEnd=function tp(t,n,s){t=xe(t);var h=(n=Kt(n))?Dn(t):0;return n&&h<n?t+As(n-h,s):t},S.padStart=function ep(t,n,s){t=xe(t);var h=(n=Kt(n))?Dn(t):0;return n&&h<n?As(n-h,s)+t:t},S.parseInt=function np(t,n,s){return s||null==n?n=0:n&&(n=+n),Th(xe(t).replace(Ee,""),n||0)},S.random=function Yd(t,n,s){if(s&&"boolean"!=typeof s&&We(t,n,s)&&(n=s=x),s===x&&("boolean"==typeof n?(s=n,n=x):"boolean"==typeof t&&(s=t,t=x)),t===x&&n===x?(t=0,n=1):(t=Ce(t),n===x?(n=t,t=0):n=Ce(n)),t>n){var h=t;t=n,n=h}if(s||t%1||n%1){var m=Mu();return rn(t+m*(n-t+gh("1e-"+((m+"").length-1))),n)}return ya(t,n)},S.reduce=function Fc(t,n,s){var h=r(t)?Xs:vu,m=arguments.length<3;return h(t,te(n,4),s,m,Dr)},S.reduceRight=function gl(t,n,s){var h=r(t)?js:vu,m=arguments.length<3;return h(t,te(n,4),s,m,Bu)},S.repeat=function rp(t,n,s){return n=(s?We(t,n,s):n===x)?1:Kt(n),hi(xe(t),n)},S.replace=function ip(){var t=arguments,n=xe(t[0]);return t.length<3?n:n.replace(t[1],t[2])},S.result=function Rd(t,n,s){var h=-1,m=(n=Tr(n,t)).length;for(m||(m=1,t=x);++h<m;){var D=null==t?x:t[ir(n[h])];D===x&&(h=m,D=s),t=gt(D)?D.call(t):D}return t},S.round=Qp,S.runInContext=tt,S.sample=function yl(t){return(r(t)?Ou:ff)(t)},S.size=function $c(t){if(null==t)return 0;if(o(t))return Ot(t)?Dn(t):t.length;var n=He(t);return n==Je||n==vn?t.size:ls(t).length},S.snakeCase=op,S.some=function wl(t,n,s){var h=r(t)?Ks:td;return s&&We(t,n,s)&&(n=x),h(t,te(n,3))},S.sortedIndex=function wi(t,n){return Bi(t,n)},S.sortedIndexBy=function Nc(t,n,s){return Ue(t,n,te(s,2))},S.sortedIndexOf=function id(t,n){var s=null==t?0:t.length;if(s){var h=Bi(t,n);if(h<s&&Hn(t[h],n))return h}return-1},S.sortedLastIndex=function Dc(t,n){return Bi(t,n,!0)},S.sortedLastIndexBy=function od(t,n,s){return Ue(t,n,te(s,2),!0)},S.sortedLastIndexOf=function Hf(t,n){if(null!=t&&t.length){var h=Bi(t,n,!0)-1;if(Hn(t[h],n))return h}return-1},S.startCase=ap,S.startsWith=function up(t,n,s){return t=xe(t),s=null==s?0:ai(Kt(s),0,t.length),n=Cn(n),t.slice(s,s+n.length)==n},S.subtract=tg,S.sum=function eg(t){return t&&t.length?$o(t,Gn):0},S.sumBy=function ng(t,n){return t&&t.length?$o(t,te(n,2)):0},S.template=function cp(t,n,s){var h=S.templateSettings;s&&We(t,n,s)&&(n=x),t=xe(t),n=or({},n,h,fc);var K,nt,m=or({},n.imports,h.imports,fc),D=un(m),Z=Yo(m,D),bt=0,_t=n.interpolate||At,St="__p += '",Pt=Jo((n.escape||At).source+"|"+_t.source+"|"+(_t===Qn?_:At).source+"|"+(n.evaluate||At).source+"|$","g"),Ht="//# sourceURL="+(le.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++fh+"]")+"\n";t.replace(Pt,function(re,ye,_e,Xn,Sn,jn){return _e||(_e=Xn),St+=t.slice(bt,jn).replace(Et,Ho),ye&&(K=!0,St+="' +\n__e("+ye+") +\n'"),Sn&&(nt=!0,St+="';\n"+Sn+";\n__p += '"),_e&&(St+="' +\n((__t = ("+_e+")) == null ? '' : __t) +\n'"),bt=jn+re.length,re}),St+="';\n";var ne=le.call(n,"variable")&&n.variable;if(ne){if(ar.test(ne))throw new se("Invalid `variable` option passed into `_.template`")}else St="with (obj) {\n"+St+"\n}\n";St=(nt?St.replace(Er,""):St).replace(Ei,"$1").replace(Do,"$1;"),St="function("+(ne||"obj")+") {\n"+(ne?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(K?", __e = _.escape":"")+(nt?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+St+"return __p\n}";var de=vd(function(){return Ae(D,Ht+"return "+St).apply(x,Z)});if(de.source=St,Y(de))throw de;return de},S.times=function Up(t,n){if((t=Kt(t))<1||t>ve)return[];var s=ie,h=rn(t,ie);n=te(n),t-=ie;for(var m=Js(h,n);++s<t;)n(s);return m},S.toFinite=Ce,S.toInteger=Kt,S.toLength=pn,S.toLower=function hp(t){return xe(t).toLowerCase()},S.toNumber=ge,S.toSafeInteger=function Ki(t){return t?ai(Kt(t),-ve,ve):0===t?t:0},S.toString=xe,S.toUpper=function fp(t){return xe(t).toUpperCase()},S.trim=function lp(t,n,s){if((t=xe(t))&&(s||n===x))return yu(t);if(!t||!(n=Cn(n)))return t;var h=xn(t),m=xn(n);return zr(h,Qs(h,m),mu(h,m)+1).join("")},S.trimEnd=function dp(t,n,s){if((t=xe(t))&&(s||n===x))return t.slice(0,zi(t)+1);if(!t||!(n=Cn(n)))return t;var h=xn(t);return zr(h,0,mu(h,xn(n))+1).join("")},S.trimStart=function pp(t,n,s){if((t=xe(t))&&(s||n===x))return t.replace(Ee,"");if(!t||!(n=Cn(n)))return t;var h=xn(t);return zr(h,Qs(h,xn(n))).join("")},S.truncate=function gp(t,n){var s=30,h="...";if(X(n)){var m="separator"in n?n.separator:m;s="length"in n?Kt(n.length):s,h="omission"in n?Cn(n.omission):h}var D=(t=xe(t)).length;if(Li(t)){var Z=xn(t);D=Z.length}if(s>=D)return t;var K=s-Dn(h);if(K<1)return h;var nt=Z?zr(Z,0,K).join(""):t.slice(0,K);if(m===x)return nt+h;if(Z&&(K+=nt.length-K),ue(m)){if(t.slice(K).search(m)){var bt,_t=nt;for(m.global||(m=Jo(m.source,xe(g.exec(m))+"g")),m.lastIndex=0;bt=m.exec(_t);)var St=bt.index;nt=nt.slice(0,St===x?K:St)}}else if(t.indexOf(Cn(m),K)!=K){var Pt=nt.lastIndexOf(m);Pt>-1&&(nt=nt.slice(0,Pt))}return nt+h},S.unescape=function vp(t){return(t=xe(t))&&Ps.test(t)?t.replace(On,bu):t},S.uniqueId=function Bp(t){var n=++Pn;return xe(t)+n},S.upperCase=yp,S.upperFirst=Zl,S.each=Pr,S.eachRight=Fa,S.first=Ec,Hl(S,function(){var t={};return er(S,function(n,s){le.call(S.prototype,s)||(t[s]=n)}),t}(),{chain:!1}),S.VERSION="4.17.21",In(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){S[t].placeholder=S}),In(["drop","take"],function(t,n){pe.prototype[t]=function(s){s=s===x?1:Ze(Kt(s),0);var h=this.__filtered__&&!n?new pe(this):this.clone();return h.__filtered__?h.__takeCount__=rn(s,h.__takeCount__):h.__views__.push({size:rn(s,ie),type:t+(h.__dir__<0?"Right":"")}),h},pe.prototype[t+"Right"]=function(s){return this.reverse()[t](s).reverse()}}),In(["filter","map","takeWhile"],function(t,n){var s=n+1,h=1==s||3==s;pe.prototype[t]=function(m){var D=this.clone();return D.__iteratees__.push({iteratee:te(m,3),type:s}),D.__filtered__=D.__filtered__||h,D}}),In(["head","last"],function(t,n){var s="take"+(n?"Right":"");pe.prototype[t]=function(){return this[s](1).value()[0]}}),In(["initial","tail"],function(t,n){var s="drop"+(n?"":"Right");pe.prototype[t]=function(){return this.__filtered__?new pe(this):this[s](1)}}),pe.prototype.compact=function(){return this.filter(Gn)},pe.prototype.find=function(t){return this.filter(t).head()},pe.prototype.findLast=function(t){return this.reverse().find(t)},pe.prototype.invokeMap=fe(function(t,n){return"function"==typeof t?new pe(this):this.map(function(s){return ho(s,t,n)})}),pe.prototype.reject=function(t){return this.filter(Gs(te(t)))},pe.prototype.slice=function(t,n){t=Kt(t);var s=this;return s.__filtered__&&(t>0||n<0)?new pe(s):(t<0?s=s.takeRight(-t):t&&(s=s.drop(t)),n!==x&&(s=(n=Kt(n))<0?s.dropRight(-n):s.take(n-t)),s)},pe.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},pe.prototype.toArray=function(){return this.take(ie)},er(pe.prototype,function(t,n){var s=/^(?:filter|find|map|reject)|While$/.test(n),h=/^(?:head|last)$/.test(n),m=S[h?"take"+("last"==n?"Right":""):n],D=h||/^find/.test(n);!m||(S.prototype[n]=function(){var Z=this.__wrapped__,K=h?[1]:arguments,nt=Z instanceof pe,bt=K[0],_t=nt||r(Z),St=function(ye){var _e=m.apply(S,Mr([ye],K));return h&&Pt?_e[0]:_e};_t&&s&&"function"==typeof bt&&1!=bt.length&&(nt=_t=!1);var Pt=this.__chain__,Ht=!!this.__actions__.length,ne=D&&!Pt,de=nt&&!Ht;if(!D&&_t){Z=de?Z:new pe(this);var re=t.apply(Z,K);return re.__actions__.push({func:So,args:[St],thisArg:x}),new ze(re,Pt)}return ne&&de?t.apply(this,K):(re=this.thru(St),ne?h?re.value()[0]:re.value():re)})}),In(["pop","push","shift","sort","splice","unshift"],function(t){var n=io[t],s=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",h=/^(?:pop|shift)$/.test(t);S.prototype[t]=function(){var m=arguments;if(h&&!this.__chain__){var D=this.value();return n.apply(r(D)?D:[],m)}return this[s](function(Z){return n.apply(r(Z)?Z:[],m)})}}),er(pe.prototype,function(t,n){var s=S[n];if(s){var h=s.name+"";le.call(ni,h)||(ni[h]=[]),ni[h].push({name:n,func:s})}}),ni[xs(x,2).name]=[{name:"wrapper",func:x}],pe.prototype.clone=function os(){var t=new pe(this.__wrapped__);return t.__actions__=bn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=bn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=bn(this.__views__),t},pe.prototype.reverse=function aa(){if(this.__filtered__){var t=new pe(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},pe.prototype.value=function Du(){var t=this.__wrapped__.value(),n=this.__dir__,s=r(t),h=n<0,m=s?t.length:0,D=function Ms(t,n,s){for(var h=-1,m=s.length;++h<m;){var D=s[h],Z=D.size;switch(D.type){case"drop":t+=Z;break;case"dropRight":n-=Z;break;case"take":n=rn(n,t+Z);break;case"takeRight":t=Ze(t,n-Z)}}return{start:t,end:n}}(0,m,this.__views__),Z=D.start,K=D.end,nt=K-Z,bt=h?K:Z-1,_t=this.__iteratees__,St=_t.length,Pt=0,Ht=rn(nt,this.__takeCount__);if(!s||!h&&m==nt&&Ht==nt)return ma(t,this.__actions__);var ne=[];t:for(;nt--&&Pt<Ht;){for(var de=-1,re=t[bt+=n];++de<St;){var ye=_t[de],Xn=ye.type,Sn=(0,ye.iteratee)(re);if(2==Xn)re=Sn;else if(!Sn){if(1==Xn)continue t;break t}}ne[Pt++]=re}return ne},S.prototype.at=sl,S.prototype.chain=function al(){return Pa(this)},S.prototype.commit=function ad(){return new ze(this.value(),this.__chain__)},S.prototype.next=function ul(){this.__values__===x&&(this.__values__=dn(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?x:this.__values__[this.__index__++]}},S.prototype.plant=function Ls(t){for(var n,s=this;s instanceof is;){var h=Da(s);h.__index__=0,h.__values__=x,n?m.__wrapped__=h:n=h;var m=h;s=s.__wrapped__}return m.__wrapped__=t,n},S.prototype.reverse=function Rc(){var t=this.__wrapped__;if(t instanceof pe){var n=t;return this.__actions__.length&&(n=new pe(this)),(n=n.reverse()).__actions__.push({func:So,args:[Ga],thisArg:x}),new ze(n,this.__chain__)}return this.thru(Ga)},S.prototype.toJSON=S.prototype.valueOf=S.prototype.value=function Ts(){return ma(this.__wrapped__,this.__actions__)},S.prototype.first=S.prototype.head,oo&&(S.prototype[oo]=function cl(){return this}),S}();Ke._=qo,(et=function(){return qo}.call(dt,G,dt,Mt))!==x&&(Mt.exports=et)}.call(this)},8740:(Mt,dt,G)=>{var et=G(6009),x=G(5701);function F(f,T){if(arguments.length<2)throw new Error("mnemonist/fixed-deque: expecting an Array class and a capacity.");if("number"!=typeof T||T<=0)throw new Error("mnemonist/fixed-deque: `capacity` should be a positive number.");this.ArrayClass=f,this.capacity=T,this.items=new f(this.capacity),this.clear()}F.prototype.clear=function(){this.start=0,this.size=0},F.prototype.push=function(f){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.push: deque capacity ("+this.capacity+") exceeded!");return this.items[(this.start+this.size)%this.capacity]=f,++this.size},F.prototype.unshift=function(f){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.unshift: deque capacity ("+this.capacity+") exceeded!");var T=this.start-1;return 0===this.start&&(T=this.capacity-1),this.items[T]=f,this.start=T,++this.size},F.prototype.pop=function(){if(0===this.size)return;const f=(this.start+this.size-1)%this.capacity;return this.size--,this.items[f]},F.prototype.shift=function(){if(0!==this.size){var f=this.start;return this.size--,this.start++,this.start===this.capacity&&(this.start=0),this.items[f]}},F.prototype.peekFirst=function(){if(0!==this.size)return this.items[this.start]},F.prototype.peekLast=function(){if(0!==this.size){var f=this.start+this.size-1;return f>this.capacity&&(f-=this.capacity),this.items[f]}},F.prototype.get=function(f){if(0!==this.size)return(f=this.start+f)>this.capacity&&(f-=this.capacity),this.items[f]},F.prototype.forEach=function(f,T){T=arguments.length>1?T:this;for(var N=this.capacity,z=this.size,b=this.start,w=0;w<z;)f.call(T,this.items[b],w,this),w++,++b===N&&(b=0)},F.prototype.toArray=function(){var f=this.start+this.size;if(f<this.capacity)return this.items.slice(this.start,f);for(var T=new this.ArrayClass(this.size),N=this.capacity,z=this.size,b=this.start,w=0;w<z;)T[w]=this.items[b],w++,++b===N&&(b=0);return T},F.prototype.values=function(){var f=this.items,T=this.capacity,N=this.size,z=this.start,b=0;return new x(function(){if(b>=N)return{done:!0};var w=f[z];return z++,b++,z===T&&(z=0),{value:w,done:!1}})},F.prototype.entries=function(){var f=this.items,T=this.capacity,N=this.size,z=this.start,b=0;return new x(function(){if(b>=N)return{done:!0};var w=f[z];return++z===T&&(z=0),{value:[b++,w],done:!1}})},"undefined"!=typeof Symbol&&(F.prototype[Symbol.iterator]=F.prototype.values),F.prototype.inspect=function(){var f=this.toArray();return f.type=this.ArrayClass.name,f.capacity=this.capacity,Object.defineProperty(f,"constructor",{value:F,enumerable:!1}),f},"undefined"!=typeof Symbol&&(F.prototype[Symbol.for("nodejs.util.inspect.custom")]=F.prototype.inspect),F.from=function(f,T,N){if(arguments.length<3&&"number"!=typeof(N=et.guessLength(f)))throw new Error("mnemonist/fixed-deque.from: could not guess iterable length. Please provide desired capacity as last argument.");var z=new F(T,N);if(et.isArrayLike(f)){var b,w;for(b=0,w=f.length;b<w;b++)z.items[b]=f[b];return z.size=w,z}return et.forEach(f,function(E){z.push(E)}),z},Mt.exports=F},7451:(Mt,dt,G)=>{var et=G(5701),x=G(6009);function F(f,T){if(arguments.length<2)throw new Error("mnemonist/fixed-stack: expecting an Array class and a capacity.");if("number"!=typeof T||T<=0)throw new Error("mnemonist/fixed-stack: `capacity` should be a positive number.");this.capacity=T,this.ArrayClass=f,this.items=new this.ArrayClass(this.capacity),this.clear()}F.prototype.clear=function(){this.size=0},F.prototype.push=function(f){if(this.size===this.capacity)throw new Error("mnemonist/fixed-stack.push: stack capacity ("+this.capacity+") exceeded!");return this.items[this.size++]=f,this.size},F.prototype.pop=function(){if(0!==this.size)return this.items[--this.size]},F.prototype.peek=function(){return this.items[this.size-1]},F.prototype.forEach=function(f,T){T=arguments.length>1?T:this;for(var N=0,z=this.items.length;N<z;N++)f.call(T,this.items[z-N-1],N,this)},F.prototype.toArray=function(){for(var f=new this.ArrayClass(this.size),T=this.size-1,N=this.size;N--;)f[N]=this.items[T-N];return f},F.prototype.values=function(){var f=this.items,T=this.size,N=0;return new et(function(){if(N>=T)return{done:!0};var z=f[T-N-1];return N++,{value:z,done:!1}})},F.prototype.entries=function(){var f=this.items,T=this.size,N=0;return new et(function(){if(N>=T)return{done:!0};var z=f[T-N-1];return{value:[N++,z],done:!1}})},"undefined"!=typeof Symbol&&(F.prototype[Symbol.iterator]=F.prototype.values),F.prototype.toString=function(){return this.toArray().join(",")},F.prototype.toJSON=function(){return this.toArray()},F.prototype.inspect=function(){var f=this.toArray();return f.type=this.ArrayClass.name,f.capacity=this.capacity,Object.defineProperty(f,"constructor",{value:F,enumerable:!1}),f},"undefined"!=typeof Symbol&&(F.prototype[Symbol.for("nodejs.util.inspect.custom")]=F.prototype.inspect),F.from=function(f,T,N){if(arguments.length<3&&"number"!=typeof(N=x.guessLength(f)))throw new Error("mnemonist/fixed-stack.from: could not guess iterable length. Please provide desired capacity as last argument.");var z=new F(T,N);if(x.isArrayLike(f)){var b,w;for(b=0,w=f.length;b<w;b++)z.items[b]=f[b];return z.size=w,z}return x.forEach(f,function(E){z.push(E)}),z},Mt.exports=F},4547:(Mt,dt,G)=>{var et=G(4467),x=G(2062),F=G(6009),f=x.DEFAULT_COMPARATOR,T=x.reverseComparator;function N(P,B,W,L){for(var at,lt,ot=B[L];L>W&&P(ot,lt=B[at=L-1>>1])<0;)B[L]=lt,L=at;B[L]=ot}function z(P,B,W){for(var ct,L=B.length,ot=W,at=B[W],lt=2*W+1;lt<L;)(ct=lt+1)<L&&P(B[lt],B[ct])>=0&&(lt=ct),B[W]=B[lt],lt=2*(W=lt)+1;B[W]=at,N(P,B,ot,W)}function b(P,B,W){B.push(W),N(P,B,0,B.length-1)}function w(P,B){var W=B.pop();if(0!==B.length){var L=B[0];return B[0]=W,z(P,B,0),L}return W}function E(P,B,W){if(0===B.length)throw new Error("mnemonist/heap.replace: cannot pop an empty heap.");var L=B[0];return B[0]=W,z(P,B,0),L}function I(P,B,W){var L;return 0!==B.length&&P(B[0],W)<0&&(L=B[0],B[0]=W,W=L,z(P,B,0)),W}function k(P,B){for(var ot=B.length>>1;--ot>=0;)z(P,B,ot)}function R(P,B){for(var W=B.length,L=0,ot=new Array(W);L<W;)ot[L++]=w(P,B);return ot}function j(P){if(this.clear(),this.comparator=P||f,"function"!=typeof this.comparator)throw new Error("mnemonist/Heap.constructor: given comparator should be a function.")}function J(P){if(this.clear(),this.comparator=P||f,"function"!=typeof this.comparator)throw new Error("mnemonist/MaxHeap.constructor: given comparator should be a function.");this.comparator=T(this.comparator)}j.prototype.clear=function(){this.items=[],this.size=0},j.prototype.push=function(P){return b(this.comparator,this.items,P),++this.size},j.prototype.peek=function(){return this.items[0]},j.prototype.pop=function(){return 0!==this.size&&this.size--,w(this.comparator,this.items)},j.prototype.replace=function(P){return E(this.comparator,this.items,P)},j.prototype.pushpop=function(P){return I(this.comparator,this.items,P)},j.prototype.consume=function(){return this.size=0,R(this.comparator,this.items)},j.prototype.toArray=function(){return R(this.comparator,this.items.slice())},j.prototype.inspect=function(){var P=this.toArray();return Object.defineProperty(P,"constructor",{value:j,enumerable:!1}),P},"undefined"!=typeof Symbol&&(j.prototype[Symbol.for("nodejs.util.inspect.custom")]=j.prototype.inspect),J.prototype=j.prototype,j.from=function(P,B){var L,W=new j(B);return L=F.isArrayLike(P)?P.slice():F.toArray(P),k(W.comparator,L),W.items=L,W.size=L.length,W},J.from=function(P,B){var L,W=new J(B);return L=F.isArrayLike(P)?P.slice():F.toArray(P),k(W.comparator,L),W.items=L,W.size=L.length,W},j.siftUp=z,j.siftDown=N,j.push=b,j.pop=w,j.replace=E,j.pushpop=I,j.heapify=k,j.consume=R,j.nsmallest=function Q(P,B,W){2===arguments.length&&(W=B,B=P,P=f);var ot,at,lt,ft,L=T(P),ct=1/0;if(1===B){if(F.isArrayLike(W)){for(ot=0,at=W.length;ot<at;ot++)lt=W[ot],(ct===1/0||P(lt,ct)<0)&&(ct=lt);return(ft=new W.constructor(1))[0]=ct,ft}return et(W,function(Nt){(ct===1/0||P(Nt,ct)<0)&&(ct=Nt)}),[ct]}if(F.isArrayLike(W)){if(B>=W.length)return W.slice().sort(P);for(ft=W.slice(0,B),k(L,ft),ot=B,at=W.length;ot<at;ot++)L(W[ot],ft[0])>0&&E(L,ft,W[ot]);return ft.sort(P)}var wt=F.guessLength(W);return null!==wt&&wt<B&&(B=wt),ft=new Array(B),ot=0,et(W,function(Nt){ot<B?ft[ot]=Nt:(ot===B&&k(L,ft),L(Nt,ft[0])>0&&E(L,ft,Nt)),ot++}),ft.length>ot&&(ft.length=ot),ft.sort(P)},j.nlargest=function $(P,B,W){2===arguments.length&&(W=B,B=P,P=f);var ot,at,lt,ft,L=T(P),ct=-1/0;if(1===B){if(F.isArrayLike(W)){for(ot=0,at=W.length;ot<at;ot++)lt=W[ot],(ct===-1/0||P(lt,ct)>0)&&(ct=lt);return(ft=new W.constructor(1))[0]=ct,ft}return et(W,function(Nt){(ct===-1/0||P(Nt,ct)>0)&&(ct=Nt)}),[ct]}if(F.isArrayLike(W)){if(B>=W.length)return W.slice().sort(L);for(ft=W.slice(0,B),k(P,ft),ot=B,at=W.length;ot<at;ot++)P(W[ot],ft[0])>0&&E(P,ft,W[ot]);return ft.sort(L)}var wt=F.guessLength(W);return null!==wt&&wt<B&&(B=wt),ft=new Array(B),ot=0,et(W,function(Nt){ot<B?ft[ot]=Nt:(ot===B&&k(P,ft),P(Nt,ft[0])>0&&E(P,ft,Nt)),ot++}),ft.length>ot&&(ft.length=ot),ft.sort(L)},j.MinHeap=j,j.MaxHeap=J,Mt.exports=j},7621:(Mt,dt,G)=>{var et=G(5701),x=G(4467);function F(){this.clear()}F.prototype.clear=function(){this.items=[],this.offset=0,this.size=0},F.prototype.enqueue=function(f){return this.items.push(f),++this.size},F.prototype.dequeue=function(){if(this.size){var f=this.items[this.offset];return 2*++this.offset>=this.items.length&&(this.items=this.items.slice(this.offset),this.offset=0),this.size--,f}},F.prototype.peek=function(){if(this.size)return this.items[this.offset]},F.prototype.forEach=function(f,T){T=arguments.length>1?T:this;for(var N=this.offset,z=0,b=this.items.length;N<b;N++,z++)f.call(T,this.items[N],z,this)},F.prototype.toArray=function(){return this.items.slice(this.offset)},F.prototype.values=function(){var f=this.items,T=this.offset;return new et(function(){if(T>=f.length)return{done:!0};var N=f[T];return T++,{value:N,done:!1}})},F.prototype.entries=function(){var f=this.items,T=this.offset,N=0;return new et(function(){if(T>=f.length)return{done:!0};var z=f[T];return T++,{value:[N++,z],done:!1}})},"undefined"!=typeof Symbol&&(F.prototype[Symbol.iterator]=F.prototype.values),F.prototype.toString=function(){return this.toArray().join(",")},F.prototype.toJSON=function(){return this.toArray()},F.prototype.inspect=function(){var f=this.toArray();return Object.defineProperty(f,"constructor",{value:F,enumerable:!1}),f},"undefined"!=typeof Symbol&&(F.prototype[Symbol.for("nodejs.util.inspect.custom")]=F.prototype.inspect),F.from=function(f){var T=new F;return x(f,function(N){T.enqueue(N)}),T},F.of=function(){return F.from(arguments)},Mt.exports=F},8090:(Mt,dt,G)=>{var et=G(5701),x=G(6116).getPointerArray;function F(f,T){arguments.length<2&&(T=f,f=Array);var N=x(T);this.size=0,this.length=T,this.dense=new N(T),this.sparse=new N(T),this.vals=new f(T)}F.prototype.clear=function(){this.size=0},F.prototype.has=function(f){var T=this.sparse[f];return T<this.size&&this.dense[T]===f},F.prototype.get=function(f){var T=this.sparse[f];if(T<this.size&&this.dense[T]===f)return this.vals[T]},F.prototype.set=function(f,T){var N=this.sparse[f];return N<this.size&&this.dense[N]===f?(this.vals[N]=T,this):(this.dense[this.size]=f,this.sparse[f]=this.size,this.vals[this.size]=T,this.size++,this)},F.prototype.delete=function(f){var T=this.sparse[f];return!(T>=this.size||this.dense[T]!==f||(this.dense[this.sparse[f]]=T=this.dense[this.size-1],this.sparse[T]=this.sparse[f],this.size--,0))},F.prototype.forEach=function(f,T){T=arguments.length>1?T:this;for(var N=0;N<this.size;N++)f.call(T,this.vals[N],this.dense[N])},F.prototype.keys=function(){var f=this.size,T=this.dense,N=0;return new et(function(){if(N<f){var z=T[N];return N++,{value:z}}return{done:!0}})},F.prototype.values=function(){var f=this.size,T=this.vals,N=0;return new et(function(){if(N<f){var z=T[N];return N++,{value:z}}return{done:!0}})},F.prototype.entries=function(){var f=this.size,T=this.dense,N=this.vals,z=0;return new et(function(){if(z<f){var b=[T[z],N[z]];return z++,{value:b}}return{done:!0}})},"undefined"!=typeof Symbol&&(F.prototype[Symbol.iterator]=F.prototype.entries),F.prototype.inspect=function(){for(var f=new Map,T=0;T<this.size;T++)f.set(this.dense[T],this.vals[T]);return Object.defineProperty(f,"constructor",{value:F,enumerable:!1}),f.length=this.length,this.vals.constructor!==Array&&(f.type=this.vals.constructor.name),f},"undefined"!=typeof Symbol&&(F.prototype[Symbol.for("nodejs.util.inspect.custom")]=F.prototype.inspect),Mt.exports=F},5766:(Mt,dt,G)=>{var et=G(5701),x=G(6116).getPointerArray;function F(f){var T=x(f);this.start=0,this.size=0,this.capacity=f,this.dense=new T(f),this.sparse=new T(f)}F.prototype.clear=function(){this.start=0,this.size=0},F.prototype.has=function(f){if(0===this.size)return!1;var T=this.sparse[f];return(T<this.capacity&&T>=this.start&&T<this.start+this.size||T<(this.start+this.size)%this.capacity)&&this.dense[T]===f},F.prototype.enqueue=function(f){var T=this.sparse[f];return 0!==this.size&&(T<this.capacity&&T>=this.start&&T<this.start+this.size||T<(this.start+this.size)%this.capacity)&&this.dense[T]===f||(this.dense[T=(this.start+this.size)%this.capacity]=f,this.sparse[f]=T,this.size++),this},F.prototype.dequeue=function(){if(0!==this.size){var f=this.start;this.size--,this.start++,this.start===this.capacity&&(this.start=0);var T=this.dense[f];return this.sparse[T]=this.capacity,T}},F.prototype.forEach=function(f,T){T=arguments.length>1?T:this;for(var N=this.capacity,z=this.size,b=this.start,w=0;w<z;)f.call(T,this.dense[b],w,this),w++,++b===N&&(b=0)},F.prototype.values=function(){var f=this.dense,T=this.capacity,N=this.size,z=this.start,b=0;return new et(function(){if(b>=N)return{done:!0};var w=f[z];return z++,b++,z===T&&(z=0),{value:w,done:!1}})},"undefined"!=typeof Symbol&&(F.prototype[Symbol.iterator]=F.prototype.values),F.prototype.inspect=function(){var f=[];return this.forEach(function(T){f.push(T)}),Object.defineProperty(f,"constructor",{value:F,enumerable:!1}),f.capacity=this.capacity,f},"undefined"!=typeof Symbol&&(F.prototype[Symbol.for("nodejs.util.inspect.custom")]=F.prototype.inspect),Mt.exports=F},4268:(Mt,dt,G)=>{var et=G(5701),x=G(6116).getPointerArray;function F(f){var T=x(f);this.size=0,this.length=f,this.dense=new T(f),this.sparse=new T(f)}F.prototype.clear=function(){this.size=0},F.prototype.has=function(f){var T=this.sparse[f];return T<this.size&&this.dense[T]===f},F.prototype.add=function(f){var T=this.sparse[f];return T<this.size&&this.dense[T]===f||(this.dense[this.size]=f,this.sparse[f]=this.size,this.size++),this},F.prototype.delete=function(f){var T=this.sparse[f];return!(T>=this.size||this.dense[T]!==f||(this.dense[this.sparse[f]]=T=this.dense[this.size-1],this.sparse[T]=this.sparse[f],this.size--,0))},F.prototype.forEach=function(f,T){T=arguments.length>1?T:this;for(var N,z=0;z<this.size;z++)f.call(T,N=this.dense[z],N)},F.prototype.values=function(){var f=this.size,T=this.dense,N=0;return new et(function(){if(N<f){var z=T[N];return N++,{value:z}}return{done:!0}})},"undefined"!=typeof Symbol&&(F.prototype[Symbol.iterator]=F.prototype.values),F.prototype.inspect=function(){for(var f=new Set,T=0;T<this.size;T++)f.add(this.dense[T]);return Object.defineProperty(f,"constructor",{value:F,enumerable:!1}),f.length=this.length,f},"undefined"!=typeof Symbol&&(F.prototype[Symbol.for("nodejs.util.inspect.custom")]=F.prototype.inspect),Mt.exports=F},2062:(Mt,dt)=>{dt.DEFAULT_COMPARATOR=function(f,T){return f<T?-1:f>T?1:0},dt.DEFAULT_REVERSE_COMPARATOR=function(f,T){return f<T?1:f>T?-1:0},dt.reverseComparator=function x(f){return function(T,N){return f(N,T)}},dt.createTupleComparator=function F(f){return 2===f?function(T,N){return T[0]<N[0]?-1:T[0]>N[0]?1:T[1]<N[1]?-1:T[1]>N[1]?1:0}:function(T,N){for(var z=0;z<f;){if(T[z]<N[z])return-1;if(T[z]>N[z])return 1;z++}return 0}}},6009:(Mt,dt,G)=>{var et=G(4467),x=G(6116);function f(z){return"number"==typeof z.length?z.length:"number"==typeof z.size?z.size:void 0}dt.isArrayLike=function F(z){return Array.isArray(z)||x.isTypedArray(z)},dt.guessLength=f,dt.toArray=function T(z){var b=f(z),w="number"==typeof b?new Array(b):[],E=0;return et(z,function(I){w[E++]=I}),w},dt.toArrayWithIndices=function N(z){var b=f(z),w="number"==typeof b?x.getPointerArray(b):Array,E="number"==typeof b?new Array(b):[],I="number"==typeof b?new w(b):[],k=0;return et(z,function(R){E[k]=R,I[k]=k++}),[E,I]}},6116:(Mt,dt)=>{var G=Math.pow(2,8)-1,et=Math.pow(2,16)-1,x=Math.pow(2,32)-1,F=Math.pow(2,7)-1,f=Math.pow(2,15)-1,T=Math.pow(2,31)-1;dt.getPointerArray=function(z){var b=z-1;if(b<=G)return Uint8Array;if(b<=et)return Uint16Array;if(b<=x)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},dt.getSignedPointerArray=function(z){var b=z-1;return b<=F?Int8Array:b<=f?Int16Array:b<=T?Int32Array:Float64Array},dt.getNumberType=function(z){return z===(0|z)?-1===Math.sign(z)?z<=127&&z>=-128?Int8Array:z<=32767&&z>=-32768?Int16Array:Int32Array:z<=255?Uint8Array:z<=65535?Uint16Array:Uint32Array:Float64Array};var N={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};dt.getMinimalRepresentation=function(z,b){var I,k,R,Q,$,w=null,E=0;for(Q=0,$=z.length;Q<$;Q++)R=b?b(z[Q]):z[Q],k=dt.getNumberType(R),(I=N[k.name])>E&&(E=I,w=k);return w},dt.isTypedArray=function(z){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(z)},dt.concat=function(){var b,w,E,z=0;for(b=0,E=arguments.length;b<E;b++)z+=arguments[b].length;var I=new arguments[0].constructor(z);for(b=0,w=0;b<E;b++)I.set(arguments[b],w),w+=arguments[b].length;return I},dt.indices=function(z){for(var w=new(dt.getPointerArray(z))(z),E=0;E<z;E++)w[E]=E;return w}},4467:(Mt,dt,G)=>{var et=G(8123),x=et.ARRAY_BUFFER_SUPPORT,F=et.SYMBOL_SUPPORT;Mt.exports=function(T,N){var z,b,w,E,I;if(!T)throw new Error("obliterator/forEach: invalid iterable.");if("function"!=typeof N)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(T)||x&&ArrayBuffer.isView(T)||"string"==typeof T||"[object Arguments]"===T.toString())for(w=0,E=T.length;w<E;w++)N(T[w],w);else if("function"!=typeof T.forEach)if(F&&Symbol.iterator in T&&"function"!=typeof T.next&&(T=T[Symbol.iterator]()),"function"!=typeof T.next)for(b in T)T.hasOwnProperty(b)&&N(T[b],b);else for(z=T,w=0;!0!==(I=z.next()).done;)N(I.value,w),w++;else T.forEach(N)}},5701:Mt=>{function dt(G){if("function"!=typeof G)throw new Error("obliterator/iterator: expecting a function!");this.next=G}"undefined"!=typeof Symbol&&(dt.prototype[Symbol.iterator]=function(){return this}),dt.of=function(){var G=arguments,et=G.length,x=0;return new dt(function(){return x>=et?{done:!0}:{done:!1,value:G[x++]}})},dt.empty=function(){return new dt(function(){return{done:!0}})},dt.fromSequence=function(G){var et=0,x=G.length;return new dt(function(){return et>=x?{done:!0}:{done:!1,value:G[et++]}})},dt.is=function(G){return G instanceof dt||"object"==typeof G&&null!==G&&"function"==typeof G.next},Mt.exports=dt},8123:(Mt,dt)=>{dt.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,dt.SYMBOL_SUPPORT="undefined"!=typeof Symbol},8859:Mt=>{function dt(et){return function(x){return"number"!=typeof x&&(x=x.length),Math.floor(et()*x)}}var G=dt(Math.random);G.createRandomIndex=dt,Mt.exports=G},340:(Mt,dt,G)=>{var et=G(9471),x=G(2992),F=G(7657),f=G(5583),T=G(1929),N=G(8083),z=G(3818);z.alea=et,z.xor128=x,z.xorwow=F,z.xorshift7=f,z.xor4096=T,z.tychei=N,Mt.exports=z},9471:function(Mt,dt,G){var et;!function(x,F,f){function T(w){var E=this,I=function b(){var w=4022871197;return function(I){I=String(I);for(var k=0;k<I.length;k++){var R=.02519603282416938*(w+=I.charCodeAt(k));R-=w=R>>>0,w=(R*=w)>>>0,w+=4294967296*(R-=w)}return 2.3283064365386963e-10*(w>>>0)}}();E.next=function(){var k=2091639*E.s0+2.3283064365386963e-10*E.c;return E.s0=E.s1,E.s1=E.s2,E.s2=k-(E.c=0|k)},E.c=1,E.s0=I(" "),E.s1=I(" "),E.s2=I(" "),E.s0-=I(w),E.s0<0&&(E.s0+=1),E.s1-=I(w),E.s1<0&&(E.s1+=1),E.s2-=I(w),E.s2<0&&(E.s2+=1),I=null}function N(w,E){return E.c=w.c,E.s0=w.s0,E.s1=w.s1,E.s2=w.s2,E}function z(w,E){var I=new T(w),k=E&&E.state,R=I.next;return R.int32=function(){return 4294967296*I.next()|0},R.double=function(){return R()+11102230246251565e-32*(2097152*R()|0)},R.quick=R,k&&("object"==typeof k&&N(k,I),R.state=function(){return N(I,{})}),R}F&&F.exports?F.exports=z:G.amdD&&G.amdO?void 0!==(et=function(){return z}.call(dt,G,dt,F))&&(F.exports=et):this.alea=z}(0,Mt=G.nmd(Mt))},8083:function(Mt,dt,G){var et;!function(x,F,f){function T(b){var w=this,E="";w.next=function(){var k=w.b,R=w.c,Q=w.d,$=w.a;return k=k<<25^k>>>7^R,R=R-Q|0,Q=Q<<24^Q>>>8^$,$=$-k|0,w.b=k=k<<20^k>>>12^R,w.c=R=R-Q|0,w.d=Q<<16^R>>>16^$,w.a=$-k|0},w.a=0,w.b=0,w.c=-1640531527,w.d=1367130551,b===Math.floor(b)?(w.a=b/4294967296|0,w.b=0|b):E+=b;for(var I=0;I<E.length+20;I++)w.b^=0|E.charCodeAt(I),w.next()}function N(b,w){return w.a=b.a,w.b=b.b,w.c=b.c,w.d=b.d,w}function z(b,w){var E=new T(b),I=w&&w.state,k=function(){return(E.next()>>>0)/4294967296};return k.double=function(){do{var $=((E.next()>>>11)+(E.next()>>>0)/4294967296)/(1<<21)}while(0===$);return $},k.int32=E.next,k.quick=k,I&&("object"==typeof I&&N(I,E),k.state=function(){return N(E,{})}),k}F&&F.exports?F.exports=z:G.amdD&&G.amdO?void 0!==(et=function(){return z}.call(dt,G,dt,F))&&(F.exports=et):this.tychei=z}(0,Mt=G.nmd(Mt))},2992:function(Mt,dt,G){var et;!function(x,F,f){function T(b){var w=this,E="";w.x=0,w.y=0,w.z=0,w.w=0,w.next=function(){var k=w.x^w.x<<11;return w.x=w.y,w.y=w.z,w.z=w.w,w.w^=w.w>>>19^k^k>>>8},b===(0|b)?w.x=b:E+=b;for(var I=0;I<E.length+64;I++)w.x^=0|E.charCodeAt(I),w.next()}function N(b,w){return w.x=b.x,w.y=b.y,w.z=b.z,w.w=b.w,w}function z(b,w){var E=new T(b),I=w&&w.state,k=function(){return(E.next()>>>0)/4294967296};return k.double=function(){do{var $=((E.next()>>>11)+(E.next()>>>0)/4294967296)/(1<<21)}while(0===$);return $},k.int32=E.next,k.quick=k,I&&("object"==typeof I&&N(I,E),k.state=function(){return N(E,{})}),k}F&&F.exports?F.exports=z:G.amdD&&G.amdO?void 0!==(et=function(){return z}.call(dt,G,dt,F))&&(F.exports=et):this.xor128=z}(0,Mt=G.nmd(Mt))},1929:function(Mt,dt,G){var et;!function(x,F,f){function T(b){var w=this;w.next=function(){var Q,$,I=w.w,k=w.X,R=w.i;return w.w=I=I+1640531527|0,$=k[R+34&127],Q=k[R=R+1&127],$^=$<<13,Q^=Q<<17,$=k[R]=($^=$>>>15)^(Q^=Q>>>12),w.i=R,$+(I^I>>>16)|0},function E(I,k){var R,Q,$,j,J,P=[],B=128;for(k===(0|k)?(Q=k,k=null):(k+="\0",Q=0,B=Math.max(B,k.length)),$=0,j=-32;j<B;++j)k&&(Q^=k.charCodeAt((j+32)%k.length)),0===j&&(J=Q),Q^=Q<<10,Q^=Q>>>15,Q^=Q<<4,Q^=Q>>>13,j>=0&&($=0==(R=P[127&j]^=Q+(J=J+1640531527|0))?$+1:0);for($>=128&&(P[127&(k&&k.length||0)]=-1),$=127,j=512;j>0;--j)Q=P[$+34&127],R=P[$=$+1&127],Q^=Q<<13,R^=R<<17,P[$]=(Q^=Q>>>15)^(R^=R>>>12);I.w=J,I.X=P,I.i=$}(w,b)}function N(b,w){return w.i=b.i,w.w=b.w,w.X=b.X.slice(),w}function z(b,w){null==b&&(b=+new Date);var E=new T(b),I=w&&w.state,k=function(){return(E.next()>>>0)/4294967296};return k.double=function(){do{var $=((E.next()>>>11)+(E.next()>>>0)/4294967296)/(1<<21)}while(0===$);return $},k.int32=E.next,k.quick=k,I&&(I.X&&N(I,E),k.state=function(){return N(E,{})}),k}F&&F.exports?F.exports=z:G.amdD&&G.amdO?void 0!==(et=function(){return z}.call(dt,G,dt,F))&&(F.exports=et):this.xor4096=z}(0,Mt=G.nmd(Mt))},5583:function(Mt,dt,G){var et;!function(x,F,f){function T(b){var w=this;w.next=function(){var R,Q,I=w.x,k=w.i;return R=I[k],Q=(R^=R>>>7)^R<<24,Q^=(R=I[k+1&7])^R>>>10,Q^=(R=I[k+3&7])^R>>>3,Q^=(R=I[k+4&7])^R<<7,R=I[k+7&7],I[k]=Q^=(R^=R<<13)^R<<9,w.i=k+1&7,Q},function E(I,k){var R,$=[];if(k===(0|k))$[0]=k;else for(k=""+k,R=0;R<k.length;++R)$[7&R]=$[7&R]<<15^k.charCodeAt(R)+$[R+1&7]<<13;for(;$.length<8;)$.push(0);for(R=0;R<8&&0===$[R];++R);for(8==R&&($[7]=-1),I.x=$,I.i=0,R=256;R>0;--R)I.next()}(w,b)}function N(b,w){return w.x=b.x.slice(),w.i=b.i,w}function z(b,w){null==b&&(b=+new Date);var E=new T(b),I=w&&w.state,k=function(){return(E.next()>>>0)/4294967296};return k.double=function(){do{var $=((E.next()>>>11)+(E.next()>>>0)/4294967296)/(1<<21)}while(0===$);return $},k.int32=E.next,k.quick=k,I&&(I.x&&N(I,E),k.state=function(){return N(E,{})}),k}F&&F.exports?F.exports=z:G.amdD&&G.amdO?void 0!==(et=function(){return z}.call(dt,G,dt,F))&&(F.exports=et):this.xorshift7=z}(0,Mt=G.nmd(Mt))},7657:function(Mt,dt,G){var et;!function(x,F,f){function T(b){var w=this,E="";w.next=function(){var k=w.x^w.x>>>2;return w.x=w.y,w.y=w.z,w.z=w.w,w.w=w.v,(w.d=w.d+362437|0)+(w.v=w.v^w.v<<4^k^k<<1)|0},w.x=0,w.y=0,w.z=0,w.w=0,w.v=0,b===(0|b)?w.x=b:E+=b;for(var I=0;I<E.length+64;I++)w.x^=0|E.charCodeAt(I),I==E.length&&(w.d=w.x<<10^w.x>>>4),w.next()}function N(b,w){return w.x=b.x,w.y=b.y,w.z=b.z,w.w=b.w,w.v=b.v,w.d=b.d,w}function z(b,w){var E=new T(b),I=w&&w.state,k=function(){return(E.next()>>>0)/4294967296};return k.double=function(){do{var $=((E.next()>>>11)+(E.next()>>>0)/4294967296)/(1<<21)}while(0===$);return $},k.int32=E.next,k.quick=k,I&&("object"==typeof I&&N(I,E),k.state=function(){return N(E,{})}),k}F&&F.exports?F.exports=z:G.amdD&&G.amdO?void 0!==(et=function(){return z}.call(dt,G,dt,F))&&(F.exports=et):this.xorwow=z}(0,Mt=G.nmd(Mt))},3818:function(Mt,dt,G){var et;!function(x,F,f){var R,T=256,w=f.pow(T,6),E=f.pow(2,52),I=2*E,k=255;function Q(L,ot,at){var lt=[],ct=P(J((ot=1==ot?{entropy:!0}:ot||{}).entropy?[L,W(F)]:null==L?function B(){try{var L;return R&&(L=R.randomBytes)?L=L(T):(L=new Uint8Array(T),(x.crypto||x.msCrypto).getRandomValues(L)),W(L)}catch(lt){var ot=x.navigator,at=ot&&ot.plugins;return[+new Date,x,at,x.screen,W(F)]}}():L,3),lt),ft=new $(lt),wt=function(){for(var Nt=ft.g(6),Dt=w,Yt=0;Nt<E;)Nt=(Nt+Yt)*T,Dt*=T,Yt=ft.g(1);for(;Nt>=I;)Nt/=2,Dt/=2,Yt>>>=1;return(Nt+Yt)/Dt};return wt.int32=function(){return 0|ft.g(4)},wt.quick=function(){return ft.g(4)/4294967296},wt.double=wt,P(W(ft.S),F),(ot.pass||at||function(Nt,Dt,Yt,Jt){return Jt&&(Jt.S&&j(Jt,ft),Nt.state=function(){return j(ft,{})}),Yt?(f.random=Nt,Dt):Nt})(wt,ct,"global"in ot?ot.global:this==f,ot.state)}function $(L){var ot,at=L.length,lt=this,ct=0,ft=lt.i=lt.j=0,wt=lt.S=[];for(at||(L=[at++]);ct<T;)wt[ct]=ct++;for(ct=0;ct<T;ct++)wt[ct]=wt[ft=k&ft+L[ct%at]+(ot=wt[ct])],wt[ft]=ot;(lt.g=function(Nt){for(var Dt,Yt=0,Jt=lt.i,Vt=lt.j,qt=lt.S;Nt--;)Dt=qt[Jt=k&Jt+1],Yt=Yt*T+qt[k&(qt[Jt]=qt[Vt=k&Vt+Dt])+(qt[Vt]=Dt)];return lt.i=Jt,lt.j=Vt,Yt})(T)}function j(L,ot){return ot.i=L.i,ot.j=L.j,ot.S=L.S.slice(),ot}function J(L,ot){var ct,at=[],lt=typeof L;if(ot&&"object"==lt)for(ct in L)try{at.push(J(L[ct],ot-1))}catch(ft){}return at.length?at:"string"==lt?L:L+"\0"}function P(L,ot){for(var lt,at=L+"",ct=0;ct<at.length;)ot[k&ct]=k&(lt^=19*ot[k&ct])+at.charCodeAt(ct++);return W(ot)}function W(L){return String.fromCharCode.apply(0,L)}if(P(f.random(),F),Mt.exports){Mt.exports=Q;try{R=G(5042)}catch(L){}}else void 0!==(et=function(){return Q}.call(dt,G,dt,Mt))&&(Mt.exports=et)}("undefined"!=typeof self?self:this,[],Math)},5042:()=>{}}]);