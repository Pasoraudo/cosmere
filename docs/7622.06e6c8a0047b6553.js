(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7622],{7622:(Mt,dt,z)=>{"use strict";z.r(dt),z.d(dt,{WikiModule:()=>Zl});var et=z(4521),b=z(5861),F=z(9268),f=z(5e3);let T=(()=>{class e{constructor(){this.subscriptionsData=[]}ngOnDestroy(){this.allSubscriptions().forEach(r=>{r.unsubscribe()})}subscribe(r,o,a,l){const d=(0,F.V)();return this.subscriptionsData.push({id:d,subscription:r.subscribe(o,a,l)}),d}unsubscribe(r){const o=this.subscriptionById(r);!o||o.closed||o.unsubscribe()}unsubscribeAll(){this.subscriptionsData.forEach(r=>r.subscription.unsubscribe())}allSubscriptions(){return this.subscriptionsData.map(r=>r.subscription)}subscriptionById(r){const o=this.subscriptionsData.find(a=>a.id===r);return null==o?void 0:o.subscription}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=f.Xpm({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(r,o){},encapsulation:2}),e})();const x=(e,i)=>{if(0===e.length)return[];if(0===i.length)return[];const r=I(e,i);return e.map(o=>({id:o.id,label:o.name,group:o.planet,score:r[o.id]}))},w=e=>{const i={};for(const o of e){const a=`${o.characterId1}-${o.characterId2}`;i[a]?i[a]+=1:i[a]=1}let r=[];for(const o in i){const[a,l]=o.split("-");r.push({source:a,target:l,weight:i[o],group:"undefined"})}return r},E=e=>{const i=new Set;return e.forEach(r=>{i.add(r.characterId1),i.add(r.characterId2)}),Array.from(i)},I=(e,i)=>{const a={};i.forEach(O=>{var H,Y,K,lt;null!==(H=a[K=O.characterId1])&&void 0!==H||(a[K]=0),null!==(Y=a[lt=O.characterId2])&&void 0!==Y||(a[lt]=0),a[O.characterId1]+=1,a[O.characterId2]+=1});const l=Object.values(a);let d=Math.min(...l);const S=Math.max(...l)-d,A={};for(const[O,H]of Object.entries(a))A[O]=(H-d)/S*55+5;return A};var k=z(7489),G=z.n(k),Q=z(9557),Z=z(5595),X=z(7749),J=z.n(X),P=z(4004),B=z(520),W=z(3905),L=z(2843),ot=z(262),at=z(2340);let gt=(()=>{class e{generate(r){let o=r;return o.startsWith("/")||(o="/"+o),"assets/db"+o+".json"}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ct=(()=>{class e{constructor(r,o){this.http=r,this.router=o,this.requestCache={},setInterval(()=>{this.clearCache()},300)}get(r){var o=this;const a=this.router.generate(r);return new Promise(function(){var l=(0,b.Z)(function*(d,y){try{d(yield(0,W.z)(o.http.get(a).pipe((0,ot.K)(A=>(0,L._)(A)))))}catch(S){y(S)}});return function(d,y){return l.apply(this,arguments)}}())}headers(){return{headers:(new B.WM).set("app-version",at.N.appVersion).set("Access-Control-Allow-Origin","*")}}clearCache(){const r=(0,k.keys)(this.requestCache),o=(new Date).getTime();for(const a of r){const l=this.requestCache[a];if(!l)continue;const d=o-l.timestamp;!l.response&&d<2e4||l.response&&d<200||(this.requestCache[a]=null,delete this.requestCache[a])}}}return e.\u0275fac=function(r){return new(r||e)(f.LFG(B.eN),f.LFG(gt))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ft=z(8306),wt=z(727),Nt=z(3101),Dt=z(4707),Ht=z(576);function ee(e){return!!e&&(e instanceof ft.y||(0,Ht.m)(e.lift)&&(0,Ht.m)(e.subscribe))}var Jt=z(9646),Qt=z(9975),pe=z(4408),Le=z(7565);const Se=new class se extends Le.v{}(class me extends pe.o{constructor(i,r){super(i,r),this.scheduler=i,this.work=r}schedule(i,r=0){return r>0?super.schedule(i,r):(this.delay=r,this.state=i,this.scheduler.flush(this),this)}execute(i,r){return r>0||this.closed?super.execute(i,r):this._execute(i,r)}requestAsyncId(i,r,o=0){return null!=o&&o>0||null==o&&this.delay>0?super.requestAsyncId(i,r,o):i.flush(this)}});var ye=z(9841),kt=z(7579),It=z(4351),Ot=z(4482),Te=z(5403),He=z(8421),on=z(4671),Pe=z(5032),Ie=z(3269),Re=z(2722),pn=z(5698),ji=z(1884),Ue=z(4782);function Ki(){return e=>new ft.y(i=>{let r,o;const a=new wt.w0;return a.add(e.subscribe({complete:()=>{r&&i.next(o),i.complete()},error:l=>{i.error(l)},next:l=>{o=l,r||(r=Nt.E.schedule(()=>{i.next(o),r=void 0}),a.add(r))}})),a})}const Ys=new f.OlP("@ngrx/component-store Initial State");let Gn=(()=>{class e{constructor(r){this.destroySubject$=new Dt.t(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new Dt.t(1),this.isInitialized=!1,this.notInitializedErrorMessage=`${this.constructor.name} has not been initialized yet. Please make sure it is initialized before updating/getting.`,this.state$=this.select(o=>o),r&&this.initState(r)}ngOnDestroy(){this.stateSubject$.complete(),this.destroySubject$.next()}updater(r){return o=>{let a;const d=(ee(o)?o:(0,Jt.of)(o)).pipe((0,It.b)(y=>this.isInitialized?(0,Qt.x)([y],Se).pipe(function jn(...e){const i=(0,Ie.jO)(e);return(0,Ot.e)((r,o)=>{const a=e.length,l=new Array(a);let d=e.map(()=>!1),y=!1;for(let S=0;S<a;S++)(0,He.Xf)(e[S]).subscribe(new Te.Q(o,A=>{l[S]=A,!y&&!d[S]&&(d[S]=!0,(y=d.every(on.y))&&(d=null))},Pe.Z));r.subscribe(new Te.Q(o,S=>{if(y){const A=[S,...l];o.next(i?i(...A):A)}}))})}(this.stateSubject$)):(0,L._)(new Error(this.notInitializedErrorMessage))),(0,Re.R)(this.destroy$)).subscribe({next:([y,S])=>{this.stateSubject$.next(r(S,y))},error:y=>{a=y,this.stateSubject$.error(y)}});if(a)throw a;return d}}initState(r){(0,Qt.x)([r],Se).subscribe(o=>{this.isInitialized=!0,this.stateSubject$.next(o)})}setState(r){"function"!=typeof r?this.initState(r):this.updater(r)()}patchState(r){const o="function"==typeof r?r(this.get()):r;this.updater((a,l)=>Object.assign(Object.assign({},a),l))(o)}get(r){if(!this.isInitialized)throw new Error(this.notInitializedErrorMessage);let o;return this.stateSubject$.pipe((0,pn.q)(1)).subscribe(a=>{o=r?r(a):a}),o}select(...r){const{observables:o,projector:a,config:l}=function sn(e){const i=Array.from(e);let o,r={debounce:!1};const a=i.pop();return"function"!=typeof a?(r=Object.assign(Object.assign({},r),a),o=i.pop()):o=a,{observables:i,projector:o,config:r}}(r);let d;return d=0===o.length?this.stateSubject$.pipe(l.debounce?Ki():y=>y,(0,P.U)(a)):(0,ye.a)(o).pipe(l.debounce?Ki():y=>y,(0,P.U)(y=>a(...y))),d.pipe((0,ji.x)(),(0,Ue.d)({refCount:!0,bufferSize:1}),(0,Re.R)(this.destroy$))}effect(r){const o=new kt.x;return r(o).pipe((0,Re.R)(this.destroy$)).subscribe(),a=>(ee(a)?a:(0,Jt.of)(a)).pipe((0,Re.R)(this.destroy$)).subscribe(d=>{o.next(d)})}}return e.\u0275fac=function(r){return new(r||e)(f.LFG(Ys,8))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac}),e})();const rr=(e,i)=>i.find(r=>r.id===e),ir=(e,i)=>{e||(e=[]);let r=[...e];return i.forEach(o=>{r=Hr(r,o)}),r},Hr=(e,i)=>{const r=i;let o=[...e];return(0,k.some)(o,a=>a.id===r.id)?o=o.map(a=>a.id===r.id?i:a):o.push(i),o};let Kn=(()=>{class e extends Gn{constructor(){super({characters:[]}),this.characters$=this.select(r=>r.characters)}saveAllCharacters(r){(0,k.isEqual)(this.get().characters,r)||this.patchState(o=>({characters:ir(o.characters,r)}))}syncState(){return this.get()}syncCharacter(r){return rr(r,this.get().characters)}reset(){this.patchState({characters:[]})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Xr=(()=>{class e{constructor(r,o){this.api=r,this.store=o}fetchAllCharacter(){var r=this;return(0,b.Z)(function*(){const o=yield r.api.get("characters");r.store.saveAllCharacters(o)})()}fetchAllCosmereCharacter(){var r=this;return(0,b.Z)(function*(){const a=(yield r.api.get("characters")).filter(l=>"Cosmere"===l.universe);r.store.saveAllCharacters(a)})()}syncAllCharacters(){return this.store.syncState().characters}allCharacters(){return this.store.characters$}cosmereCharacters(){return this.store.characters$.pipe((0,P.U)(r=>r.filter(o=>"Cosmere"===o.universe)))}}return e.\u0275fac=function(r){return new(r||e)(f.LFG(ct),f.LFG(Kn))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Vi=(()=>{class e extends Gn{constructor(){super({relationships:[]}),this.relationships$=this.select(r=>r.relationships)}saveAllRelationship(r){(0,k.isEqual)(this.get().relationships,r)||this.patchState(o=>({relationships:ir(o.relationships,r)}))}syncState(){return this.get()}reset(){this.patchState({relationships:[]})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),jr=(()=>{class e{constructor(r,o){this.api=r,this.store=o}fetchAllRelationship(){var r=this;return(0,b.Z)(function*(){const o=yield r.api.get("relationships");r.store.saveAllRelationship(o)})()}fetchAllRelationshipByBookId(r){var o=this;return(0,b.Z)(function*(){const a=yield o.api.get("relationships-"+r);o.store.saveAllRelationship(a)})()}fetchAllCosmereRelationship(){var r=this;return(0,b.Z)(function*(){const o=[];for(const d of["warbreaker","mistborn1","mistborn2","mistborn3","mistborn4","mistborn5","mistborn6","stormlight1","stormlight2","stormlight3","stormlight4"])o.push(r.api.get("relationships-"+d).then(y=>y).catch(y=>{}));const a=yield Promise.all(o);let l=[];a.forEach(d=>l=ir(l,d)),r.store.saveAllRelationship(l)})()}syncAllRelationship(){return this.store.syncState().relationships}allRelationship(){return this.store.relationships$}cosmereRelationships(){return this.store.relationships$.pipe((0,P.U)(r=>r.filter(o=>["warbreaker","mistborn1","mistborn2","mistborn3","mistborn4","mistborn5","mistborn6","stormlight1","stormlight2","stormlight3","stormlight4"].includes(o.bookId))))}relationshipsByBook(r){return this.store.relationships$.pipe((0,P.U)(o=>o.filter(a=>(null==a?void 0:a.bookId)===r)))}}return e.\u0275fac=function(r){return new(r||e)(f.LFG(ct),f.LFG(Vi))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Vn=z(9976);function On(e,i){let r;if(void 0===i)for(const o of e)null!=o&&(r<o||void 0===r&&o>=o)&&(r=o);else{let o=-1;for(let a of e)null!=(a=i(a,++o,e))&&(r<a||void 0===r&&a>=a)&&(r=a)}return r}function Pn(e,i){let r;if(void 0===i)for(const o of e)null!=o&&(r>o||void 0===r&&o>=o)&&(r=o);else{let o=-1;for(let a of e)null!=(a=i(a,++o,e))&&(r>a||void 0===r&&a>=a)&&(r=a)}return r}function Sn(e,i){return null==e||null==i?NaN:e<i?-1:e>i?1:e>=i?0:NaN}function _i(e,i){return(null==e||!(e>=e))-(null==i||!(i>=i))||(e<i?-1:e>i?1:0)}function br(e,i,r=0,o=1/0,a){if(i=Math.floor(i),r=Math.floor(Math.max(0,r)),o=Math.floor(Math.min(e.length-1,o)),!(r<=i&&i<=o))return e;for(a=void 0===a?_i:function To(e=Sn){if(e===Sn)return _i;if("function"!=typeof e)throw new TypeError("compare is not a function");return(i,r)=>{const o=e(i,r);return o||0===o?o:(0===e(r,r))-(0===e(i,i))}}(a);o>r;){if(o-r>600){const S=o-r+1,A=i-r+1,O=Math.log(S),H=.5*Math.exp(2*O/3),Y=.5*Math.sqrt(O*H*(S-H)/S)*(A-S/2<0?-1:1);br(e,i,Math.max(r,Math.floor(i-A*H/S+Y)),Math.min(o,Math.floor(i+(S-A)*H/S+Y)),a)}const l=e[i];let d=r,y=o;for(_r(e,r,i),a(e[o],l)>0&&_r(e,r,o);d<y;){for(_r(e,d,y),++d,--y;a(e[d],l)<0;)++d;for(;a(e[y],l)>0;)--y}0===a(e[r],l)?_r(e,r,y):(++y,_r(e,y,o)),y<=i&&(r=y+1),i<=y&&(o=y-1)}return e}function _r(e,i,r){const o=e[i];e[i]=e[r],e[r]=o}function Ar(e,i,r){e=+e,i=+i,r=(a=arguments.length)<2?(i=e,e=0,1):a<3?1:+r;for(var o=-1,a=0|Math.max(0,Math.ceil((i-e)/r)),l=new Array(a);++o<a;)l[o]=e+o*r;return l}class Ji extends Map{constructor(i,r=qi){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),null!=i)for(const[o,a]of i)this.set(o,a)}get(i){return super.get(Kr(this,i))}has(i){return super.has(Kr(this,i))}set(i,r){return super.set(or(this,i),r)}delete(i){return super.delete(Ee(this,i))}}class Go extends Set{constructor(i,r=qi){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),null!=i)for(const o of i)this.add(o)}has(i){return super.has(Kr(this,i))}add(i){return super.add(or(this,i))}delete(i){return super.delete(Ee(this,i))}}function Kr({_intern:e,_key:i},r){const o=i(r);return e.has(o)?e.get(o):r}function or({_intern:e,_key:i},r){const o=i(r);return e.has(o)?e.get(o):(e.set(o,r),r)}function Ee({_intern:e,_key:i},r){const o=i(r);return e.has(o)&&(r=e.get(o),e.delete(o)),r}function qi(e){return null!==e&&"object"==typeof e?e.valueOf():e}function Oo(e){return e}var g=1e-6;function _(e){return"translate("+e+",0)"}function p(e){return"translate(0,"+e+")"}function u(e){return i=>+e(i)}function c(e,i){return i=Math.max(0,e.bandwidth()-2*i)/2,e.round()&&(i=Math.round(i)),r=>+e(r)+i}function v(){return!this.__axis}function M(e,i){var r=[],o=null,a=null,l=6,d=6,y=3,S="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,A=1===e||4===e?-1:1,O=4===e||2===e?"x":"y",H=1===e||3===e?_:p;function Y(K){var lt=null==o?i.ticks?i.ticks.apply(i,r):i.domain():o,ut=null==a?i.tickFormat?i.tickFormat.apply(i,r):Oo:a,V=Math.max(l,0)+y,q=i.range(),vt=+q[0]+S,bt=+q[q.length-1]+S,it=(i.bandwidth?c:u)(i.copy(),S),Ct=K.selection?K.selection():K,Ut=Ct.selectAll(".domain").data([null]),$t=Ct.selectAll(".tick").data(lt,i).order(),Ft=$t.exit(),ce=$t.enter().append("g").attr("class","tick"),Xt=$t.select("line"),Rt=$t.select("text");Ut=Ut.merge(Ut.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$t=$t.merge(ce),Xt=Xt.merge(ce.append("line").attr("stroke","currentColor").attr(O+"2",A*l)),Rt=Rt.merge(ce.append("text").attr("fill","currentColor").attr(O,A*V).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),K!==Ct&&(Ut=Ut.transition(K),$t=$t.transition(K),Xt=Xt.transition(K),Rt=Rt.transition(K),Ft=Ft.transition(K).attr("opacity",g).attr("transform",function(le){return isFinite(le=it(le))?H(le+S):this.getAttribute("transform")}),ce.attr("opacity",g).attr("transform",function(le){var Yt=this.parentNode.__axis;return H((Yt&&isFinite(Yt=Yt(le))?Yt:it(le))+S)})),Ft.remove(),Ut.attr("d",4===e||2===e?d?"M"+A*d+","+vt+"H"+S+"V"+bt+"H"+A*d:"M"+S+","+vt+"V"+bt:d?"M"+vt+","+A*d+"V"+S+"H"+bt+"V"+A*d:"M"+vt+","+S+"H"+bt),$t.attr("opacity",1).attr("transform",function(le){return H(it(le)+S)}),Xt.attr(O+"2",A*l),Rt.attr(O,A*V).text(ut),Ct.filter(v).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),Ct.each(function(){this.__axis=it})}return Y.scale=function(K){return arguments.length?(i=K,Y):i},Y.ticks=function(){return r=Array.from(arguments),Y},Y.tickArguments=function(K){return arguments.length?(r=null==K?[]:Array.from(K),Y):r.slice()},Y.tickValues=function(K){return arguments.length?(o=null==K?null:Array.from(K),Y):o&&o.slice()},Y.tickFormat=function(K){return arguments.length?(a=K,Y):a},Y.tickSize=function(K){return arguments.length?(l=d=+K,Y):l},Y.tickSizeInner=function(K){return arguments.length?(l=+K,Y):l},Y.tickSizeOuter=function(K){return arguments.length?(d=+K,Y):d},Y.tickPadding=function(K){return arguments.length?(y=+K,Y):y},Y.offset=function(K){return arguments.length?(S=+K,Y):S},Y}function At(e){return M(3,e)}function Et(e){return M(4,e)}function yt(){}function Lt(e){return null==e?yt:function(){return this.querySelector(e)}}function re(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function we(){return[]}function Ce(e){return null==e?we:function(){return this.querySelectorAll(e)}}function qe(e){return function(){return this.matches(e)}}function an(e){return function(i){return i.matches(e)}}var un=Array.prototype.find;function qr(){return this.firstElementChild}var Po=Array.prototype.filter;function eu(){return Array.from(this.children)}function ru(e){return new Array(e.length)}function to(e,i){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=i}function js(e){return function(){return e}}function oh(e,i,r,o,a,l){for(var y,d=0,S=i.length,A=l.length;d<A;++d)(y=i[d])?(y.__data__=l[d],o[d]=y):r[d]=new to(e,l[d]);for(;d<S;++d)(y=i[d])&&(a[d]=y)}function ou(e,i,r,o,a,l,d){var y,S,K,A=new Map,O=i.length,H=l.length,Y=new Array(O);for(y=0;y<O;++y)(S=i[y])&&(Y[y]=K=d.call(S,S.__data__,y,i)+"",A.has(K)?a[y]=S:A.set(K,S));for(y=0;y<H;++y)K=d.call(e,l[y],y,l)+"",(S=A.get(K))?(o[y]=S,S.__data__=l[y],A.delete(K)):r[y]=new to(e,l[y]);for(y=0;y<O;++y)(S=i[y])&&A.get(Y[y])===S&&(a[y]=S)}function Ks(e){return e.__data__}function Ei(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function hu(e,i){return e<i?-1:e>i?1:e>=i?0:NaN}to.prototype={constructor:to,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,i){return this._parent.insertBefore(e,i)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Js="http://www.w3.org/1999/xhtml";const du={svg:"http://www.w3.org/2000/svg",xhtml:Js,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wo(e){var i=e+="",r=i.indexOf(":");return r>=0&&"xmlns"!==(i=e.slice(0,r))&&(e=e.slice(r+1)),du.hasOwnProperty(i)?{space:du[i],local:e}:e}function qs(e){return function(){this.removeAttribute(e)}}function fh(e){return function(){this.removeAttributeNS(e.space,e.local)}}function lh(e,i){return function(){this.setAttribute(e,i)}}function dh(e,i){return function(){this.setAttributeNS(e.space,e.local,i)}}function gh(e,i){return function(){var r=i.apply(this,arguments);null==r?this.removeAttribute(e):this.setAttribute(e,r)}}function ph(e,i){return function(){var r=i.apply(this,arguments);null==r?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Me(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function vh(e){return function(){this.style.removeProperty(e)}}function yh(e,i,r){return function(){this.style.setProperty(e,i,r)}}function mh(e,i,r){return function(){var o=i.apply(this,arguments);null==o?this.style.removeProperty(e):this.style.setProperty(e,o,r)}}function Ci(e,i){return e.style.getPropertyValue(i)||Me(e).getComputedStyle(e,null).getPropertyValue(i)}function xh(e){return function(){delete this[e]}}function gu(e,i){return function(){this[e]=i}}function bh(e,i){return function(){var r=i.apply(this,arguments);null==r?delete this[e]:this[e]=r}}function Qs(e){return e.trim().split(/^|\s+/)}function ti(e){return e.classList||new ta(e)}function ta(e){this._node=e,this._names=Qs(e.getAttribute("class")||"")}function Bo(e,i){for(var r=ti(e),o=-1,a=i.length;++o<a;)r.add(i[o])}function bn(e,i){for(var r=ti(e),o=-1,a=i.length;++o<a;)r.remove(i[o])}function pu(e){return function(){Bo(this,e)}}function vu(e){return function(){bn(this,e)}}function yu(e,i){return function(){(i.apply(this,arguments)?Bo:bn)(this,e)}}function wu(){this.textContent=""}function xu(e){return function(){this.textContent=e}}function _n(e){return function(){var i=e.apply(this,arguments);this.textContent=null==i?"":i}}function kn(){this.innerHTML=""}function Ah(e){return function(){this.innerHTML=e}}function bu(e){return function(){var i=e.apply(this,arguments);this.innerHTML=null==i?"":i}}function Fo(){this.nextSibling&&this.parentNode.appendChild(this)}function De(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function na(e){return function(){var i=this.ownerDocument,r=this.namespaceURI;return r===Js&&i.documentElement.namespaceURI===Js?i.createElement(e):i.createElementNS(r,e)}}function Eh(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function eo(e){var i=Wo(e);return(i.local?Eh:na)(i)}function Sh(){return null}function _u(){var e=this.parentNode;e&&e.removeChild(this)}function Si(){var e=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(e,this.nextSibling):e}function kh(){var e=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(e,this.nextSibling):e}function ia(e){return e.trim().split(/^|\s+/).map(function(i){var r="",o=i.indexOf(".");return o>=0&&(r=i.slice(o+1),i=i.slice(0,o)),{type:i,name:r}})}function Cu(e){return function(){var i=this.__on;if(i){for(var l,r=0,o=-1,a=i.length;r<a;++r)l=i[r],e.type&&l.type!==e.type||l.name!==e.name?i[++o]=l:this.removeEventListener(l.type,l.listener,l.options);++o?i.length=o:delete this.__on}}}function Ih(e,i,r){return function(){var a,o=this.__on,l=function ra(e){return function(i){e.call(this,i,this.__data__)}}(i);if(o)for(var d=0,y=o.length;d<y;++d)if((a=o[d]).type===e.type&&a.name===e.name)return this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=l,a.options=r),void(a.value=i);this.addEventListener(e.type,l,r),a={type:e.type,name:e.name,value:i,listener:l,options:r},o?o.push(a):this.__on=[a]}}function $o(e,i,r){var o=Me(e),a=o.CustomEvent;"function"==typeof a?a=new a(i,r):(a=o.document.createEvent("Event"),r?(a.initEvent(i,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(i,!1,!1)),e.dispatchEvent(a)}function Nh(e,i){return function(){return $o(this,e,i)}}function Su(e,i){return function(){return $o(this,e,i.apply(this,arguments))}}ta.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var i=this._names.indexOf(e);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Mi=[null];function yn(e,i){this._groups=e,this._parents=i}function aa(){return new yn([[document.documentElement]],Mi)}yn.prototype=aa.prototype={constructor:yn,select:function zt(e){"function"!=typeof e&&(e=Lt(e));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var S,A,l=i[a],d=l.length,y=o[a]=new Array(d),O=0;O<d;++O)(S=l[O])&&(A=e.call(S,S.__data__,O,l))&&("__data__"in S&&(A.__data__=S.__data__),y[O]=A);return new yn(o,this._parents)},selectAll:function Oe(e){e="function"==typeof e?function Ge(e){return function(){return re(e.apply(this,arguments))}}(e):Ce(e);for(var i=this._groups,r=i.length,o=[],a=[],l=0;l<r;++l)for(var S,d=i[l],y=d.length,A=0;A<y;++A)(S=d[A])&&(o.push(e.call(S,S.__data__,A,d)),a.push(S));return new yn(o,a)},selectChild:function Qr(e){return this.select(null==e?qr:function vn(e){return function(){return un.call(this.children,e)}}("function"==typeof e?e:an(e)))},selectChildren:function Uo(e){return this.selectAll(null==e?eu:function Qi(e){return function(){return Po.call(this.children,e)}}("function"==typeof e?e:an(e)))},filter:function nu(e){"function"!=typeof e&&(e=qe(e));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var S,l=i[a],d=l.length,y=o[a]=[],A=0;A<d;++A)(S=l[A])&&e.call(S,S.__data__,A,l)&&y.push(S);return new yn(o,this._parents)},data:function Vs(e,i){if(!arguments.length)return Array.from(this,Ks);var r=i?ou:oh,o=this._parents,a=this._groups;"function"!=typeof e&&(e=js(e));for(var l=a.length,d=new Array(l),y=new Array(l),S=new Array(l),A=0;A<l;++A){var O=o[A],H=a[A],Y=H.length,K=Ei(e.call(O,O&&O.__data__,A,o)),lt=K.length,ut=y[A]=new Array(lt),V=d[A]=new Array(lt),q=S[A]=new Array(Y);r(O,H,ut,V,q,K,i);for(var it,Ct,vt=0,bt=0;vt<lt;++vt)if(it=ut[vt]){for(vt>=bt&&(bt=vt+1);!(Ct=V[bt])&&++bt<lt;);it._next=Ct||null}}return(d=new yn(d,o))._enter=y,d._exit=S,d},enter:function iu(){return new yn(this._enter||this._groups.map(ru),this._parents)},exit:function su(){return new yn(this._exit||this._groups.map(ru),this._parents)},join:function au(e,i,r){var o=this.enter(),a=this,l=this.exit();return"function"==typeof e?(o=e(o))&&(o=o.selection()):o=o.append(e+""),null!=i&&(a=i(a))&&(a=a.selection()),null==r?l.remove():r(l),o&&a?o.merge(a).order():a},merge:function sh(e){for(var i=e.selection?e.selection():e,r=this._groups,o=i._groups,a=r.length,d=Math.min(a,o.length),y=new Array(a),S=0;S<d;++S)for(var K,A=r[S],O=o[S],H=A.length,Y=y[S]=new Array(H),lt=0;lt<H;++lt)(K=A[lt]||O[lt])&&(Y[lt]=K);for(;S<a;++S)y[S]=r[S];return new yn(y,this._parents)},selection:function Dh(){return this},order:function uu(){for(var e=this._groups,i=-1,r=e.length;++i<r;)for(var d,o=e[i],a=o.length-1,l=o[a];--a>=0;)(d=o[a])&&(l&&4^d.compareDocumentPosition(l)&&l.parentNode.insertBefore(d,l),l=d);return this},sort:function cu(e){function i(H,Y){return H&&Y?e(H.__data__,Y.__data__):!H-!Y}e||(e=hu);for(var r=this._groups,o=r.length,a=new Array(o),l=0;l<o;++l){for(var A,d=r[l],y=d.length,S=a[l]=new Array(y),O=0;O<y;++O)(A=d[O])&&(S[O]=A);S.sort(i)}return new yn(a,this._parents).order()},call:function fu(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function ah(){return Array.from(this)},node:function uh(){for(var e=this._groups,i=0,r=e.length;i<r;++i)for(var o=e[i],a=0,l=o.length;a<l;++a){var d=o[a];if(d)return d}return null},size:function ch(){let e=0;for(const i of this)++e;return e},empty:function lu(){return!this.node()},each:function hh(e){for(var i=this._groups,r=0,o=i.length;r<o;++r)for(var y,a=i[r],l=0,d=a.length;l<d;++l)(y=a[l])&&e.call(y,y.__data__,l,a);return this},attr:function Ne(e,i){var r=Wo(e);if(arguments.length<2){var o=this.node();return r.local?o.getAttributeNS(r.space,r.local):o.getAttribute(r)}return this.each((null==i?r.local?fh:qs:"function"==typeof i?r.local?ph:gh:r.local?dh:lh)(r,i))},style:function wh(e,i,r){return arguments.length>1?this.each((null==i?vh:"function"==typeof i?mh:yh)(e,i,null==r?"":r)):Ci(this.node(),e)},property:function Xe(e,i){return arguments.length>1?this.each((null==i?xh:"function"==typeof i?bh:gu)(e,i)):this.node()[e]},classed:function mu(e,i){var r=Qs(e+"");if(arguments.length<2){for(var o=ti(this.node()),a=-1,l=r.length;++a<l;)if(!o.contains(r[a]))return!1;return!0}return this.each(("function"==typeof i?yu:i?pu:vu)(r,i))},text:function _h(e){return arguments.length?this.each(null==e?wu:("function"==typeof e?_n:xu)(e)):this.node().textContent},html:function Er(e){return arguments.length?this.each(null==e?kn:("function"==typeof e?bu:Ah)(e)):this.node().innerHTML},raise:function ea(){return this.each(Fo)},lower:function Cr(){return this.each(De)},append:function Ch(e){var i="function"==typeof e?e:eo(e);return this.select(function(){return this.appendChild(i.apply(this,arguments))})},insert:function Mh(e,i){var r="function"==typeof e?e:eo(e),o=null==i?Sh:"function"==typeof i?i:Lt(i);return this.select(function(){return this.insertBefore(r.apply(this,arguments),o.apply(this,arguments)||null)})},remove:function Zo(){return this.each(_u)},clone:function Au(e){return this.select(e?kh:Si)},datum:function Eu(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function oa(e,i,r){var a,d,o=ia(e+""),l=o.length;if(!(arguments.length<2)){for(y=i?Ih:Cu,a=0;a<l;++a)this.each(y(o[a],i,r));return this}var y=this.node().__on;if(y)for(var O,S=0,A=y.length;S<A;++S)for(a=0,O=y[S];a<l;++a)if((d=o[a]).type===O.type&&d.name===O.name)return O.value},dispatch:function An(e,i){return this.each(("function"==typeof i?Su:Nh)(e,i))},[Symbol.iterator]:function*sa(){for(var e=this._groups,i=0,r=e.length;i<r;++i)for(var d,o=e[i],a=0,l=o.length;a<l;++a)(d=o[a])&&(yield d)}};const no=aa;var Lh={value:()=>{}};function Mu(){for(var o,e=0,i=arguments.length,r={};e<i;++e){if(!(o=arguments[e]+"")||o in r||/[\s.]/.test(o))throw new Error("illegal type: "+o);r[o]=[]}return new Yo(r)}function Yo(e){this._=e}function ki(e,i){return e.trim().split(/^|\s+/).map(function(r){var o="",a=r.indexOf(".");if(a>=0&&(o=r.slice(a+1),r=r.slice(0,a)),r&&!i.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:o}})}function Th(e,i){for(var a,r=0,o=e.length;r<o;++r)if((a=e[r]).name===i)return a.value}function ku(e,i,r){for(var o=0,a=e.length;o<a;++o)if(e[o].name===i){e[o]=Lh,e=e.slice(0,o).concat(e.slice(o+1));break}return null!=r&&e.push({name:i,value:r}),e}Yo.prototype=Mu.prototype={constructor:Yo,on:function(e,i){var a,r=this._,o=ki(e+"",r),l=-1,d=o.length;if(!(arguments.length<2)){if(null!=i&&"function"!=typeof i)throw new Error("invalid callback: "+i);for(;++l<d;)if(a=(e=o[l]).type)r[a]=ku(r[a],e.name,i);else if(null==i)for(a in r)r[a]=ku(r[a],e.name,null);return this}for(;++l<d;)if((a=(e=o[l]).type)&&(a=Th(r[a],e.name)))return a},copy:function(){var e={},i=this._;for(var r in i)e[r]=i[r].slice();return new Yo(e)},call:function(e,i){if((a=arguments.length-2)>0)for(var a,l,r=new Array(a),o=0;o<a;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,a=(l=this._[e]).length;o<a;++o)l[o].value.apply(i,r)},apply:function(e,i,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],a=0,l=o.length;a<l;++a)o[a].value.apply(i,r)}};const Ii=Mu;var Ho,ro,ei=0,In=0,Sr=0,sr=0,je=0,io=0,oo="object"==typeof performance&&performance.now?performance:Date,Nu="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ua(){return je||(Nu(zh),je=oo.now()+io)}function zh(){je=0}function Xo(){this._call=this._time=this._next=null}function Ni(e,i,r){var o=new Xo;return o.restart(e,i,r),o}function pt(){je=(sr=oo.now())+io,ei=In=0;try{!function tt(){ua(),++ei;for(var i,e=Ho;e;)(i=je-e._time)>=0&&e._call.call(void 0,i),e=e._next;--ei}()}finally{ei=0,function Bt(){for(var e,r,i=Ho,o=1/0;i;)i._call?(o>i._time&&(o=i._time),e=i,i=i._next):(r=i._next,i._next=null,i=e?e._next=r:Ho=r);ro=e,ae(o)}(),je=0}}function ht(){var e=oo.now(),i=e-sr;i>1e3&&(io-=i,sr=e)}function ae(e){ei||(In&&(In=clearTimeout(In)),e-je>24?(e<1/0&&(In=setTimeout(pt,e-oo.now()-io)),Sr&&(Sr=clearInterval(Sr))):(Sr||(sr=oo.now(),Sr=setInterval(ht,1e3)),ei=1,Nu(pt)))}function _e(e,i,r){var o=new Xo;return o.restart(a=>{o.stop(),e(a+i)},i=null==i?0:+i,r),o}Xo.prototype=Ni.prototype={constructor:Xo,restart:function(e,i,r){if("function"!=typeof e)throw new TypeError("callback is not a function");r=(null==r?ua():+r)+(null==i?0:+i),!this._next&&ro!==this&&(ro?ro._next=this:Ho=this,ro=this),this._call=e,this._time=r,ae()},stop:function(){this._call&&(this._call=null,this._time=1/0,ae())}};var We=Ii("start","end","cancel","interrupt"),ke=[];function ii(e,i,r,o,a,l){var d=e.__transition;if(d){if(r in d)return}else e.__transition={};!function Ko(e,i,r){var a,o=e.__transition;function d(A){var O,H,Y,K;if(1!==r.state)return S();for(O in o)if((K=o[O]).name===r.name){if(3===K.state)return _e(d);4===K.state?(K.state=6,K.timer.stop(),K.on.call("interrupt",e,e.__data__,K.index,K.group),delete o[O]):+O<i&&(K.state=6,K.timer.stop(),K.on.call("cancel",e,e.__data__,K.index,K.group),delete o[O])}if(_e(function(){3===r.state&&(r.state=4,r.timer.restart(y,r.delay,r.time),y(A))}),r.state=2,r.on.call("start",e,e.__data__,r.index,r.group),2===r.state){for(r.state=3,a=new Array(Y=r.tween.length),O=0,H=-1;O<Y;++O)(K=r.tween[O].value.call(e,e.__data__,r.index,r.group))&&(a[++H]=K);a.length=H+1}}function y(A){for(var O=A<r.duration?r.ease.call(null,A/r.duration):(r.timer.restart(S),r.state=5,1),H=-1,Y=a.length;++H<Y;)a[H].call(e,O);5===r.state&&(r.on.call("end",e,e.__data__,r.index,r.group),S())}function S(){for(var A in r.state=6,r.timer.stop(),delete o[i],o)return;delete e.__transition}o[i]=r,r.timer=Ni(function l(A){r.state=1,r.timer.restart(d,r.delay,r.time),r.delay<=A&&d(A-r.delay)},0,r.time)}(e,r,{name:i,index:o,group:a,on:We,tween:ke,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:0})}function Ae(e,i){var r=Nn(e,i);if(r.state>0)throw new Error("too late; already scheduled");return r}function Jn(e,i){var r=Nn(e,i);if(r.state>3)throw new Error("too late; already running");return r}function Nn(e,i){var r=e.__transition;if(!r||!(r=r[i]))throw new Error("transition not found");return r}function Vo(e,i){var o,a,d,r=e.__transition,l=!0;if(r){for(d in i=null==i?null:i+"",r)(o=r[d]).name===i?(a=o.state>2&&o.state<5,o.state=6,o.timer.stop(),o.on.call(a?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete r[d]):l=!1;l&&delete e.__transition}}function Un(e,i){return e=+e,i=+i,function(r){return e*(1-r)+i*r}}var uo,so=180/Math.PI,qn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ao(e,i,r,o,a,l){var d,y,S;return(d=Math.sqrt(e*e+i*i))&&(e/=d,i/=d),(S=e*r+i*o)&&(r-=e*S,o-=i*S),(y=Math.sqrt(r*r+o*o))&&(r/=y,o/=y,S/=y),e*o<i*r&&(e=-e,i=-i,S=-S,d=-d),{translateX:a,translateY:l,rotate:Math.atan2(i,e)*so,skewX:Math.atan(S)*so,scaleX:d,scaleY:y}}function ca(e,i,r,o){function a(A){return A.length?A.pop()+" ":""}return function(A,O){var H=[],Y=[];return A=e(A),O=e(O),function l(A,O,H,Y,K,lt){if(A!==H||O!==Y){var ut=K.push("translate(",null,i,null,r);lt.push({i:ut-4,x:Un(A,H)},{i:ut-2,x:Un(O,Y)})}else(H||Y)&&K.push("translate("+H+i+Y+r)}(A.translateX,A.translateY,O.translateX,O.translateY,H,Y),function d(A,O,H,Y){A!==O?(A-O>180?O+=360:O-A>180&&(A+=360),Y.push({i:H.push(a(H)+"rotate(",null,o)-2,x:Un(A,O)})):O&&H.push(a(H)+"rotate("+O+o)}(A.rotate,O.rotate,H,Y),function y(A,O,H,Y){A!==O?Y.push({i:H.push(a(H)+"skewX(",null,o)-2,x:Un(A,O)}):O&&H.push(a(H)+"skewX("+O+o)}(A.skewX,O.skewX,H,Y),function S(A,O,H,Y,K,lt){if(A!==H||O!==Y){var ut=K.push(a(K)+"scale(",null,",",null,")");lt.push({i:ut-4,x:Un(A,H)},{i:ut-2,x:Un(O,Y)})}else(1!==H||1!==Y)&&K.push(a(K)+"scale("+H+","+Y+")")}(A.scaleX,A.scaleY,O.scaleX,O.scaleY,H,Y),A=O=null,function(K){for(var V,lt=-1,ut=Y.length;++lt<ut;)H[(V=Y[lt]).i]=V.x(K);return H.join("")}}}var qo=ca(function Jo(e){const i=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return i.isIdentity?qn:ao(i.a,i.b,i.c,i.d,i.e,i.f)},"px, ","px)","deg)"),zu=ca(function Tu(e){return null!=e&&(uo||(uo=document.createElementNS("http://www.w3.org/2000/svg","g")),uo.setAttribute("transform",e),e=uo.transform.baseVal.consolidate())?ao((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):qn},", ",")",")");function co(e,i){var r,o;return function(){var a=Jn(this,e),l=a.tween;if(l!==r)for(var d=0,y=(o=r=l).length;d<y;++d)if(o[d].name===i){(o=o.slice()).splice(d,1);break}a.tween=o}}function oi(e,i,r){var o,a;if("function"!=typeof r)throw new Error;return function(){var l=Jn(this,e),d=l.tween;if(d!==o){a=(o=d).slice();for(var y={name:i,value:r},S=0,A=a.length;S<A;++S)if(a[S].name===i){a[S]=y;break}S===A&&a.push(y)}l.tween=a}}function ha(e,i,r){var o=e._id;return e.each(function(){var a=Jn(this,o);(a.value||(a.value={}))[i]=r.apply(this,arguments)}),function(a){return Nn(a,o).value[i]}}function ts(e,i,r){e.prototype=i.prototype=r,r.constructor=e}function fa(e,i){var r=Object.create(e.prototype);for(var o in i)r[o]=i[o];return r}function ar(){}var kr=1/.7,Di="\\s*([+-]?\\d+)\\s*",Li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gh=/^#([0-9a-f]{3,8})$/,Be=new RegExp(`^rgb\\(${Di},${Di},${Di}\\)$`),Qe=new RegExp(`^rgb\\(${tr},${tr},${tr}\\)$`),Oh=new RegExp(`^rgba\\(${Di},${Di},${Di},${Li}\\)$`),Ph=new RegExp(`^rgba\\(${tr},${tr},${tr},${Li}\\)$`),Ru=new RegExp(`^hsl\\(${Li},${tr},${tr}\\)$`),Uh=new RegExp(`^hsla\\(${Li},${tr},${tr},${Li}\\)$`),es={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ti(){return this.rgb().formatHex()}function Ri(){return this.rgb().formatRgb()}function Wn(e){var i,r;return e=(e+"").trim().toLowerCase(),(i=Gh.exec(e))?(r=i[1].length,i=parseInt(i[1],16),6===r?ho(i):3===r?new tn(i>>8&15|i>>4&240,i>>4&15|240&i,(15&i)<<4|15&i,1):8===r?ur(i>>24&255,i>>16&255,i>>8&255,(255&i)/255):4===r?ur(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|240&i,((15&i)<<4|15&i)/255):null):(i=Be.exec(e))?new tn(i[1],i[2],i[3],1):(i=Qe.exec(e))?new tn(255*i[1]/100,255*i[2]/100,255*i[3]/100,1):(i=Oh.exec(e))?ur(i[1],i[2],i[3],i[4]):(i=Ph.exec(e))?ur(255*i[1]/100,255*i[2]/100,255*i[3]/100,i[4]):(i=Ru.exec(e))?si(i[1],i[2]/100,i[3]/100,1):(i=Uh.exec(e))?si(i[1],i[2]/100,i[3]/100,i[4]):es.hasOwnProperty(e)?ho(es[e]):"transparent"===e?new tn(NaN,NaN,NaN,0):null}function ho(e){return new tn(e>>16&255,e>>8&255,255&e,1)}function ur(e,i,r,o){return o<=0&&(e=i=r=NaN),new tn(e,i,r,o)}function Gu(e){return e instanceof ar||(e=Wn(e)),e?new tn((e=e.rgb()).r,e.g,e.b,e.opacity):new tn}function ns(e,i,r,o){return 1===arguments.length?Gu(e):new tn(e,i,r,null==o?1:o)}function tn(e,i,r,o){this.r=+e,this.g=+i,this.b=+r,this.opacity=+o}function Ou(){return`#${C(this.r)}${C(this.g)}${C(this.b)}`}function fo(){const e=Ir(this.opacity);return`${1===e?"rgb(":"rgba("}${Nr(this.r)}, ${Nr(this.g)}, ${Nr(this.b)}${1===e?")":`, ${e})`}`}function Ir(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Nr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function C(e){return((e=Nr(e))<16?"0":"")+e.toString(16)}function si(e,i,r,o){return o<=0?e=i=r=NaN:r<=0||r>=1?e=i=NaN:i<=0&&(e=NaN),new ue(e,i,r,o)}function lo(e){if(e instanceof ue)return new ue(e.h,e.s,e.l,e.opacity);if(e instanceof ar||(e=Wn(e)),!e)return new ue;if(e instanceof ue)return e;var i=(e=e.rgb()).r/255,r=e.g/255,o=e.b/255,a=Math.min(i,r,o),l=Math.max(i,r,o),d=NaN,y=l-a,S=(l+a)/2;return y?(d=i===l?(r-o)/y+6*(r<o):r===l?(o-i)/y+2:(i-r)/y+4,y/=S<.5?l+a:2-l-a,d*=60):y=S>0&&S<1?0:d,new ue(d,y,S,e.opacity)}function ue(e,i,r,o){this.h=+e,this.s=+i,this.l=+r,this.opacity=+o}function Pu(e){return(e=(e||0)%360)<0?e+360:e}function rs(e){return Math.max(0,Math.min(1,e||0))}function da(e,i,r){return 255*(e<60?i+(r-i)*e/60:e<180?r:e<240?i+(r-i)*(240-e)/60:i)}function Dr(e,i,r,o,a){var l=e*e,d=l*e;return((1-3*e+3*l-d)*i+(4-6*l+3*d)*r+(1+3*e+3*l-3*d)*o+d*a)/6}ts(ar,Wn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ti,formatHex:Ti,formatHex8:function la(){return this.rgb().formatHex8()},formatHsl:function zi(){return lo(this).formatHsl()},formatRgb:Ri,toString:Ri}),ts(tn,ns,fa(ar,{brighter(e){return e=null==e?kr:Math.pow(kr,e),new tn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new tn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new tn(Nr(this.r),Nr(this.g),Nr(this.b),Ir(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ou,formatHex:Ou,formatHex8:function Wh(){return`#${C(this.r)}${C(this.g)}${C(this.b)}${C(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:fo,toString:fo})),ts(ue,function Dn(e,i,r,o){return 1===arguments.length?lo(e):new ue(e,i,r,null==o?1:o)},fa(ar,{brighter(e){return e=null==e?kr:Math.pow(kr,e),new ue(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new ue(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),i=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,o=r+(r<.5?r:1-r)*i,a=2*r-o;return new tn(da(e>=240?e-240:e+120,a,o),da(e,a,o),da(e<120?e+240:e-120,a,o),this.opacity)},clamp(){return new ue(Pu(this.h),rs(this.s),rs(this.l),Ir(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ir(this.opacity);return`${1===e?"hsl(":"hsla("}${Pu(this.h)}, ${100*rs(this.s)}%, ${100*rs(this.l)}%${1===e?")":`, ${e})`}`}}));const is=e=>()=>e;function Uu(e,i){return function(r){return e+r*i}}function Gi(e,i){var r=i-e;return r?Uu(e,r):is(isNaN(e)?i:e)}const os=function e(i){var r=function $h(e){return 1==(e=+e)?Gi:function(i,r){return r-i?function Zh(e,i,r){return e=Math.pow(e,r),i=Math.pow(i,r)-e,r=1/r,function(o){return Math.pow(e+o*i,r)}}(i,r,e):is(isNaN(i)?r:i)}}(i);function o(a,l){var d=r((a=ns(a)).r,(l=ns(l)).r),y=r(a.g,l.g),S=r(a.b,l.b),A=Gi(a.opacity,l.opacity);return function(O){return a.r=d(O),a.g=y(O),a.b=S(O),a.opacity=A(O),a+""}}return o.gamma=e,o}(1);function Wu(e){return function(i){var d,y,r=i.length,o=new Array(r),a=new Array(r),l=new Array(r);for(d=0;d<r;++d)y=ns(i[d]),o[d]=y.r||0,a[d]=y.g||0,l[d]=y.b||0;return o=e(o),a=e(a),l=e(l),y.opacity=1,function(S){return y.r=o(S),y.g=a(S),y.b=l(S),y+""}}}Wu(function Bh(e){var i=e.length-1;return function(r){var o=r<=0?r=0:r>=1?(r=1,i-1):Math.floor(r*i),a=e[o],l=e[o+1];return Dr((r-o/i)*i,o>0?e[o-1]:2*a-l,a,l,o<i-1?e[o+2]:2*l-a)}}),Wu(function Fh(e){var i=e.length;return function(r){var o=Math.floor(((r%=1)<0?++r:r)*i);return Dr((r-o/i)*i,e[(o+i-1)%i],e[o%i],e[(o+1)%i],e[(o+2)%i])}});var ga=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pa=new RegExp(ga.source,"g");function Bu(e,i){var o,a,l,r=ga.lastIndex=pa.lastIndex=0,d=-1,y=[],S=[];for(e+="",i+="";(o=ga.exec(e))&&(a=pa.exec(i));)(l=a.index)>r&&(l=i.slice(r,l),y[d]?y[d]+=l:y[++d]=l),(o=o[0])===(a=a[0])?y[d]?y[d]+=a:y[++d]=a:(y[++d]=null,S.push({i:d,x:Un(o,a)})),r=pa.lastIndex;return r<i.length&&(l=i.slice(r),y[d]?y[d]+=l:y[++d]=l),y.length<2?S[0]?function Hh(e){return function(i){return e(i)+""}}(S[0].x):function Yh(e){return function(){return e}}(i):(i=S.length,function(A){for(var H,O=0;O<i;++O)y[(H=S[O]).i]=H.x(A);return y.join("")})}function Tr(e,i){var r;return("number"==typeof i?Un:i instanceof Wn?os:(r=Wn(i))?(i=r,os):Bu)(e,i)}function Xh(e){return function(){this.removeAttribute(e)}}function jh(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Bn(e,i,r){var o,l,a=r+"";return function(){var d=this.getAttribute(e);return d===a?null:d===o?l:l=i(o=d,r)}}function Kh(e,i,r){var o,l,a=r+"";return function(){var d=this.getAttributeNS(e.space,e.local);return d===a?null:d===o?l:l=i(o=d,r)}}function Vh(e,i,r){var o,a,l;return function(){var d,S,y=r(this);return null==y?void this.removeAttribute(e):(d=this.getAttribute(e))===(S=y+"")?null:d===o&&S===a?l:(a=S,l=i(o=d,y))}}function Jh(e,i,r){var o,a,l;return function(){var d,S,y=r(this);return null==y?void this.removeAttributeNS(e.space,e.local):(d=this.getAttributeNS(e.space,e.local))===(S=y+"")?null:d===o&&S===a?l:(a=S,l=i(o=d,y))}}function Qh(e,i){return function(r){this.setAttribute(e,i.call(this,r))}}function Fu(e,i){return function(r){this.setAttributeNS(e.space,e.local,i.call(this,r))}}function Zu(e,i){var r,o;function a(){var l=i.apply(this,arguments);return l!==o&&(r=(o=l)&&Fu(e,l)),r}return a._value=i,a}function tf(e,i){var r,o;function a(){var l=i.apply(this,arguments);return l!==o&&(r=(o=l)&&Qh(e,l)),r}return a._value=i,a}function va(e,i){return function(){Ae(this,e).delay=+i.apply(this,arguments)}}function go(e,i){return i=+i,function(){Ae(this,e).delay=i}}function nf(e,i){return function(){Jn(this,e).duration=+i.apply(this,arguments)}}function $u(e,i){return i=+i,function(){Jn(this,e).duration=i}}function hr(e,i){if("function"!=typeof i)throw new Error;return function(){Jn(this,e).ease=i}}function po(e,i,r){var o,a,l=function Hu(e){return(e+"").trim().split(/^|\s+/).every(function(i){var r=i.indexOf(".");return r>=0&&(i=i.slice(0,r)),!i||"start"===i})}(i)?Ae:Jn;return function(){var d=l(this,e),y=d.on;y!==o&&(a=(o=y).copy()).on(i,r),d.on=a}}var ju=no.prototype.constructor;function wa(e){return function(){this.style.removeProperty(e)}}function Ku(e,i,r){return function(o){this.style.setProperty(e,i.call(this,o),r)}}function cn(e,i,r){var o,a;function l(){var d=i.apply(this,arguments);return d!==a&&(o=(a=d)&&Ku(e,d,r)),o}return l._value=i,l}function _a(e){return function(i){this.textContent=e.call(this,i)}}function ff(e){var i,r;function o(){var a=e.apply(this,arguments);return a!==r&&(i=(r=a)&&_a(a)),i}return o._value=e,o}var df=0;function En(e,i,r,o){this._groups=e,this._parents=i,this._name=r,this._id=o}function Ju(){return++df}var Fn=no.prototype;En.prototype=function gf(e){return no().transition(e)}.prototype={constructor:En,select:function as(e){var i=this._name,r=this._id;"function"!=typeof e&&(e=Lt(e));for(var o=this._groups,a=o.length,l=new Array(a),d=0;d<a;++d)for(var O,H,y=o[d],S=y.length,A=l[d]=new Array(S),Y=0;Y<S;++Y)(O=y[Y])&&(H=e.call(O,O.__data__,Y,y))&&("__data__"in O&&(H.__data__=O.__data__),A[Y]=H,ii(A[Y],i,r,Y,A,Nn(O,r)));return new En(l,this._parents,i,r)},selectAll:function af(e){var i=this._name,r=this._id;"function"!=typeof e&&(e=Ce(e));for(var o=this._groups,a=o.length,l=[],d=[],y=0;y<a;++y)for(var O,S=o[y],A=S.length,H=0;H<A;++H)if(O=S[H]){for(var K,Y=e.call(O,O.__data__,H,S),lt=Nn(O,r),ut=0,V=Y.length;ut<V;++ut)(K=Y[ut])&&ii(K,i,r,ut,Y,lt);l.push(Y),d.push(O)}return new En(l,d,i,r)},selectChild:Fn.selectChild,selectChildren:Fn.selectChildren,filter:function of(e){"function"!=typeof e&&(e=qe(e));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var S,l=i[a],d=l.length,y=o[a]=[],A=0;A<d;++A)(S=l[A])&&e.call(S,S.__data__,A,l)&&y.push(S);return new En(o,this._parents,this._name,this._id)},merge:function Yu(e){if(e._id!==this._id)throw new Error;for(var i=this._groups,r=e._groups,o=i.length,l=Math.min(o,r.length),d=new Array(o),y=0;y<l;++y)for(var Y,S=i[y],A=r[y],O=S.length,H=d[y]=new Array(O),K=0;K<O;++K)(Y=S[K]||A[K])&&(H[K]=Y);for(;y<o;++y)d[y]=i[y];return new En(d,this._parents,this._name,this._id)},selection:function Ke(){return new ju(this._groups,this._parents)},transition:function Vu(){for(var e=this._name,i=this._id,r=Ju(),o=this._groups,a=o.length,l=0;l<a;++l)for(var S,d=o[l],y=d.length,A=0;A<y;++A)if(S=d[A]){var O=Nn(S,i);ii(S,e,r,A,d,{time:O.time+O.delay+O.duration,delay:0,duration:O.duration,ease:O.ease})}return new En(o,this._parents,e,r)},call:Fn.call,nodes:Fn.nodes,node:Fn.node,size:Fn.size,empty:Fn.empty,each:Fn.each,on:function zr(e,i){var r=this._id;return arguments.length<2?Nn(this.node(),r).on.on(e):this.each(po(r,e,i))},attr:function qh(e,i){var r=Wo(e),o="transform"===r?zu:Tr;return this.attrTween(e,"function"==typeof i?(r.local?Jh:Vh)(r,o,ha(this,"attr."+e,i)):null==i?(r.local?jh:Xh)(r):(r.local?Kh:Bn)(r,o,i))},attrTween:function ef(e,i){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==i)return this.tween(r,null);if("function"!=typeof i)throw new Error;var o=Wo(e);return this.tween(r,(o.local?Zu:tf)(o,i))},style:function ui(e,i,r){var o="transform"==(e+="")?qo:Tr;return null==i?this.styleTween(e,function ma(e,i){var r,o,a;return function(){var l=Ci(this,e),d=(this.style.removeProperty(e),Ci(this,e));return l===d?null:l===r&&d===o?a:a=i(r=l,o=d)}}(e,o)).on("end.style."+e,wa(e)):"function"==typeof i?this.styleTween(e,function xa(e,i,r){var o,a,l;return function(){var d=Ci(this,e),y=r(this),S=y+"";return null==y&&(this.style.removeProperty(e),S=y=Ci(this,e)),d===S?null:d===o&&S===a?l:(a=S,l=i(o=d,y))}}(e,o,ha(this,"style."+e,i))).each(function us(e,i){var r,o,a,y,l="style."+i,d="end."+l;return function(){var S=Jn(this,e),A=S.on,O=null==S.value[l]?y||(y=wa(i)):void 0;(A!==r||a!==O)&&(o=(r=A).copy()).on(d,a=O),S.on=o}}(this._id,e)):this.styleTween(e,function er(e,i,r){var o,l,a=r+"";return function(){var d=Ci(this,e);return d===a?null:d===o?l:l=i(o=d,r)}}(e,o,i),r).on("end.style."+e,null)},styleTween:function ba(e,i,r){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==i)return this.tween(o,null);if("function"!=typeof i)throw new Error;return this.tween(o,cn(e,i,null==r?"":r))},text:function hf(e){return this.tween("text","function"==typeof e?function cf(e){return function(){var i=e(this);this.textContent=null==i?"":i}}(ha(this,"text",e)):function uf(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function vo(e){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,ff(e))},remove:function sf(){return this.on("end.remove",function Xu(e){return function(){var i=this.parentNode;for(var r in this.__transition)if(+r!==e)return;i&&i.removeChild(this)}}(this._id))},tween:function Qo(e,i){var r=this._id;if(e+="",arguments.length<2){for(var d,o=Nn(this.node(),r).tween,a=0,l=o.length;a<l;++a)if((d=o[a]).name===e)return d.value;return null}return this.each((null==i?co:oi)(r,e,i))},delay:function ss(e){var i=this._id;return arguments.length?this.each(("function"==typeof e?va:go)(i,e)):Nn(this.node(),i).delay},duration:function rf(e){var i=this._id;return arguments.length?this.each(("function"==typeof e?nf:$u)(i,e)):Nn(this.node(),i).duration},ease:function ya(e){var i=this._id;return arguments.length?this.each(hr(i,e)):Nn(this.node(),i).ease},easeVarying:function Ln(e){if("function"!=typeof e)throw new Error;return this.each(function ai(e,i){return function(){var r=i.apply(this,arguments);if("function"!=typeof r)throw new Error;Jn(this,e).ease=r}}(this._id,e))},end:function lf(){var e,i,r=this,o=r._id,a=r.size();return new Promise(function(l,d){var y={value:d},S={value:function(){0==--a&&l()}};r.each(function(){var A=Jn(this,o),O=A.on;O!==e&&((i=(e=O).copy())._.cancel.push(y),i._.interrupt.push(y),i._.end.push(S)),A.on=i}),0===a&&l()})},[Symbol.iterator]:Fn[Symbol.iterator]};var yf={time:null,delay:0,duration:250,ease:function vf(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function qu(e,i){for(var r;!(r=e.__transition)||!(r=r[i]);)if(!(e=e.parentNode))throw new Error(`transition ${i} not found`);return r}no.prototype.interrupt=function Rh(e){return this.each(function(){Vo(this,e)})},no.prototype.transition=function Aa(e){var i,r;e instanceof En?(i=e._id,e=e._name):(i=Ju(),(r=yf).time=ua(),e=null==e?null:e+"");for(var o=this._groups,a=o.length,l=0;l<a;++l)for(var S,d=o[l],y=d.length,A=0;A<y;++A)(S=d[A])&&ii(S,e,i,A,d,r||qu(S,i));return new En(o,this._parents,e,i)};Math;function he(e){return{type:e}}function Ze(e){return"string"==typeof e?new yn([[document.querySelector(e)]],[document.documentElement]):new yn([[e]],Mi)}function ze(e,i){if(e=function tc(e){let i;for(;i=e.sourceEvent;)e=i;return e}(e),void 0===i&&(i=e.currentTarget),i){var r=i.ownerSVGElement||i;if(r.createSVGPoint){var o=r.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,[(o=o.matrixTransform(i.getScreenCTM().inverse())).x,o.y]}if(i.getBoundingClientRect){var a=i.getBoundingClientRect();return[e.clientX-a.left-i.clientLeft,e.clientY-a.top-i.clientTop]}}return[e.pageX,e.pageY]}["w","e"].map(he),["n","s"].map(he),["n","w","e","s","nw","ne","sw","se"].map(he);const Rr={passive:!1},fi={capture:!0,passive:!1};function ds(e){e.stopImmediatePropagation()}function fr(e){e.preventDefault(),e.stopImmediatePropagation()}function Ia(e){var i=e.document.documentElement,r=Ze(e).on("dragstart.drag",fr,fi);"onselectstart"in i?r.on("selectstart.drag",fr,fi):(i.__noselect=i.style.MozUserSelect,i.style.MozUserSelect="none")}function gs(e,i){var r=e.document.documentElement,o=Ze(e).on("dragstart.drag",null);i&&(o.on("click.drag",fr,fi),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in r?o.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const bo=e=>()=>e;function _o(e,{sourceEvent:i,subject:r,target:o,identifier:a,active:l,x:d,y,dx:S,dy:A,dispatch:O}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:d,enumerable:!0,configurable:!0},y:{value:y,enumerable:!0,configurable:!0},dx:{value:S,enumerable:!0,configurable:!0},dy:{value:A,enumerable:!0,configurable:!0},_:{value:O}})}function Na(e){return!e.ctrlKey&&!e.button}function Gr(){return this.parentNode}function Af(e,i){return null==i?{x:e.x,y:e.y}:i}function Or(){return navigator.maxTouchPoints||"ontouchstart"in this}function rc(e,i,r,o){if(isNaN(i)||isNaN(r))return e;var a,H,Y,K,lt,ut,V,q,vt,l=e._root,d={data:o},y=e._x0,S=e._y0,A=e._x1,O=e._y1;if(!l)return e._root=d,e;for(;l.length;)if((ut=i>=(H=(y+A)/2))?y=H:A=H,(V=r>=(Y=(S+O)/2))?S=Y:O=Y,a=l,!(l=l[q=V<<1|ut]))return a[q]=d,e;if(K=+e._x.call(null,l.data),lt=+e._y.call(null,l.data),i===K&&r===lt)return d.next=l,a?a[q]=d:e._root=d,e;do{a=a?a[q]=new Array(4):e._root=new Array(4),(ut=i>=(H=(y+A)/2))?y=H:A=H,(V=r>=(Y=(S+O)/2))?S=Y:O=Y}while((q=V<<1|ut)==(vt=(lt>=Y)<<1|K>=H));return a[vt]=l,a[q]=d,e}function hn(e,i,r,o,a){this.node=e,this.x0=i,this.y0=r,this.x1=o,this.y1=a}function Oi(e){return e[0]}function cc(e){return e[1]}function vs(e,i,r){var o=new Pr(null==i?Oi:i,null==r?cc:r,NaN,NaN,NaN,NaN);return null==e?o:o.addAll(e)}function Pr(e,i,r,o,a,l){this._x=e,this._y=i,this._x0=r,this._y0=o,this._x1=a,this._y1=l,this._root=void 0}function Pi(e){for(var i={data:e.data},r=i;e=e.next;)r=r.next={data:e.data};return i}_o.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var fn=vs.prototype=Pr.prototype;function Ur(e){return function(){return e}}function lr(e){return 1e-6*(e()-.5)}function ys(e){return e.x+e.vx}function hc(e){return e.y+e.vy}function La(e){return e.index}function Ao(e,i){var r=e.get(i);if(!r)throw new Error("node not found: "+i);return r}fn.copy=function(){var r,o,e=new Pr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return e;if(!i.length)return e._root=Pi(i),e;for(r=[{source:i,target:e._root=new Array(4)}];i=r.pop();)for(var a=0;a<4;++a)(o=i.source[a])&&(o.length?r.push({source:o,target:i.target[a]=new Array(4)}):i.target[a]=Pi(o));return e},fn.add=function Da(e){const i=+this._x.call(null,e),r=+this._y.call(null,e);return rc(this.cover(i,r),i,r,e)},fn.addAll=function Ef(e){var i,r,a,l,o=e.length,d=new Array(o),y=new Array(o),S=1/0,A=1/0,O=-1/0,H=-1/0;for(r=0;r<o;++r)isNaN(a=+this._x.call(null,i=e[r]))||isNaN(l=+this._y.call(null,i))||(d[r]=a,y[r]=l,a<S&&(S=a),a>O&&(O=a),l<A&&(A=l),l>H&&(H=l));if(S>O||A>H)return this;for(this.cover(S,A).cover(O,H),r=0;r<o;++r)rc(this,d[r],y[r],e[r]);return this},fn.cover=function Cf(e,i){if(isNaN(e=+e)||isNaN(i=+i))return this;var r=this._x0,o=this._y0,a=this._x1,l=this._y1;if(isNaN(r))a=(r=Math.floor(e))+1,l=(o=Math.floor(i))+1;else{for(var S,A,d=a-r||1,y=this._root;r>e||e>=a||o>i||i>=l;)switch(A=(i<o)<<1|e<r,S=new Array(4),S[A]=y,y=S,d*=2,A){case 0:a=r+d,l=o+d;break;case 1:r=a-d,l=o+d;break;case 2:a=r+d,o=l-d;break;case 3:r=a-d,o=l-d}this._root&&this._root.length&&(this._root=y)}return this._x0=r,this._y0=o,this._x1=a,this._y1=l,this},fn.data=function ic(){var e=[];return this.visit(function(i){if(!i.length)do{e.push(i.data)}while(i=i.next)}),e},fn.extent=function oc(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},fn.find=function sc(e,i,r){var o,d,y,S,A,lt,ut,a=this._x0,l=this._y0,O=this._x1,H=this._y1,Y=[],K=this._root;for(K&&Y.push(new hn(K,a,l,O,H)),null==r?r=1/0:(a=e-r,l=i-r,O=e+r,H=i+r,r*=r);lt=Y.pop();)if(!(!(K=lt.node)||(d=lt.x0)>O||(y=lt.y0)>H||(S=lt.x1)<a||(A=lt.y1)<l))if(K.length){var V=(d+S)/2,q=(y+A)/2;Y.push(new hn(K[3],V,q,S,A),new hn(K[2],d,q,V,A),new hn(K[1],V,y,S,q),new hn(K[0],d,y,V,q)),(ut=(i>=q)<<1|e>=V)&&(lt=Y[Y.length-1],Y[Y.length-1]=Y[Y.length-1-ut],Y[Y.length-1-ut]=lt)}else{var vt=e-+this._x.call(null,K.data),bt=i-+this._y.call(null,K.data),it=vt*vt+bt*bt;if(it<r){var Ct=Math.sqrt(r=it);a=e-Ct,l=i-Ct,O=e+Ct,H=i+Ct,o=K.data}}return o},fn.remove=function ac(e){if(isNaN(O=+this._x.call(null,e))||isNaN(H=+this._y.call(null,e)))return this;var i,o,a,l,O,H,Y,K,lt,ut,V,q,r=this._root,d=this._x0,y=this._y0,S=this._x1,A=this._y1;if(!r)return this;if(r.length)for(;;){if((lt=O>=(Y=(d+S)/2))?d=Y:S=Y,(ut=H>=(K=(y+A)/2))?y=K:A=K,i=r,!(r=r[V=ut<<1|lt]))return this;if(!r.length)break;(i[V+1&3]||i[V+2&3]||i[V+3&3])&&(o=i,q=V)}for(;r.data!==e;)if(a=r,!(r=r.next))return this;return(l=r.next)&&delete r.next,a?(l?a.next=l:delete a.next,this):i?(l?i[V]=l:delete i[V],(r=i[0]||i[1]||i[2]||i[3])&&r===(i[3]||i[2]||i[1]||i[0])&&!r.length&&(o?o[q]=r:this._root=r),this):(this._root=l,this)},fn.removeAll=function wn(e){for(var i=0,r=e.length;i<r;++i)this.remove(e[i]);return this},fn.root=function nr(){return this._root},fn.size=function Sf(){var e=0;return this.visit(function(i){if(!i.length)do{++e}while(i=i.next)}),e},fn.visit=function Mf(e){var r,a,l,d,y,S,i=[],o=this._root;for(o&&i.push(new hn(o,this._x0,this._y0,this._x1,this._y1));r=i.pop();)if(!e(o=r.node,l=r.x0,d=r.y0,y=r.x1,S=r.y1)&&o.length){var A=(l+y)/2,O=(d+S)/2;(a=o[3])&&i.push(new hn(a,A,O,y,S)),(a=o[2])&&i.push(new hn(a,l,O,A,S)),(a=o[1])&&i.push(new hn(a,A,d,y,O)),(a=o[0])&&i.push(new hn(a,l,d,A,O))}return this},fn.visitAfter=function ps(e){var o,i=[],r=[];for(this._root&&i.push(new hn(this._root,this._x0,this._y0,this._x1,this._y1));o=i.pop();){var a=o.node;if(a.length){var l,d=o.x0,y=o.y0,S=o.x1,A=o.y1,O=(d+S)/2,H=(y+A)/2;(l=a[0])&&i.push(new hn(l,d,y,O,H)),(l=a[1])&&i.push(new hn(l,O,y,S,H)),(l=a[2])&&i.push(new hn(l,d,H,O,A)),(l=a[3])&&i.push(new hn(l,O,H,S,A))}r.push(o)}for(;o=r.pop();)e(o.node,o.x0,o.y0,o.x1,o.y1);return this},fn.x=function uc(e){return arguments.length?(this._x=e,this):this._x},fn.y=function kf(e){return arguments.length?(this._y=e,this):this._y};const Ta=4294967296;function Nf(e){return e.x}function lc(e){return e.y}var dc=Math.PI*(3-Math.sqrt(5));function xs(e,i){if((r=(e=i?e.toExponential(i-1):e.toExponential()).indexOf("e"))<0)return null;var r,o=e.slice(0,r);return[o.length>1?o[0]+o.slice(2):o,+e.slice(r+1)]}function Ui(e){return(e=xs(Math.abs(e)))?e[1]:NaN}var ne,Ga=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wi(e){if(!(i=Ga.exec(e)))throw new Error("invalid format: "+e);var i;return new Bi({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10]})}function Bi(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function _s(e,i){var r=xs(e,i);if(!r)return e+"";var o=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+o:o.length>a+1?o.slice(0,a+1)+"."+o.slice(a+1):o+new Array(a-o.length+2).join("0")}Wi.prototype=Bi.prototype,Bi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Wr={"%":(e,i)=>(100*e).toFixed(i),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function pc(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,i)=>e.toExponential(i),f:(e,i)=>e.toFixed(i),g:(e,i)=>e.toPrecision(i),o:e=>Math.round(e).toString(8),p:(e,i)=>_s(100*e,i),r:_s,s:function bs(e,i){var r=xs(e,i);if(!r)return e+"";var o=r[0],a=r[1],l=a-(ne=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,d=o.length;return l===d?o:l>d?o+new Array(l-d+1).join("0"):l>0?o.slice(0,l)+"."+o.slice(l):"0."+new Array(1-l).join("0")+xs(e,Math.max(0,i+l-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function vc(e){return e}var Es,Cs,Pa,As=Array.prototype.map,Oa=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function yc(e,i){var d,r=i?i.length:0,o=e?Math.min(r,e.length):0,a=new Array(o),l=new Array(r);for(d=0;d<o;++d)a[d]=Br(e[d],i[d]);for(;d<r;++d)l[d]=i[d];return function(y){for(d=0;d<o;++d)l[d]=a[d](y);return l}}function zf(e,i){var r=new Date;return e=+e,i=+i,function(o){return r.setTime(e*(1-o)+i*o),r}}function Rf(e,i){var a,r={},o={};for(a in(null===e||"object"!=typeof e)&&(e={}),(null===i||"object"!=typeof i)&&(i={}),i)a in e?r[a]=Br(e[a],i[a]):o[a]=i[a];return function(l){for(a in r)o[a]=r[a](l);return o}}function pr(e,i){i||(i=[]);var a,r=e?Math.min(i.length,e.length):0,o=i.slice();return function(l){for(a=0;a<r;++a)o[a]=e[a]*(1-l)+i[a]*l;return o}}function Br(e,i){var o,r=typeof i;return null==i||"boolean"===r?is(i):("number"===r?Un:"string"===r?(o=Wn(i))?(i=o,os):Bu:i instanceof Wn?os:i instanceof Date?zf:function ln(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(i)?pr:Array.isArray(i)?yc:"function"!=typeof i.valueOf&&"function"!=typeof i.toString||isNaN(i)?Rf:Un)(e,i)}function Ua(e,i){return e=+e,i=+i,function(r){return Math.round(e*(1-r)+i*r)}}function Ss(e,i){for(var r=new Array(i),o=0;o<i;++o)r[o]=e(o/(i-1));return r}function Wa(e,i){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(i).domain(e)}return this}function Gf(e,i){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof i?this.interpolator(i):this.range(i)}return this}!function Lf(e){Es=function nn(e){var i=void 0===e.grouping||void 0===e.thousands?vc:function gr(e,i){return function(r,o){for(var a=r.length,l=[],d=0,y=e[0],S=0;a>0&&y>0&&(S+y+1>o&&(y=Math.max(1,o-S)),l.push(r.substring(a-=y,a+y)),!((S+=y+1)>o));)y=e[d=(d+1)%e.length];return l.reverse().join(i)}}(As.call(e.grouping,Number),e.thousands+""),r=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",l=void 0===e.numerals?vc:function Ra(e){return function(i){return i.replace(/[0-9]/g,function(r){return e[+r]})}}(As.call(e.numerals,String)),d=void 0===e.percent?"%":e.percent+"",y=void 0===e.minus?"\u2212":e.minus+"",S=void 0===e.nan?"NaN":e.nan+"";function A(H){var Y=(H=Wi(H)).fill,K=H.align,lt=H.sign,ut=H.symbol,V=H.zero,q=H.width,vt=H.comma,bt=H.precision,it=H.trim,Ct=H.type;"n"===Ct?(vt=!0,Ct="g"):Wr[Ct]||(void 0===bt&&(bt=12),it=!0,Ct="g"),(V||"0"===Y&&"="===K)&&(V=!0,Y="0",K="=");var Ut="$"===ut?r:"#"===ut&&/[boxX]/.test(Ct)?"0"+Ct.toLowerCase():"",$t="$"===ut?o:/[%p]/.test(Ct)?d:"",Ft=Wr[Ct],ce=/[defgprs%]/.test(Ct);function Xt(Rt){var st,Wt,mt,le=Ut,Yt=$t;if("c"===Ct)Yt=Ft(Rt)+Yt,Rt="";else{var Gt=(Rt=+Rt)<0||1/Rt<0;if(Rt=isNaN(Rt)?S:Ft(Math.abs(Rt),bt),it&&(Rt=function Fi(e){t:for(var a,i=e.length,r=1,o=-1;r<i;++r)switch(e[r]){case".":o=a=r;break;case"0":0===o&&(o=r),a=r;break;default:if(!+e[r])break t;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(a+1):e}(Rt)),Gt&&0==+Rt&&"+"!==lt&&(Gt=!1),le=(Gt?"("===lt?lt:y:"-"===lt||"("===lt?"":lt)+le,Yt=("s"===Ct?Oa[8+ne/3]:"")+Yt+(Gt&&"("===lt?")":""),ce)for(st=-1,Wt=Rt.length;++st<Wt;)if(48>(mt=Rt.charCodeAt(st))||mt>57){Yt=(46===mt?a+Rt.slice(st+1):Rt.slice(st))+Yt,Rt=Rt.slice(0,st);break}}vt&&!V&&(Rt=i(Rt,1/0));var Vt=le.length+Rt.length+Yt.length,Zt=Vt<q?new Array(q-Vt+1).join(Y):"";switch(vt&&V&&(Rt=i(Zt+Rt,Zt.length?q-Yt.length:1/0),Zt=""),K){case"<":Rt=le+Rt+Yt+Zt;break;case"=":Rt=le+Zt+Rt+Yt;break;case"^":Rt=Zt.slice(0,Vt=Zt.length>>1)+le+Rt+Yt+Zt.slice(Vt);break;default:Rt=Zt+le+Rt+Yt}return l(Rt)}return bt=void 0===bt?6:/[gprs]/.test(Ct)?Math.max(1,Math.min(21,bt)):Math.max(0,Math.min(20,bt)),Xt.toString=function(){return H+""},Xt}return{format:A,formatPrefix:function O(H,Y){var K=A(((H=Wi(H)).type="f",H)),lt=3*Math.max(-8,Math.min(8,Math.floor(Ui(Y)/3))),ut=Math.pow(10,-lt),V=Oa[8+lt/3];return function(q){return K(ut*q)+V}}}}(e),Cs=Es.format,Pa=Es.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});const Zi=Symbol("implicit");function Ms(){var e=new Ji,i=[],r=[],o=Zi;function a(l){let d=e.get(l);if(void 0===d){if(o!==Zi)return o;e.set(l,d=i.push(l)-1)}return r[d%r.length]}return a.domain=function(l){if(!arguments.length)return i.slice();i=[],e=new Ji;for(const d of l)e.has(d)||e.set(d,i.push(d)-1);return a},a.range=function(l){return arguments.length?(r=Array.from(l),a):r.slice()},a.unknown=function(l){return arguments.length?(o=l,a):o},a.copy=function(){return Ms(i,r).unknown(o)},Wa.apply(a,arguments),a}function $i(){var l,d,e=Ms().unknown(void 0),i=e.domain,r=e.range,o=0,a=1,y=!1,S=0,A=0,O=.5;function H(){var Y=i().length,K=a<o,lt=K?a:o,ut=K?o:a;l=(ut-lt)/Math.max(1,Y-S+2*A),y&&(l=Math.floor(l)),lt+=(ut-lt-l*(Y-S))*O,d=l*(1-S),y&&(lt=Math.round(lt),d=Math.round(d));var V=Ar(Y).map(function(q){return lt+l*q});return r(K?V.reverse():V)}return delete e.unknown,e.domain=function(Y){return arguments.length?(i(Y),H()):i()},e.range=function(Y){return arguments.length?([o,a]=Y,o=+o,a=+a,H()):[o,a]},e.rangeRound=function(Y){return[o,a]=Y,o=+o,a=+a,y=!0,H()},e.bandwidth=function(){return d},e.step=function(){return l},e.round=function(Y){return arguments.length?(y=!!Y,H()):y},e.padding=function(Y){return arguments.length?(S=Math.min(1,A=+Y),H()):S},e.paddingInner=function(Y){return arguments.length?(S=Math.min(1,Y),H()):S},e.paddingOuter=function(Y){return arguments.length?(A=+Y,H()):A},e.align=function(Y){return arguments.length?(O=Math.max(0,Math.min(1,Y)),H()):O},e.copy=function(){return $i(i(),[o,a]).round(y).paddingInner(S).paddingOuter(A).align(O)},Wa.apply(H(),arguments)}const Of=Math.sqrt(50),Pf=Math.sqrt(10),wc=Math.sqrt(2);function Eo(e,i,r){const o=(i-e)/Math.max(0,r),a=Math.floor(Math.log10(o)),l=o/Math.pow(10,a),d=l>=Of?10:l>=Pf?5:l>=wc?2:1;let y,S,A;return a<0?(A=Math.pow(10,-a)/d,y=Math.round(e*A),S=Math.round(i*A),y/A<e&&++y,S/A>i&&--S,A=-A):(A=Math.pow(10,a)*d,y=Math.round(e/A),S=Math.round(i/A),y*A<e&&++y,S*A>i&&--S),S<y&&.5<=r&&r<2?Eo(e,i,2*r):[y,S,A]}function Co(e,i,r){return Eo(e=+e,i=+i,r=+r)[2]}function So(e,i){return null==e||null==i?NaN:i<e?-1:i>e?1:i>=e?0:NaN}function ks(e){let i,r,o;function a(y,S,A=0,O=y.length){if(A<O){if(0!==i(S,S))return O;do{const H=A+O>>>1;r(y[H],S)<0?A=H+1:O=H}while(A<O)}return A}return 2!==e.length?(i=Sn,r=(y,S)=>Sn(e(y),S),o=(y,S)=>e(y)-S):(i=e===Sn||e===So?e:bc,r=e,o=e),{left:a,center:function d(y,S,A=0,O=y.length){const H=a(y,S,A,O-1);return H>A&&o(y[H-1],S)>-o(y[H],S)?H-1:H},right:function l(y,S,A=0,O=y.length){if(A<O){if(0!==i(S,S))return O;do{const H=A+O>>>1;r(y[H],S)<=0?A=H+1:O=H}while(A<O)}return A}}}function bc(){return 0}const Is=ks(Sn).right,li=(ks(function Hs(e){return null===e?NaN:+e}),Is);function _c(e){return+e}var Ac=[0,1];function Fr(e){return e}function Fa(e,i){return(i-=e=+e)?function(r){return(r-e)/i}:function Bf(e){return function(){return e}}(isNaN(i)?NaN:.5)}function Zf(e,i,r){var o=e[0],a=e[1],l=i[0],d=i[1];return a<o?(o=Fa(a,o),l=r(d,l)):(o=Fa(o,a),l=r(l,d)),function(y){return l(o(y))}}function $f(e,i,r){var o=Math.min(e.length,i.length)-1,a=new Array(o),l=new Array(o),d=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),i=i.slice().reverse());++d<o;)a[d]=Fa(e[d],e[d+1]),l[d]=r(i[d],i[d+1]);return function(y){var S=li(e,y,1,o)-1;return l[S](a[S](y))}}function Yf(e,i){return i.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Xf(){return function Hf(){var o,a,l,y,S,A,e=Ac,i=Ac,r=Br,d=Fr;function O(){var Y=Math.min(e.length,i.length);return d!==Fr&&(d=function Ff(e,i){var r;return e>i&&(r=e,e=i,i=r),function(o){return Math.max(e,Math.min(i,o))}}(e[0],e[Y-1])),y=Y>2?$f:Zf,S=A=null,H}function H(Y){return null==Y||isNaN(Y=+Y)?l:(S||(S=y(e.map(o),i,r)))(o(d(Y)))}return H.invert=function(Y){return d(a((A||(A=y(i,e.map(o),Un)))(Y)))},H.domain=function(Y){return arguments.length?(e=Array.from(Y,_c),O()):e.slice()},H.range=function(Y){return arguments.length?(i=Array.from(Y),O()):i.slice()},H.rangeRound=function(Y){return i=Array.from(Y),r=Ua,O()},H.clamp=function(Y){return arguments.length?(d=!!Y||Fr,O()):d!==Fr},H.interpolate=function(Y){return arguments.length?(r=Y,O()):r},H.unknown=function(Y){return arguments.length?(l=Y,H):l},function(Y,K){return o=Y,a=K,O()}}()(Fr,Fr)}function Za(e){var i=e.domain;return e.ticks=function(r){var o=i();return function Uf(e,i,r){if(!((r=+r)>0))return[];if((e=+e)==(i=+i))return[e];const o=i<e,[a,l,d]=o?Eo(i,e,r):Eo(e,i,r);if(!(l>=a))return[];const y=l-a+1,S=new Array(y);if(o)if(d<0)for(let A=0;A<y;++A)S[A]=(l-A)/-d;else for(let A=0;A<y;++A)S[A]=(l-A)*d;else if(d<0)for(let A=0;A<y;++A)S[A]=(a+A)/-d;else for(let A=0;A<y;++A)S[A]=(a+A)*d;return S}(o[0],o[o.length-1],null==r?10:r)},e.tickFormat=function(r,o){var a=i();return function Cc(e,i,r,o){var l,a=function xc(e,i,r){r=+r;const o=(i=+i)<(e=+e),a=o?Co(i,e,r):Co(e,i,r);return(o?-1:1)*(a<0?1/-a:a)}(e,i,r);switch((o=Wi(null==o?",f":o)).type){case"s":var d=Math.max(Math.abs(e),Math.abs(i));return null==o.precision&&!isNaN(l=function jf(e,i){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ui(i)/3)))-Ui(Math.abs(e)))}(a,d))&&(o.precision=l),Pa(o,d);case"":case"e":case"g":case"p":case"r":null==o.precision&&!isNaN(l=function Kf(e,i){return e=Math.abs(e),i=Math.abs(i)-e,Math.max(0,Ui(i)-Ui(e))+1}(a,Math.max(Math.abs(e),Math.abs(i))))&&(o.precision=l-("e"===o.type));break;case"f":case"%":null==o.precision&&!isNaN(l=function Ec(e){return Math.max(0,-Ui(Math.abs(e)))}(a))&&(o.precision=l-2*("%"===o.type))}return Cs(o)}(a[0],a[a.length-1],null==r?10:r,o)},e.nice=function(r){null==r&&(r=10);var S,A,o=i(),a=0,l=o.length-1,d=o[a],y=o[l],O=10;for(y<d&&(A=d,d=y,y=A,A=a,a=l,l=A);O-- >0;){if((A=Co(d,y,r))===S)return o[a]=d,o[l]=y,i(o);if(A>0)d=Math.floor(d/A)*A,y=Math.ceil(y/A)*A;else{if(!(A<0))break;d=Math.ceil(d*A)/A,y=Math.floor(y*A)/A}S=A}return e},e}function Yi(){var e=Xf();return e.copy=function(){return Yf(e,Yi())},Wa.apply(e,arguments),Za(e)}function Ns(){var r,o,a,l,S,e=0,i=1,d=Fr,y=!1;function A(H){return null==H||isNaN(H=+H)?S:d(0===a?.5:(H=(l(H)-r)*a,y?Math.max(0,Math.min(1,H)):H))}function O(H){return function(Y){var K,lt;return arguments.length?([K,lt]=Y,d=H(K,lt),A):[d(0),d(1)]}}return A.domain=function(H){return arguments.length?([e,i]=H,r=l(e=+e),o=l(i=+i),a=r===o?0:1/(o-r),A):[e,i]},A.clamp=function(H){return arguments.length?(y=!!H,A):y},A.interpolator=function(H){return arguments.length?(d=H,A):d},A.range=O(Br),A.rangeRound=O(Ua),A.unknown=function(H){return arguments.length?(S=H,A):S},function(H){return l=H,r=H(e),o=H(i),a=r===o?0:1/(o-r),A}}function Ds(e,i){return i.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $a(){var e=Za(Ns()(Fr));return e.copy=function(){return Ds(e,$a())},Gf.apply(e,arguments)}const Qf=function qf(e){for(var i=e.length/6|0,r=new Array(i),o=0;o<i;)r[o]="#"+e.slice(6*o,6*++o);return r}("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Tn=Math.PI/180,tl=180/Math.PI;var Ya=1.78277,Ls=-.29227,Ts=-.90649,Mo=1.97294,kc=Mo*Ts,Ic=Mo*Ya,zs=Ya*Ls- -.14861*Ts;function el(e){if(e instanceof di)return new di(e.h,e.s,e.l,e.opacity);e instanceof tn||(e=Gu(e));var r=e.g/255,o=e.b/255,a=(zs*o+kc*(e.r/255)-Ic*r)/(zs+kc-Ic),l=o-a,d=(Mo*(r-a)-Ls*l)/Ts,y=Math.sqrt(d*d+l*l)/(Mo*a*(1-a)),S=y?Math.atan2(d,l)*tl-120:NaN;return new di(S<0?S+360:S,y,a,e.opacity)}function Zr(e,i,r,o){return 1===arguments.length?el(e):new di(e,i,r,null==o?1:o)}function di(e,i,r,o){this.h=+e,this.s=+i,this.l=+r,this.opacity=+o}function Nc(e){return function i(r){function o(a,l){var d=e((a=Zr(a)).h,(l=Zr(l)).h),y=Gi(a.s,l.s),S=Gi(a.l,l.l),A=Gi(a.opacity,l.opacity);return function(O){return a.h=d(O),a.s=y(O),a.l=S(Math.pow(O,r)),a.opacity=A(O),a+""}}return r=+r,o.gamma=i,o}(1)}ts(di,Zr,fa(ar,{brighter(e){return e=null==e?kr:Math.pow(kr,e),new di(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new di(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Tn,i=+this.l,r=isNaN(this.s)?0:this.s*i*(1-i),o=Math.cos(e),a=Math.sin(e);return new tn(255*(i+r*(-.14861*o+Ya*a)),255*(i+r*(Ls*o+Ts*a)),255*(i+r*(Mo*o)),this.opacity)}})),Nc(function cr(e,i){var r=i-e;return r?Uu(e,r>180||r<-180?r-360*Math.round(r/360):r):is(isNaN(e)?i:e)});var Dc=Nc(Gi),nl=(Dc(Zr(-100,.75,.35),Zr(80,1.5,.8)),Dc(Zr(260,.75,.35),Zr(80,1.5,.8)));function Lc(e){return Ze(eo(e).call(document.documentElement))}function Tc(e){return((e=Math.exp(e))+1/e)/2}Zr();const sl=function e(i,r,o){function a(l,d){var V,q,y=l[0],S=l[1],A=l[2],Y=d[2],K=d[0]-y,lt=d[1]-S,ut=K*K+lt*lt;if(ut<1e-12)q=Math.log(Y/A)/i,V=function($t){return[y+$t*K,S+$t*lt,A*Math.exp(i*$t*q)]};else{var vt=Math.sqrt(ut),bt=(Y*Y-A*A+o*ut)/(2*A*r*vt),it=(Y*Y-A*A-o*ut)/(2*Y*r*vt),Ct=Math.log(Math.sqrt(bt*bt+1)-bt),Ut=Math.log(Math.sqrt(it*it+1)-it);q=(Ut-Ct)/i,V=function($t){var Ft=$t*q,ce=Tc(Ct),Xt=A/(r*vt)*(ce*function ol(e){return((e=Math.exp(2*e))-1)/(e+1)}(i*Ft+Ct)-function il(e){return((e=Math.exp(e))-1/e)/2}(Ct));return[y+Xt*K,S+Xt*lt,A*ce/Tc(i*Ft+Ct)]}}return V.duration=1e3*q*i/Math.SQRT2,V}return a.rho=function(l){var d=Math.max(.001,+l),y=d*d;return e(d,y,y*y)},a}(Math.SQRT2,2,4),Gs=e=>()=>e;function al(e,{sourceEvent:i,target:r,transform:o,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:a}})}function yr(e,i,r){this.k=e,this.x=i,this.y=r}yr.prototype={constructor:yr,scale:function(e){return 1===e?this:new yr(this.k*e,this.x,this.y)},translate:function(e,i){return 0===e&0===i?this:new yr(this.k,this.x+this.k*e,this.y+this.k*i)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ha=new yr(1,0,0);function Os(e){e.stopImmediatePropagation()}function ko(e){e.preventDefault(),e.stopImmediatePropagation()}function ul(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function cl(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function zc(){return this.__zoom||Ha}function hl(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function fl(){return navigator.maxTouchPoints||"ontouchstart"in this}function ll(e,i,r){var o=e.invertX(i[0][0])-r[0][0],a=e.invertX(i[1][0])-r[1][0],l=e.invertY(i[0][1])-r[0][1],d=e.invertY(i[1][1])-r[1][1];return e.translate(a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a),d>l?(l+d)/2:Math.min(0,l)||Math.max(0,d))}var Rc=z(4825);let Gc=(()=>{class e extends Vn.H{constructor(){super(),this.nodes=[],this.links=[],this.width=window.screen.availWidth,this.height=window.screen.availHeight,this.characterLinks=[],this.defaultOptions={zoom:!0,edgeRadius:0},this.id=(0,F.V)(),this.groups=[]}ngOnChanges(r){this.nodes.length>0&&this.links.length>0&&this.create()}ngAfterViewInit(){this.nodes.length>0&&this.links.length>0&&this.create()}create(){this.options=Object.assign(Object.assign({},this.defaultOptions),this.options),this.element=document.getElementById(this.id+"-network"),Ze(this.element).selectChildren().remove(),this.createCharacterLinks(),this.initializeColor(),this.createSvg(),this.createLink(),this.createSimulation(),this.createNode()}initializeColor(){this.groups=Array.from(new Set(this.characterLinks.map(r=>r.group))),this.color=Ms(this.groups,Qf)}createCharacterLinks(){const r=this.nodes.map(o=>o.id);this.characterLinks=this.links.filter(o=>r.includes(o.source)&&r.includes(o.target))}createSimulation(){this.simulation=function gc(e){var i,r=1,o=.001,a=1-Math.pow(o,1/300),l=0,d=.6,y=new Map,S=Ni(H),A=Ii("tick","end"),O=function za(){let e=1;return()=>(e=(1664525*e+1013904223)%Ta)/Ta}();function H(){Y(),A.call("tick",i),r<o&&(S.stop(),A.call("end",i))}function Y(ut){var V,vt,q=e.length;void 0===ut&&(ut=1);for(var bt=0;bt<ut;++bt)for(r+=(l-r)*a,y.forEach(function(it){it(r)}),V=0;V<q;++V)null==(vt=e[V]).fx?vt.x+=vt.vx*=d:(vt.x=vt.fx,vt.vx=0),null==vt.fy?vt.y+=vt.vy*=d:(vt.y=vt.fy,vt.vy=0);return i}function K(){for(var q,ut=0,V=e.length;ut<V;++ut){if((q=e[ut]).index=ut,null!=q.fx&&(q.x=q.fx),null!=q.fy&&(q.y=q.fy),isNaN(q.x)||isNaN(q.y)){var vt=10*Math.sqrt(.5+ut),bt=ut*dc;q.x=vt*Math.cos(bt),q.y=vt*Math.sin(bt)}(isNaN(q.vx)||isNaN(q.vy))&&(q.vx=q.vy=0)}}function lt(ut){return ut.initialize&&ut.initialize(e,O),ut}return null==e&&(e=[]),K(),i={tick:Y,restart:function(){return S.restart(H),i},stop:function(){return S.stop(),i},nodes:function(ut){return arguments.length?(e=ut,K(),y.forEach(lt),i):e},alpha:function(ut){return arguments.length?(r=+ut,i):r},alphaMin:function(ut){return arguments.length?(o=+ut,i):o},alphaDecay:function(ut){return arguments.length?(a=+ut,i):+a},alphaTarget:function(ut){return arguments.length?(l=+ut,i):l},velocityDecay:function(ut){return arguments.length?(d=1-ut,i):1-d},randomSource:function(ut){return arguments.length?(O=ut,y.forEach(lt),i):O},force:function(ut,V){return arguments.length>1?(null==V?y.delete(ut):y.set(ut,lt(V)),i):y.get(ut)},find:function(ut,V,q){var it,Ct,Ut,$t,Ft,vt=0,bt=e.length;for(null==q?q=1/0:q*=q,vt=0;vt<bt;++vt)(Ut=(it=ut-($t=e[vt]).x)*it+(Ct=V-$t.y)*Ct)<q&&(Ft=$t,q=Ut);return Ft},on:function(ut,V){return arguments.length>1?(A.on(ut,V),i):A.on(ut)}}}(this.nodes).force("link",function If(e){var o,l,d,y,S,A,i=La,r=function H(V){return 1/Math.min(y[V.source.index],y[V.target.index])},a=Ur(30),O=1;function Y(V){for(var q=0,vt=e.length;q<O;++q)for(var it,Ct,Ut,$t,Ft,ce,Xt,bt=0;bt<vt;++bt)$t=(Ut=(it=e[bt]).target).x+Ut.vx-(Ct=it.source).x-Ct.vx||lr(A),Ft=Ut.y+Ut.vy-Ct.y-Ct.vy||lr(A),Ft*=ce=((ce=Math.sqrt($t*$t+Ft*Ft))-l[bt])/ce*V*o[bt],Ut.vx-=($t*=ce)*(Xt=S[bt]),Ut.vy-=Ft*Xt,Ct.vx+=$t*(Xt=1-Xt),Ct.vy+=Ft*Xt}function K(){if(d){var V,it,q=d.length,vt=e.length,bt=new Map(d.map((Ct,Ut)=>[i(Ct,Ut,d),Ct]));for(V=0,y=new Array(q);V<vt;++V)(it=e[V]).index=V,"object"!=typeof it.source&&(it.source=Ao(bt,it.source)),"object"!=typeof it.target&&(it.target=Ao(bt,it.target)),y[it.source.index]=(y[it.source.index]||0)+1,y[it.target.index]=(y[it.target.index]||0)+1;for(V=0,S=new Array(vt);V<vt;++V)S[V]=y[(it=e[V]).source.index]/(y[it.source.index]+y[it.target.index]);o=new Array(vt),lt(),l=new Array(vt),ut()}}function lt(){if(d)for(var V=0,q=e.length;V<q;++V)o[V]=+r(e[V],V,e)}function ut(){if(d)for(var V=0,q=e.length;V<q;++V)l[V]=+a(e[V],V,e)}return null==e&&(e=[]),Y.initialize=function(V,q){d=V,A=q,K()},Y.links=function(V){return arguments.length?(e=V,K(),Y):e},Y.id=function(V){return arguments.length?(i=V,Y):i},Y.iterations=function(V){return arguments.length?(O=+V,Y):O},Y.strength=function(V){return arguments.length?(r="function"==typeof V?V:Ur(+V),lt(),Y):r},Y.distance=function(V){return arguments.length?(a="function"==typeof V?V:Ur(+V),ut(),Y):a},Y}(this.characterLinks).distance(20).id(this.getId)).force("charge",function Df(){var e,i,r,o,l,a=Ur(-30),d=1,y=1/0,S=.81;function A(K){var lt,ut=e.length,V=vs(e,Nf,lc).visitAfter(H);for(o=K,lt=0;lt<ut;++lt)i=e[lt],V.visit(Y)}function O(){if(e){var K,ut,lt=e.length;for(l=new Array(lt),K=0;K<lt;++K)l[(ut=e[K]).index]=+a(ut,K,e)}}function H(K){var ut,V,vt,bt,it,lt=0,q=0;if(K.length){for(vt=bt=it=0;it<4;++it)(ut=K[it])&&(V=Math.abs(ut.value))&&(lt+=ut.value,q+=V,vt+=V*ut.x,bt+=V*ut.y);K.x=vt/q,K.y=bt/q}else{(ut=K).x=ut.data.x,ut.y=ut.data.y;do{lt+=l[ut.data.index]}while(ut=ut.next)}K.value=lt}function Y(K,lt,ut,V){if(!K.value)return!0;var q=K.x-i.x,vt=K.y-i.y,bt=V-lt,it=q*q+vt*vt;if(bt*bt/S<it)return it<y&&(0===q&&(it+=(q=lr(r))*q),0===vt&&(it+=(vt=lr(r))*vt),it<d&&(it=Math.sqrt(d*it)),i.vx+=q*K.value*o/it,i.vy+=vt*K.value*o/it),!0;if(!(K.length||it>=y)){(K.data!==i||K.next)&&(0===q&&(it+=(q=lr(r))*q),0===vt&&(it+=(vt=lr(r))*vt),it<d&&(it=Math.sqrt(d*it)));do{K.data!==i&&(i.vx+=q*(bt=l[K.data.index]*o/it),i.vy+=vt*bt)}while(K=K.next)}}return A.initialize=function(K,lt){e=K,r=lt,O()},A.strength=function(K){return arguments.length?(a="function"==typeof K?K:Ur(+K),O(),A):a},A.distanceMin=function(K){return arguments.length?(d=K*K,A):Math.sqrt(d)},A.distanceMax=function(K){return arguments.length?(y=K*K,A):Math.sqrt(y)},A.theta=function(K){return arguments.length?(S=K*K,A):Math.sqrt(S)},A}().strength(r=>-100*r.score)).force("center",function nc(e,i){var r,o=1;function a(){var l,y,d=r.length,S=0,A=0;for(l=0;l<d;++l)S+=(y=r[l]).x,A+=y.y;for(S=(S/d-e)*o,A=(A/d-i)*o,l=0;l<d;++l)(y=r[l]).x-=S,y.y-=A}return null==e&&(e=0),null==i&&(i=0),a.initialize=function(l){r=l},a.x=function(l){return arguments.length?(e=+l,a):e},a.y=function(l){return arguments.length?(i=+l,a):i},a.strength=function(l){return arguments.length?(o=+l,a):o},a}(this.width/2,this.height/2)).force("radius",function ms(e){var i,r,o,a=1,l=1;function d(){for(var A,H,Y,K,lt,ut,V,O=i.length,q=0;q<l;++q)for(H=vs(i,ys,hc).visitAfter(y),A=0;A<O;++A)V=(ut=r[(Y=i[A]).index])*ut,K=Y.x+Y.vx,lt=Y.y+Y.vy,H.visit(vt);function vt(bt,it,Ct,Ut,$t){var Ft=bt.data,ce=bt.r,Xt=ut+ce;if(!Ft)return it>K+Xt||Ut<K-Xt||Ct>lt+Xt||$t<lt-Xt;if(Ft.index>Y.index){var Rt=K-Ft.x-Ft.vx,le=lt-Ft.y-Ft.vy,Yt=Rt*Rt+le*le;Yt<Xt*Xt&&(0===Rt&&(Yt+=(Rt=lr(o))*Rt),0===le&&(Yt+=(le=lr(o))*le),Yt=(Xt-(Yt=Math.sqrt(Yt)))/Yt*a,Y.vx+=(Rt*=Yt)*(Xt=(ce*=ce)/(V+ce)),Y.vy+=(le*=Yt)*Xt,Ft.vx-=Rt*(Xt=1-Xt),Ft.vy-=le*Xt)}}}function y(A){if(A.data)return A.r=r[A.data.index];for(var O=A.r=0;O<4;++O)A[O]&&A[O].r>A.r&&(A.r=A[O].r)}function S(){if(i){var A,H,O=i.length;for(r=new Array(O),A=0;A<O;++A)r[(H=i[A]).index]=+e(H,A,i)}}return"function"!=typeof e&&(e=Ur(null==e?1:+e)),d.initialize=function(A,O){i=A,o=O,S()},d.iterations=function(A){return arguments.length?(l=+A,d):l},d.strength=function(A){return arguments.length?(a=+A,d):a},d.radius=function(A){return arguments.length?(e="function"==typeof A?A:Ur(+A),S(),d):e},d}(r=>r.score+20)).force("cluster",this.cluster(this.nodes)).on("tick",()=>{this.link.attr("d",r=>`\n            M${r.source.x},${r.source.y}\n            A${this.options.edgeRadius},${this.options.edgeRadius} 0 0,1 ${r.target.x},${r.target.y}\n          `),this.node.attr("transform",r=>`translate(${r.x}, ${r.y})`),(0,Rc.g)(1e4)}),setTimeout(()=>{this.simulation.stop()},1e4)}createSvg(){const r=this;this.svg=Lc("svg").attr("viewBox",[0,0,this.width,this.height]).style("font","12px sans-serif"),this.g=this.svg.append("g"),this.options.zoom&&this.svg.call(function dl(){var O,H,Y,e=ul,i=cl,r=ll,o=hl,a=fl,l=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],y=250,S=sl,A=Ii("start","zoom","end"),K=500,ut=0,V=10;function q(st){st.property("__zoom",zc).on("wheel.zoom",Ft,{passive:!1}).on("mousedown.zoom",ce).on("dblclick.zoom",Xt).filter(a).on("touchstart.zoom",Rt).on("touchmove.zoom",le).on("touchend.zoom touchcancel.zoom",Yt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function vt(st,Wt){return(Wt=Math.max(l[0],Math.min(l[1],Wt)))===st.k?st:new yr(Wt,st.x,st.y)}function bt(st,Wt,mt){var Gt=Wt[0]-mt[0]*st.k,Vt=Wt[1]-mt[1]*st.k;return Gt===st.x&&Vt===st.y?st:new yr(st.k,Gt,Vt)}function it(st){return[(+st[0][0]+ +st[1][0])/2,(+st[0][1]+ +st[1][1])/2]}function Ct(st,Wt,mt,Gt){st.on("start.zoom",function(){Ut(this,arguments).event(Gt).start()}).on("interrupt.zoom end.zoom",function(){Ut(this,arguments).event(Gt).end()}).tween("zoom",function(){var Vt=this,Zt=arguments,jt=Ut(Vt,Zt).event(Gt),te=i.apply(Vt,Zt),Tt=null==mt?it(te):"function"==typeof mt?mt.apply(Vt,Zt):mt,dn=Math.max(te[1][0]-te[0][0],te[1][1]-te[0][1]),xe=Vt.__zoom,Ve="function"==typeof Wt?Wt.apply(Vt,Zt):Wt,xn=S(xe.invert(Tt).concat(dn/xe.k),Ve.invert(Tt).concat(dn/Ve.k));return function(qt){if(1===qt)qt=Ve;else{var gn=xn(qt),vi=dn/gn[2];qt=new yr(vi,Tt[0]-gn[0]*vi,Tt[1]-gn[1]*vi)}jt.zoom(null,qt)}})}function Ut(st,Wt,mt){return!mt&&st.__zooming||new $t(st,Wt)}function $t(st,Wt){this.that=st,this.args=Wt,this.active=0,this.sourceEvent=null,this.extent=i.apply(st,Wt),this.taps=0}function Ft(st,...Wt){if(e.apply(this,arguments)){var mt=Ut(this,Wt).event(st),Gt=this.__zoom,Vt=Math.max(l[0],Math.min(l[1],Gt.k*Math.pow(2,o.apply(this,arguments)))),Zt=ze(st);if(mt.wheel)(mt.mouse[0][0]!==Zt[0]||mt.mouse[0][1]!==Zt[1])&&(mt.mouse[1]=Gt.invert(mt.mouse[0]=Zt)),clearTimeout(mt.wheel);else{if(Gt.k===Vt)return;mt.mouse=[Zt,Gt.invert(Zt)],Vo(this),mt.start()}ko(st),mt.wheel=setTimeout(jt,150),mt.zoom("mouse",r(bt(vt(Gt,Vt),mt.mouse[0],mt.mouse[1]),mt.extent,d))}function jt(){mt.wheel=null,mt.end()}}function ce(st,...Wt){if(!Y&&e.apply(this,arguments)){var mt=st.currentTarget,Gt=Ut(this,Wt,!0).event(st),Vt=Ze(st.view).on("mousemove.zoom",Tt,!0).on("mouseup.zoom",dn,!0),Zt=ze(st,mt),jt=st.clientX,te=st.clientY;Ia(st.view),Os(st),Gt.mouse=[Zt,this.__zoom.invert(Zt)],Vo(this),Gt.start()}function Tt(xe){if(ko(xe),!Gt.moved){var Ve=xe.clientX-jt,xn=xe.clientY-te;Gt.moved=Ve*Ve+xn*xn>ut}Gt.event(xe).zoom("mouse",r(bt(Gt.that.__zoom,Gt.mouse[0]=ze(xe,mt),Gt.mouse[1]),Gt.extent,d))}function dn(xe){Vt.on("mousemove.zoom mouseup.zoom",null),gs(xe.view,Gt.moved),ko(xe),Gt.event(xe).end()}}function Xt(st,...Wt){if(e.apply(this,arguments)){var mt=this.__zoom,Gt=ze(st.changedTouches?st.changedTouches[0]:st,this),Vt=mt.invert(Gt),jt=r(bt(vt(mt,mt.k*(st.shiftKey?.5:2)),Gt,Vt),i.apply(this,Wt),d);ko(st),y>0?Ze(this).transition().duration(y).call(Ct,jt,Gt,st):Ze(this).call(q.transform,jt,Gt,st)}}function Rt(st,...Wt){if(e.apply(this,arguments)){var Zt,jt,te,Tt,mt=st.touches,Gt=mt.length,Vt=Ut(this,Wt,st.changedTouches.length===Gt).event(st);for(Os(st),jt=0;jt<Gt;++jt)Tt=[Tt=ze(te=mt[jt],this),this.__zoom.invert(Tt),te.identifier],Vt.touch0?!Vt.touch1&&Vt.touch0[2]!==Tt[2]&&(Vt.touch1=Tt,Vt.taps=0):(Vt.touch0=Tt,Zt=!0,Vt.taps=1+!!O);O&&(O=clearTimeout(O)),Zt&&(Vt.taps<2&&(H=Tt[0],O=setTimeout(function(){O=null},K)),Vo(this),Vt.start())}}function le(st,...Wt){if(this.__zooming){var Zt,jt,te,Tt,mt=Ut(this,Wt).event(st),Gt=st.changedTouches,Vt=Gt.length;for(ko(st),Zt=0;Zt<Vt;++Zt)te=ze(jt=Gt[Zt],this),mt.touch0&&mt.touch0[2]===jt.identifier?mt.touch0[0]=te:mt.touch1&&mt.touch1[2]===jt.identifier&&(mt.touch1[0]=te);if(jt=mt.that.__zoom,mt.touch1){var dn=mt.touch0[0],xe=mt.touch0[1],Ve=mt.touch1[0],xn=mt.touch1[1],qt=(qt=Ve[0]-dn[0])*qt+(qt=Ve[1]-dn[1])*qt,gn=(gn=xn[0]-xe[0])*gn+(gn=xn[1]-xe[1])*gn;jt=vt(jt,Math.sqrt(qt/gn)),te=[(dn[0]+Ve[0])/2,(dn[1]+Ve[1])/2],Tt=[(xe[0]+xn[0])/2,(xe[1]+xn[1])/2]}else{if(!mt.touch0)return;te=mt.touch0[0],Tt=mt.touch0[1]}mt.zoom("touch",r(bt(jt,te,Tt),mt.extent,d))}}function Yt(st,...Wt){if(this.__zooming){var Zt,jt,mt=Ut(this,Wt).event(st),Gt=st.changedTouches,Vt=Gt.length;for(Os(st),Y&&clearTimeout(Y),Y=setTimeout(function(){Y=null},K),Zt=0;Zt<Vt;++Zt)jt=Gt[Zt],mt.touch0&&mt.touch0[2]===jt.identifier?delete mt.touch0:mt.touch1&&mt.touch1[2]===jt.identifier&&delete mt.touch1;if(mt.touch1&&!mt.touch0&&(mt.touch0=mt.touch1,delete mt.touch1),mt.touch0)mt.touch0[1]=this.__zoom.invert(mt.touch0[0]);else if(mt.end(),2===mt.taps&&(jt=ze(jt,this),Math.hypot(H[0]-jt[0],H[1]-jt[1])<V)){var te=Ze(this).on("dblclick.zoom");te&&te.apply(this,arguments)}}}return q.transform=function(st,Wt,mt,Gt){var Vt=st.selection?st.selection():st;Vt.property("__zoom",zc),st!==Vt?Ct(st,Wt,mt,Gt):Vt.interrupt().each(function(){Ut(this,arguments).event(Gt).start().zoom(null,"function"==typeof Wt?Wt.apply(this,arguments):Wt).end()})},q.scaleBy=function(st,Wt,mt,Gt){q.scaleTo(st,function(){return this.__zoom.k*("function"==typeof Wt?Wt.apply(this,arguments):Wt)},mt,Gt)},q.scaleTo=function(st,Wt,mt,Gt){q.transform(st,function(){var Vt=i.apply(this,arguments),Zt=this.__zoom,jt=null==mt?it(Vt):"function"==typeof mt?mt.apply(this,arguments):mt,te=Zt.invert(jt),Tt="function"==typeof Wt?Wt.apply(this,arguments):Wt;return r(bt(vt(Zt,Tt),jt,te),Vt,d)},mt,Gt)},q.translateBy=function(st,Wt,mt,Gt){q.transform(st,function(){return r(this.__zoom.translate("function"==typeof Wt?Wt.apply(this,arguments):Wt,"function"==typeof mt?mt.apply(this,arguments):mt),i.apply(this,arguments),d)},null,Gt)},q.translateTo=function(st,Wt,mt,Gt,Vt){q.transform(st,function(){var Zt=i.apply(this,arguments),jt=this.__zoom,te=null==Gt?it(Zt):"function"==typeof Gt?Gt.apply(this,arguments):Gt;return r(Ha.translate(te[0],te[1]).scale(jt.k).translate("function"==typeof Wt?-Wt.apply(this,arguments):-Wt,"function"==typeof mt?-mt.apply(this,arguments):-mt),Zt,d)},Gt,Vt)},$t.prototype={event:function(st){return st&&(this.sourceEvent=st),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(st,Wt){return this.mouse&&"mouse"!==st&&(this.mouse[1]=Wt.invert(this.mouse[0])),this.touch0&&"touch"!==st&&(this.touch0[1]=Wt.invert(this.touch0[0])),this.touch1&&"touch"!==st&&(this.touch1[1]=Wt.invert(this.touch1[0])),this.that.__zoom=Wt,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(st){var Wt=Ze(this.that).datum();A.call(st,this.that,new al(st,{sourceEvent:this.sourceEvent,target:q,type:st,transform:this.that.__zoom,dispatch:A}),Wt)}},q.wheelDelta=function(st){return arguments.length?(o="function"==typeof st?st:Gs(+st),q):o},q.filter=function(st){return arguments.length?(e="function"==typeof st?st:Gs(!!st),q):e},q.touchable=function(st){return arguments.length?(a="function"==typeof st?st:Gs(!!st),q):a},q.extent=function(st){return arguments.length?(i="function"==typeof st?st:Gs([[+st[0][0],+st[0][1]],[+st[1][0],+st[1][1]]]),q):i},q.scaleExtent=function(st){return arguments.length?(l[0]=+st[0],l[1]=+st[1],q):[l[0],l[1]]},q.translateExtent=function(st){return arguments.length?(d[0][0]=+st[0][0],d[1][0]=+st[1][0],d[0][1]=+st[0][1],d[1][1]=+st[1][1],q):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},q.constrain=function(st){return arguments.length?(r=st,q):r},q.duration=function(st){return arguments.length?(y=+st,q):y},q.interpolate=function(st){return arguments.length?(S=st,q):S},q.on=function(){var st=A.on.apply(A,arguments);return st===A?q:st},q.clickDistance=function(st){return arguments.length?(ut=(st=+st)*st,q):Math.sqrt(ut)},q.tapDistance=function(st){return arguments.length?(V=+st,q):V},q}().extent([[0,0],[this.width,this.height]]).on("zoom",function o({transform:a}){r.g.attr("transform",a)})),this.element.append(this.svg.node()),this.svg.attr("width",this.width).attr("height",this.height),this.svg.append("defs").selectAll("marker").data(this.groups).join("marker").attr("id",a=>`arrow-${a}`).attr("viewBox","0 -5 10 10").attr("refX",15).attr("refY",-.5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("fill",this.color).attr("d","M0,-5L10,0L0,5")}createLink(){this.link=this.g.append("g").attr("fill","none").attr("stroke-width",1.5).selectAll("path").data(this.characterLinks).join("path").attr("stroke",r=>this.color(r.group))}createNode(){this.node=this.g.append("g").attr("fill","currentColor").attr("stroke-linecap","round").attr("stroke-linejoin","round").selectAll("g").data(this.nodes).join("g"),this.node.append("circle").attr("stroke","black").attr("stroke-width",1).attr("r",r=>r.score).style("fill",r=>this.color(r.group)),this.node.append("text").text(r=>""!==r.label?r.label:r.id).style("font-size","1rem").style("color","white").style("text-anchor","middle").style("dominant-baseline","central")}getId(r){return r.id}drag(r){return function ec(){var y,S,A,O,e=Na,i=Gr,r=Af,o=Or,a={},l=Ii("start","drag","end"),d=0,H=0;function Y(it){it.on("mousedown.drag",K).filter(o).on("touchstart.drag",V).on("touchmove.drag",q,Rr).on("touchend.drag touchcancel.drag",vt).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function K(it,Ct){if(!O&&e.call(this,it,Ct)){var Ut=bt(this,i.call(this,it,Ct),it,Ct,"mouse");!Ut||(Ze(it.view).on("mousemove.drag",lt,fi).on("mouseup.drag",ut,fi),Ia(it.view),ds(it),A=!1,y=it.clientX,S=it.clientY,Ut("start",it))}}function lt(it){if(fr(it),!A){var Ct=it.clientX-y,Ut=it.clientY-S;A=Ct*Ct+Ut*Ut>H}a.mouse("drag",it)}function ut(it){Ze(it.view).on("mousemove.drag mouseup.drag",null),gs(it.view,A),fr(it),a.mouse("end",it)}function V(it,Ct){if(e.call(this,it,Ct)){var ce,Xt,Ut=it.changedTouches,$t=i.call(this,it,Ct),Ft=Ut.length;for(ce=0;ce<Ft;++ce)(Xt=bt(this,$t,it,Ct,Ut[ce].identifier,Ut[ce]))&&(ds(it),Xt("start",it,Ut[ce]))}}function q(it){var $t,Ft,Ct=it.changedTouches,Ut=Ct.length;for($t=0;$t<Ut;++$t)(Ft=a[Ct[$t].identifier])&&(fr(it),Ft("drag",it,Ct[$t]))}function vt(it){var $t,Ft,Ct=it.changedTouches,Ut=Ct.length;for(O&&clearTimeout(O),O=setTimeout(function(){O=null},500),$t=0;$t<Ut;++$t)(Ft=a[Ct[$t].identifier])&&(ds(it),Ft("end",it,Ct[$t]))}function bt(it,Ct,Ut,$t,Ft,ce){var le,Yt,st,Xt=l.copy(),Rt=ze(ce||Ut,Ct);if(null!=(st=r.call(it,new _o("beforestart",{sourceEvent:Ut,target:Y,identifier:Ft,active:d,x:Rt[0],y:Rt[1],dx:0,dy:0,dispatch:Xt}),$t)))return le=st.x-Rt[0]||0,Yt=st.y-Rt[1]||0,function Wt(mt,Gt,Vt){var jt,Zt=Rt;switch(mt){case"start":a[Ft]=Wt,jt=d++;break;case"end":delete a[Ft],--d;case"drag":Rt=ze(Vt||Gt,Ct),jt=d}Xt.call(mt,it,new _o(mt,{sourceEvent:Gt,subject:st,target:Y,identifier:Ft,active:jt,x:Rt[0]+le,y:Rt[1]+Yt,dx:Rt[0]-Zt[0],dy:Rt[1]-Zt[1],dispatch:Xt}),$t)}}return Y.filter=function(it){return arguments.length?(e="function"==typeof it?it:bo(!!it),Y):e},Y.container=function(it){return arguments.length?(i="function"==typeof it?it:bo(it),Y):i},Y.subject=function(it){return arguments.length?(r="function"==typeof it?it:bo(it),Y):r},Y.touchable=function(it){return arguments.length?(o="function"==typeof it?it:bo(!!it),Y):o},Y.on=function(){var it=l.on.apply(l,arguments);return it===l?Y:it},Y.clickDistance=function(it){return arguments.length?(H=(it=+it)*it,Y):Math.sqrt(H)},Y}().on("start",function o(d,y){d.active||r.alphaTarget(.3).restart(),y.fx=y.x,y.fy=y.y}).on("drag",function a(d,y){y.fx=d.x,y.fy=d.y}).on("end",function l(d,y){d.active||r.alphaTarget(0),y.fx=null,y.fy=null})}cluster(r){return function a(l){for(const d of r){const y=r.filter(O=>O.group===d.group),S=y.reduce((O,H)=>O+H.x,0)/y.length,A=y.reduce((O,H)=>O+H.y,0)/y.length;d.vx+=(S-d.x)*l*.2,d.vy+=(A-d.y)*l*.2}}}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=f.Xpm({type:e,selectors:[["d3-network"]],inputs:{nodes:"nodes",links:"links",options:"options",width:"width",height:"height"},features:[f.qOj,f.TTD],decls:1,vars:1,consts:[[1,"flex","flex-1",3,"id"]],template:function(r,o){1&r&&f._UZ(0,"div",0),2&r&&f.MGl("id","",o.id,"-network")},encapsulation:2}),e})();var Hi=z(7423),Oc=z(2108);const gl=function(){return["/wiki/network"]},pl=function(){return["/wiki/analysis"]},vl=[{path:"",component:(()=>{class e extends T{constructor(r,o){super(),this.characterApi=r,this.relationshipApi=o,this.navigation=Q.o,this.nodes=[],this.edges=[],this.characters=[],this.relationships=[],this.networkOptions={zoom:!1}}ngOnInit(){var r=this;this.subscribe(this.characterApi.cosmereCharacters(),o=>this.onCharactersChanges(o)),this.subscribe(this.relationshipApi.relationshipsByBook("mistborn1"),o=>this.onRelationshipsChanges(o)),(0,k.defer)((0,b.Z)(function*(){yield r.characterApi.fetchAllCosmereCharacter(),yield r.relationshipApi.fetchAllCosmereRelationship()}))}generateNetworkParameters(){this.edges=w(this.relationships);const r=new Z.UndirectedGraph;E(this.relationships).forEach(l=>r.addNode(l)),this.relationships.forEach(l=>r.addEdge(l.characterId1,l.characterId2));const a=J()(r);this.nodes=x(this.characters,this.relationships).filter(l=>this.edges.map(d=>d.source).includes(l.id)||this.edges.map(d=>d.target).includes(l.id)),this.nodes=this.nodes.map(l=>Object.assign(Object.assign({},l),{group:a[l.id]}))}onCharactersChanges(r){this.characters=r,this.generateNetworkParameters()}onRelationshipsChanges(r){this.relationships=r,this.generateNetworkParameters()}}return e.\u0275fac=function(r){return new(r||e)(f.Y36(Xr),f.Y36(jr))},e.\u0275cmp=f.Xpm({type:e,selectors:[["home"]],features:[f.qOj],decls:24,vars:20,consts:[[1,"inset-0","flex","flex-col","min-w-0","w-full"],[1,"flex","flex-col","mx-100","text-center","p-6","gap-5"],[1,"font-black","mt-3","text-7xl","text-center","mb-7"],[3,"nodes","links","height","options"],[1,"flex","flex-col"],[1,"font-black","mt-3","text-2xl","text-center","mb-3"],["mat-button","",1,"bg-primary","text-lg",3,"routerLink"],[1,"font-black","mt-3","text-2xl","text-center","mb-7"]],template:function(r,o){1&r&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f._uU(3),f.ALo(4,"trans"),f.qZA(),f._UZ(5,"d3-network",3),f.TgZ(6,"div",4),f.TgZ(7,"div",5),f._uU(8),f.ALo(9,"trans"),f.qZA(),f.TgZ(10,"div"),f.TgZ(11,"button",6),f._uU(12," Conexiones "),f.qZA(),f.qZA(),f.qZA(),f.TgZ(13,"div",4),f.TgZ(14,"div",5),f._uU(15),f.ALo(16,"trans"),f.qZA(),f.TgZ(17,"div"),f.TgZ(18,"button",6),f._uU(19," An\xe1lisis "),f.qZA(),f.qZA(),f.qZA(),f.TgZ(20,"div",4),f.TgZ(21,"div",7),f._uU(22),f.ALo(23,"trans"),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&r&&(f.xp6(3),f.hij(" ",f.lcZ(4,10,"home.title")," "),f.xp6(2),f.Q6J("nodes",o.nodes)("links",o.edges)("height",600)("options",o.networkOptions),f.xp6(3),f.hij(" ",f.lcZ(9,12,"home.network.1")," "),f.xp6(3),f.Q6J("routerLink",f.DdM(18,gl)),f.xp6(4),f.hij(" ",f.lcZ(16,14,"home.analysis.1")," "),f.xp6(3),f.Q6J("routerLink",f.DdM(19,pl)),f.xp6(4),f.hij(" ",f.lcZ(23,16,"home.me.1")," "))},directives:[Gc,Hi.lW,et.rH],pipes:[Oc.u],encapsulation:2}),e})()}];var yl=z(5245),Ps=z(4613),Pc=z(6767),Us=z(393);let ja=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[]]}),e})();var Ka=z(3564),ml=z(3812);let wl=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[et.Bz.forChild(vl),Hi.ot,yl.Ps,Ps.m,Ka.J,Pc.d,Us.ZD,Us.Cl,ja,ml.P]]}),e})();const Uc=()=>({id:(0,F.V)(),books:[]}),Wc=()=>({configuration:Uc()});let xl=(()=>{class e extends Gn{constructor(){super(Wc()),this.configuration$=this.select(r=>r.configuration)}saveConfiguration(r){(0,k.isEqual)(this.get().configuration,r)||this.patchState(o=>({configuration:r}))}syncState(){return this.get()}syncConfiguration(){return this.get().configuration}reset(){this.patchState(Wc())}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ws=(()=>{class e{constructor(r){this.store=r}syncConfiguration(){return this.store.syncState().configuration}configuration(){return this.store.configuration$}saveConfiguration(r){this.store.saveConfiguration(r)}}return e.\u0275fac=function(r){return new(r||e)(f.LFG(xl))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Va=z(1999),gi=z(3075);let Bc=(()=>{class e{constructor(r){this.formBuilder=r}build(r,o=[],a=[]){const l={};return Object.keys(r).forEach(d=>{const y=r[d],S=this.getValidator(d,o);if(l[d]=[y,S],a.includes(d)&&(0,k.isArray)(y)){const A=[];y.forEach(O=>{A.push((0,Va.Z)(O)?this.build(O,o):O)}),l[d]=this.formBuilder.array(A)}if(!a.includes(d)&&!(0,k.isArray)(y)&&(0,Va.Z)(y)){const A=this.extractSubValidator(d,o);l[d]=this.build(y,A)}}),this.formBuilder.group(l)}extractSubValidator(r,o){return o.filter(a=>a.key.startsWith(r)).map(a=>({key:a.key.replace(r+".",""),validators:a.validators}))}getValidator(r,o){const a=o.find(l=>l.key===r);return a?a.validators:[]}}return e.\u0275fac=function(r){return new(r||e)(f.LFG(gi.qu))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),bl=(()=>{class e extends Gn{constructor(){super({books:[]}),this.books$=this.select(r=>r.books)}saveAllBooks(r){(0,k.isEqual)(this.get().books,r)||this.patchState(o=>({books:ir(o.books,r)}))}syncState(){return this.get()}syncBook(r){return rr(r,this.get().books)}reset(){this.patchState({books:[]})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Io=(()=>{class e{constructor(r,o){this.api=r,this.store=o}fetchAllBooks(){var r=this;return(0,b.Z)(function*(){const o=yield r.api.get("books");r.store.saveAllBooks(o)})()}syncAllBooks(){return this.store.syncState().books}allBooks(){return this.store.books$}}return e.\u0275fac=function(r){return new(r||e)(f.LFG(ct),f.LFG(bl))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var _l=z(96),Xi=z(9808),Zc=z(9602),Ja=z(7322),$c=z(4107),Al=z(508);function El(e,i){if(1&e&&(f.TgZ(0,"mat-option",11),f._uU(1),f.ALo(2,"uppercase"),f.ALo(3,"trans"),f.qZA()),2&e){const r=i.$implicit;f.Q6J("value",r.id),f.xp6(1),f.hij(" ",f.lcZ(2,2,f.lcZ(3,4,r.title))," ")}}function Cl(e,i){if(1&e&&(f.TgZ(0,"div",5),f.TgZ(1,"fuse-card",6),f.TgZ(2,"form",7),f.TgZ(3,"mat-form-field",8),f.TgZ(4,"mat-label"),f._uU(5),f.ALo(6,"titlecase"),f.ALo(7,"trans"),f.qZA(),f.TgZ(8,"mat-select",9),f.YNc(9,El,4,6,"mat-option",10),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&e){const r=f.oxw();f.xp6(2),f.Q6J("formGroup",r.configurationForm),f.xp6(3),f.Oqu(f.lcZ(6,3,f.lcZ(7,5,"books"))),f.xp6(4),f.Q6J("ngForOf",r.data.books)}}let Yc=(()=>{class e extends Vn.H{constructor(r,o,a){super(),this.configurationApi=r,this.formBuilder=o,this.bookApi=a,this.configurationChanges=new f.vpe,this.showCard=!1,this.data={books:[]}}ngOnInit(){var r=this;this.subscribe(this.bookApi.allBooks(),o=>this.data.books=o),this.subscribe(this.configurationApi.configuration(),o=>this.setConfiguration(o)),(0,k.defer)((0,b.Z)(function*(){yield r.bookApi.fetchAllBooks()})),this.buildForm()}buildForm(){this.configurationForm=this.formBuilder.build(this.configuration),this.configurationForm.get("books").valueChanges.subscribe(r=>{this.configuration.books=r,this.saveConfiguration()})}toggle(){this.showCard=!this.showCard}setConfiguration(r){this.configuration=Object.assign({},r),this.configurationForm&&this.configurationForm.patchValue(r)}saveConfiguration(){this.configurationApi.saveConfiguration(this.configuration)}}return e.\u0275fac=function(r){return new(r||e)(f.Y36(Ws),f.Y36(Bc),f.Y36(Io))},e.\u0275cmp=f.Xpm({type:e,selectors:[["configuration"]],outputs:{configurationChanges:"configurationChanges"},features:[f.qOj],decls:5,vars:1,consts:[[1,"absolute","top-0","right-0","z-50"],[1,"flex","flex-col","items-end","pr-6"],["mat-icon-button","",3,"click"],["icon","settings","size","10"],["class","z-50",4,"ngIf"],[1,"z-50"],[1,"flex","flex-col","h-full","p-6","gap-5","w-100"],[1,"w-full",3,"formGroup"],["floatLabel","always",1,"w-full"],["multiple","","formControlName","books","placeholder","Libros: Todos"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,o){1&r&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"button",2),f.NdJ("click",function(){return o.toggle()}),f._UZ(3,"app-icon",3),f.qZA(),f.YNc(4,Cl,10,7,"div",4),f.qZA(),f.qZA()),2&r&&(f.xp6(4),f.Q6J("ngIf",o.showCard))},directives:[Hi.lW,_l.o,Xi.O5,Zc.y,gi._Y,gi.JL,gi.sg,Ja.KE,Ja.hX,$c.gD,gi.JJ,gi.u,Xi.sg,Al.ey],pipes:[Xi.rS,Oc.u,Xi.gd],encapsulation:2,changeDetection:0}),e})();var Sl=z(340);let Bs=(()=>{class e extends Gn{constructor(){super({planets:[]}),this.planets$=this.select(r=>r.planets)}saveAllPlanets(r){(0,k.isEqual)(this.get().planets,r)||this.patchState(o=>({planets:ir(o.planets,r)}))}syncState(){return this.get()}syncPlanet(r){return rr(r,this.get().planets)}reset(){this.patchState({planets:[]})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ml=(()=>{class e{constructor(r,o){this.api=r,this.store=o}fetchAllPlanets(){var r=this;return(0,b.Z)(function*(){const o=yield r.api.get("planets");r.store.saveAllPlanets(o)})()}syncAllPlanets(){return this.store.syncState().planets}allPlanets(){return this.store.planets$}}return e.\u0275fac=function(r){return new(r||e)(f.LFG(ct),f.LFG(Bs))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Xc=z(4344);let jc=(()=>{class e extends Vn.H{constructor(r,o,a,l,d,y,S){super(),this.characterApi=r,this.relationshipApi=o,this.formBuilder=a,this.bookApi=l,this.planetApi=d,this.modal=y,this.configurationApi=S,this.nodes=[],this.edges=[],this.characters=[],this.relationships=[]}ngOnInit(){var r=this;return(0,b.Z)(function*(){r.subscribe(r.characterApi.cosmereCharacters(),o=>{r.onCharactersChanges(o)}),r.subscribe(r.relationshipApi.cosmereRelationships(),o=>{r.onRelationshipsChanges(o)}),r.subscribe(r.configurationApi.configuration(),o=>r.onConfigurationChanges(o)),(0,k.defer)((0,b.Z)(function*(){yield r.characterApi.fetchAllCosmereCharacter(),yield r.relationshipApi.fetchAllCosmereRelationship()}))})()}regenerateNetworkParameters(){this.edges=w(this.filterRelationships(this.relationships));const r=new Z.UndirectedGraph;E(this.relationships).forEach(l=>r.addNode(l)),this.filterRelationships(this.relationships).forEach(l=>{r.hasEdge(l.characterId1,l.characterId2)||r.addEdge(l.characterId1,l.characterId2)});const a=J()(r,{rng:Sl("1231312"),resolution:2});this.nodes=x(this.filterCharacters(this.characters),this.filterRelationships(this.relationships)).filter(l=>this.edges.map(d=>d.source).includes(l.id)||this.edges.map(d=>d.target).includes(l.id)),this.nodes=this.nodes.map(l=>Object.assign(Object.assign({},l),{group:a[l.id]})),this.edges=this.edges.map(l=>{const d=this.nodes.find(A=>A.id===l.target),y=this.nodes.find(A=>A.id===l.source);if(void 0===d||void 0===y)return l;const S=d.score>y.score?a[d.id]:a[y.id];return Object.assign(Object.assign({},l),{group:S})})}filterCharacters(r){return r}filterRelationships(r){if(!this.configuration)return r;let o=r;return this.configuration.books.length>0&&(o=o.filter(a=>this.configuration.books.includes(a.bookId))),o}onCharactersChanges(r){this.characters=r,this.regenerateNetworkParameters()}onRelationshipsChanges(r){this.relationships=r,this.regenerateNetworkParameters()}onConfigurationChanges(r){this.configuration=r,this.regenerateNetworkParameters()}}return e.\u0275fac=function(r){return new(r||e)(f.Y36(Xr),f.Y36(jr),f.Y36(Bc),f.Y36(Io),f.Y36(Ml),f.Y36(Xc.u),f.Y36(Ws))},e.\u0275cmp=f.Xpm({type:e,selectors:[["characters-relationships-graph"]],features:[f.qOj],decls:2,vars:2,consts:[[1,"relative","w-full","h-full","justify-center"],[3,"nodes","links"]],template:function(r,o){1&r&&(f.TgZ(0,"div",0),f._UZ(1,"d3-network",1),f.qZA()),2&r&&(f.xp6(1),f.Q6J("nodes",o.nodes)("links",o.edges))},directives:[Gc],encapsulation:2}),e})();const Vc=[{path:"",component:(()=>{class e extends T{constructor(){super()}ngOnInit(){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=f.Xpm({type:e,selectors:[["network"]],features:[f.qOj],decls:4,vars:0,consts:[[1,"inset-0","flex","flex-col","min-w-0","w-full","overflow-hidden"],[1,"flex","flex-row","h-full","grow","justify-center"],[1,"w-full"]],template:function(r,o){1&r&&(f.TgZ(0,"div",0),f._UZ(1,"configuration"),f.TgZ(2,"div",1),f._UZ(3,"characters-relationships-graph",2),f.qZA(),f.qZA())},directives:[Yc,jc],encapsulation:2}),e})()}];var Jc=z(5836);let qc=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[]]}),e})(),Qc=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[Jc.J,Ja.lN,$c.LD,Xi.ez,Pc.d,gi.UX,Ps.m,qc,ja]]}),e})(),kl=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[et.Bz.forChild(Vc),Qc,Us.ZD,Ka.J,Ps.m]]}),e})();var Il=z(5547),Nl=z(3378),Fs=z.n(Nl),Zs=z(5894),Dl=z.n(Zs),Ll=z(1063),qa=z.n(Ll);const No=e=>(e=>e.map(([i,r])=>({label:i,value:r})))(G().map((e=>(0,k.fromPairs)((0,k.sortBy)((0,k.toPairs)(e),1).reverse()))(e),(i,r)=>[r,i])),Qa=e=>{const i=Math.min(...e.map(o=>o.value)),r=Math.max(...e.map(o=>o.value));return e.map(o=>Object.assign(Object.assign({},o),{value:(o.value-i)/(r-i)}))};var Tl=z(5408),zl=z(5149),Rl=z(9637);let Ul=(()=>{class e extends Vn.H{constructor(){super(),this.config={colors:{highlight:"#b11adc",highlightLight:"#d975f6",text:"#777",xAxis:"#eee",yAxis:"#999"},height:500,width:640,margin:{top:30,left:150,right:5,bottom:0},gap:.4,xFormat:"",animationDuration:300,ticksInterval:10,type:Yi,titleColor:"white",title:""},this.id=(0,F.V)()}ngOnChanges(r){this.create()}ngAfterViewInit(){this.create()}create(){!this.data||0===this.data.length||(this.data=this.data.splice(0,10),this.element=document.getElementById(this.id+"-vertical-bar-chart"),this.initValues(),this.initScales(),this.createSvg())}initValues(){this.X=this.data.map(r=>r.value),this.Y=this.data.map(r=>r.label)}initScales(){const r=[this.config.margin.left,this.config.width-this.config.margin.right],o=[this.config.margin.top,this.config.height-this.config.margin.bottom];this.xDomain=[0,On(this.X)],this.yDomain=new Go(this.Y),this.xScale=this.config.type(this.xDomain,r),this.yScale=$i(this.yDomain,o).padding(this.config.gap),this.xAxis=function U(e){return M(1,e)}(this.xScale).ticks(this.config.width/80,this.config.xFormat),this.yAxis=Et(this.yScale).tickSizeOuter(0)}createSvg(){const r=Ar(this.X.length).filter(a=>this.yDomain.has(this.Y[a]));Ze(this.element).select("svg").remove(),this.svg=this.svg=Ze(this.element).append("svg").attr("width",this.config.width).attr("height",this.config.height).attr("viewBox",[0,0,this.config.width,this.config.height]).attr("style","max-width: 100%; height: auto; height: intrinsic;"),this.svg.append("g").attr("transform",`translate(0,${this.config.margin.top})`).call(this.xAxis).call(a=>a.select(".domain").remove()).call(a=>a.selectAll(".tick line").clone().attr("y2",this.config.height-this.config.margin.top-this.config.margin.bottom).attr("stroke-opacity",.1)).call(a=>a.append("text").attr("x",this.config.width-this.config.margin.right).attr("y",-22).attr("fill","none").attr("text-anchor","end"));const o=this.svg.append("g").selectAll("rect").data(r).join("rect").attr("x",this.xScale(0)).attr("y",a=>this.yScale(this.Y[a])).attr("width",0).attr("height",this.yScale.bandwidth());this.svg.append("g").attr("fill",this.config.titleColor).attr("text-anchor","end").attr("font-family","sans-serif").attr("font-size",10).selectAll("text").data(r).join("text").attr("x",a=>this.xScale(this.X[a])).attr("y",a=>this.yScale(this.Y[a])+this.yScale.bandwidth()/2).attr("dy","0.35em").attr("dx",-4).text(this.config.title).call(a=>a.filter(l=>this.xScale(this.X[l])-this.xScale(0)<20).attr("dx",4).attr("fill",this.config.titleAltColor).attr("text-anchor","start")),this.svg.append("g").attr("transform",`translate(${this.config.margin.left},0)`).call(this.yAxis),o.transition().style("fill",(a,l)=>this.getBarColor(l)).duration(this.config.animationDuration).delay((a,l)=>l*this.config.animationDuration/3).attr("height",this.yScale.bandwidth()).attr("width",(a,l)=>this.xScale(this.X[l])-this.config.margin.left)}getBarColor(r,o=0){return`rgb(${(210+o).toString()}, ${(10+20*r+o).toString()}, ${(220-20*r+o).toString()})`}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=f.Xpm({type:e,selectors:[["vertical-bar-chart"]],inputs:{data:"data",config:"config"},features:[f.qOj,f.TTD],decls:1,vars:1,consts:[[1,"flex","flex-1",3,"id"]],template:function(r,o){1&r&&f._UZ(0,"div",0),2&r&&f.MGl("id","",o.id,"-vertical-bar-chart")},encapsulation:2}),e})();const Wl=({color:e,title:i,tickSize:r=6,width:o=36+r,height:a=320,marginTop:l=20,marginRight:d=10+r,marginBottom:y=20,marginLeft:S=5,ticks:A=a/64,tickFormat:O,tickValues:H}={})=>{const Y=Lc("svg").attr("width",o).attr("height",a).attr("viewBox",[0,0,o,a]).style("overflow","visible").style("display","block");let lt,K=ut=>ut.selectAll(".tick line").attr("x1",S-o+d);if(e.interpolate){const ut=Math.min(e.domain().length,e.range().length);lt=e.copy().rangeRound(Ss(Br(a-y,l),ut)),Y.append("image").attr("x",S).attr("y",l).attr("width",o-S-d).attr("height",a-l-y).attr("preserveAspectRatio","none").attr("xlink:href",eh(e.copy().domain(Ss(Br(0,1),ut))).toDataURL())}else if(e.interpolator){if(lt=Object.assign(e.copy().interpolator(Ua(a-y,l)),{range:()=>[a-y,l]}),Y.append("image").attr("x",S).attr("y",l).attr("width",o-S-d).attr("height",a-l-y).attr("preserveAspectRatio","none").attr("xlink:href",eh(e.interpolator()).toDataURL()),!lt.ticks){if(void 0===H){const ut=Math.round(A+1);H=Ar(ut).map(V=>function Xs(e,i,r){if(e=Float64Array.from(function*zo(e,i){if(void 0===i)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let o of e)null!=(o=i(o,++r,e))&&(o=+o)>=o&&(yield o)}}(e,r)),(o=e.length)&&!isNaN(i=+i)){if(i<=0||o<2)return Pn(e);if(i>=1)return On(e);var o,a=(o-1)*i,l=Math.floor(a),d=On(br(e,l).subarray(0,l+1));return d+(Pn(e.subarray(l+1))-d)*(a-l)}}(e.domain(),V/(ut-1)))}"function"!=typeof O&&(O=Cs(void 0===O?",f":O))}}else if(e.invertExtent){const ut=e.thresholds?e.thresholds():e.quantiles?e.quantiles():e.domain(),V=void 0===O?q=>q:"string"==typeof O?Cs(O):O;lt=Yi().domain([-1,e.range().length-1]).rangeRound([a-y,l]),Y.append("g").selectAll("rect").data(e.range()).join("rect").attr("y",(q,vt)=>lt(vt)).attr("x",S).attr("height",(q,vt)=>lt(vt-1)-lt(vt)).attr("width",o-d-S).attr("fill",q=>q),H=Ar(ut.length),O=q=>V(ut[q],q)}else lt=$i().domain(e.domain()).rangeRound([a-y,l]),Y.append("g").selectAll("rect").data(e.domain()).join("rect").attr("y",lt).attr("x",S).attr("height",Math.max(0,lt.bandwidth()-1)).attr("width",o-S-d).attr("fill",e),K=()=>{};return Y.append("g").attr("transform",`translate(${o-d},0)`).call(function rt(e){return M(2,e)}(lt).ticks(A,"string"==typeof O?O:void 0).tickFormat("function"==typeof O?O:void 0).tickSize(r).tickValues(H)).call(K).call(ut=>ut.select(".domain").remove()).call(ut=>ut.append("text").attr("x",S-o+d).attr("y",0).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").attr("class","title").text(i)),Y.node()};function eh(e,i=256){const r=document.createElement("canvas");r.width=1,r.height=i;const o=r.getContext("2d");for(let a=0;a<i;++a)o.fillStyle=e(a/(i-1)),o.fillRect(0,i-a,1,1);return r}let Bl=(()=>{class e extends Vn.H{constructor(){super(),this.xLabel="",this.yLabel="",this.config={height:500,width:500,margin:{top:20,left:40,right:30,bottom:30},inset:{top:6,right:6,bottom:6,left:6},dot:{radius:20,strokeWidth:0,strokeColor:"white"},domain:{x:[.3,1],y:[.3,1]},padding:10,animationDuration:300,ticksInterval:10,color:nl},this.id=(0,F.V)()}ngOnChanges(r){this.create()}ngAfterViewInit(){this.create()}create(){!this.data||0===this.data.length||(this.element=document.getElementById(this.id+"-chart-3d"),this.initValues(),this.createColorBar(),this.initScales(),this.createAxis(),this.createSvg())}createColorBar(){const r=Wl({color:$a([0,1],this.color),title:"Degree"});this.legendElement=document.getElementById(this.id+"-legend-bar"),this.legendElement&&(Ze(this.legendElement).select("svg").remove(),this.legendElement.append(r))}initValues(){this.color=this.config.color,this.X=this.data.map(r=>r.x),this.Y=this.data.map(r=>r.y),this.Z=this.data.map(r=>r.z),this.labels=this.data.map(r=>r.label)}initScales(){const o=[this.config.height-this.config.margin.bottom-this.config.inset.bottom,this.config.margin.top+this.config.inset.top];this.xScale=Yi(this.config.domain.x,[this.config.margin.left+this.config.inset.left,this.config.width-this.config.margin.right-this.config.inset.right]),this.yScale=Yi(this.config.domain.y,o)}createAxis(){this.xAxis=At(this.xScale).ticks(this.config.width/80),this.yAxis=Et(this.yScale).ticks(this.config.height/50)}createSvg(){Ze(this.element).select("svg").remove(),this.svg=Ze(this.element).append("svg").attr("width",this.config.width).attr("height",this.config.height).attr("viewBox",[0,0,this.config.width,this.config.height]).attr("style","max-width: 100%; this.options.height: auto; height: intrinsic;"),this.svg.append("g").attr("transform",`translate(0,${this.config.height-this.config.margin.bottom})`).call(this.xAxis).call(a=>a.select(".domain").remove()).call(a=>a.selectAll(".tick line").clone().attr("y2",this.config.margin.top+this.config.margin.bottom-this.config.height).attr("stroke-opacity",.1)).call(a=>a.append("text").attr("x",this.config.width).attr("y",this.config.margin.bottom-4).attr("fill","currentColor").attr("text-anchor","end").text(this.xLabel)),this.svg.append("g").attr("transform",`translate(${this.config.margin.left},0)`).call(this.yAxis).call(a=>a.select(".domain").remove()).call(a=>a.selectAll(".tick line").clone().attr("x2",this.config.width-this.config.margin.left-this.config.margin.right).attr("stroke-opacity",.1)).call(a=>a.append("text").attr("x",-this.config.margin.left).attr("y",10).attr("fill","currentColor").attr("text-anchor","start").text(this.yLabel));const o=Ar(this.X.length).filter(a=>!isNaN(this.X[a])&&!isNaN(this.Y[a]));this.svg.append("g").attr("stroke",this.config.dot.strokeColor).attr("stroke-width",this.config.dot.strokeWidth).selectAll("circle").data(o).join("circle").attr("cx",a=>this.xScale(this.X[a])).attr("cy",a=>this.yScale(this.Y[a])).attr("fill",a=>this.color(this.Z[a])).attr("r",this.config.dot.radius).attr("opacity",.5),this.svg.append("g").attr("font-family","sans-serif").attr("font-size",15).attr("stroke-linejoin","round").attr("stroke-linecap","round").selectAll("text").data(o).join("text").attr("x",a=>this.xScale(this.X[a])).attr("y",a=>this.yScale(this.Y[a])).text(a=>this.labels[a]).style("fill","white").style("text-anchor","middle").style("dominant-baseline","central")}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=f.Xpm({type:e,selectors:[["chart-3d"]],inputs:{data:"data",xLabel:"xLabel",yLabel:"yLabel",config:"config"},features:[f.qOj,f.TTD],decls:3,vars:2,consts:[[1,"flex","flex-row"],[3,"id"],[1,"flex","flex-1","items-end","pb-10",3,"id"]],template:function(r,o){1&r&&(f.TgZ(0,"div",0),f._UZ(1,"div",1),f._UZ(2,"div",2),f.qZA()),2&r&&(f.xp6(1),f.MGl("id","",o.id,"-chart-3d"),f.xp6(1),f.MGl("id","",o.id,"-legend-bar"))},encapsulation:2}),e})(),Yn=(()=>{class e extends Vn.H{constructor(){super(),this.options={colors:{highlight:"#b11adc",highlightLight:"#d975f6",text:"#777",xAxis:"#eee",yAxis:"#999"},height:200,width:600,margin:{top:10,left:70,right:10,bottom:20},animationDuration:300,ticksInterval:10},this.id=(0,F.V)()}ngOnChanges(r){this.create()}ngAfterViewInit(){this.create()}create(){!this.data||0===this.data.length||(this.data=this.data.splice(0,10),this.element=document.getElementById(this.id+"-barchart"),this.initValues(),this.initScales(),this.initChart(),this.createAxis(),this.createBars())}initChart(){Ze(this.element).select("svg").remove(),this.svg=Ze(this.element).append("svg").attr("viewBox",`0 0 ${this.options.width} ${this.options.height+100}`)}initValues(){const r=Number(Pn(this.data.map(a=>a.value))),o=Number(On(this.data.map(a=>a.value)));this.minValue=r<0?r-this.options.ticksInterval:0,this.maxValue=o}initScales(){this.yScale=Yi().domain([this.minValue,this.maxValue]).range([this.options.height-this.options.margin.bottom,this.options.margin.top]),this.xScale=$i().domain(Ar(this.data.length)).range([this.options.margin.left+this.options.margin.right,this.options.width-this.options.margin.right]).paddingInner(this.calculatePadding(this.data.length))}getBarMaxWidth(){const r=window.innerWidth;return r<=768?r<=480?10:15:20}getBarColor(r,o=0){return`rgb(${(210+o).toString()}, ${(10+20*r+o).toString()}, ${(220-20*r+o).toString()})`}createBars(){this.svg.selectAll(".bar").data(this.data).enter().append("rect").classed("bar",!0).style("fill","transparent").style("display",o=>"number"==typeof o.value?"initial":"none").attr("x",(o,a)=>this.xScale(a)).attr("y",this.yScale(0)).attr("width",this.xScale.bandwidth()).attr("height",0).transition().style("fill",(o,a)=>this.getBarColor(a)).duration(this.options.animationDuration).delay((o,a)=>a*this.options.animationDuration/3).attr("x",(o,a)=>this.xScale(a)).attr("y",(o,a)=>this.yScale(o.value<0?0:o.value)).attr("width",this.xScale.bandwidth()).attr("height",(o,a)=>o.value<0?this.yScale(o.value)-this.yScale(0):this.yScale(0)-this.yScale(o.value))}createAxis(){const r=At(this.xScale).tickSize(-this.options.width).tickFormat((a,l)=>this.data[l].label.toUpperCase()),o=Et(this.yScale).tickSize(-this.options.width).tickFormat(a=>`${a}`).ticks(this.options.ticksInterval);this.svg.append("g").attr("class","axis x-axis").attr("transform",`translate(0, ${this.options.height-15})`).call(r).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end"),this.svg.append("g").attr("class","axis y-axis").attr("transform",`translate(${+this.options.margin.left}, 0)`).call(o),this.svg.selectAll(".axis .domain").remove(),this.svg.selectAll(".axis .tick text").style("fill",this.options.colors.text),this.svg.selectAll(".y-axis .tick line").style("stroke",this.options.colors.yAxis),this.svg.selectAll(".x-axis .tick line").style("stroke",this.options.colors.xAxis)}calculatePadding(r){return 1-r*this.getBarMaxWidth()/this.options.width}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=f.Xpm({type:e,selectors:[["bar-chart"]],inputs:{data:"data",options:"options"},features:[f.qOj,f.TTD],decls:1,vars:1,consts:[[1,"flex","flex-1",3,"id"]],template:function(r,o){1&r&&f._UZ(0,"div",0),2&r&&f.MGl("id","",o.id,"-barchart")},encapsulation:2}),e})();const Fl=[{path:"",component:(()=>{class e extends T{constructor(r,o,a){super(),this.relationshipApi=r,this.characterApi=o,this.configurationApi=a,this.pagerankEigenvectorAndDegreeCentrality=[],this.configuration=Uc()}ngOnInit(){var r=this;this.subscribe(this.relationshipApi.cosmereRelationships(),o=>this.onRelationshipsChanges(o)),this.subscribe(this.characterApi.cosmereCharacters(),o=>this.onCharactersChanges(o)),this.subscribe(this.configurationApi.configuration(),o=>this.onConfigurationChanges(o)),(0,k.defer)((0,b.Z)(function*(){yield r.relationshipApi.fetchAllCosmereRelationship(),yield r.characterApi.fetchAllCosmereCharacter()}))}analyseNetwork(r){const o=(0,zl.dQ)(r),a=r.nodes(),l=(0,Il.pagerank)(r,{getEdgeWeight:void 0,maxIterations:300});this.pagerankCosmere=No(l);const d=qa()(r);this.betweennessCosmere=No(d);const y=Fs()(r);this.closenessCosmere=No(y),this.closenessCosmere=(0,k.reject)(this.closenessCosmere,Y=>1===Y.value);const S=Dl()(r,{maxIterations:200});this.eigenvectorCosmere=No(S);const A=(0,Tl.degreeCentrality)(r);this.degreeCentralityCosmere=No(A),this.pageRankNormalized=Qa(this.pagerankCosmere);const O=Qa(this.eigenvectorCosmere),H=Qa(this.degreeCentralityCosmere);this.pagerankEigenvectorAndDegreeCentrality=a.map(Y=>({label:Y,x:this.pageRankNormalized.find(K=>K.label===Y).value,y:O.find(K=>K.label===Y).value,z:H.find(K=>K.label===Y).value})).filter(Y=>Y.x>.3&&Y.y>.3),console.log("calculateClusteringCoefficient",(e=>{let i=0;return e.forEachNode(r=>{i+=((e,i)=>{const r=e.neighbors(i),o=r.length;if(o<2)return 0;let a=0;for(let l=0;l<o;l++){const d=r[l];for(let y=l+1;y<o;y++)e.hasEdge(d,r[y])&&a++}return 2*a/(o*(o-1))})(e,r)}),i/e.order})(o)),console.log("calculateEccentricityCoefficient",(e=>{let i=0;return e.forEachNode(r=>{i+=(0,Rl.eccentricity)(e,r)}),i/e.order})(o))}onRelationshipsChanges(r){this.relationships=r,this.analyseNetwork(this.graph())}onCharactersChanges(r){this.characters=r,this.analyseNetwork(this.graph())}onConfigurationChanges(r){this.configuration=r,this.analyseNetwork(this.graph())}filterRelationships(r){if(!this.configuration)return r;let o=r;return this.configuration.books.length>0&&(o=o.filter(a=>this.configuration.books.includes(a.bookId))),o}graph(){const r=this.filterRelationships(this.relationships),o=new Z.UndirectedGraph;return E(r).forEach(l=>o.addNode(this.getCharacterName(l))),r.forEach(l=>{o.hasEdge(this.getCharacterName(l.characterId1),this.getCharacterName(l.characterId2))||o.addEdge(this.getCharacterName(l.characterId1),this.getCharacterName(l.characterId2))}),o}getCharacterName(r){if(0===this.characters.length)return r;const o=rr(r,this.characters);return o&&o.name&&""!==o.name?o.name:r}}return e.\u0275fac=function(r){return new(r||e)(f.Y36(jr),f.Y36(Xr),f.Y36(Ws))},e.\u0275cmp=f.Xpm({type:e,selectors:[["network"]],features:[f.qOj],decls:28,vars:7,consts:[[1,"inset-0","flex","flex-col","min-w-0","w-full","h-screen"],[1,"mr-6"],[1,"flex","flex-col","p-10"],[1,"flex","flex-row","mt-5","gap-5"],[1,"flex","flex-col","p-10","basis-1/2"],[1,"text-xl","mb-5"],[1,"w-full",3,"data"],[1,"flex","flex-col","p-6","basis-1/2"],[1,"flex","flex-auto","w-full",3,"data","xLabel","yLabel"],[1,"flex","flex-auto","grow","p-6"],[1,"flex","flex-col","grow"]],template:function(r,o){1&r&&(f.TgZ(0,"div",0),f._UZ(1,"configuration",1),f.TgZ(2,"div",2),f.TgZ(3,"div",3),f.TgZ(4,"fuse-card",4),f.TgZ(5,"div",5),f._uU(6,"PageRank"),f.qZA(),f._UZ(7,"vertical-bar-chart",6),f.qZA(),f.TgZ(8,"fuse-card",7),f.TgZ(9,"div",5),f._uU(10,"Fractal protagonism"),f.qZA(),f._UZ(11,"chart-3d",8),f.qZA(),f.qZA(),f.TgZ(12,"div",3),f.TgZ(13,"fuse-card",9),f.TgZ(14,"div",10),f.TgZ(15,"div",5),f._uU(16,"Eigenvector"),f.qZA(),f._UZ(17,"bar-chart",6),f.qZA(),f.qZA(),f.TgZ(18,"fuse-card",9),f.TgZ(19,"div",10),f.TgZ(20,"div",5),f._uU(21,"Betweenness"),f.qZA(),f._UZ(22,"bar-chart",6),f.qZA(),f.qZA(),f.TgZ(23,"fuse-card",9),f.TgZ(24,"div",10),f.TgZ(25,"div",5),f._uU(26,"Closeness"),f.qZA(),f._UZ(27,"bar-chart",6),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&r&&(f.xp6(7),f.Q6J("data",o.pageRankNormalized),f.xp6(4),f.Q6J("data",o.pagerankEigenvectorAndDegreeCentrality)("xLabel","pagerank")("yLabel","eigenvector"),f.xp6(6),f.Q6J("data",o.eigenvectorCosmere),f.xp6(5),f.Q6J("data",o.betweennessCosmere),f.xp6(5),f.Q6J("data",o.closenessCosmere))},directives:[Yc,Zc.y,Ul,Bl,Yn],encapsulation:2}),e})()}];let pi=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[et.Bz.forChild(Fl),Us.ZD,Ka.J,ja,Xi.ez,Ps.m]]}),e})();const fe=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>wl},{path:"network",loadChildren:()=>kl},{path:"analysis",loadChildren:()=>pi}];let Zl=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[et.Bz.forChild(fe)]]}),e})()},3333:Mt=>{Mt.exports=function(z,et){var b=et.length;if(0!==b){var F=z.length;z.length+=b;for(var f=0;f<b;f++)z[F+f]=et[f]}}},7749:(Mt,dt,z)=>{var et=z(8487),b=z(6714),F=z(5568),f=z(8090),T=z(5766),N=z(8859).createRandomIndex,R=z(6956),x=R.UndirectedLouvainIndex,w=R.DirectedLouvainIndex,E={nodeCommunityAttribute:"community",getEdgeWeight:"weight",fastLocalMoves:!0,randomWalk:!0,resolution:1,rng:Math.random};function I(P,B,W){var L=P.get(B);void 0===L&&(L=0),P.set(B,L+=W)}function G(P,B,W,L,ot){return Math.abs(L-ot)<1e-10?P!==B&&W>P:L>ot}function Q(P,B,W){var ct,ft,Nt,Dt,Ht,ee,Jt,Qt,pe,me,Le,se,Se,ye,kt,Ot,Pe,Ie,L=new x(B,{getEdgeWeight:W.getEdgeWeight,keepDendrogram:P,resolution:W.resolution}),ot=N(W.rng),at=!0,gt=!0,wt=new f(Float64Array,L.C),Te=0,He=0,on=[];for(W.fastLocalMoves&&(Nt=new T(L.C));at;){if(se=L.C,at=!1,gt=!0,W.fastLocalMoves){for(Ie=0,Qt=W.randomWalk?ot(se):0,pe=0;pe<se;pe++,Qt++)Nt.enqueue(me=Qt%se);for(;0!==Nt.size;){for(me=Nt.dequeue(),He++,Se=0,wt.clear(),ct=L.belongings[me],Dt=L.starts[me],Ht=L.starts[me+1];Dt<Ht;Dt++)Se+=ee=L.weights[Dt],I(wt,ft=L.belongings[Le=L.neighborhood[Dt]],ee);for(kt=L.fastDeltaWithOwnCommunity(me,Se,wt.get(ct)||0,ct),ye=ct,Jt=0;Jt<wt.size;Jt++)(ft=wt.dense[Jt])!==ct&&(Te++,G(ye,ct,ft,Ot=L.fastDelta(me,Se,wt.vals[Jt],ft),kt)&&(kt=Ot,ye=ft));if(kt<0){if((ye=L.isolate(me,Se))===ct)continue}else{if(ye===ct)continue;L.move(me,Se,ye)}for(at=!0,Ie++,Dt=L.starts[me],Ht=L.starts[me+1];Dt<Ht;Dt++)(ft=L.belongings[Le=L.neighborhood[Dt]])!==ye&&Nt.enqueue(Le)}on.push(Ie)}else for(on.push(Pe=[]);gt;){for(gt=!1,Ie=0,Qt=W.randomWalk?ot(se):0,pe=0;pe<se;pe++,Qt++){for(me=Qt%se,He++,Se=0,wt.clear(),ct=L.belongings[me],Dt=L.starts[me],Ht=L.starts[me+1];Dt<Ht;Dt++)Se+=ee=L.weights[Dt],I(wt,ft=L.belongings[Le=L.neighborhood[Dt]],ee);for(kt=L.fastDeltaWithOwnCommunity(me,Se,wt.get(ct)||0,ct),ye=ct,Jt=0;Jt<wt.size;Jt++)(ft=wt.dense[Jt])!==ct&&(Te++,G(ye,ct,ft,Ot=L.fastDelta(me,Se,wt.vals[Jt],ft),kt)&&(kt=Ot,ye=ft));if(kt<0){if((ye=L.isolate(me,Se))===ct)continue}else{if(ye===ct)continue;L.move(me,Se,ye)}gt=!0,Ie++}Pe.push(Ie),at=gt||at}at&&L.zoomOut()}return{index:L,deltaComputations:Te,nodesVisited:He,moves:on}}function Z(P,B,W){var ct,ft,Nt,Dt,Ht,ee,Qt,pe,me,Le,se,Se,Je,ye,kt,Ot,Te,on,Re,pn,L=new w(B,{getEdgeWeight:W.getEdgeWeight,keepDendrogram:P,resolution:W.resolution}),ot=N(W.rng),at=!0,gt=!0,wt=new f(Float64Array,L.C),Pe=0,Ie=0,jn=[];for(W.fastLocalMoves&&(Nt=new T(L.C));at;){if(Je=L.C,at=!1,gt=!0,W.fastLocalMoves){for(pn=0,me=W.randomWalk?ot(Je):0,Le=0;Le<Je;Le++,me++)Nt.enqueue(se=me%Je);for(;0!==Nt.size;){for(se=Nt.dequeue(),Ie++,ye=0,kt=0,wt.clear(),ct=L.belongings[se],Dt=L.starts[se],Ht=L.starts[se+1],ee=L.offsets[se];Dt<Ht;Dt++)Qt=L.weights[Dt],Dt<ee?kt+=Qt:ye+=Qt,I(wt,ft=L.belongings[Se=L.neighborhood[Dt]],Qt);for(Te=L.deltaWithOwnCommunity(se,ye,kt,wt.get(ct)||0,ct),Ot=ct,pe=0;pe<wt.size;pe++)(ft=wt.dense[pe])!==ct&&(Pe++,G(Ot,ct,ft,on=L.delta(se,ye,kt,wt.vals[pe],ft),Te)&&(Te=on,Ot=ft));if(Te<0){if((Ot=L.isolate(se,ye,kt))===ct)continue}else{if(Ot===ct)continue;L.move(se,ye,kt,Ot)}for(at=!0,pn++,Dt=L.starts[se],Ht=L.starts[se+1];Dt<Ht;Dt++)(ft=L.belongings[Se=L.neighborhood[Dt]])!==Ot&&Nt.enqueue(Se)}jn.push(pn)}else for(jn.push(Re=[]);gt;){for(gt=!1,pn=0,me=W.randomWalk?ot(Je):0,Le=0;Le<Je;Le++,me++){for(se=me%Je,Ie++,ye=0,kt=0,wt.clear(),ct=L.belongings[se],Dt=L.starts[se],Ht=L.starts[se+1],ee=L.offsets[se];Dt<Ht;Dt++)Qt=L.weights[Dt],Dt<ee?kt+=Qt:ye+=Qt,I(wt,ft=L.belongings[Se=L.neighborhood[Dt]],Qt);for(Te=L.deltaWithOwnCommunity(se,ye,kt,wt.get(ct)||0,ct),Ot=ct,pe=0;pe<wt.size;pe++)(ft=wt.dense[pe])!==ct&&(Pe++,G(Ot,ct,ft,on=L.delta(se,ye,kt,wt.vals[pe],ft),Te)&&(Te=on,Ot=ft));if(Te<0){if((Ot=L.isolate(se,ye,kt))===ct)continue}else{if(Ot===ct)continue;L.move(se,ye,kt,Ot)}gt=!0,pn++}Re.push(pn),at=gt||at}at&&L.zoomOut()}return{index:L,deltaComputations:Pe,nodesVisited:Ie,moves:jn}}function X(P,B,W,L){if(!b(W))throw new Error("graphology-communities-louvain: the given graph is not a valid graphology instance.");var ot=F(W);if("mixed"===ot)throw new Error("graphology-communities-louvain: cannot run the algorithm on a true mixed graph.");L=et(L,E);var at=0;if(0===W.size){if(P)return void W.forEachNode(function(Dt){W.setNodeAttribute(Dt,L.nodeCommunityAttribute,at++)});var gt={};return W.forEachNode(function(Dt){gt[Dt]=at++}),B?{communities:gt,count:W.order,deltaComputations:0,dendrogram:null,level:0,modularity:NaN,moves:null,nodesVisited:0,resolution:L.resolution}:gt}var ft=("undirected"===ot?Q:Z)(B,W,L),wt=ft.index;if(!B)return P?void wt.assign(L.nodeCommunityAttribute):wt.collect();var Nt={count:wt.C,deltaComputations:ft.deltaComputations,dendrogram:wt.dendrogram,level:wt.level,modularity:wt.modularity(),moves:ft.moves,nodesVisited:ft.nodesVisited,resolution:L.resolution};return P?(wt.assign(L.nodeCommunityAttribute),Nt):(Nt.communities=wt.collect(),Nt)}var J=X.bind(null,!1,!1);J.assign=X.bind(null,!0,!1),J.detailed=X.bind(null,!1,!0),J.defaults=E,Mt.exports=J},5149:(Mt,dt,z)=>{var b=z(6714),F=z(6262).B,f=z(778).De,T=z(3882);dt.dQ=function k(Z){var X=function I(Z){if(!b(Z))throw new Error("graphology-components: the given graph is not a valid graphology instance.");if(!Z.order)return[];var B,X=new T(Z),J=X.push.bind(X),P=[];return X.forEachNodeYetUnseen(function(W){B=[],X.push(W);for(var L;0!==X.size;)L=X.pop(),B.push(L),Z.forEachNeighbor(L,J);return B.length>P.length&&(P=B),P.length>X.countUnseenNodes()}),P}(Z),J=Z.nullCopy();return X.forEach(function(P){F(J,P,Z.getNodeAttributes(P))}),Z.forEachEdge(function(P,B,W,L,ot,at,gt){J.hasNode(W)&&f(J,gt,P,W,L,B)}),J}},3882:Mt=>{function dt(z){this.graph=z,this.stack=new Array(z.order),this.seen=new Set,this.size=0}dt.prototype.hasAlreadySeenEverything=function(){return this.seen.size===this.graph.order},dt.prototype.countUnseenNodes=function(){return this.graph.order-this.seen.size},dt.prototype.forEachNodeYetUnseen=function(z){var et=this.seen,b=this.graph;b.someNode(function(F,f){return et.size===b.order||!et.has(F)&&!!z(F,f)})},dt.prototype.has=function(z){return this.seen.has(z)},dt.prototype.push=function(z){var et=this.seen.size;return this.seen.add(z),et!==this.seen.size&&(this.stack[this.size++]=z,!0)},dt.prototype.pushWith=function(z,et){var b=this.seen.size;return this.seen.add(z),b!==this.seen.size&&(this.stack[this.size++]=et,!0)},dt.prototype.pop=function(){if(0!==this.size)return this.stack[--this.size]},Mt.exports=dt},6956:(Mt,dt,z)=>{var et=z(6116),b=z(8487),F=z(2954).Q6,f=Symbol.for("nodejs.util.inspect.custom"),T={getEdgeWeight:"weight",keepDendrogram:!1,resolution:1};function N(x,w){var E=(w=b(w,T)).resolution,I=F(w.getEdgeWeight).fromEntry,k=2*(x.size-x.selfLoopCount),G=et.getPointerArray(k),Q=et.getPointerArray(x.order+1),Z=w.getEdgeWeight?Float64Array:et.getPointerArray(2*x.size);this.C=x.order,this.M=0,this.E=k,this.U=0,this.resolution=E,this.level=0,this.graph=x,this.nodes=new Array(x.order),this.keepDendrogram=w.keepDendrogram,this.neighborhood=new Q(k),this.weights=new Z(k),this.loops=new Z(x.order),this.starts=new G(x.order+1),this.belongings=new Q(x.order),this.dendrogram=[],this.mapping=null,this.counts=new Q(x.order),this.unused=new Q(x.order),this.totalWeights=new Z(x.order);var J,X={},P=0,B=0,W=this;x.forEachNode(function(L){W.nodes[P]=L,X[L]=P,B+=x.undirectedDegreeWithoutSelfLoops(L),W.starts[P]=B,W.belongings[P]=P,W.counts[P]=1,P++}),x.forEachEdge(function(L,ot,at,gt,ct,ft,wt){if(J=I(L,ot,at,gt,ct,ft,wt),at=X[at],gt=X[gt],W.M+=J,at===gt)W.totalWeights[at]+=2*J,W.loops[at]=2*J;else{W.totalWeights[at]+=J,W.totalWeights[gt]+=J;var Nt=--W.starts[at],Dt=--W.starts[gt];W.neighborhood[Nt]=gt,W.neighborhood[Dt]=at,W.weights[Nt]=J,W.weights[Dt]=J}}),this.starts[P]=this.E,this.keepDendrogram?this.dendrogram.push(this.belongings.slice()):this.mapping=this.belongings.slice()}function R(x,w){var E=(w=b(w,T)).resolution,I=F(w.getEdgeWeight).fromEntry,k=2*(x.size-x.selfLoopCount),G=et.getPointerArray(k),Q=et.getPointerArray(x.order+1),Z=w.getEdgeWeight?Float64Array:et.getPointerArray(2*x.size);this.C=x.order,this.M=0,this.E=k,this.U=0,this.resolution=E,this.level=0,this.graph=x,this.nodes=new Array(x.order),this.keepDendrogram=w.keepDendrogram,this.neighborhood=new Q(k),this.weights=new Z(k),this.loops=new Z(x.order),this.starts=new G(x.order+1),this.offsets=new G(x.order),this.belongings=new Q(x.order),this.dendrogram=[],this.counts=new Q(x.order),this.unused=new Q(x.order),this.totalInWeights=new Z(x.order),this.totalOutWeights=new Z(x.order);var J,X={},P=0,B=0,W=this;x.forEachNode(function(L){W.nodes[P]=L,X[L]=P,B+=x.outDegreeWithoutSelfLoops(L),W.starts[P]=B,B+=x.inDegreeWithoutSelfLoops(L),W.offsets[P]=B,W.belongings[P]=P,W.counts[P]=1,P++}),x.forEachEdge(function(L,ot,at,gt,ct,ft,wt){if(J=I(L,ot,at,gt,ct,ft,wt),at=X[at],gt=X[gt],W.M+=J,at===gt)W.loops[at]+=J,W.totalInWeights[at]+=J,W.totalOutWeights[at]+=J;else{W.totalOutWeights[at]+=J,W.totalInWeights[gt]+=J;var Nt=--W.starts[at],Dt=--W.offsets[gt];W.neighborhood[Nt]=gt,W.neighborhood[Dt]=at,W.weights[Nt]=J,W.weights[Dt]=J}}),this.starts[P]=this.E,this.keepDendrogram?this.dendrogram.push(this.belongings.slice()):this.mapping=this.belongings.slice()}N.prototype.isolate=function(x,w){var E=this.belongings[x];if(1===this.counts[E])return E;var I=this.unused[--this.U],k=this.loops[x];return this.totalWeights[E]-=w+k,this.totalWeights[I]+=w+k,this.belongings[x]=I,this.counts[E]--,this.counts[I]++,I},N.prototype.move=function(x,w,E){var I=this.belongings[x],k=this.loops[x];this.totalWeights[I]-=w+k,this.totalWeights[E]+=w+k,this.belongings[x]=E;var G=1==this.counts[I]--;this.counts[E]++,G&&(this.unused[this.U++]=I)},N.prototype.computeNodeDegree=function(x){var w,E,k=0;for(w=this.starts[x],E=this.starts[x+1];w<E;w++)k+=this.weights[w];return k},N.prototype.expensiveIsolate=function(x){var w=this.computeNodeDegree(x);return this.isolate(x,w)},N.prototype.expensiveMove=function(x,w){var E=this.computeNodeDegree(x);this.move(x,E,w)},N.prototype.zoomOut=function(){var G,Q,Z,X,J,P,B,W,L,ot,at,x=new Array(this.C-this.U),w={},E=this.nodes.length,I=0,k=0;for(G=0,Z=this.C;G<Z;G++)(P=this.belongings[G])in w||(w[P]=I,x[I]={adj:{},totalWeights:this.totalWeights[P],internalWeights:0},I++),this.belongings[G]=w[P];if(this.keepDendrogram){for(ot=this.dendrogram[this.level],at=new(et.getPointerArray(I))(E),G=0;G<E;G++)at[G]=this.belongings[ot[G]];this.dendrogram.push(at)}else for(G=0;G<E;G++)this.mapping[G]=this.belongings[this.mapping[G]];for(G=0,Z=this.C;G<Z;G++)for(L=(W=x[P=this.belongings[G]]).adj,W.internalWeights+=this.loops[G],Q=this.starts[G],X=this.starts[G+1];Q<X;Q++)P!==(B=this.belongings[J=this.neighborhood[Q]])?(B in L||(L[B]=0),L[B]+=this.weights[Q]):W.internalWeights+=this.weights[Q];for(this.C=I,J=0,P=0;P<I;P++)for(B in L=(W=x[P]).adj,this.totalWeights[P=+P]=W.totalWeights,this.loops[P]=W.internalWeights,this.counts[P]=1,this.starts[P]=J,this.belongings[P]=P,L)this.neighborhood[J]=+B,this.weights[J]=L[B],k++,J++;return this.starts[I]=k,this.E=k,this.U=0,this.level++,w},N.prototype.modularity=function(){var x,E,I,k,G=0,Q=2*this.M,Z=new Float64Array(this.C);for(E=0;E<this.C;E++)for(Z[x=this.belongings[E]]+=this.loops[E],I=this.starts[E],k=this.starts[E+1];I<k;I++)x===this.belongings[this.neighborhood[I]]&&(Z[x]+=this.weights[I]);for(E=0;E<this.C;E++)G+=Z[E]/Q-Math.pow(this.totalWeights[E]/Q,2)*this.resolution;return G},N.prototype.delta=function(x,w,E,I){var k=this.M;return E/k-this.totalWeights[I]*(w+=this.loops[x])*this.resolution/(2*k*k)},N.prototype.deltaWithOwnCommunity=function(x,w,E,I){var k=this.M;return E/k-(this.totalWeights[I]-(w+=this.loops[x]))*w*this.resolution/(2*k*k)},N.prototype.fastDelta=function(x,w,E,I){return E-(w+=this.loops[x])*this.totalWeights[I]*this.resolution/(2*this.M)},N.prototype.fastDeltaWithOwnCommunity=function(x,w,E,I){return E-(w+=this.loops[x])*(this.totalWeights[I]-w)*this.resolution/(2*this.M)},N.prototype.bounds=function(x){return[this.starts[x],this.starts[x+1]]},N.prototype.project=function(){var x=this,w={};return x.nodes.slice(0,this.C).forEach(function(E,I){w[E]=Array.from(x.neighborhood.slice(x.starts[I],x.starts[I+1])).map(function(k){return x.nodes[k]})}),w},N.prototype.collect=function(x){arguments.length<1&&(x=this.level);var I,k,w={},E=this.keepDendrogram?this.dendrogram[x]:this.mapping;for(I=0,k=E.length;I<k;I++)w[this.nodes[I]]=E[I];return w},N.prototype.assign=function(x,w){arguments.length<2&&(w=this.level);var I,k,E=this.keepDendrogram?this.dendrogram[w]:this.mapping;for(I=0,k=E.length;I<k;I++)this.graph.setNodeAttribute(this.nodes[I],x,E[I])},N.prototype[f]=function(){var x={};Object.defineProperty(x,"constructor",{value:N,enumerable:!1}),x.C=this.C,x.M=this.M,x.E=this.E,x.U=this.U,x.resolution=this.resolution,x.level=this.level,x.nodes=this.nodes,x.starts=this.starts.slice(0,x.C+1);var I=this;return["neighborhood","weights"].forEach(function(k){x[k]=I[k].slice(0,x.E)}),["counts","loops","belongings","totalWeights"].forEach(function(k){x[k]=I[k].slice(0,x.C)}),x.unused=this.unused.slice(0,this.U),this.keepDendrogram?x.dendrogram=this.dendrogram:x.mapping=this.mapping,x},R.prototype.bounds=N.prototype.bounds,R.prototype.inBounds=function(x){return[this.offsets[x],this.starts[x+1]]},R.prototype.outBounds=function(x){return[this.starts[x],this.offsets[x]]},R.prototype.project=N.prototype.project,R.prototype.projectIn=function(){var x=this,w={};return x.nodes.slice(0,this.C).forEach(function(E,I){w[E]=Array.from(x.neighborhood.slice(x.offsets[I],x.starts[I+1])).map(function(k){return x.nodes[k]})}),w},R.prototype.projectOut=function(){var x=this,w={};return x.nodes.slice(0,this.C).forEach(function(E,I){w[E]=Array.from(x.neighborhood.slice(x.starts[I],x.offsets[I])).map(function(k){return x.nodes[k]})}),w},R.prototype.isolate=function(x,w,E){var I=this.belongings[x];if(1===this.counts[I])return I;var k=this.unused[--this.U],G=this.loops[x];return this.totalInWeights[I]-=w+G,this.totalInWeights[k]+=w+G,this.totalOutWeights[I]-=E+G,this.totalOutWeights[k]+=E+G,this.belongings[x]=k,this.counts[I]--,this.counts[k]++,k},R.prototype.move=function(x,w,E,I){var k=this.belongings[x],G=this.loops[x];this.totalInWeights[k]-=w+G,this.totalInWeights[I]+=w+G,this.totalOutWeights[k]-=E+G,this.totalOutWeights[I]+=E+G,this.belongings[x]=I;var Q=1==this.counts[k]--;this.counts[I]++,Q&&(this.unused[this.U++]=k)},R.prototype.computeNodeInDegree=function(x){var w,E,k=0;for(w=this.offsets[x],E=this.starts[x+1];w<E;w++)k+=this.weights[w];return k},R.prototype.computeNodeOutDegree=function(x){var w,E,k=0;for(w=this.starts[x],E=this.offsets[x];w<E;w++)k+=this.weights[w];return k},R.prototype.expensiveMove=function(x,w){var E=this.computeNodeInDegree(x),I=this.computeNodeOutDegree(x);this.move(x,E,I,w)},R.prototype.zoomOut=function(){var G,Q,Z,X,J,P,B,W,L,ot,at,gt,ct,ft,wt,x=new Array(this.C-this.U),w={},E=this.nodes.length,I=0,k=0;for(G=0,Z=this.C;G<Z;G++)(P=this.belongings[G])in w||(w[P]=I,x[I]={inAdj:{},outAdj:{},totalInWeights:this.totalInWeights[P],totalOutWeights:this.totalOutWeights[P],internalWeights:0},I++),this.belongings[G]=w[P];if(this.keepDendrogram){for(ft=this.dendrogram[this.level],wt=new(et.getPointerArray(I))(E),G=0;G<E;G++)wt[G]=this.belongings[ft[G]];this.dendrogram.push(wt)}else for(G=0;G<E;G++)this.mapping[G]=this.belongings[this.mapping[G]];for(G=0,Z=this.C;G<Z;G++)for(L=this.offsets[G],gt=(W=x[P=this.belongings[G]]).inAdj,ct=W.outAdj,W.internalWeights+=this.loops[G],Q=this.starts[G],X=this.starts[G+1];Q<X;Q++)at=(ot=Q<L)?ct:gt,P!==(B=this.belongings[J=this.neighborhood[Q]])?(B in at||(at[B]=0),at[B]+=this.weights[Q]):ot&&(W.internalWeights+=this.weights[Q]);for(this.C=I,J=0,P=0;P<I;P++){for(B in gt=(W=x[P]).inAdj,ct=W.outAdj,this.totalInWeights[P=+P]=W.totalInWeights,this.totalOutWeights[P]=W.totalOutWeights,this.loops[P]=W.internalWeights,this.counts[P]=1,this.starts[P]=J,this.belongings[P]=P,ct)this.neighborhood[J]=+B,this.weights[J]=ct[B],k++,J++;for(B in this.offsets[P]=J,gt)this.neighborhood[J]=+B,this.weights[J]=gt[B],k++,J++}return this.starts[I]=k,this.E=k,this.U=0,this.level++,w},R.prototype.modularity=function(){var x,E,I,k,G=0,Q=this.M,Z=new Float64Array(this.C);for(E=0;E<this.C;E++)for(Z[x=this.belongings[E]]+=this.loops[E],I=this.starts[E],k=this.offsets[E];I<k;I++)x===this.belongings[this.neighborhood[I]]&&(Z[x]+=this.weights[I]);for(E=0;E<this.C;E++)G+=Z[E]/Q-this.totalInWeights[E]*this.totalOutWeights[E]/Math.pow(Q,2)*this.resolution;return G},R.prototype.delta=function(x,w,E,I,k){var G=this.M,X=this.loops[x];return I/G-((E+=X)*this.totalInWeights[k]+(w+=X)*this.totalOutWeights[k])*this.resolution/(G*G)},R.prototype.deltaWithOwnCommunity=function(x,w,E,I,k){var G=this.M,X=this.loops[x];return I/G-((E+=X)*(this.totalInWeights[k]-(w+=X))+w*(this.totalOutWeights[k]-E))*this.resolution/(G*G)},R.prototype.collect=N.prototype.collect,R.prototype.assign=N.prototype.assign,R.prototype[f]=function(){var x={};Object.defineProperty(x,"constructor",{value:R,enumerable:!1}),x.C=this.C,x.M=this.M,x.E=this.E,x.U=this.U,x.resolution=this.resolution,x.level=this.level,x.nodes=this.nodes,x.starts=this.starts.slice(0,x.C+1);var I=this;return["neighborhood","weights"].forEach(function(k){x[k]=I[k].slice(0,x.E)}),["counts","offsets","loops","belongings","totalInWeights","totalOutWeights"].forEach(function(k){x[k]=I[k].slice(0,x.C)}),x.unused=this.unused.slice(0,this.U),this.keepDendrogram?x.dendrogram=this.dendrogram:x.mapping=this.mapping,x},dt.UndirectedLouvainIndex=N,dt.DirectedLouvainIndex=R},6078:(Mt,dt,z)=>{var et=z(6116),b=z(2954).Q6;function F(N,R){return"outbound"===N||"inbound"===N?R.directedSize+2*R.undirectedSize:"in"===N||"out"===N||"directed"===N?R.directedSize:2*R.undirectedSize}function f(N,R){var x=N[(R=R||"outbound")+"Neighbors"].bind(N),w=F(R,N),E=et.getPointerArray(w),I=et.getPointerArray(N.order);this.graph=N,this.neighborhood=new I(w),this.starts=new E(N.order+1),this.nodes=N.nodes();var G,Q,Z,X,P,k={},B=0;for(G=0,Q=N.order;G<Q;G++)k[this.nodes[G]]=G;for(G=0,Q=N.order;G<Q;G++)for(P=x(this.nodes[G]),this.starts[G]=B,Z=0,X=P.length;Z<X;Z++)this.neighborhood[B++]=k[P[Z]];this.starts[G]=w}function T(N,R,x){var w=N[(x=x||"outbound")+"Edges"].bind(N),E=F(x,N),I=et.getPointerArray(E),k=et.getPointerArray(N.order),G=b(R).fromMinimalEntry;this.graph=N,this.neighborhood=new k(E),this.weights=new Float64Array(E),this.outDegrees=new Float64Array(N.order),this.starts=new I(N.order+1),this.nodes=N.nodes();var Z,X,J,P,B,W,L,ot,at,Q={},gt=0;for(Z=0,X=N.order;Z<X;Z++)Q[this.nodes[Z]]=Z;for(Z=0,X=N.order;Z<X;Z++)for(L=w(B=this.nodes[Z]),this.starts[Z]=gt,J=0,P=L.length;J<P;J++)W=N.opposite(B,ot=L[J]),at=G(ot,N.getEdgeAttributes(ot)),this.neighborhood[gt]=Q[W],this.weights[gt++]=at,this.outDegrees[Z]+=at;this.starts[Z]=E}f.prototype.bounds=function(N){return[this.starts[N],this.starts[N+1]]},f.prototype.project=function(){var N=this,R={};return N.nodes.forEach(function(x,w){R[x]=Array.from(N.neighborhood.slice(N.starts[w],N.starts[w+1])).map(function(E){return N.nodes[E]})}),R},f.prototype.collect=function(N){var R,x,w={};for(R=0,x=N.length;R<x;R++)w[this.nodes[R]]=N[R];return w},f.prototype.assign=function(N,R){var x=0;this.graph.updateEachNodeAttributes(function(w,E){return E[N]=R[x++],E},{attributes:[N]})},dt.NeighborhoodIndex=f,T.prototype.bounds=f.prototype.bounds,T.prototype.project=f.prototype.project,T.prototype.collect=f.prototype.collect,T.prototype.assign=f.prototype.assign,dt.WeightedNeighborhoodIndex=T},1063:(Mt,dt,z)=>{var et=z(6714),b=z(3933),F=z(8487),f=b.createUnweightedIndexedBrandes,T=b.createDijkstraIndexedBrandes,N={nodeCentralityAttribute:"betweennessCentrality",getEdgeWeight:"weight",normalized:!0};function R(w,E,I){if(!et(E))throw new Error("graphology-centrality/beetweenness-centrality: the given graph is not a valid graphology instance.");var X,J,P,B,W,L,ot,at,gt,ct,k=(I=F(I,N)).nodeCentralityAttribute,G=I.normalized,Q=I.getEdgeWeight?T(E,I.getEdgeWeight):f(E),Z=E.order,ft=new Float64Array(Z),wt=new Float64Array(Z);for(L=0;L<Z;L++){for(P=(X=Q(L))[1],B=X[2],ot=(J=X[0]).size;ot--;)ft[J.items[J.size-ot]]=0;for(;0!==J.size;){for(W=(1+ft[ct=J.pop()])/B[ct],ot=0,at=P[ct].length;ot<at;ot++)ft[gt=P[ct][ot]]+=B[gt]*W;ct!==L&&(wt[ct]+=ft[ct])}}var Nt;if(null!==(Nt=G?Z<=2?null:1/((Z-1)*(Z-2)):"undirected"===E.type?.5:null))for(L=0;L<Z;L++)wt[L]*=Nt;return w?Q.index.assign(k,wt):Q.index.collect(wt)}var x=R.bind(null,!1);x.assign=R.bind(null,!0),Mt.exports=x},3378:(Mt,dt,z)=>{var et=z(6714),b=z(8487),F=z(8740),f=z(4268),T=z(6078).NeighborhoodIndex,N={nodeCentralityAttribute:"closenessCentrality",wassermanFaust:!1};function R(E){this.index=new T(E,"inbound"),this.queue=new F(Array,E.order),this.seen=new f(E.order)}function x(E,I,k){if(!et(I))throw new Error("graphology-metrics/centrality/closeness: the given graph is not a valid graphology instance.");var X,J,P,B,W,G=(k=b(k,N)).wassermanFaust,Q=new R(I),Z=I.order,L=new Float64Array(Z);for(X=0;X<Z;X++)P=(J=Q.fromNode(X))[0],W=0,(B=J[1])>0&&Z>1&&(W=P/B,G&&(W*=P/(Z-1))),L[X]=W;return E?Q.index.assign(k.nodeCentralityAttribute,L):Q.index.collect(L)}R.prototype.fromNode=function(E){var I=this.index,k=this.queue,G=this.seen;G.clear(),k.clear(),G.add(E),k.push([E,0]);for(var Q,Z,X,J,P,B,W=0,L=0;0!==k.size;)for(0!==(X=(Q=k.shift())[1])&&(W+=X,L+=1),P=I.starts[(Z=Q[0])+1],J=I.starts[Z];J<P;J++)!G.has(B=I.neighborhood[J])&&(G.add(B),k.push([B,X+1]));return[L,W]};var w=x.bind(null,!1);w.assign=x.bind(null,!0),Mt.exports=w},5408:(Mt,dt,z)=>{var et=z(6714);function b(N,R,x,w){var E=R+"Centrality";if(!et(x))throw new Error("graphology-centrality/"+E+": the given graph is not a valid graphology instance.");if("degree"!==R&&"undirected"===x.type)throw new Error("graphology-centrality/"+E+": cannot compute "+R+" centrality on an undirected graph.");var I=(w=w||{}).nodeCentralityAttribute||E,k=x.order-1,G=x[R].bind(x);if(!N){var Q={};return x.forEachNode(function(Z){Q[Z]=G(Z)/k}),Q}x.updateEachNodeAttributes(function(Z,X){return X[I]=G(Z)/k,X},{attributes:[I]})}var F=b.bind(null,!1,"degree"),f=b.bind(null,!1,"inDegree"),T=b.bind(null,!1,"outDegree");F.assign=b.bind(null,!0,"degree"),f.assign=b.bind(null,!0,"inDegree"),T.assign=b.bind(null,!0,"outDegree"),dt.degreeCentrality=F,dt.inDegreeCentrality=f,dt.outDegreeCentrality=T},5894:(Mt,dt,z)=>{var et=z(6714),b=z(8487),F=z(6078).WeightedNeighborhoodIndex,f={nodeCentralityAttribute:"eigenvectorCentrality",getEdgeWeight:"weight",maxIterations:100,tolerance:1e-6};function T(x){for(var w=0,E=0,I=0,k=x.length;I<k;I++){var G=Math.abs(x[I]);G>w&&(E*=w/G*(w/G),w=G),E+=0===G&&0===w?0:G/w*(G/w)}return w===1/0?1:w*Math.sqrt(E)}function N(x,w,E){if(!et(w))throw new Error("graphology-metrics/centrality/eigenvector: the given graph is not a valid graphology instance.");var Z,X,J,I=(E=b(E,f)).maxIterations,k=E.tolerance,G=w.order,Q=new F(w,E.getEdgeWeight),B=new Float64Array(w.order);for(Z=0;Z<G;Z++)B[Z]=1/G;for(var at,gt,W=0,L=0,ct=!1;W<I;){for(at=B,B=new Float64Array(at),Z=0;Z<G;Z++)for(J=Q.starts[Z+1],X=Q.starts[Z];X<J;X++)B[Q.neighborhood[X]]+=at[Z]*Q.weights[X];for(gt=T(B),Z=0;Z<G;Z++)B[Z]/=gt;for(L=0,Z=0;Z<G;Z++)L+=Math.abs(B[Z]-at[Z]);if(L<G*k){ct=!0;break}W++}if(!ct)throw Error("graphology-metrics/centrality/eigenvector: failed to converge.");if(!x)return Q.collect(B);Q.assign(E.nodeCentralityAttribute,B)}var R=N.bind(null,!1);R.assign=N.bind(null,!0),Mt.exports=R},9850:(Mt,dt,z)=>{var et=z(8487),b=z(6714),F=z(2954).Q6,f={nodeAuthorityAttribute:"authority",nodeHubAttribute:"hub",getEdgeWeight:"weight",maxIterations:100,normalize:!0,tolerance:1e-8};function T(w,E){var k,G,I=Object.create(null);for(k=0,G=w.length;k<G;k++)I[w[k]]=E;return I}function N(w){var E=0;for(var I in w)E+=w[I];return E}function R(w,E,I){if(!b(E))throw new Error("graphology-hits: the given graph is not a valid graphology instance.");if(E.multi)throw new Error("graphology-hits: the HITS algorithm does not work with MultiGraphs.");I=et(I,f);var Z,B,W,L,ot,at,gt,ct,ft,wt,Nt,Dt,Ht,ee,k=F(I.getEdgeWeight).fromEntry,G=E.order,Q=E.nodes(),X=T(Q,1/G),J={},P=!1;for(E.forEachEdge(function(Jt,Qt,pe,me,Le,se,Se){J[Jt]=k(Jt,Qt,pe,me,Le,se,Se)}),gt=0;gt<I.maxIterations;gt++){for(B=X,X=T(Q,0),W=T(Q,0),ft=0,ct=0,Dt=0;Dt<G;Dt++)for(Ht=0,ee=(Z=E.outboundEdges(L=Q[Dt])).length;Ht<ee;Ht++)ot=E.opposite(L,at=Z[Ht]),W[ot]+=B[L]*J[at],W[ot]>ct&&(ct=W[ot]);for(Dt=0;Dt<G;Dt++)for(Ht=0,ee=(Z=E.outboundEdges(L=Q[Dt])).length;Ht<ee;Ht++)ot=E.opposite(L,at=Z[Ht]),X[L]+=W[ot]*J[at],X[ot]>ft&&(ft=X[ot]);for(L in Nt=1/ft,X)X[L]*=Nt;for(L in Nt=1/ct,W)W[L]*=Nt;for(L in wt=0,X)wt+=Math.abs(X[L]-B[L]);if(wt<I.tolerance){P=!0;break}}if(!P)throw Error("graphology-metrics/centrality/hits: failed to converge.");if(I.normalize){for(L in Nt=1/N(W),W)W[L]*=Nt;for(L in Nt=1/N(X),X)X[L]*=Nt}if(!w)return{hubs:X,authorities:W};E.updateEachNodeAttributes(function(Jt,Qt){return Qt[I.nodeAuthorityAttribute]=W[Jt],Qt[I.nodeHubAttribute]=X[Jt],Qt},{attributes:[I.nodeAuthorityAttribute,I.nodeHubAttribute]})}var x=R.bind(null,!1);x.assign=R.bind(null,!0),Mt.exports=x},5547:(Mt,dt,z)=>{z(5408);z(1063),z(3378),z(5894),z(9850),dt.pagerank=z(593)},593:(Mt,dt,z)=>{var et=z(6714),b=z(8487),F=z(6078).WeightedNeighborhoodIndex,f={nodePagerankAttribute:"pagerank",getEdgeWeight:"weight",alpha:.85,maxIterations:100,tolerance:1e-6};function T(R,x,w){if(!et(x))throw new Error("graphology-metrics/centrality/pagerank: the given graph is not a valid graphology instance.");var J,P,B,W,E=(w=b(w,f)).alpha,I=w.maxIterations,k=w.tolerance,G=w.nodePagerankAttribute,Q=x.order,Z=1/Q,X=new F(x,w.getEdgeWeight),L=new Float64Array(x.order),ot=new Float64Array(X.weights.length),at=[];for(J=0;J<Q;J++)for(L[J]=Z,B=X.starts[J+1],0===(W=X.outDegrees[J])&&at.push(J),P=X.starts[J];P<B;P++)ot[P]=X.weights[P]/W;for(var ft,Nt,gt=0,ct=0,Dt=!1;gt<I;){for(Nt=L,L=new Float64Array(x.order),ft=0,J=0,B=at.length;J<B;J++)ft+=Nt[at[J]];for(ft*=E,J=0;J<Q;J++){for(B=X.starts[J+1],P=X.starts[J];P<B;P++)L[X.neighborhood[P]]+=E*Nt[J]*ot[P];L[J]+=ft*Z+(1-E)*Z}for(ct=0,J=0;J<Q;J++)ct+=Math.abs(L[J]-Nt[J]);if(ct<Q*k){Dt=!0;break}gt++}if(!Dt)throw Error("graphology-metrics/centrality/pagerank: failed to converge.");if(!R)return X.collect(L);X.assign(G,L)}var N=T.bind(null,!1);N.assign=T.bind(null,!0),Mt.exports=N},3956:(Mt,dt,z)=>{var et=z(6714),b=z(4651).jZ;Mt.exports=function(f,T){if(!et(f))throw new Error("graphology-metrics/eccentricity: given graph is not a valid graphology instance.");if(0===f.size)return 1/0;var x,w,N=-1/0,R=b(f,T),E=0;for(x in R)(w=R[x])>N&&(N=w),E++;return E<f.order?1/0:N}},9637:(Mt,dt,z)=>{z(677);dt.eccentricity=z(3956)},677:(Mt,dt,z)=>{var et=z(6714);function F(f,T,N,R,x){if(!et(N))throw new Error("graphology-metrics/"+f+": the given graph is not a valid graphology instance.");x=x||"weight";var w=0;return N[T](R,function(E,I,k,G,Q,Z,X){var J="function"==typeof x?x(E,I,k,G,Q,Z,X):I[x];("number"!=typeof J||isNaN(J))&&(J=1),w+=J}),w}dt.weightedDegree=F.bind(null,"weightedDegree","forEachEdge"),dt.weightedInDegree=F.bind(null,"weightedInDegree","forEachInEdge"),dt.weightedOutDegree=F.bind(null,"weightedOutDegree","forEachOutEdge"),dt.weightedInboundDegree=F.bind(null,"weightedInboundDegree","forEachInboundEdge"),dt.weightedOutboundDegree=F.bind(null,"weightedOutboundDegree","forEachOutboundEdge"),dt.weightedUndirectedDegree=F.bind(null,"weightedUndirectedDegree","forEachUndirectedEdge"),dt.weightedDirectedDegree=F.bind(null,"weightedDirectedDegree","forEachDirectedEdge")},3933:(Mt,dt,z)=>{var et=z(8740),b=z(7451),F=z(4547),f=z(6116),T=z(6078),N=T.NeighborhoodIndex,R=T.WeightedNeighborhoodIndex;function x(w,E){return w[0]>E[0]?1:w[0]<E[0]?-1:w[1]>E[1]?1:w[1]<E[1]?-1:w[2]>E[2]?1:w[2]<E[2]?-1:w[3]>E[3]?1:w[3]<E[3]?-1:0}dt.createUnweightedIndexedBrandes=function(E){var I=new N(E),k=I.neighborhood,G=I.starts,Q=E.order,Z=new b(f.getPointerArray(Q),Q),X=new Uint32Array(Q),J=new Array(Q),P=new Int32Array(Q),B=new et(Uint32Array,Q),W=function(L){var ot,at,ct,ft,wt,Nt;for(wt=0;wt<Q;wt++)J[wt]=[],X[wt]=0,P[wt]=-1;for(X[L]=1,P[L]=0,B.push(L);0!==B.size;)for(wt=B.shift(),Z.push(wt),ot=P[wt],at=X[wt],ct=G[wt+1],ft=G[wt];ft<ct;ft++)-1===P[Nt=k[ft]]&&(B.push(Nt),P[Nt]=ot+1),P[Nt]===ot+1&&(X[Nt]+=at,J[Nt].push(wt));return[Z,J,X]};return W.index=I,W},dt.createDijkstraIndexedBrandes=function(E,I){var k=new R(E,I||"weight"),G=k.neighborhood,Q=k.weights,Z=k.starts,X=E.order,J=new b(f.getPointerArray(X),X),P=new Uint32Array(X),B=new Array(X),W=new Float64Array(X),L=new Float64Array(X),ot=new F(x),at=function(gt){var ft,wt,Nt,Dt,Ht,ee,Jt,Qt,pe=0;for(Jt=0;Jt<X;Jt++)B[Jt]=[],P[Jt]=0,W[Jt]=-1,L[Jt]=-1;for(P[gt]=1,L[gt]=0,ot.push([0,pe++,gt,gt]);0!==ot.size;)if(Nt=(wt=ot.pop())[0],Dt=wt[2],-1===W[Jt=wt[3]])for(J.push(Jt),W[Jt]=Nt,P[Jt]+=P[Dt],ft=Z[Jt+1],ee=Z[Jt];ee<ft;ee++)Ht=Nt+Q[ee],-1===W[Qt=G[ee]]&&(-1===L[Qt]||Ht<L[Qt])?(L[Qt]=Ht,ot.push([Ht,pe++,Jt,Qt]),P[Qt]=0,B[Qt]=[Jt]):Ht===L[Qt]&&(P[Qt]+=P[Jt],B[Qt].push(Jt));return[J,B,P]};return at.index=k,at}},4651:(Mt,dt,z)=>{var b=z(6714),f=(z(7621),z(3333));function R(I,k,G){if(!b(k))throw new Error("graphology-shortest-path: invalid graphology instance.");if(!k.hasNode(G))throw new Error('graphology-shortest-path: the "'+G+'" source node does not exist in the given graph.');G=""+G;var Q=new Set,Z={},X=0;Z[G]=0;for(var P,B,W,J=[G];0!==J.length;){var L=[];for(P=0,B=J.length;P<B;P++)!Q.has(W=J[P])&&(Q.add(W),f(L,k[I](W)),Z[W]=X);X++,J=L}return Z}var x=R.bind(null,"outboundNeighbors");R.bind(null,"neighbors");dt.jZ=x},778:(Mt,dt)=>{dt.De=function(b,F,f,T,N,R){return R=Object.assign({},R),F?null==f?b.addUndirectedEdge(T,N,R):b.addUndirectedEdgeWithKey(f,T,N,R):null==f?b.addDirectedEdge(T,N,R):b.addDirectedEdgeWithKey(f,T,N,R)}},6262:(Mt,dt)=>{dt.B=function(z,et,b){return b=Object.assign({},b),z.addNode(et,b)}},8487:Mt=>{function dt(et){return!et||"object"!=typeof et||"function"==typeof et||Array.isArray(et)||et instanceof Set||et instanceof Map||et instanceof RegExp||et instanceof Date}Mt.exports=function z(et,b){et=et||{};var F={};for(var f in b){var T=et[f],N=b[f];F[f]=dt(N)?void 0===T?N:T:z(T,N)}return F}},2954:(Mt,dt)=>{function et(f){return"number"!=typeof f||isNaN(f)?1:f}dt.Q6=function(f){return function F(f,T){var N={},R=function(E){return void 0===E?T:E};"function"==typeof T&&(R=T);var x=function(E){return R(E[f])},w=function(){return R(void 0)};return"string"==typeof f?(N.fromAttributes=x,N.fromGraph=function(E,I){return x(E.getEdgeAttributes(I))},N.fromEntry=function(E,I){return x(I)},N.fromPartialEntry=N.fromEntry,N.fromMinimalEntry=N.fromEntry):"function"==typeof f?(N.fromAttributes=function(){throw new Error("graphology-utils/getters/createEdgeValueGetter: irrelevant usage.")},N.fromGraph=function(E,I){var k=E.extremities(I);return R(f(I,E.getEdgeAttributes(I),k[0],k[1],E.getNodeAttributes(k[0]),E.getNodeAttributes(k[1]),E.isUndirected(I)))},N.fromEntry=function(E,I,k,G,Q,Z,X){return R(f(E,I,k,G,Q,Z,X))},N.fromPartialEntry=function(E,I,k,G){return R(f(E,I,k,G))},N.fromMinimalEntry=function(E,I){return R(f(E,I))}):(N.fromAttributes=w,N.fromGraph=w,N.fromEntry=w,N.fromMinimalEntry=w),N}(f,et)}},5568:(Mt,dt,z)=>{var et=z(6714);Mt.exports=function(F){if(!et(F))throw new Error("graphology-utils/infer-type: expecting a valid graphology instance.");var f=F.type;return"mixed"!==f?f:0===F.directedSize&&0===F.undirectedSize||F.directedSize>0&&F.undirectedSize>0?"mixed":F.directedSize>0?"directed":"undirected"}},6714:Mt=>{Mt.exports=function(z){return null!==z&&"object"==typeof z&&"function"==typeof z.addUndirectedEdgeWithKey&&"function"==typeof z.dropNode&&"boolean"==typeof z.multi}},5595:function(Mt){Mt.exports=function(){"use strict";function dt(g){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(g)}function z(g,_){g.prototype=Object.create(_.prototype),g.prototype.constructor=g,b(g,_)}function et(g){return(et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)})(g)}function b(g,_){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,u){return p.__proto__=u,p})(g,_)}function F(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}function f(g,_,p){return(f=F()?Reflect.construct.bind():function(u,c,v){var M=[null];M.push.apply(M,c);var U=new(Function.bind.apply(u,M));return v&&b(U,v.prototype),U}).apply(null,arguments)}function T(g){var _="function"==typeof Map?new Map:void 0;return T=function(p){if(null===p||-1===Function.toString.call(p).indexOf("[native code]"))return p;if("function"!=typeof p)throw new TypeError("Super expression must either be null or a function");if(void 0!==_){if(_.has(p))return _.get(p);_.set(p,c)}function c(){return f(p,arguments,et(this).constructor)}return c.prototype=Object.create(p.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),b(c,p)},T(g)}function N(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}var R=function(){for(var g=arguments[0],_=1,p=arguments.length;_<p;_++)if(arguments[_])for(var u in arguments[_])g[u]=arguments[_][u];return g};function x(g,_,p,u){var c=g._nodes.get(_),v=null;return c?v="mixed"===u?c.out&&c.out[p]||c.undirected&&c.undirected[p]:"directed"===u?c.out&&c.out[p]:c.undirected&&c.undirected[p]:v}function w(g){return"object"===dt(g)&&null!==g&&g.constructor===Object}function E(g){var _;for(_ in g)return!1;return!0}function I(g,_,p){Object.defineProperty(g,_,{enumerable:!1,configurable:!1,writable:!0,value:p})}function k(g,_,p){var u={enumerable:!0,configurable:!0};"function"==typeof p?u.get=p:(u.value=p,u.writable=!1),Object.defineProperty(g,_,u)}function G(g){return!(!w(g)||g.attributes&&!Array.isArray(g.attributes))}"function"==typeof Object.assign&&(R=Object.assign);var Q,Z={exports:{}},X="object"==typeof Reflect?Reflect:null,J=X&&"function"==typeof X.apply?X.apply:function(g,_,p){return Function.prototype.apply.call(g,_,p)};Q=X&&"function"==typeof X.ownKeys?X.ownKeys:Object.getOwnPropertySymbols?function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:function(g){return Object.getOwnPropertyNames(g)};var P=Number.isNaN||function(g){return g!=g};function B(){B.init.call(this)}Z.exports=B,Z.exports.once=function(g,_){return new Promise(function(p,u){function c(M){g.removeListener(_,v),u(M)}function v(){"function"==typeof g.removeListener&&g.removeListener("error",c),p([].slice.call(arguments))}var M;Dt(g,_,v,{once:!0}),"error"!==_&&("function"==typeof(M=g).on&&Dt(M,"error",c,{once:!0}))})},B.EventEmitter=B,B.prototype._events=void 0,B.prototype._eventsCount=0,B.prototype._maxListeners=void 0;var W=10;function L(g){if("function"!=typeof g)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof g)}function ot(g){return void 0===g._maxListeners?B.defaultMaxListeners:g._maxListeners}function at(g,_,p,u){var c,v,M;if(L(p),void 0===(v=g._events)?(v=g._events=Object.create(null),g._eventsCount=0):(void 0!==v.newListener&&(g.emit("newListener",_,p.listener?p.listener:p),v=g._events),M=v[_]),void 0===M)M=v[_]=p,++g._eventsCount;else if("function"==typeof M?M=v[_]=u?[p,M]:[M,p]:u?M.unshift(p):M.push(p),(c=ot(g))>0&&M.length>c&&!M.warned){M.warned=!0;var rt=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(_)+" listeners added. Use emitter.setMaxListeners() to increase limit");rt.name="MaxListenersExceededWarning",rt.emitter=g,rt.type=_,rt.count=M.length,console&&console.warn&&console.warn(rt)}return g}function gt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ct(g,_,p){var u={fired:!1,wrapFn:void 0,target:g,type:_,listener:p},c=gt.bind(u);return c.listener=p,u.wrapFn=c,c}function ft(g,_,p){var u=g._events;if(void 0===u)return[];var c=u[_];return void 0===c?[]:"function"==typeof c?p?[c.listener||c]:[c]:p?function(v){for(var M=new Array(v.length),U=0;U<M.length;++U)M[U]=v[U].listener||v[U];return M}(c):Nt(c,c.length)}function wt(g){var _=this._events;if(void 0!==_){var p=_[g];if("function"==typeof p)return 1;if(void 0!==p)return p.length}return 0}function Nt(g,_){for(var p=new Array(_),u=0;u<_;++u)p[u]=g[u];return p}function Dt(g,_,p,u){if("function"==typeof g.on)u.once?g.once(_,p):g.on(_,p);else{if("function"!=typeof g.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof g);g.addEventListener(_,function c(v){u.once&&g.removeEventListener(_,c),p(v)})}}function Ht(g){if("function"!=typeof g)throw new Error("obliterator/iterator: expecting a function!");this.next=g}Object.defineProperty(B,"defaultMaxListeners",{enumerable:!0,get:function(){return W},set:function(g){if("number"!=typeof g||g<0||P(g))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+g+".");W=g}}),B.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},B.prototype.setMaxListeners=function(g){if("number"!=typeof g||g<0||P(g))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+g+".");return this._maxListeners=g,this},B.prototype.getMaxListeners=function(){return ot(this)},B.prototype.emit=function(g){for(var _=[],p=1;p<arguments.length;p++)_.push(arguments[p]);var u="error"===g,c=this._events;if(void 0!==c)u=u&&void 0===c.error;else if(!u)return!1;if(u){var v;if(_.length>0&&(v=_[0]),v instanceof Error)throw v;var M=new Error("Unhandled error."+(v?" ("+v.message+")":""));throw M.context=v,M}var U=c[g];if(void 0===U)return!1;if("function"==typeof U)J(U,this,_);else{var rt=U.length,At=Nt(U,rt);for(p=0;p<rt;++p)J(At[p],this,_)}return!0},B.prototype.on=B.prototype.addListener=function(g,_){return at(this,g,_,!1)},B.prototype.prependListener=function(g,_){return at(this,g,_,!0)},B.prototype.once=function(g,_){return L(_),this.on(g,ct(this,g,_)),this},B.prototype.prependOnceListener=function(g,_){return L(_),this.prependListener(g,ct(this,g,_)),this},B.prototype.off=B.prototype.removeListener=function(g,_){var p,u,c,v,M;if(L(_),void 0===(u=this._events))return this;if(void 0===(p=u[g]))return this;if(p===_||p.listener===_)0==--this._eventsCount?this._events=Object.create(null):(delete u[g],u.removeListener&&this.emit("removeListener",g,p.listener||_));else if("function"!=typeof p){for(c=-1,v=p.length-1;v>=0;v--)if(p[v]===_||p[v].listener===_){M=p[v].listener,c=v;break}if(c<0)return this;0===c?p.shift():function(U,rt){for(;rt+1<U.length;rt++)U[rt]=U[rt+1];U.pop()}(p,c),1===p.length&&(u[g]=p[0]),void 0!==u.removeListener&&this.emit("removeListener",g,M||_)}return this},B.prototype.removeAllListeners=function(g){var _,p,u;if(void 0===(p=this._events))return this;if(void 0===p.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==p[g]&&(0==--this._eventsCount?this._events=Object.create(null):delete p[g]),this;if(0===arguments.length){var c,v=Object.keys(p);for(u=0;u<v.length;++u)"removeListener"!==(c=v[u])&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(_=p[g]))this.removeListener(g,_);else if(void 0!==_)for(u=_.length-1;u>=0;u--)this.removeListener(g,_[u]);return this},B.prototype.listeners=function(g){return ft(this,g,!0)},B.prototype.rawListeners=function(g){return ft(this,g,!1)},B.listenerCount=function(g,_){return"function"==typeof g.listenerCount?g.listenerCount(_):wt.call(g,_)},B.prototype.listenerCount=wt,B.prototype.eventNames=function(){return this._eventsCount>0?Q(this._events):[]},"undefined"!=typeof Symbol&&(Ht.prototype[Symbol.iterator]=function(){return this}),Ht.of=function(){var g=arguments,_=g.length,p=0;return new Ht(function(){return p>=_?{done:!0}:{done:!1,value:g[p++]}})},Ht.empty=function(){return new Ht(function(){return{done:!0}})},Ht.fromSequence=function(g){var _=0,p=g.length;return new Ht(function(){return _>=p?{done:!0}:{done:!1,value:g[_++]}})},Ht.is=function(g){return g instanceof Ht||"object"==typeof g&&null!==g&&"function"==typeof g.next};var ee=Ht,Jt={};Jt.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,Jt.SYMBOL_SUPPORT="undefined"!=typeof Symbol;var Qt=ee,me=Jt.ARRAY_BUFFER_SUPPORT,Le=Jt.SYMBOL_SUPPORT,se=function(g){var p,_="string"==typeof(p=g)||Array.isArray(p)||me&&ArrayBuffer.isView(p)?Qt.fromSequence(p):"object"!=typeof p||null===p?null:Le&&"function"==typeof p[Symbol.iterator]?p[Symbol.iterator]():"function"==typeof p.next?p:null;if(!_)throw new Error("obliterator: target is not iterable nor a valid iterator.");return _},Se=se,Je=function(g,_){for(var p,u=arguments.length>1?_:1/0,c=u!==1/0?new Array(u):[],v=0,M=Se(g);;){if(v===u)return c;if((p=M.next()).done)return v!==_&&(c.length=v),c;c[v++]=p.value}},ye=function(g){function _(p){var u;return(u=g.call(this)||this).name="GraphError",u.message=p,u}return z(_,g),_}(T(Error)),kt=function(g){function _(p){var u;return(u=g.call(this,p)||this).name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(N(u),_.prototype.constructor),u}return z(_,g),_}(ye),It=function(g){function _(p){var u;return(u=g.call(this,p)||this).name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(N(u),_.prototype.constructor),u}return z(_,g),_}(ye),Ot=function(g){function _(p){var u;return(u=g.call(this,p)||this).name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(N(u),_.prototype.constructor),u}return z(_,g),_}(ye);function Te(g,_){this.key=g,this.attributes=_,this.clear()}function He(g,_){this.key=g,this.attributes=_,this.clear()}function on(g,_){this.key=g,this.attributes=_,this.clear()}function Pe(g,_,p,u,c){this.key=_,this.attributes=c,this.undirected=g,this.source=p,this.target=u}function Ie(g,_,p,u,c,v,M){var U,rt,At,Et;if(u=""+u,0===p){if(!(U=g._nodes.get(u)))throw new It("Graph.".concat(_,': could not find the "').concat(u,'" node in the graph.'));At=c,Et=v}else if(3===p){if(!(rt=g._edges.get(c=""+c)))throw new It("Graph.".concat(_,': could not find the "').concat(c,'" edge in the graph.'));var yt=rt.source.key,Lt=rt.target.key;if(u===yt)U=rt.target;else{if(u!==Lt)throw new It("Graph.".concat(_,': the "').concat(u,'" node is not attached to the "').concat(c,'" edge (').concat(yt,", ").concat(Lt,")."));U=rt.source}At=v,Et=M}else{if(!(rt=g._edges.get(u)))throw new It("Graph.".concat(_,': could not find the "').concat(u,'" edge in the graph.'));U=1===p?rt.source:rt.target,At=c,Et=v}return[U,At,Et]}Te.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}},He.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}},on.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}},Pe.prototype.attach=function(){var g="out",_="in";this.undirected&&(g=_="undirected");var p=this.source.key,u=this.target.key;this.source[g][u]=this,this.undirected&&p===u||(this.target[_][p]=this)},Pe.prototype.attachMulti=function(){var g="out",_="in",p=this.source.key,u=this.target.key;this.undirected&&(g=_="undirected");var c=this.source[g],v=c[u];if(void 0===v)return c[u]=this,void(this.undirected&&p===u||(this.target[_][p]=this));v.previous=this,this.next=v,c[u]=this,this.target[_][p]=this},Pe.prototype.detach=function(){var g=this.source.key,p="out",u="in";this.undirected&&(p=u="undirected"),delete this.source[p][this.target.key],delete this.target[u][g]},Pe.prototype.detachMulti=function(){var g=this.source.key,_=this.target.key,p="out",u="in";this.undirected&&(p=u="undirected"),void 0===this.previous?void 0===this.next?(delete this.source[p][_],delete this.target[u][g]):(this.next.previous=void 0,this.source[p][_]=this.next,this.target[u][g]=this.next):(this.previous.next=this.next,void 0!==this.next&&(this.next.previous=this.previous))};var jn=[{name:function(g){return"get".concat(g,"Attribute")},attacher:function(g,_,p){g.prototype[_]=function(u,c,v){var M=Ie(this,_,p,u,c,v);return M[0].attributes[M[1]]}}},{name:function(g){return"get".concat(g,"Attributes")},attacher:function(g,_,p){g.prototype[_]=function(u,c){return Ie(this,_,p,u,c)[0].attributes}}},{name:function(g){return"has".concat(g,"Attribute")},attacher:function(g,_,p){g.prototype[_]=function(u,c,v){var M=Ie(this,_,p,u,c,v);return M[0].attributes.hasOwnProperty(M[1])}}},{name:function(g){return"set".concat(g,"Attribute")},attacher:function(g,_,p){g.prototype[_]=function(u,c,v,M){var U=Ie(this,_,p,u,c,v,M),rt=U[0],At=U[1];return rt.attributes[At]=U[2],this.emit("nodeAttributesUpdated",{key:rt.key,type:"set",attributes:rt.attributes,name:At}),this}}},{name:function(g){return"update".concat(g,"Attribute")},attacher:function(g,_,p){g.prototype[_]=function(u,c,v,M){var U=Ie(this,_,p,u,c,v,M),rt=U[0],At=U[1],Et=U[2];if("function"!=typeof Et)throw new kt("Graph.".concat(_,": updater should be a function."));var yt=rt.attributes,Lt=Et(yt[At]);return yt[At]=Lt,this.emit("nodeAttributesUpdated",{key:rt.key,type:"set",attributes:rt.attributes,name:At}),this}}},{name:function(g){return"remove".concat(g,"Attribute")},attacher:function(g,_,p){g.prototype[_]=function(u,c,v){var M=Ie(this,_,p,u,c,v),U=M[0],rt=M[1];return delete U.attributes[rt],this.emit("nodeAttributesUpdated",{key:U.key,type:"remove",attributes:U.attributes,name:rt}),this}}},{name:function(g){return"replace".concat(g,"Attributes")},attacher:function(g,_,p){g.prototype[_]=function(u,c,v){var M=Ie(this,_,p,u,c,v),U=M[0],rt=M[1];if(!w(rt))throw new kt("Graph.".concat(_,": provided attributes are not a plain object."));return U.attributes=rt,this.emit("nodeAttributesUpdated",{key:U.key,type:"replace",attributes:U.attributes}),this}}},{name:function(g){return"merge".concat(g,"Attributes")},attacher:function(g,_,p){g.prototype[_]=function(u,c,v){var M=Ie(this,_,p,u,c,v),U=M[0],rt=M[1];if(!w(rt))throw new kt("Graph.".concat(_,": provided attributes are not a plain object."));return R(U.attributes,rt),this.emit("nodeAttributesUpdated",{key:U.key,type:"merge",attributes:U.attributes,data:rt}),this}}},{name:function(g){return"update".concat(g,"Attributes")},attacher:function(g,_,p){g.prototype[_]=function(u,c,v){var M=Ie(this,_,p,u,c,v),U=M[0],rt=M[1];if("function"!=typeof rt)throw new kt("Graph.".concat(_,": provided updater is not a function."));return U.attributes=rt(U.attributes),this.emit("nodeAttributesUpdated",{key:U.key,type:"update",attributes:U.attributes}),this}}}],Re=[{name:function(g){return"get".concat(g,"Attribute")},attacher:function(g,_,p){g.prototype[_]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==p&&p!==this.type)throw new Ot("Graph.".concat(_,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Ot("Graph.".concat(_,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var M=""+u,U=""+c;if(c=arguments[2],!(v=x(this,M,U,p)))throw new It("Graph.".concat(_,': could not find an edge for the given path ("').concat(M,'" - "').concat(U,'").'))}else{if("mixed"!==p)throw new Ot("Graph.".concat(_,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new It("Graph.".concat(_,': could not find the "').concat(u,'" edge in the graph.'))}return v.attributes[c]}}},{name:function(g){return"get".concat(g,"Attributes")},attacher:function(g,_,p){g.prototype[_]=function(u){var c;if("mixed"!==this.type&&"mixed"!==p&&p!==this.type)throw new Ot("Graph.".concat(_,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new Ot("Graph.".concat(_,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var v=""+u,M=""+arguments[1];if(!(c=x(this,v,M,p)))throw new It("Graph.".concat(_,': could not find an edge for the given path ("').concat(v,'" - "').concat(M,'").'))}else{if("mixed"!==p)throw new Ot("Graph.".concat(_,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(c=this._edges.get(u=""+u)))throw new It("Graph.".concat(_,': could not find the "').concat(u,'" edge in the graph.'))}return c.attributes}}},{name:function(g){return"has".concat(g,"Attribute")},attacher:function(g,_,p){g.prototype[_]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==p&&p!==this.type)throw new Ot("Graph.".concat(_,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Ot("Graph.".concat(_,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var M=""+u,U=""+c;if(c=arguments[2],!(v=x(this,M,U,p)))throw new It("Graph.".concat(_,': could not find an edge for the given path ("').concat(M,'" - "').concat(U,'").'))}else{if("mixed"!==p)throw new Ot("Graph.".concat(_,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new It("Graph.".concat(_,': could not find the "').concat(u,'" edge in the graph.'))}return v.attributes.hasOwnProperty(c)}}},{name:function(g){return"set".concat(g,"Attribute")},attacher:function(g,_,p){g.prototype[_]=function(u,c,v){var M;if("mixed"!==this.type&&"mixed"!==p&&p!==this.type)throw new Ot("Graph.".concat(_,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new Ot("Graph.".concat(_,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var U=""+u,rt=""+c;if(c=arguments[2],v=arguments[3],!(M=x(this,U,rt,p)))throw new It("Graph.".concat(_,': could not find an edge for the given path ("').concat(U,'" - "').concat(rt,'").'))}else{if("mixed"!==p)throw new Ot("Graph.".concat(_,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(M=this._edges.get(u=""+u)))throw new It("Graph.".concat(_,': could not find the "').concat(u,'" edge in the graph.'))}return M.attributes[c]=v,this.emit("edgeAttributesUpdated",{key:M.key,type:"set",attributes:M.attributes,name:c}),this}}},{name:function(g){return"update".concat(g,"Attribute")},attacher:function(g,_,p){g.prototype[_]=function(u,c,v){var M;if("mixed"!==this.type&&"mixed"!==p&&p!==this.type)throw new Ot("Graph.".concat(_,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new Ot("Graph.".concat(_,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var U=""+u,rt=""+c;if(c=arguments[2],v=arguments[3],!(M=x(this,U,rt,p)))throw new It("Graph.".concat(_,': could not find an edge for the given path ("').concat(U,'" - "').concat(rt,'").'))}else{if("mixed"!==p)throw new Ot("Graph.".concat(_,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(M=this._edges.get(u=""+u)))throw new It("Graph.".concat(_,': could not find the "').concat(u,'" edge in the graph.'))}if("function"!=typeof v)throw new kt("Graph.".concat(_,": updater should be a function."));return M.attributes[c]=v(M.attributes[c]),this.emit("edgeAttributesUpdated",{key:M.key,type:"set",attributes:M.attributes,name:c}),this}}},{name:function(g){return"remove".concat(g,"Attribute")},attacher:function(g,_,p){g.prototype[_]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==p&&p!==this.type)throw new Ot("Graph.".concat(_,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Ot("Graph.".concat(_,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var M=""+u,U=""+c;if(c=arguments[2],!(v=x(this,M,U,p)))throw new It("Graph.".concat(_,': could not find an edge for the given path ("').concat(M,'" - "').concat(U,'").'))}else{if("mixed"!==p)throw new Ot("Graph.".concat(_,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new It("Graph.".concat(_,': could not find the "').concat(u,'" edge in the graph.'))}return delete v.attributes[c],this.emit("edgeAttributesUpdated",{key:v.key,type:"remove",attributes:v.attributes,name:c}),this}}},{name:function(g){return"replace".concat(g,"Attributes")},attacher:function(g,_,p){g.prototype[_]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==p&&p!==this.type)throw new Ot("Graph.".concat(_,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Ot("Graph.".concat(_,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var M=""+u,U=""+c;if(c=arguments[2],!(v=x(this,M,U,p)))throw new It("Graph.".concat(_,': could not find an edge for the given path ("').concat(M,'" - "').concat(U,'").'))}else{if("mixed"!==p)throw new Ot("Graph.".concat(_,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new It("Graph.".concat(_,': could not find the "').concat(u,'" edge in the graph.'))}if(!w(c))throw new kt("Graph.".concat(_,": provided attributes are not a plain object."));return v.attributes=c,this.emit("edgeAttributesUpdated",{key:v.key,type:"replace",attributes:v.attributes}),this}}},{name:function(g){return"merge".concat(g,"Attributes")},attacher:function(g,_,p){g.prototype[_]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==p&&p!==this.type)throw new Ot("Graph.".concat(_,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Ot("Graph.".concat(_,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var M=""+u,U=""+c;if(c=arguments[2],!(v=x(this,M,U,p)))throw new It("Graph.".concat(_,': could not find an edge for the given path ("').concat(M,'" - "').concat(U,'").'))}else{if("mixed"!==p)throw new Ot("Graph.".concat(_,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new It("Graph.".concat(_,': could not find the "').concat(u,'" edge in the graph.'))}if(!w(c))throw new kt("Graph.".concat(_,": provided attributes are not a plain object."));return R(v.attributes,c),this.emit("edgeAttributesUpdated",{key:v.key,type:"merge",attributes:v.attributes,data:c}),this}}},{name:function(g){return"update".concat(g,"Attributes")},attacher:function(g,_,p){g.prototype[_]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==p&&p!==this.type)throw new Ot("Graph.".concat(_,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Ot("Graph.".concat(_,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var M=""+u,U=""+c;if(c=arguments[2],!(v=x(this,M,U,p)))throw new It("Graph.".concat(_,': could not find an edge for the given path ("').concat(M,'" - "').concat(U,'").'))}else{if("mixed"!==p)throw new Ot("Graph.".concat(_,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new It("Graph.".concat(_,': could not find the "').concat(u,'" edge in the graph.'))}if("function"!=typeof c)throw new kt("Graph.".concat(_,": provided updater is not a function."));return v.attributes=c(v.attributes),this.emit("edgeAttributesUpdated",{key:v.key,type:"update",attributes:v.attributes}),this}}}],pn=ee,ji=se,Ue=function(){var g=arguments,_=null,p=-1;return new pn(function(){for(var u=null;;){if(null===_){if(++p>=g.length)return{done:!0};_=ji(g[p])}if(!0!==(u=_.next()).done)break;_=null}return u})},Ki=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function Ys(g,_,p,u){var c=!1;for(var v in _)if(v!==u){var M=_[v];if(c=p(M.key,M.attributes,M.source.key,M.target.key,M.source.attributes,M.target.attributes,M.undirected),g&&c)return M.key}}function Gn(g,_,p,u){var c,v,M,U=!1;for(var rt in _)if(rt!==u){c=_[rt];do{if(U=p(c.key,c.attributes,(v=c.source).key,(M=c.target).key,v.attributes,M.attributes,c.undirected),g&&U)return c.key;c=c.next}while(void 0!==c)}}function sn(g,_){var p,u=Object.keys(g),c=u.length,v=0;return new ee(function(){do{if(p)p=p.next;else{if(v>=c)return{done:!0};var M=u[v++];if(M===_){p=void 0;continue}p=g[M]}}while(!p);return{done:!1,value:{edge:p.key,attributes:p.attributes,source:p.source.key,target:p.target.key,sourceAttributes:p.source.attributes,targetAttributes:p.target.attributes,undirected:p.undirected}}})}function wi(g,_,p,u){var c=_[p];if(c){var v=c.source,M=c.target;return u(c.key,c.attributes,v.key,M.key,v.attributes,M.attributes,c.undirected)&&g?c.key:void 0}}function rr(g,_,p,u){var c=_[p];if(c){var v=!1;do{if(v=u(c.key,c.attributes,c.source.key,c.target.key,c.source.attributes,c.target.attributes,c.undirected),g&&v)return c.key;c=c.next}while(void 0!==c)}}function ir(g,_){var p=g[_];return void 0!==p.next?new ee(function(){if(!p)return{done:!0};var u={edge:p.key,attributes:p.attributes,source:p.source.key,target:p.target.key,sourceAttributes:p.source.attributes,targetAttributes:p.target.attributes,undirected:p.undirected};return p=p.next,{done:!1,value:u}}):ee.of({edge:p.key,attributes:p.attributes,source:p.source.key,target:p.target.key,sourceAttributes:p.source.attributes,targetAttributes:p.target.attributes,undirected:p.undirected})}function Hr(g,_){if(0===g.size)return[];if("mixed"===_||_===g.type)return"function"==typeof Array.from?Array.from(g._edges.keys()):Je(g._edges.keys(),g._edges.size);for(var p,u,v=new Array("undirected"===_?g.undirectedSize:g.directedSize),M="undirected"===_,U=g._edges.values(),rt=0;!0!==(p=U.next()).done;)(u=p.value).undirected===M&&(v[rt++]=u.key);return v}function Lo(g,_,p,u){if(0!==_.size)for(var c,v,M="mixed"!==p&&p!==_.type,U="undirected"===p,rt=!1,At=_._edges.values();!0!==(c=At.next()).done;)if(v=c.value,!M||v.undirected===U){var yt=v.key,zt=v.source,re=v.target;if(rt=u(yt,v.attributes,zt.key,re.key,zt.attributes,re.attributes,v.undirected),g&&rt)return yt}}function wr(g,_){if(0===g.size)return ee.empty();var p="mixed"!==_&&_!==g.type,u="undirected"===_,c=g._edges.values();return new ee(function(){for(var v,M;;){if((v=c.next()).done)return v;if(M=v.value,!p||M.undirected===u)break}return{value:{edge:M.key,attributes:M.attributes,source:M.source.key,target:M.target.key,sourceAttributes:M.source.attributes,targetAttributes:M.target.attributes,undirected:M.undirected},done:!1}})}function Kn(g,_,p,u,c,v){var M,U=_?Gn:Ys;if("undirected"!==p&&("out"!==u&&(M=U(g,c.in,v),g&&M)||"in"!==u&&(M=U(g,c.out,v,u?void 0:c.key),g&&M))||"directed"!==p&&(M=U(g,c.undirected,v),g&&M))return M}function Xr(g,_,p,u){var c=[];return Kn(!1,g,_,p,u,function(v){c.push(v)}),c}function xi(g,_,p){var u=ee.empty();return"undirected"!==g&&("out"!==_&&void 0!==p.in&&(u=Ue(u,sn(p.in))),"in"!==_&&void 0!==p.out&&(u=Ue(u,sn(p.out,_?void 0:p.key)))),"directed"!==g&&void 0!==p.undirected&&(u=Ue(u,sn(p.undirected))),u}function xr(g,_,p,u,c,v,M){var U,rt=p?rr:wi;if("undirected"!==_&&(void 0!==c.in&&"out"!==u&&(U=rt(g,c.in,v,M),g&&U)||void 0!==c.out&&"in"!==u&&(u||c.key!==v)&&(U=rt(g,c.out,v,M),g&&U))||"directed"!==_&&void 0!==c.undirected&&(U=rt(g,c.undirected,v,M),g&&U))return U}function Vi(g,_,p,u,c){var v=[];return xr(!1,g,_,p,u,c,function(M){v.push(M)}),v}function jr(g,_,p,u){var c=ee.empty();return"undirected"!==g&&(void 0!==p.in&&"out"!==_&&u in p.in&&(c=Ue(c,ir(p.in,u))),void 0!==p.out&&"in"!==_&&u in p.out&&(_||p.key!==u)&&(c=Ue(c,ir(p.out,u)))),"directed"!==g&&void 0!==p.undirected&&u in p.undirected&&(c=Ue(c,ir(p.undirected,u))),c}var Vn=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function On(){this.A=null,this.B=null}function Pn(g,_,p,u,c){for(var v in u){var M=u[v],U=M.source,At=U===p?M.target:U;if(!_||!_.has(At.key)){var Et=c(At.key,At.attributes);if(g&&Et)return At.key}}}function Sn(g,_,p,u,c){if("mixed"!==_){if("undirected"===_)return Pn(g,null,u,u.undirected,c);if("string"==typeof p)return Pn(g,null,u,u[p],c)}var v,M=new On;if("undirected"!==_){if("out"!==p){if(v=Pn(g,null,u,u.in,c),g&&v)return v;M.wrap(u.in)}if("in"!==p){if(v=Pn(g,M,u,u.out,c),g&&v)return v;M.wrap(u.out)}}if("directed"!==_&&(v=Pn(g,M,u,u.undirected,c),g&&v))return v}function bi(g,_,p){var u=Object.keys(p),c=u.length,v=0;return new ee(function(){var M=null;do{if(v>=c)return g&&g.wrap(p),{done:!0};var U=p[u[v++]],rt=U.source;M=rt===_?U.target:rt,g&&g.has(M.key)&&(M=null)}while(null===M);return{done:!1,value:{neighbor:M.key,attributes:M.attributes}}})}function br(g,_,p,u,c){for(var v,M,U,rt,At,Et,yt,Lt=u._nodes.values(),zt=u.type;!0!==(v=Lt.next()).done;){var re=!1;if(M=v.value,"undirected"!==zt)for(U in rt=M.out){At=rt[U];do{if(re=!0,yt=c(M.key,(Et=At.target).key,M.attributes,Et.attributes,At.key,At.attributes,At.undirected),g&&yt)return At;At=At.next}while(At)}if("directed"!==zt)for(U in rt=M.undirected)if(!(_&&M.key>U)){At=rt[U];do{if((Et=At.target).key!==U&&(Et=At.source),re=!0,yt=c(M.key,Et.key,M.attributes,Et.attributes,At.key,At.attributes,At.undirected),g&&yt)return At;At=At.next}while(At)}if(p&&!re&&(yt=c(M.key,null,M.attributes,null,null,null,null),g&&yt))return null}}function _r(g){if(!w(g))throw new kt('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in g))throw new kt("Graph.import: serialized node is missing its key.");if("attributes"in g&&(!w(g.attributes)||null===g.attributes))throw new kt("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function Hs(g){if(!w(g))throw new kt('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in g))throw new kt("Graph.import: serialized edge is missing its source.");if(!("target"in g))throw new kt("Graph.import: serialized edge is missing its target.");if("attributes"in g&&(!w(g.attributes)||null===g.attributes))throw new kt("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in g&&"boolean"!=typeof g.undirected)throw new kt("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}On.prototype.wrap=function(g){null===this.A?this.A=g:null===this.B&&(this.B=g)},On.prototype.has=function(g){return null!==this.A&&g in this.A||null!==this.B&&g in this.B};var zo,Xs=(zo=255&Math.floor(256*Math.random()),function(){return zo++}),tu=new Set(["directed","undirected","mixed"]),Ro=new Set(["domain","_events","_eventsCount","_maxListeners"]),Ar={allowSelfLoops:!0,multi:!1,type:"mixed"};function Ji(g,_,p){var u=new g.NodeDataClass(_,p);return g._nodes.set(_,u),g.emit("nodeAdded",{key:_,attributes:p}),u}function Go(g,_,p,u,c,v,M,U){if(!u&&"undirected"===g.type)throw new Ot("Graph.".concat(_,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(u&&"directed"===g.type)throw new Ot("Graph.".concat(_,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(U&&!w(U))throw new kt("Graph.".concat(_,': invalid attributes. Expecting an object but got "').concat(U,'"'));if(v=""+v,M=""+M,U=U||{},!g.allowSelfLoops&&v===M)throw new Ot("Graph.".concat(_,': source & target are the same ("').concat(v,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var rt=g._nodes.get(v),At=g._nodes.get(M);if(!rt)throw new It("Graph.".concat(_,': source node "').concat(v,'" not found.'));if(!At)throw new It("Graph.".concat(_,': target node "').concat(M,'" not found.'));var Et={key:null,undirected:u,source:v,target:M,attributes:U};if(p)c=g._edgeKeyGenerator();else if(g._edges.has(c=""+c))throw new Ot("Graph.".concat(_,': the "').concat(c,'" edge already exists in the graph.'));if(!g.multi&&(u?void 0!==rt.undirected[M]:void 0!==rt.out[M]))throw new Ot("Graph.".concat(_,': an edge linking "').concat(v,'" to "').concat(M,"\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option."));var yt=new Pe(u,c,rt,At,U);g._edges.set(c,yt);var Lt=v===M;return u?(rt.undirectedDegree++,At.undirectedDegree++,Lt&&(rt.undirectedLoops++,g._undirectedSelfLoopCount++)):(rt.outDegree++,At.inDegree++,Lt&&(rt.directedLoops++,g._directedSelfLoopCount++)),g.multi?yt.attachMulti():yt.attach(),u?g._undirectedSize++:g._directedSize++,Et.key=c,g.emit("edgeAdded",Et),c}function Kr(g,_,p,u,c,v,M,U,rt){if(!u&&"undirected"===g.type)throw new Ot("Graph.".concat(_,": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead."));if(u&&"directed"===g.type)throw new Ot("Graph.".concat(_,": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead."));if(U)if(rt){if("function"!=typeof U)throw new kt("Graph.".concat(_,': invalid updater function. Expecting a function but got "').concat(U,'"'))}else if(!w(U))throw new kt("Graph.".concat(_,': invalid attributes. Expecting an object but got "').concat(U,'"'));var At;if(v=""+v,M=""+M,rt&&(At=U,U=void 0),!g.allowSelfLoops&&v===M)throw new Ot("Graph.".concat(_,': source & target are the same ("').concat(v,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var Et,yt,Lt=g._nodes.get(v),zt=g._nodes.get(M);if(!p&&(Et=g._edges.get(c))){if(!(Et.source.key===v&&Et.target.key===M||u&&Et.source.key===M&&Et.target.key===v))throw new Ot("Graph.".concat(_,': inconsistency detected when attempting to merge the "').concat(c,'" edge with "').concat(v,'" source & "').concat(M,'" target vs. ("').concat(Et.source.key,'", "').concat(Et.target.key,'").'));yt=Et}if(yt||g.multi||!Lt||(yt=u?Lt.undirected[M]:Lt.out[M]),yt){var re=[yt.key,!1,!1,!1];return(rt?At:U)?(rt?(yt.attributes=At(yt.attributes),g.emit("edgeAttributesUpdated",{type:"replace",key:yt.key,attributes:yt.attributes})):(R(yt.attributes,U),g.emit("edgeAttributesUpdated",{type:"merge",key:yt.key,attributes:yt.attributes,data:U})),re):re}U=U||{},rt&&At&&(U=At(U));var Ce={key:null,undirected:u,source:v,target:M,attributes:U};if(p)c=g._edgeKeyGenerator();else if(g._edges.has(c=""+c))throw new Ot("Graph.".concat(_,': the "').concat(c,'" edge already exists in the graph.'));var Ge=!1,Oe=!1;Lt||(Lt=Ji(g,v,{}),Ge=!0,v===M&&(zt=Lt,Oe=!0)),zt||(zt=Ji(g,M,{}),Oe=!0),Et=new Pe(u,c,Lt,zt,U),g._edges.set(c,Et);var qe=v===M;return u?(Lt.undirectedDegree++,zt.undirectedDegree++,qe&&(Lt.undirectedLoops++,g._undirectedSelfLoopCount++)):(Lt.outDegree++,zt.inDegree++,qe&&(Lt.directedLoops++,g._directedSelfLoopCount++)),g.multi?Et.attachMulti():Et.attach(),u?g._undirectedSize++:g._directedSize++,Ce.key=c,g.emit("edgeAdded",Ce),[c,!0,Ge,Oe]}function or(g,_){g._edges.delete(_.key);var p=_.source,u=_.target,c=_.attributes,v=_.undirected,M=p===u;v?(p.undirectedDegree--,u.undirectedDegree--,M&&(p.undirectedLoops--,g._undirectedSelfLoopCount--)):(p.outDegree--,u.inDegree--,M&&(p.directedLoops--,g._directedSelfLoopCount--)),g.multi?_.detachMulti():_.detach(),v?g._undirectedSize--:g._directedSize--,g.emit("edgeDropped",{key:_.key,attributes:c,source:p.key,target:u.key,undirected:v})}var g,Ee=function(g){function _(u){var c;if(c=g.call(this)||this,"boolean"!=typeof(u=R({},Ar,u)).multi)throw new kt("Graph.constructor: invalid 'multi' option. Expecting a boolean but got \"".concat(u.multi,'".'));if(!tu.has(u.type))throw new kt('Graph.constructor: invalid \'type\' option. Should be one of "mixed", "directed" or "undirected" but got "'.concat(u.type,'".'));if("boolean"!=typeof u.allowSelfLoops)throw new kt("Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \"".concat(u.allowSelfLoops,'".'));var v="mixed"===u.type?Te:"directed"===u.type?He:on;I(N(c),"NodeDataClass",v);var M="geid_"+Xs()+"_",U=0;return I(N(c),"_attributes",{}),I(N(c),"_nodes",new Map),I(N(c),"_edges",new Map),I(N(c),"_directedSize",0),I(N(c),"_undirectedSize",0),I(N(c),"_directedSelfLoopCount",0),I(N(c),"_undirectedSelfLoopCount",0),I(N(c),"_edgeKeyGenerator",function(){var rt;do{rt=M+U++}while(c._edges.has(rt));return rt}),I(N(c),"_options",u),Ro.forEach(function(rt){return I(N(c),rt,c[rt])}),k(N(c),"order",function(){return c._nodes.size}),k(N(c),"size",function(){return c._edges.size}),k(N(c),"directedSize",function(){return c._directedSize}),k(N(c),"undirectedSize",function(){return c._undirectedSize}),k(N(c),"selfLoopCount",function(){return c._directedSelfLoopCount+c._undirectedSelfLoopCount}),k(N(c),"directedSelfLoopCount",function(){return c._directedSelfLoopCount}),k(N(c),"undirectedSelfLoopCount",function(){return c._undirectedSelfLoopCount}),k(N(c),"multi",c._options.multi),k(N(c),"type",c._options.type),k(N(c),"allowSelfLoops",c._options.allowSelfLoops),k(N(c),"implementation",function(){return"graphology"}),c}z(_,g);var p=_.prototype;return p._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},p.hasNode=function(u){return this._nodes.has(""+u)},p.hasDirectedEdge=function(u,c){if("undirected"===this.type)return!1;if(1===arguments.length){var M=this._edges.get(""+u);return!!M&&!M.undirected}if(2===arguments.length){c=""+c;var U=this._nodes.get(u=""+u);return!!U&&U.out.hasOwnProperty(c)}throw new kt("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},p.hasUndirectedEdge=function(u,c){if("directed"===this.type)return!1;if(1===arguments.length){var M=this._edges.get(""+u);return!!M&&M.undirected}if(2===arguments.length){c=""+c;var U=this._nodes.get(u=""+u);return!!U&&U.undirected.hasOwnProperty(c)}throw new kt("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},p.hasEdge=function(u,c){if(1===arguments.length)return this._edges.has(""+u);if(2===arguments.length){c=""+c;var M=this._nodes.get(u=""+u);return!!M&&(void 0!==M.out&&M.out.hasOwnProperty(c)||void 0!==M.undirected&&M.undirected.hasOwnProperty(c))}throw new kt("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},p.directedEdge=function(u,c){if("undirected"!==this.type){if(u=""+u,c=""+c,this.multi)throw new Ot("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var v=this._nodes.get(u);if(!v)throw new It('Graph.directedEdge: could not find the "'.concat(u,'" source node in the graph.'));if(!this._nodes.has(c))throw new It('Graph.directedEdge: could not find the "'.concat(c,'" target node in the graph.'));var M=v.out&&v.out[c]||void 0;return M?M.key:void 0}},p.undirectedEdge=function(u,c){if("directed"!==this.type){if(u=""+u,c=""+c,this.multi)throw new Ot("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var v=this._nodes.get(u);if(!v)throw new It('Graph.undirectedEdge: could not find the "'.concat(u,'" source node in the graph.'));if(!this._nodes.has(c))throw new It('Graph.undirectedEdge: could not find the "'.concat(c,'" target node in the graph.'));var M=v.undirected&&v.undirected[c]||void 0;return M?M.key:void 0}},p.edge=function(u,c){if(this.multi)throw new Ot("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new It('Graph.edge: could not find the "'.concat(u,'" source node in the graph.'));if(!this._nodes.has(c))throw new It('Graph.edge: could not find the "'.concat(c,'" target node in the graph.'));var M=v.out&&v.out[c]||v.undirected&&v.undirected[c]||void 0;if(M)return M.key},p.areDirectedNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new It('Graph.areDirectedNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&(c in v.in||c in v.out)},p.areOutNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new It('Graph.areOutNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&c in v.out},p.areInNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new It('Graph.areInNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&c in v.in},p.areUndirectedNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new It('Graph.areUndirectedNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"directed"!==this.type&&c in v.undirected},p.areNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new It('Graph.areNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&(c in v.in||c in v.out)||"directed"!==this.type&&c in v.undirected},p.areInboundNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new It('Graph.areInboundNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&c in v.in||"directed"!==this.type&&c in v.undirected},p.areOutboundNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new It('Graph.areOutboundNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&c in v.out||"directed"!==this.type&&c in v.undirected},p.inDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.inDegree: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.inDegree},p.outDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.outDegree: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.outDegree},p.directedDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.directedDegree: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.inDegree+c.outDegree},p.undirectedDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.undirectedDegree: could not find the "'.concat(u,'" node in the graph.'));return"directed"===this.type?0:c.undirectedDegree},p.inboundDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.inboundDegree: could not find the "'.concat(u,'" node in the graph.'));var v=0;return"directed"!==this.type&&(v+=c.undirectedDegree),"undirected"!==this.type&&(v+=c.inDegree),v},p.outboundDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.outboundDegree: could not find the "'.concat(u,'" node in the graph.'));var v=0;return"directed"!==this.type&&(v+=c.undirectedDegree),"undirected"!==this.type&&(v+=c.outDegree),v},p.degree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.degree: could not find the "'.concat(u,'" node in the graph.'));var v=0;return"directed"!==this.type&&(v+=c.undirectedDegree),"undirected"!==this.type&&(v+=c.inDegree+c.outDegree),v},p.inDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.inDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.inDegree-c.directedLoops},p.outDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.outDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.outDegree-c.directedLoops},p.directedDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.directedDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.inDegree+c.outDegree-2*c.directedLoops},p.undirectedDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.undirectedDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));return"directed"===this.type?0:c.undirectedDegree-2*c.undirectedLoops},p.inboundDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.inboundDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));var v=0,M=0;return"directed"!==this.type&&(v+=c.undirectedDegree,M+=2*c.undirectedLoops),"undirected"!==this.type&&(v+=c.inDegree,M+=c.directedLoops),v-M},p.outboundDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.outboundDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));var v=0,M=0;return"directed"!==this.type&&(v+=c.undirectedDegree,M+=2*c.undirectedLoops),"undirected"!==this.type&&(v+=c.outDegree,M+=c.directedLoops),v-M},p.degreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new It('Graph.degreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));var v=0,M=0;return"directed"!==this.type&&(v+=c.undirectedDegree,M+=2*c.undirectedLoops),"undirected"!==this.type&&(v+=c.inDegree+c.outDegree,M+=2*c.directedLoops),v-M},p.source=function(u){var c=this._edges.get(u=""+u);if(!c)throw new It('Graph.source: could not find the "'.concat(u,'" edge in the graph.'));return c.source.key},p.target=function(u){var c=this._edges.get(u=""+u);if(!c)throw new It('Graph.target: could not find the "'.concat(u,'" edge in the graph.'));return c.target.key},p.extremities=function(u){var c=this._edges.get(u=""+u);if(!c)throw new It('Graph.extremities: could not find the "'.concat(u,'" edge in the graph.'));return[c.source.key,c.target.key]},p.opposite=function(u,c){u=""+u;var v=this._edges.get(c=""+c);if(!v)throw new It('Graph.opposite: could not find the "'.concat(c,'" edge in the graph.'));var M=v.source.key,U=v.target.key;if(u===M)return U;if(u===U)return M;throw new It('Graph.opposite: the "'.concat(u,'" node is not attached to the "').concat(c,'" edge (').concat(M,", ").concat(U,")."))},p.hasExtremity=function(u,c){c=""+c;var v=this._edges.get(u=""+u);if(!v)throw new It('Graph.hasExtremity: could not find the "'.concat(u,'" edge in the graph.'));return v.source.key===c||v.target.key===c},p.isUndirected=function(u){var c=this._edges.get(u=""+u);if(!c)throw new It('Graph.isUndirected: could not find the "'.concat(u,'" edge in the graph.'));return c.undirected},p.isDirected=function(u){var c=this._edges.get(u=""+u);if(!c)throw new It('Graph.isDirected: could not find the "'.concat(u,'" edge in the graph.'));return!c.undirected},p.isSelfLoop=function(u){var c=this._edges.get(u=""+u);if(!c)throw new It('Graph.isSelfLoop: could not find the "'.concat(u,'" edge in the graph.'));return c.source===c.target},p.addNode=function(u,c){return function(M,U,rt){if(rt&&!w(rt))throw new kt('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(rt,'"'));if(rt=rt||{},M._nodes.has(U=""+U))throw new Ot('Graph.addNode: the "'.concat(U,'" node already exist in the graph.'));var At=new M.NodeDataClass(U,rt);return M._nodes.set(U,At),M.emit("nodeAdded",{key:U,attributes:rt}),At}(this,u,c).key},p.mergeNode=function(u,c){if(c&&!w(c))throw new kt('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(c,'"'));c=c||{};var v=this._nodes.get(u=""+u);return v?(c&&(R(v.attributes,c),this.emit("nodeAttributesUpdated",{type:"merge",key:u,attributes:v.attributes,data:c})),[u,!1]):(v=new this.NodeDataClass(u,c),this._nodes.set(u,v),this.emit("nodeAdded",{key:u,attributes:c}),[u,!0])},p.updateNode=function(u,c){if(c&&"function"!=typeof c)throw new kt('Graph.updateNode: invalid updater function. Expecting a function but got "'.concat(c,'"'));var v=this._nodes.get(u=""+u);if(v)return c&&(v.attributes=c(v.attributes),this.emit("nodeAttributesUpdated",{type:"replace",key:u,attributes:v.attributes})),[u,!1];var U=c?c({}):{};return v=new this.NodeDataClass(u,U),this._nodes.set(u,v),this.emit("nodeAdded",{key:u,attributes:U}),[u,!0]},p.dropNode=function(u){var c,v=this._nodes.get(u=""+u);if(!v)throw new It('Graph.dropNode: could not find the "'.concat(u,'" node in the graph.'));if("undirected"!==this.type){for(var M in v.out){c=v.out[M];do{or(this,c),c=c.next}while(c)}for(var U in v.in){c=v.in[U];do{or(this,c),c=c.next}while(c)}}if("directed"!==this.type)for(var rt in v.undirected){c=v.undirected[rt];do{or(this,c),c=c.next}while(c)}this._nodes.delete(u),this.emit("nodeDropped",{key:u,attributes:v.attributes})},p.dropEdge=function(u){var c;if(arguments.length>1){var v=""+arguments[0],M=""+arguments[1];if(!(c=x(this,v,M,this.type)))throw new It('Graph.dropEdge: could not find the "'.concat(v,'" -> "').concat(M,'" edge in the graph.'))}else if(!(c=this._edges.get(u=""+u)))throw new It('Graph.dropEdge: could not find the "'.concat(u,'" edge in the graph.'));return or(this,c),this},p.dropDirectedEdge=function(u,c){if(arguments.length<2)throw new Ot("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new Ot("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var v=x(this,u=""+u,c=""+c,"directed");if(!v)throw new It('Graph.dropDirectedEdge: could not find a "'.concat(u,'" -> "').concat(c,'" edge in the graph.'));return or(this,v),this},p.dropUndirectedEdge=function(u,c){if(arguments.length<2)throw new Ot("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new Ot("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var v=x(this,u,c,"undirected");if(!v)throw new It('Graph.dropUndirectedEdge: could not find a "'.concat(u,'" -> "').concat(c,'" edge in the graph.'));return or(this,v),this},p.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")},p.clearEdges=function(){for(var u,c=this._nodes.values();!0!==(u=c.next()).done;)u.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")},p.getAttribute=function(u){return this._attributes[u]},p.getAttributes=function(){return this._attributes},p.hasAttribute=function(u){return this._attributes.hasOwnProperty(u)},p.setAttribute=function(u,c){return this._attributes[u]=c,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:u}),this},p.updateAttribute=function(u,c){if("function"!=typeof c)throw new kt("Graph.updateAttribute: updater should be a function.");return this._attributes[u]=c(this._attributes[u]),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:u}),this},p.removeAttribute=function(u){return delete this._attributes[u],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:u}),this},p.replaceAttributes=function(u){if(!w(u))throw new kt("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=u,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this},p.mergeAttributes=function(u){if(!w(u))throw new kt("Graph.mergeAttributes: provided attributes are not a plain object.");return R(this._attributes,u),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:u}),this},p.updateAttributes=function(u){if("function"!=typeof u)throw new kt("Graph.updateAttributes: provided updater is not a function.");return this._attributes=u(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this},p.updateEachNodeAttributes=function(u,c){if("function"!=typeof u)throw new kt("Graph.updateEachNodeAttributes: expecting an updater function.");if(c&&!G(c))throw new kt("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var v,M,U=this._nodes.values();!0!==(v=U.next()).done;)(M=v.value).attributes=u(M.key,M.attributes);this.emit("eachNodeAttributesUpdated",{hints:c||null})},p.updateEachEdgeAttributes=function(u,c){if("function"!=typeof u)throw new kt("Graph.updateEachEdgeAttributes: expecting an updater function.");if(c&&!G(c))throw new kt("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var v,M,U,rt,At=this._edges.values();!0!==(v=At.next()).done;)U=(M=v.value).source,M.attributes=u(M.key,M.attributes,U.key,(rt=M.target).key,U.attributes,rt.attributes,M.undirected);this.emit("eachEdgeAttributesUpdated",{hints:c||null})},p.forEachAdjacencyEntry=function(u){if("function"!=typeof u)throw new kt("Graph.forEachAdjacencyEntry: expecting a callback.");br(!1,!1,!1,this,u)},p.forEachAdjacencyEntryWithOrphans=function(u){if("function"!=typeof u)throw new kt("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");br(!1,!1,!0,this,u)},p.forEachAssymetricAdjacencyEntry=function(u){if("function"!=typeof u)throw new kt("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");br(!1,!0,!1,this,u)},p.forEachAssymetricAdjacencyEntryWithOrphans=function(u){if("function"!=typeof u)throw new kt("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");br(!1,!0,!0,this,u)},p.nodes=function(){return"function"==typeof Array.from?Array.from(this._nodes.keys()):Je(this._nodes.keys(),this._nodes.size)},p.forEachNode=function(u){if("function"!=typeof u)throw new kt("Graph.forEachNode: expecting a callback.");for(var c,v,M=this._nodes.values();!0!==(c=M.next()).done;)u((v=c.value).key,v.attributes)},p.findNode=function(u){if("function"!=typeof u)throw new kt("Graph.findNode: expecting a callback.");for(var c,v,M=this._nodes.values();!0!==(c=M.next()).done;)if(u((v=c.value).key,v.attributes))return v.key},p.mapNodes=function(u){if("function"!=typeof u)throw new kt("Graph.mapNode: expecting a callback.");for(var c,v,M=this._nodes.values(),U=new Array(this.order),rt=0;!0!==(c=M.next()).done;)U[rt++]=u((v=c.value).key,v.attributes);return U},p.someNode=function(u){if("function"!=typeof u)throw new kt("Graph.someNode: expecting a callback.");for(var c,v,M=this._nodes.values();!0!==(c=M.next()).done;)if(u((v=c.value).key,v.attributes))return!0;return!1},p.everyNode=function(u){if("function"!=typeof u)throw new kt("Graph.everyNode: expecting a callback.");for(var c,v,M=this._nodes.values();!0!==(c=M.next()).done;)if(!u((v=c.value).key,v.attributes))return!1;return!0},p.filterNodes=function(u){if("function"!=typeof u)throw new kt("Graph.filterNodes: expecting a callback.");for(var c,v,M=this._nodes.values(),U=[];!0!==(c=M.next()).done;)u((v=c.value).key,v.attributes)&&U.push(v.key);return U},p.reduceNodes=function(u,c){if("function"!=typeof u)throw new kt("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new kt("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");for(var v,M,U=c,rt=this._nodes.values();!0!==(v=rt.next()).done;)U=u(U,(M=v.value).key,M.attributes);return U},p.nodeEntries=function(){var u=this._nodes.values();return new ee(function(){var c=u.next();if(c.done)return c;var v=c.value;return{value:{node:v.key,attributes:v.attributes},done:!1}})},p.export=function(){var u=this,c=new Array(this._nodes.size),v=0;this._nodes.forEach(function(U,rt){var Et,yt;c[v++]=(yt={key:rt},E((Et=U).attributes)||(yt.attributes=R({},Et.attributes)),yt)});var M=new Array(this._edges.size);return v=0,this._edges.forEach(function(U,rt){var At,yt,Lt;M[v++]=(At=u.type,Lt={key:rt,source:(yt=U).source.key,target:yt.target.key},E(yt.attributes)||(Lt.attributes=R({},yt.attributes)),"mixed"===At&&yt.undirected&&(Lt.undirected=!0),Lt)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:c,edges:M}},p.import=function(u){var c,v,M,U,rt,At=this,Et=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(u instanceof _)return u.forEachNode(function(un,vn){Et?At.mergeNode(un,vn):At.addNode(un,vn)}),u.forEachEdge(function(un,vn,qr,Qr,Po,eu,Qi){Et?Qi?At.mergeUndirectedEdgeWithKey(un,qr,Qr,vn):At.mergeDirectedEdgeWithKey(un,qr,Qr,vn):Qi?At.addUndirectedEdgeWithKey(un,qr,Qr,vn):At.addDirectedEdgeWithKey(un,qr,Qr,vn)}),this;if(!w(u))throw new kt("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(u.attributes){if(!w(u.attributes))throw new kt("Graph.import: invalid attributes. Expecting a plain object.");Et?this.mergeAttributes(u.attributes):this.replaceAttributes(u.attributes)}if(u.nodes){if(M=u.nodes,!Array.isArray(M))throw new kt("Graph.import: invalid nodes. Expecting an array.");for(c=0,v=M.length;c<v;c++){_r(U=M[c]);var Lt=U.key,zt=U.attributes;Et?this.mergeNode(Lt,zt):this.addNode(Lt,zt)}}if(u.edges){var re=!1;if("undirected"===this.type&&(re=!0),M=u.edges,!Array.isArray(M))throw new kt("Graph.import: invalid edges. Expecting an array.");for(c=0,v=M.length;c<v;c++){Hs(rt=M[c]);var Ce=rt.source,Ge=rt.target,Oe=rt.attributes,qe=rt.undirected,an=void 0===qe?re:qe;"key"in rt?(Et?an?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:an?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,rt.key,Ce,Ge,Oe):(Et?an?this.mergeUndirectedEdge:this.mergeDirectedEdge:an?this.addUndirectedEdge:this.addDirectedEdge).call(this,Ce,Ge,Oe)}}return this},p.nullCopy=function(u){var c=new _(R({},this._options,u));return c.replaceAttributes(R({},this.getAttributes())),c},p.emptyCopy=function(u){var c=this.nullCopy(u);return this._nodes.forEach(function(v,M){var U=R({},v.attributes);v=new c.NodeDataClass(M,U),c._nodes.set(M,v)}),c},p.copy=function(u){if("string"==typeof(u=u||{}).type&&u.type!==this.type&&"mixed"!==u.type)throw new Ot('Graph.copy: cannot create an incompatible copy from "'.concat(this.type,'" type to "').concat(u.type,'" because this would mean losing information about the current graph.'));if("boolean"==typeof u.multi&&u.multi!==this.multi&&!0!==u.multi)throw new Ot("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if("boolean"==typeof u.allowSelfLoops&&u.allowSelfLoops!==this.allowSelfLoops&&!0!==u.allowSelfLoops)throw new Ot("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");for(var c,v,M=this.emptyCopy(u),U=this._edges.values();!0!==(c=U.next()).done;)Go(M,"copy",!1,(v=c.value).undirected,v.key,v.source.key,v.target.key,R({},v.attributes));return M},p.toJSON=function(){return this.export()},p.toString=function(){return"[object Graph]"},p.inspect=function(){var u=this,c={};this._nodes.forEach(function(At,Et){c[Et]=At.attributes});var v={},M={};this._edges.forEach(function(At,Et){var yt,Lt=At.undirected?"--":"->",zt="",re=At.source.key,we=At.target.key;At.undirected&&re>we&&(yt=re,re=we,we=yt);var Ce="(".concat(re,")").concat(Lt,"(").concat(we,")");Et.startsWith("geid_")?u.multi&&(void 0===M[Ce]?M[Ce]=0:M[Ce]++,zt+="".concat(M[Ce],". ")):zt+="[".concat(Et,"]: "),v[zt+=Ce]=At.attributes});var U={};for(var rt in this)this.hasOwnProperty(rt)&&!Ro.has(rt)&&"function"!=typeof this[rt]&&"symbol"!==dt(rt)&&(U[rt]=this[rt]);return U.attributes=this._attributes,U.nodes=c,U.edges=v,I(U,"constructor",this.constructor),U},_}(Z.exports.EventEmitter);"undefined"!=typeof Symbol&&(Ee.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ee.prototype.inspect),[{name:function(g){return"".concat(g,"Edge")},generateKey:!0},{name:function(g){return"".concat(g,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(g){return"".concat(g,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(g){return"".concat(g,"EdgeWithKey")}},{name:function(g){return"".concat(g,"DirectedEdgeWithKey")},type:"directed"},{name:function(g){return"".concat(g,"UndirectedEdgeWithKey")},type:"undirected"}].forEach(function(g){["add","merge","update"].forEach(function(_){var p=g.name(_),u="add"===_?Go:Kr;Ee.prototype[p]=g.generateKey?function(c,v,M){return u(this,p,!0,"undirected"===(g.type||this.type),null,c,v,M,"update"===_)}:function(c,v,M,U){return u(this,p,!1,"undirected"===(g.type||this.type),c,v,M,U,"update"===_)}})}),g=Ee,jn.forEach(function(_){var p=_.name,u=_.attacher;u(g,p("Node"),0),u(g,p("Source"),1),u(g,p("Target"),2),u(g,p("Opposite"),3)}),function(g){Re.forEach(function(_){var p=_.name,u=_.attacher;u(g,p("Edge"),"mixed"),u(g,p("DirectedEdge"),"directed"),u(g,p("UndirectedEdge"),"undirected")})}(Ee),function(g){Ki.forEach(function(_){var u,c,v,M;v=(u=_).type,M=u.direction,g.prototype[c=u.name]=function(U,rt){if("mixed"!==v&&"mixed"!==this.type&&v!==this.type)return[];if(!arguments.length)return Hr(this,v);if(1===arguments.length){var At=this._nodes.get(U=""+U);if(void 0===At)throw new It("Graph.".concat(c,': could not find the "').concat(U,'" node in the graph.'));return Xr(this.multi,"mixed"===v?this.type:v,M,At)}if(2===arguments.length){rt=""+rt;var Et=this._nodes.get(U=""+U);if(!Et)throw new It("Graph.".concat(c,':  could not find the "').concat(U,'" source node in the graph.'));if(!this._nodes.has(rt))throw new It("Graph.".concat(c,':  could not find the "').concat(rt,'" target node in the graph.'));return Vi(v,this.multi,M,Et,rt)}throw new kt("Graph.".concat(c,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))},function(p,u){var c=u.name,v=u.type,M=u.direction,U="forEach"+c[0].toUpperCase()+c.slice(1,-1);p.prototype[U]=function(yt,Lt,zt){if("mixed"===v||"mixed"===this.type||v===this.type){if(1===arguments.length)return Lo(!1,this,v,zt=yt);if(2===arguments.length){zt=Lt;var re=this._nodes.get(yt=""+yt);if(void 0===re)throw new It("Graph.".concat(U,': could not find the "').concat(yt,'" node in the graph.'));return Kn(!1,this.multi,"mixed"===v?this.type:v,M,re,zt)}if(3===arguments.length){Lt=""+Lt;var we=this._nodes.get(yt=""+yt);if(!we)throw new It("Graph.".concat(U,':  could not find the "').concat(yt,'" source node in the graph.'));if(!this._nodes.has(Lt))throw new It("Graph.".concat(U,':  could not find the "').concat(Lt,'" target node in the graph.'));return xr(!1,v,this.multi,M,we,Lt,zt)}throw new kt("Graph.".concat(U,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}};var rt="map"+c[0].toUpperCase()+c.slice(1);p.prototype[rt]=function(){var yt,Lt=Array.prototype.slice.call(arguments),zt=Lt.pop();if(0===Lt.length){var re=0;"directed"!==v&&(re+=this.undirectedSize),"undirected"!==v&&(re+=this.directedSize),yt=new Array(re);var we=0;Lt.push(function(Ce,Ge,Oe,qe,an,un,vn){yt[we++]=zt(Ce,Ge,Oe,qe,an,un,vn)})}else yt=[],Lt.push(function(Ce,Ge,Oe,qe,an,un,vn){yt.push(zt(Ce,Ge,Oe,qe,an,un,vn))});return this[U].apply(this,Lt),yt};var At="filter"+c[0].toUpperCase()+c.slice(1);p.prototype[At]=function(){var yt=Array.prototype.slice.call(arguments),Lt=yt.pop(),zt=[];return yt.push(function(re,we,Ce,Ge,Oe,qe,an){Lt(re,we,Ce,Ge,Oe,qe,an)&&zt.push(re)}),this[U].apply(this,yt),zt};var Et="reduce"+c[0].toUpperCase()+c.slice(1);p.prototype[Et]=function(){var yt,Lt,zt=Array.prototype.slice.call(arguments);if(zt.length<2||zt.length>4)throw new kt("Graph.".concat(Et,": invalid number of arguments (expecting 2, 3 or 4 and got ").concat(zt.length,")."));if("function"==typeof zt[zt.length-1]&&"function"!=typeof zt[zt.length-2])throw new kt("Graph.".concat(Et,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));2===zt.length?(yt=zt[0],Lt=zt[1],zt=[]):3===zt.length?(yt=zt[1],Lt=zt[2],zt=[zt[0]]):4===zt.length&&(yt=zt[2],Lt=zt[3],zt=[zt[0],zt[1]]);var re=Lt;return zt.push(function(we,Ce,Ge,Oe,qe,an,un){re=yt(re,we,Ce,Ge,Oe,qe,an,un)}),this[U].apply(this,zt),re}}(g,_),function(p,u){var c=u.name,v=u.type,M=u.direction,U="find"+c[0].toUpperCase()+c.slice(1,-1);p.prototype[U]=function(Et,yt,Lt){if("mixed"!==v&&"mixed"!==this.type&&v!==this.type)return!1;if(1===arguments.length)return Lo(!0,this,v,Lt=Et);if(2===arguments.length){Lt=yt;var zt=this._nodes.get(Et=""+Et);if(void 0===zt)throw new It("Graph.".concat(U,': could not find the "').concat(Et,'" node in the graph.'));return Kn(!0,this.multi,"mixed"===v?this.type:v,M,zt,Lt)}if(3===arguments.length){yt=""+yt;var re=this._nodes.get(Et=""+Et);if(!re)throw new It("Graph.".concat(U,':  could not find the "').concat(Et,'" source node in the graph.'));if(!this._nodes.has(yt))throw new It("Graph.".concat(U,':  could not find the "').concat(yt,'" target node in the graph.'));return xr(!0,v,this.multi,M,re,yt,Lt)}throw new kt("Graph.".concat(U,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))};var rt="some"+c[0].toUpperCase()+c.slice(1,-1);p.prototype[rt]=function(){var Et=Array.prototype.slice.call(arguments),yt=Et.pop();return Et.push(function(Lt,zt,re,we,Ce,Ge,Oe){return yt(Lt,zt,re,we,Ce,Ge,Oe)}),!!this[U].apply(this,Et)};var At="every"+c[0].toUpperCase()+c.slice(1,-1);p.prototype[At]=function(){var Et=Array.prototype.slice.call(arguments),yt=Et.pop();return Et.push(function(Lt,zt,re,we,Ce,Ge,Oe){return!yt(Lt,zt,re,we,Ce,Ge,Oe)}),!this[U].apply(this,Et)}}(g,_),function(p,u){var v=u.type,M=u.direction,U=u.name.slice(0,-1)+"Entries";p.prototype[U]=function(rt,At){if("mixed"!==v&&"mixed"!==this.type&&v!==this.type)return ee.empty();if(!arguments.length)return wr(this,v);if(1===arguments.length){var Et=this._nodes.get(rt=""+rt);if(!Et)throw new It("Graph.".concat(U,': could not find the "').concat(rt,'" node in the graph.'));return xi(v,M,Et)}if(2===arguments.length){At=""+At;var yt=this._nodes.get(rt=""+rt);if(!yt)throw new It("Graph.".concat(U,':  could not find the "').concat(rt,'" source node in the graph.'));if(!this._nodes.has(At))throw new It("Graph.".concat(U,':  could not find the "').concat(At,'" target node in the graph.'));return jr(v,M,yt,At)}throw new kt("Graph.".concat(U,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(g,_)})}(Ee),function(g){Vn.forEach(function(_){var p,u,c,v,M,U,rt;(function To(g,_){var p=_.name,u=_.type,c=_.direction;g.prototype[p]=function(v){if("mixed"!==u&&"mixed"!==this.type&&u!==this.type)return[];var M=this._nodes.get(v=""+v);if(void 0===M)throw new It("Graph.".concat(p,': could not find the "').concat(v,'" node in the graph.'));return function(U,rt,At){if("mixed"!==U){if("undirected"===U)return Object.keys(At.undirected);if("string"==typeof rt)return Object.keys(At[rt])}var Et=[];return Sn(!1,U,rt,At,function(yt){Et.push(yt)}),Et}("mixed"===u?this.type:u,c,M)}})(g,_),function(p,u){var c=u.name,v=u.type,M=u.direction,U="forEach"+c[0].toUpperCase()+c.slice(1,-1);p.prototype[U]=function(yt,Lt){if("mixed"===v||"mixed"===this.type||v===this.type){var zt=this._nodes.get(yt=""+yt);if(void 0===zt)throw new It("Graph.".concat(U,': could not find the "').concat(yt,'" node in the graph.'));Sn(!1,"mixed"===v?this.type:v,M,zt,Lt)}};var rt="map"+c[0].toUpperCase()+c.slice(1);p.prototype[rt]=function(yt,Lt){var zt=[];return this[U](yt,function(re,we){zt.push(Lt(re,we))}),zt};var At="filter"+c[0].toUpperCase()+c.slice(1);p.prototype[At]=function(yt,Lt){var zt=[];return this[U](yt,function(re,we){Lt(re,we)&&zt.push(re)}),zt};var Et="reduce"+c[0].toUpperCase()+c.slice(1);p.prototype[Et]=function(yt,Lt,zt){if(arguments.length<3)throw new kt("Graph.".concat(Et,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));var re=zt;return this[U](yt,function(we,Ce){re=Lt(re,we,Ce)}),re}}(g,_),p=g,v=(u=_).type,M=u.direction,U=(c=u.name)[0].toUpperCase()+c.slice(1,-1),p.prototype[rt="find"+U]=function(yt,Lt){if("mixed"===v||"mixed"===this.type||v===this.type){var zt=this._nodes.get(yt=""+yt);if(void 0===zt)throw new It("Graph.".concat(rt,': could not find the "').concat(yt,'" node in the graph.'));return Sn(!0,"mixed"===v?this.type:v,M,zt,Lt)}},p.prototype["some"+U]=function(yt,Lt){return!!this[rt](yt,Lt)},p.prototype["every"+U]=function(yt,Lt){return!this[rt](yt,function(zt,re){return!Lt(zt,re)})},function _i(g,_){var u=_.type,c=_.direction,v=_.name.slice(0,-1)+"Entries";g.prototype[v]=function(M){if("mixed"!==u&&"mixed"!==this.type&&u!==this.type)return ee.empty();var U=this._nodes.get(M=""+M);if(void 0===U)throw new It("Graph.".concat(v,': could not find the "').concat(M,'" node in the graph.'));return function(rt,At,Et){if("mixed"!==rt){if("undirected"===rt)return bi(null,Et,Et.undirected);if("string"==typeof At)return bi(null,Et,Et[At])}var yt=ee.empty(),Lt=new On;return"undirected"!==rt&&("out"!==At&&(yt=Ue(yt,bi(Lt,Et,Et.in))),"in"!==At&&(yt=Ue(yt,bi(Lt,Et,Et.out)))),"directed"!==rt&&(yt=Ue(yt,bi(Lt,Et,Et.undirected))),yt}("mixed"===u?this.type:u,c,U)}}(g,_)})}(Ee);var qi=function(g){function _(p){var u=R({type:"directed"},p);if("multi"in u&&!1!==u.multi)throw new kt("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("directed"!==u.type)throw new kt('DirectedGraph.from: inconsistent "'+u.type+'" type in given options!');return g.call(this,u)||this}return z(_,g),_}(Ee),Oo=function(g){function _(p){var u=R({type:"undirected"},p);if("multi"in u&&!1!==u.multi)throw new kt("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("undirected"!==u.type)throw new kt('UndirectedGraph.from: inconsistent "'+u.type+'" type in given options!');return g.call(this,u)||this}return z(_,g),_}(Ee),Vr=function(g){function _(p){var u=R({multi:!0},p);if("multi"in u&&!0!==u.multi)throw new kt("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");return g.call(this,u)||this}return z(_,g),_}(Ee),Jr=function(g){function _(p){var u=R({type:"directed",multi:!0},p);if("multi"in u&&!0!==u.multi)throw new kt("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("directed"!==u.type)throw new kt('MultiDirectedGraph.from: inconsistent "'+u.type+'" type in given options!');return g.call(this,u)||this}return z(_,g),_}(Ee),Ai=function(g){function _(p){var u=R({type:"undirected",multi:!0},p);if("multi"in u&&!0!==u.multi)throw new kt("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("undirected"!==u.type)throw new kt('MultiUndirectedGraph.from: inconsistent "'+u.type+'" type in given options!');return g.call(this,u)||this}return z(_,g),_}(Ee);function Mn(g){g.from=function(_,p){var u=R({},_.options,p),c=new g(u);return c.import(_),c}}return Mn(Ee),Mn(qi),Mn(Oo),Mn(Vr),Mn(Jr),Mn(Ai),Ee.Graph=Ee,Ee.DirectedGraph=qi,Ee.UndirectedGraph=Oo,Ee.MultiGraph=Vr,Ee.MultiDirectedGraph=Jr,Ee.MultiUndirectedGraph=Ai,Ee.InvalidArgumentsGraphError=kt,Ee.NotFoundGraphError=It,Ee.UsageGraphError=Ot,Ee}()},7489:function(Mt,dt,z){var et;Mt=z.nmd(Mt),function(){var b,N="Expected a function",x="__lodash_hash_undefined__",E="__lodash_placeholder__",L=32,Qt=1/0,pe=9007199254740991,se=4294967295,ye=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",L],["partialRight",64],["rearg",256]],kt="[object Arguments]",It="[object Array]",Te="[object Boolean]",He="[object Date]",Pe="[object Error]",Ie="[object Function]",jn="[object GeneratorFunction]",Re="[object Map]",pn="[object Number]",Ue="[object Object]",Ki="[object Promise]",Gn="[object RegExp]",sn="[object Set]",wi="[object String]",rr="[object Symbol]",Hr="[object WeakMap]",wr="[object ArrayBuffer]",Kn="[object DataView]",Xr="[object Float32Array]",xi="[object Float64Array]",xr="[object Int8Array]",Vi="[object Int16Array]",jr="[object Int32Array]",Vn="[object Uint8Array]",On="[object Uint8ClampedArray]",Pn="[object Uint16Array]",Sn="[object Uint32Array]",bi=/\b__p \+= '';/g,To=/\b(__p \+=) '' \+/g,_i=/(__e\(.*?\)|\b__t\)) \+\n'';/g,br=/&(?:amp|lt|gt|quot|#39);/g,_r=/[&<>"']/g,Hs=RegExp(br.source),zo=RegExp(_r.source),Xs=/<%-([\s\S]+?)%>/g,tu=/<%([\s\S]+?)%>/g,Ro=/<%=([\s\S]+?)%>/g,Ar=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ji=/^\w*$/,Go=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kr=/[\\^$.*+?()[\]{}|]/g,or=RegExp(Kr.source),Ee=/^\s+/,qi=/\s/,Oo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Vr=/\{\n\/\* \[wrapped with (.+)\] \*/,Jr=/,? & /,Ai=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Mn=/[()=,{}\[\]\/\s]/,g=/\\(\\)?/g,_=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,p=/\w*$/,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,v=/^\[object .+?Constructor\]$/,M=/^0o[0-7]+$/i,U=/^(?:0|[1-9]\d*)$/,rt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,At=/($^)/,Et=/['\n\r\u2028\u2029\\]/g,yt="\\ud800-\\udfff",we="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ce="\\u2700-\\u27bf",Ge="a-z\\xdf-\\xf6\\xf8-\\xff",vn="A-Z\\xc0-\\xd6\\xd8-\\xde",qr="\\ufe0e\\ufe0f",Qr="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",eu="["+yt+"]",Qi="["+Qr+"]",Uo="["+we+"]",nu="\\d+",ru="["+Ce+"]",iu="["+Ge+"]",to="[^"+yt+Qr+nu+Ce+Ge+vn+"]",js="\\ud83c[\\udffb-\\udfff]",ou="[^"+yt+"]",Ks="(?:\\ud83c[\\udde6-\\uddff]){2}",Vs="[\\ud800-\\udbff][\\udc00-\\udfff]",Ei="["+vn+"]",au="(?:"+iu+"|"+to+")",sh="(?:"+Ei+"|"+to+")",uu="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",cu="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",hu="(?:"+Uo+"|"+js+")?",fu="["+qr+"]?",lu=fu+hu+"(?:\\u200d(?:"+[ou,Ks,Vs].join("|")+")"+fu+hu+")*",hh="(?:"+[ru,Ks,Vs].join("|")+")"+lu,Js="(?:"+[ou+Uo+"?",Uo,Ks,Vs,eu].join("|")+")",du=RegExp("['\u2019]","g"),Wo=RegExp(Uo,"g"),qs=RegExp(js+"(?="+js+")|"+Js+lu,"g"),fh=RegExp([Ei+"?"+iu+"+"+uu+"(?="+[Qi,Ei,"$"].join("|")+")",sh+"+"+cu+"(?="+[Qi,Ei+au,"$"].join("|")+")",Ei+"?"+au+"+"+uu,Ei+"+"+cu,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",nu,hh].join("|"),"g"),lh=RegExp("[\\u200d"+yt+we+qr+"]"),dh=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,gh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ph=-1,Ne={};Ne[Xr]=Ne[xi]=Ne[xr]=Ne[Vi]=Ne[jr]=Ne[Vn]=Ne[On]=Ne[Pn]=Ne[Sn]=!0,Ne[kt]=Ne[It]=Ne[wr]=Ne[Te]=Ne[Kn]=Ne[He]=Ne[Pe]=Ne[Ie]=Ne[Re]=Ne[pn]=Ne[Ue]=Ne[Gn]=Ne[sn]=Ne[wi]=Ne[Hr]=!1;var Me={};Me[kt]=Me[It]=Me[wr]=Me[Kn]=Me[Te]=Me[He]=Me[Xr]=Me[xi]=Me[xr]=Me[Vi]=Me[jr]=Me[Re]=Me[pn]=Me[Ue]=Me[Gn]=Me[sn]=Me[wi]=Me[rr]=Me[Vn]=Me[On]=Me[Pn]=Me[Sn]=!0,Me[Pe]=Me[Ie]=Me[Hr]=!1;var wh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ci=parseFloat,xh=parseInt,gu="object"==typeof global&&global&&global.Object===Object&&global,bh="object"==typeof self&&self&&self.Object===Object&&self,Xe=gu||bh||Function("return this")(),Qs=dt&&!dt.nodeType&&dt,ti=Qs&&Mt&&!Mt.nodeType&&Mt,ta=ti&&ti.exports===Qs,Bo=ta&&gu.process,bn=function(){try{return ti&&ti.require&&ti.require("util").types||Bo&&Bo.binding&&Bo.binding("util")}catch(pt){}}(),pu=bn&&bn.isArrayBuffer,vu=bn&&bn.isDate,yu=bn&&bn.isMap,mu=bn&&bn.isRegExp,wu=bn&&bn.isSet,xu=bn&&bn.isTypedArray;function _n(tt,pt,ht){switch(ht.length){case 0:return tt.call(pt);case 1:return tt.call(pt,ht[0]);case 2:return tt.call(pt,ht[0],ht[1]);case 3:return tt.call(pt,ht[0],ht[1],ht[2])}return tt.apply(pt,ht)}function _h(tt,pt,ht,Bt){for(var ae=-1,_e=null==tt?0:tt.length;++ae<_e;){var We=tt[ae];pt(Bt,We,ht(We),tt)}return Bt}function kn(tt,pt){for(var ht=-1,Bt=null==tt?0:tt.length;++ht<Bt&&!1!==pt(tt[ht],ht,tt););return tt}function Ah(tt,pt){for(var ht=null==tt?0:tt.length;ht--&&!1!==pt(tt[ht],ht,tt););return tt}function bu(tt,pt){for(var ht=-1,Bt=null==tt?0:tt.length;++ht<Bt;)if(!pt(tt[ht],ht,tt))return!1;return!0}function Er(tt,pt){for(var ht=-1,Bt=null==tt?0:tt.length,ae=0,_e=[];++ht<Bt;){var We=tt[ht];pt(We,ht,tt)&&(_e[ae++]=We)}return _e}function Fo(tt,pt){return!(null==tt||!tt.length)&&Si(tt,pt,0)>-1}function ea(tt,pt,ht){for(var Bt=-1,ae=null==tt?0:tt.length;++Bt<ae;)if(ht(pt,tt[Bt]))return!0;return!1}function De(tt,pt){for(var ht=-1,Bt=null==tt?0:tt.length,ae=Array(Bt);++ht<Bt;)ae[ht]=pt(tt[ht],ht,tt);return ae}function Cr(tt,pt){for(var ht=-1,Bt=pt.length,ae=tt.length;++ht<Bt;)tt[ae+ht]=pt[ht];return tt}function na(tt,pt,ht,Bt){var ae=-1,_e=null==tt?0:tt.length;for(Bt&&_e&&(ht=tt[++ae]);++ae<_e;)ht=pt(ht,tt[ae],ae,tt);return ht}function Eh(tt,pt,ht,Bt){var ae=null==tt?0:tt.length;for(Bt&&ae&&(ht=tt[--ae]);ae--;)ht=pt(ht,tt[ae],ae,tt);return ht}function eo(tt,pt){for(var ht=-1,Bt=null==tt?0:tt.length;++ht<Bt;)if(pt(tt[ht],ht,tt))return!0;return!1}var Ch=ra("length");function _u(tt,pt,ht){var Bt;return ht(tt,function(ae,_e,We){if(pt(ae,_e,We))return Bt=_e,!1}),Bt}function Zo(tt,pt,ht,Bt){for(var ae=tt.length,_e=ht+(Bt?1:-1);Bt?_e--:++_e<ae;)if(pt(tt[_e],_e,tt))return _e;return-1}function Si(tt,pt,ht){return pt==pt?function Ho(tt,pt,ht){for(var Bt=ht-1,ae=tt.length;++Bt<ae;)if(tt[Bt]===pt)return Bt;return-1}(tt,pt,ht):Zo(tt,Au,ht)}function kh(tt,pt,ht,Bt){for(var ae=ht-1,_e=tt.length;++ae<_e;)if(Bt(tt[ae],pt))return ae;return-1}function Au(tt){return tt!=tt}function Eu(tt,pt){var ht=null==tt?0:tt.length;return ht?oa(tt,pt)/ht:NaN}function ra(tt){return function(pt){return null==pt?b:pt[tt]}}function ia(tt){return function(pt){return null==tt?b:tt[pt]}}function Cu(tt,pt,ht,Bt,ae){return ae(tt,function(_e,We,ke){ht=Bt?(Bt=!1,_e):pt(ht,_e,We,ke)}),ht}function oa(tt,pt){for(var ht,Bt=-1,ae=tt.length;++Bt<ae;){var _e=pt(tt[Bt]);_e!==b&&(ht=ht===b?_e:ht+_e)}return ht}function $o(tt,pt){for(var ht=-1,Bt=Array(tt);++ht<tt;)Bt[ht]=pt(ht);return Bt}function Su(tt){return tt&&tt.slice(0,io(tt)+1).replace(Ee,"")}function An(tt){return function(pt){return tt(pt)}}function sa(tt,pt){return De(pt,function(ht){return tt[ht]})}function Mi(tt,pt){return tt.has(pt)}function yn(tt,pt){for(var ht=-1,Bt=tt.length;++ht<Bt&&Si(pt,tt[ht],0)>-1;);return ht}function aa(tt,pt){for(var ht=tt.length;ht--&&Si(pt,tt[ht],0)>-1;);return ht}function Dh(tt,pt){for(var ht=tt.length,Bt=0;ht--;)tt[ht]===pt&&++Bt;return Bt}var no=ia({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Lh=ia({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Mu(tt){return"\\"+wh[tt]}function ki(tt){return lh.test(tt)}function Ii(tt){var pt=-1,ht=Array(tt.size);return tt.forEach(function(Bt,ae){ht[++pt]=[ae,Bt]}),ht}function ei(tt,pt){return function(ht){return tt(pt(ht))}}function In(tt,pt){for(var ht=-1,Bt=tt.length,ae=0,_e=[];++ht<Bt;){var We=tt[ht];(We===pt||We===E)&&(tt[ht]=E,_e[ae++]=ht)}return _e}function Sr(tt){var pt=-1,ht=Array(tt.size);return tt.forEach(function(Bt){ht[++pt]=Bt}),ht}function sr(tt){return ki(tt)?function Nu(tt){for(var pt=qs.lastIndex=0;qs.test(tt);)++pt;return pt}(tt):Ch(tt)}function je(tt){return ki(tt)?function ua(tt){return tt.match(qs)||[]}(tt):function Sh(tt){return tt.split("")}(tt)}function io(tt){for(var pt=tt.length;pt--&&qi.test(tt.charAt(pt)););return pt}var oo=ia({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ni=function tt(pt){var t,ht=(pt=null==pt?Xe:Ni.defaults(Xe.Object(),pt,Ni.pick(Xe,gh))).Array,Bt=pt.Date,ae=pt.Error,_e=pt.Function,We=pt.Math,ke=pt.Object,jo=pt.RegExp,Du=pt.String,mn=pt.TypeError,ni=ht.prototype,Mr=ke.prototype,ri=pt["__core-js_shared__"],ii=_e.prototype.toString,Ae=Mr.hasOwnProperty,Jn=0,Nn=(t=/[^.]+$/.exec(ri&&ri.keys&&ri.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"",Ko=Mr.toString,Vo=ii.call(ke),Rh=Xe._,Un=jo("^"+ii.call(Ae).replace(Kr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),so=ta?pt.Buffer:b,qn=pt.Symbol,ao=pt.Uint8Array,uo=so?so.allocUnsafe:b,Jo=ei(ke.getPrototypeOf,ke),Tu=ke.create,ca=Mr.propertyIsEnumerable,qo=ni.splice,zu=qn?qn.isConcatSpreadable:b,co=qn?qn.iterator:b,oi=qn?qn.toStringTag:b,Qo=function(){try{var t=Wr(ke,"defineProperty");return t({},"",{}),t}catch(n){}}(),ha=pt.clearTimeout!==Xe.clearTimeout&&pt.clearTimeout,ts=Bt&&Bt.now!==Xe.Date.now&&Bt.now,fa=pt.setTimeout!==Xe.setTimeout&&pt.setTimeout,ar=We.ceil,Qn=We.floor,kr=ke.getOwnPropertySymbols,Di=so?so.isBuffer:b,Li=pt.isFinite,tr=ni.join,Gh=ei(ke.keys,ke),Be=We.max,Qe=We.min,Oh=Bt.now,Ph=pt.parseInt,Ru=We.random,Uh=ni.reverse,es=Wr(pt,"DataView"),Ti=Wr(pt,"Map"),la=Wr(pt,"Promise"),zi=Wr(pt,"Set"),Ri=Wr(pt,"WeakMap"),Wn=Wr(ke,"create"),ho=Ri&&new Ri,ur={},Gu=li(es),ns=li(Ti),tn=li(la),Ou=li(zi),Wh=li(Ri),fo=qn?qn.prototype:b,Ir=fo?fo.valueOf:b,Nr=fo?fo.toString:b;function C(t){if(ut(t)&&!fe(t)&&!(t instanceof ue)){if(t instanceof Dn)return t;if(Ae.call(t,"__wrapped__"))return _c(t)}return new Dn(t)}var si=function(){function t(){}return function(n){if(!lt(n))return{};if(Tu)return Tu(n);t.prototype=n;var s=new t;return t.prototype=b,s}}();function lo(){}function Dn(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=b}function ue(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=se,this.__views__=[]}function Dr(t){var n=-1,s=null==t?0:t.length;for(this.clear();++n<s;){var h=t[n];this.set(h[0],h[1])}}function cr(t){var n=-1,s=null==t?0:t.length;for(this.clear();++n<s;){var h=t[n];this.set(h[0],h[1])}}function Lr(t){var n=-1,s=null==t?0:t.length;for(this.clear();++n<s;){var h=t[n];this.set(h[0],h[1])}}function Tr(t){var n=-1,s=null==t?0:t.length;for(this.__data__=new Lr;++n<s;)this.add(t[n])}function Bn(t){var n=this.__data__=new cr(t);this.size=n.size}function Fu(t,n){var s=fe(t),h=!s&&pi(t),m=!s&&!h&&o(t),D=!s&&!h&&!m&&st(t),$=s||h||m||D,j=$?$o(t.length,Du):[],nt=j.length;for(var xt in t)(n||Ae.call(t,xt))&&(!$||!("length"==xt||m&&("offset"==xt||"parent"==xt)||D&&("buffer"==xt||"byteLength"==xt||"byteOffset"==xt)||pr(xt,nt)))&&j.push(xt);return j}function Zu(t){var n=t.length;return n?t[fs(0,n-1)]:b}function tf(t,n){return Is(wn(t),ai(n,0,t.length))}function ef(t){return Is(wn(t))}function va(t,n,s){(s!==b&&!Yn(t[n],s)||s===b&&!(n in t))&&hr(t,n,s)}function go(t,n,s){var h=t[n];(!Ae.call(t,n)||!Yn(h,s)||s===b&&!(n in t))&&hr(t,n,s)}function ss(t,n){for(var s=t.length;s--;)if(Yn(t[s][0],n))return s;return-1}function nf(t,n,s,h){return zr(t,function(m,D,$){n(h,m,s(m),$)}),h}function $u(t,n){return t&&nr(n,rn(n),t)}function hr(t,n,s){"__proto__"==n&&Qo?Qo(t,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):t[n]=s}function ya(t,n){for(var s=-1,h=n.length,m=ht(h),D=null==t;++s<h;)m[s]=D?b:Hl(t,n[s]);return m}function ai(t,n,s){return t==t&&(s!==b&&(t=t<=s?t:s),n!==b&&(t=t>=n?t:n)),t}function Ln(t,n,s,h,m,D){var $,j=1&n,nt=2&n,xt=4&n;if(s&&($=m?s(t,h,m,D):s(t)),$!==b)return $;if(!lt(t))return t;var _t=fe(t);if(_t){if($=function Lf(t){var n=t.length,s=new t.constructor(n);return n&&"string"==typeof t[0]&&Ae.call(t,"index")&&(s.index=t.index,s.input=t.input),s}(t),!j)return wn(t,$)}else{var St=nn(t),Pt=St==Ie||St==jn;if(o(t))return nc(t,j);if(St==Ue||St==kt||Pt&&!m){if($=nt||Pt?{}:Tf(t),!j)return nt?function Mf(t,n){return nr(t,Oa(t),n)}(t,function rf(t,n){return t&&nr(n,zn(n),t)}($,t)):function Sf(t,n){return nr(t,As(t),n)}(t,$u($,t))}else{if(!Me[St])return m?t:{};$=function yc(t,n,s){var h=t.constructor;switch(n){case wr:return Da(t);case Te:case He:return new h(+t);case Kn:return function rc(t,n){var s=n?Da(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.byteLength)}(t,s);case Xr:case xi:case xr:case Vi:case jr:case Vn:case On:case Pn:case Sn:return ic(t,s);case Re:return new h;case pn:case wi:return new h(t);case Gn:return function Ef(t){var n=new t.constructor(t.source,p.exec(t));return n.lastIndex=t.lastIndex,n}(t);case sn:return new h;case rr:return function Cf(t){return Ir?ke(Ir.call(t)):{}}(t)}}(t,St,j)}}D||(D=new Bn);var Kt=D.get(t);if(Kt)return Kt;D.set(t,$),Rt(t)?t.forEach(function(oe){$.add(Ln(oe,n,s,oe,t,D))}):V(t)&&t.forEach(function(oe,ve){$.set(ve,Ln(oe,n,s,ve,t,D))});var ge=_t?b:(xt?nt?Ga:Ra:nt?zn:rn)(t);return kn(ge||t,function(oe,ve){ge&&(oe=t[ve=oe]),go($,ve,Ln(oe,n,s,ve,t,D))}),$}function Yu(t,n,s){var h=s.length;if(null==t)return!h;for(t=ke(t);h--;){var m=s[h],$=t[m];if($===b&&!(m in t)||!(0,n[m])($))return!1}return!0}function Hu(t,n,s){if("function"!=typeof t)throw new mn(N);return So(function(){t.apply(b,s)},n)}function po(t,n,s,h){var m=-1,D=Fo,$=!0,j=t.length,nt=[],xt=n.length;if(!j)return nt;s&&(n=De(n,An(s))),h?(D=ea,$=!1):n.length>=200&&(D=Mi,$=!1,n=new Tr(n));t:for(;++m<j;){var _t=t[m],St=null==s?_t:s(_t);if(_t=h||0!==_t?_t:0,$&&St==St){for(var Pt=xt;Pt--;)if(n[Pt]===St)continue t;nt.push(_t)}else D(n,St,h)||nt.push(_t)}return nt}C.templateSettings={escape:Xs,evaluate:tu,interpolate:Ro,variable:"",imports:{_:C}},(C.prototype=lo.prototype).constructor=C,(Dn.prototype=si(lo.prototype)).constructor=Dn,(ue.prototype=si(lo.prototype)).constructor=ue,Dr.prototype.clear=function Bh(){this.__data__=Wn?Wn(null):{},this.size=0},Dr.prototype.delete=function Fh(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},Dr.prototype.get=function is(t){var n=this.__data__;if(Wn){var s=n[t];return s===x?b:s}return Ae.call(n,t)?n[t]:b},Dr.prototype.has=function Uu(t){var n=this.__data__;return Wn?n[t]!==b:Ae.call(n,t)},Dr.prototype.set=function Zh(t,n){var s=this.__data__;return this.size+=this.has(t)?0:1,s[t]=Wn&&n===b?x:n,this},cr.prototype.clear=function $h(){this.__data__=[],this.size=0},cr.prototype.delete=function Gi(t){var n=this.__data__,s=ss(n,t);return!(s<0||(s==n.length-1?n.pop():qo.call(n,s,1),--this.size,0))},cr.prototype.get=function os(t){var n=this.__data__,s=ss(n,t);return s<0?b:n[s][1]},cr.prototype.has=function Wu(t){return ss(this.__data__,t)>-1},cr.prototype.set=function ed(t,n){var s=this.__data__,h=ss(s,t);return h<0?(++this.size,s.push([t,n])):s[h][1]=n,this},Lr.prototype.clear=function ga(){this.size=0,this.__data__={hash:new Dr,map:new(Ti||cr),string:new Dr}},Lr.prototype.delete=function pa(t){var n=bs(this,t).delete(t);return this.size-=n?1:0,n},Lr.prototype.get=function Yh(t){return bs(this,t).get(t)},Lr.prototype.has=function Hh(t){return bs(this,t).has(t)},Lr.prototype.set=function Bu(t,n){var s=bs(this,t),h=s.size;return s.set(t,n),this.size+=s.size==h?0:1,this},Tr.prototype.add=Tr.prototype.push=function Xh(t){return this.__data__.set(t,x),this},Tr.prototype.has=function jh(t){return this.__data__.has(t)},Bn.prototype.clear=function Kh(){this.__data__=new cr,this.size=0},Bn.prototype.delete=function Vh(t){var n=this.__data__,s=n.delete(t);return this.size=n.size,s},Bn.prototype.get=function Jh(t){return this.__data__.get(t)},Bn.prototype.has=function qh(t){return this.__data__.has(t)},Bn.prototype.set=function Qh(t,n){var s=this.__data__;if(s instanceof cr){var h=s.__data__;if(!Ti||h.length<199)return h.push([t,n]),this.size=++s.size,this;s=this.__data__=new Lr(h)}return s.set(t,n),this.size=s.size,this};var zr=uc(er),Xu=uc(xa,!0);function sf(t,n){var s=!0;return zr(t,function(h,m,D){return s=!!n(h,m,D)}),s}function as(t,n,s){for(var h=-1,m=t.length;++h<m;){var D=t[h],$=n(D);if(null!=$&&(j===b?$==$&&!Yt($):s($,j)))var j=$,nt=D}return nt}function ju(t,n){var s=[];return zr(t,function(h,m,D){n(h,m,D)&&s.push(h)}),s}function Ke(t,n,s,h,m){var D=-1,$=t.length;for(s||(s=Rf),m||(m=[]);++D<$;){var j=t[D];n>0&&s(j)?n>1?Ke(j,n-1,s,h,m):Cr(m,j):h||(m[m.length]=j)}return m}var ma=cc(),wa=cc(!0);function er(t,n){return t&&ma(t,n,rn)}function xa(t,n){return t&&wa(t,n,rn)}function us(t,n){return Er(n,function(s){return H(t[s])})}function ui(t,n){for(var s=0,h=(n=Gr(n,t)).length;null!=t&&s<h;)t=t[vr(n[s++])];return s&&s==h?t:b}function Ku(t,n,s){var h=n(t);return fe(t)?h:Cr(h,s(t))}function cn(t){return null==t?t===b?"[object Undefined]":"[object Null]":oi&&oi in ke(t)?function vc(t){var n=Ae.call(t,oi),s=t[oi];try{t[oi]=b;var h=!0}catch(D){}var m=Ko.call(t);return h&&(n?t[oi]=s:delete t[oi]),m}(t):function Pf(t){return Ko.call(t)}(t)}function ba(t,n){return t>n}function uf(t,n){return null!=t&&Ae.call(t,n)}function cf(t,n){return null!=t&&n in ke(t)}function _a(t,n,s){for(var h=s?ea:Fo,m=t[0].length,D=t.length,$=D,j=ht(D),nt=1/0,xt=[];$--;){var _t=t[$];$&&n&&(_t=De(_t,An(n))),nt=Qe(_t.length,nt),j[$]=!s&&(n||m>=120&&_t.length>=120)?new Tr($&&_t):b}_t=t[0];var St=-1,Pt=j[0];t:for(;++St<m&&xt.length<nt;){var Kt=_t[St],ie=n?n(Kt):Kt;if(Kt=s||0!==Kt?Kt:0,!(Pt?Mi(Pt,ie):h(xt,ie,s))){for($=D;--$;){var ge=j[$];if(!(ge?Mi(ge,ie):h(t[$],ie,s)))continue t}Pt&&Pt.push(ie),xt.push(Kt)}}return xt}function vo(t,n,s){var h=null==(t=Eo(t,n=Gr(n,t)))?t:t[vr(Tn(n))];return null==h?b:_n(h,t,s)}function Vu(t){return ut(t)&&cn(t)==kt}function En(t,n,s,h,m){return t===n||(null==t||null==n||!ut(t)&&!ut(n)?t!=t&&n!=n:function gf(t,n,s,h,m,D){var $=fe(t),j=fe(n),nt=$?It:nn(t),xt=j?It:nn(n),_t=(nt=nt==kt?Ue:nt)==Ue,St=(xt=xt==kt?Ue:xt)==Ue,Pt=nt==xt;if(Pt&&o(t)){if(!o(n))return!1;$=!0,_t=!1}if(Pt&&!_t)return D||(D=new Bn),$||st(t)?pc(t,n,s,h,m,D):function xs(t,n,s,h,m,D,$){switch(s){case Kn:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case wr:return!(t.byteLength!=n.byteLength||!D(new ao(t),new ao(n)));case Te:case He:case pn:return Yn(+t,+n);case Pe:return t.name==n.name&&t.message==n.message;case Gn:case wi:return t==n+"";case Re:var j=Ii;case sn:if(j||(j=Sr),t.size!=n.size&&!(1&h))return!1;var xt=$.get(t);if(xt)return xt==n;h|=2,$.set(t,n);var _t=pc(j(t),j(n),h,m,D,$);return $.delete(t),_t;case rr:if(Ir)return Ir.call(t)==Ir.call(n)}return!1}(t,n,nt,s,h,m,D);if(!(1&s)){var Kt=_t&&Ae.call(t,"__wrapped__"),ie=St&&Ae.call(n,"__wrapped__");if(Kt||ie){var ge=Kt?t.value():t,oe=ie?n.value():n;return D||(D=new Bn),m(ge,oe,s,h,D)}}return!!Pt&&(D||(D=new Bn),function Ui(t,n,s,h,m,D){var $=1&s,j=Ra(t),nt=j.length;if(nt!=Ra(n).length&&!$)return!1;for(var St=nt;St--;){var Pt=j[St];if(!($?Pt in n:Ae.call(n,Pt)))return!1}var Kt=D.get(t),ie=D.get(n);if(Kt&&ie)return Kt==n&&ie==t;var ge=!0;D.set(t,n),D.set(n,t);for(var oe=$;++St<nt;){var ve=t[Pt=j[St]],be=n[Pt];if(h)var Hn=$?h(be,ve,Pt,n,t,D):h(ve,be,Pt,t,n,D);if(!(Hn===b?ve===be||m(ve,be,s,h,D):Hn)){ge=!1;break}oe||(oe="constructor"==Pt)}if(ge&&!oe){var Cn=t.constructor,Xn=n.constructor;Cn!=Xn&&"constructor"in t&&"constructor"in n&&!("function"==typeof Cn&&Cn instanceof Cn&&"function"==typeof Xn&&Xn instanceof Xn)&&(ge=!1)}return D.delete(t),D.delete(n),ge}(t,n,s,h,m,D))}(t,n,s,h,En,m))}function Fn(t,n,s,h){var m=s.length,D=m,$=!h;if(null==t)return!D;for(t=ke(t);m--;){var j=s[m];if($&&j[2]?j[1]!==t[j[0]]:!(j[0]in t))return!1}for(;++m<D;){var nt=(j=s[m])[0],xt=t[nt],_t=j[1];if($&&j[2]){if(xt===b&&!(nt in t))return!1}else{var St=new Bn;if(h)var Pt=h(xt,_t,nt,t,n,St);if(!(Pt===b?En(_t,xt,3,h,St):Pt))return!1}}return!0}function pf(t){return!(!lt(t)||function Wa(t){return!!Nn&&Nn in t}(t))&&(H(t)?Un:v).test(li(t))}function qu(t){return"function"==typeof t?t:null==t?Rn:"object"==typeof t?fe(t)?Ea(t[0],t[1]):hi(t):xd(t)}function Aa(t){if(!Zi(t))return Gh(t);var n=[];for(var s in ke(t))Ae.call(t,s)&&"constructor"!=s&&n.push(s);return n}function yo(t,n){return t<n}function ci(t,n){var s=-1,h=e(t)?ht(t.length):[];return zr(t,function(m,D,$){h[++s]=n(m,D,$)}),h}function hi(t){var n=_s(t);return 1==n.length&&n[0][2]?$i(n[0][0],n[0][1]):function(s){return s===t||Fn(s,t,n)}}function Ea(t,n){return Br(t)&&Ms(n)?$i(vr(t),n):function(s){var h=Hl(s,t);return h===b&&h===n?Xl(s,t):En(n,h,3)}}function Fe(t,n,s,h,m){t!==n&&ma(n,function(D,$){if(m||(m=new Bn),lt(D))!function en(t,n,s,h,m,D,$){var j=Co(t,s),nt=Co(n,s),xt=$.get(nt);if(xt)va(t,s,xt);else{var _t=D?D(j,nt,s+"",t,n,$):b,St=_t===b;if(St){var Pt=fe(nt),Kt=!Pt&&o(nt),ie=!Pt&&!Kt&&st(nt);_t=nt,Pt||Kt||ie?fe(j)?_t=j:i(j)?_t=wn(j):Kt?(St=!1,_t=nc(nt,!0)):ie?(St=!1,_t=ic(nt,!0)):_t=[]:Ft(nt)||pi(nt)?(_t=j,pi(j)?_t=Ve(j):(!lt(j)||H(j))&&(_t=Tf(nt))):St=!1}St&&($.set(nt,_t),m(_t,nt,h,D,$),$.delete(nt)),va(t,s,_t)}}(t,n,$,s,Fe,h,m);else{var j=h?h(Co(t,$),D,$+"",t,n,m):b;j===b&&(j=D),va(t,$,j)}},zn)}function Ca(t,n){var s=t.length;if(s)return pr(n+=n<0?s:0,s)?t[n]:b}function cs(t,n,s){n=n.length?De(n,function(D){return fe(D)?function($){return ui($,1===D.length?D[0]:D)}:D}):[Rn];var h=-1;return n=De(n,An(ne())),function Ih(tt,pt){var ht=tt.length;for(tt.sort(pt);ht--;)tt[ht]=tt[ht].value;return tt}(ci(t,function(D,$,j){return{criteria:De(n,function(xt){return xt(D)}),index:++h,value:D}}),function(D,$){return function hn(t,n,s){for(var h=-1,m=t.criteria,D=n.criteria,$=m.length,j=s.length;++h<$;){var nt=oc(m[h],D[h]);if(nt)return h>=j?nt:nt*("desc"==s[h]?-1:1)}return t.index-n.index}(D,$,s)})}function mo(t,n,s){for(var h=-1,m=n.length,D={};++h<m;){var $=n[h],j=ui(t,$);s(j,$)&&wo(D,Gr($,t),j)}return D}function Zn(t,n,s,h){var m=h?kh:Si,D=-1,$=n.length,j=t;for(t===n&&(n=wn(n)),s&&(j=De(t,An(s)));++D<$;)for(var nt=0,xt=n[D],_t=s?s(xt):xt;(nt=m(j,_t,nt,h))>-1;)j!==t&&qo.call(j,nt,1),qo.call(t,nt,1);return t}function Sa(t,n){for(var s=t?n.length:0,h=s-1;s--;){var m=n[s];if(s==h||m!==D){var D=m;pr(m)?qo.call(t,m,1):fi(t,m)}}return t}function fs(t,n){return t+Qn(Ru()*(n-t+1))}function Ma(t,n){var s="";if(!t||n<1||n>pe)return s;do{n%2&&(s+=t),(n=Qn(n/2))&&(t+=t)}while(n);return s}function he(t,n){return ks(wc(t,n,Rn),t+"")}function xf(t){return Zu($s(t))}function bf(t,n){var s=$s(t);return Is(s,ai(n,0,s.length))}function wo(t,n,s,h){if(!lt(t))return t;for(var m=-1,D=(n=Gr(n,t)).length,$=D-1,j=t;null!=j&&++m<D;){var nt=vr(n[m]),xt=s;if("__proto__"===nt||"constructor"===nt||"prototype"===nt)return t;if(m!=$){var _t=j[nt];(xt=h?h(_t,nt,j):b)===b&&(xt=lt(_t)?_t:pr(n[m+1])?[]:{})}go(j,nt,xt),j=j[nt]}return t}var ls=ho?function(t,n){return ho.set(t,n),t}:Rn,_f=Qo?function(t,n){return Qo(t,"toString",{configurable:!0,enumerable:!1,value:Kl(n),writable:!0})}:Rn;function rd(t){return Is($s(t))}function $n(t,n,s){var h=-1,m=t.length;n<0&&(n=-n>m?0:m+n),(s=s>m?m:s)<0&&(s+=m),m=n>s?0:s-n>>>0,n>>>=0;for(var D=ht(m);++h<m;)D[h]=t[h+n];return D}function id(t,n){var s;return zr(t,function(h,m,D){return!(s=n(h,m,D))}),!!s}function ka(t,n,s){var h=0,m=null==t?h:t.length;if("number"==typeof n&&n==n&&m<=2147483647){for(;h<m;){var D=h+m>>>1,$=t[D];null!==$&&!Yt($)&&(s?$<=n:$<n)?h=D+1:m=D}return m}return xo(t,n,Rn,s)}function xo(t,n,s,h){var m=0,D=null==t?0:t.length;if(0===D)return 0;for(var $=(n=s(n))!=n,j=null===n,nt=Yt(n),xt=n===b;m<D;){var _t=Qn((m+D)/2),St=s(t[_t]),Pt=St!==b,Kt=null===St,ie=St==St,ge=Yt(St);if($)var oe=h||ie;else oe=xt?ie&&(h||Pt):j?ie&&Pt&&(h||!Kt):nt?ie&&Pt&&!Kt&&(h||!ge):!Kt&&!ge&&(h?St<=n:St<n);oe?m=_t+1:D=_t}return Qe(D,4294967294)}function Ze(t,n){for(var s=-1,h=t.length,m=0,D=[];++s<h;){var $=t[s],j=n?n($):$;if(!s||!Yn(j,nt)){var nt=j;D[m++]=0===$?0:$}}return D}function tc(t){return"number"==typeof t?t:Yt(t)?NaN:+t}function ze(t){if("string"==typeof t)return t;if(fe(t))return De(t,ze)+"";if(Yt(t))return Nr?Nr.call(t):"";var n=t+"";return"0"==n&&1/t==-Qt?"-0":n}function Rr(t,n,s){var h=-1,m=Fo,D=t.length,$=!0,j=[],nt=j;if(s)$=!1,m=ea;else if(D>=200){var xt=n?null:Nf(t);if(xt)return Sr(xt);$=!1,m=Mi,nt=new Tr}else nt=n?[]:j;t:for(;++h<D;){var _t=t[h],St=n?n(_t):_t;if(_t=s||0!==_t?_t:0,$&&St==St){for(var Pt=nt.length;Pt--;)if(nt[Pt]===St)continue t;n&&nt.push(St),j.push(_t)}else m(nt,St,s)||(nt!==j&&nt.push(St),j.push(_t))}return j}function fi(t,n){return null==(t=Eo(t,n=Gr(n,t)))||delete t[vr(Tn(n))]}function ds(t,n,s,h){return wo(t,n,s(ui(t,n)),h)}function fr(t,n,s,h){for(var m=t.length,D=h?m:-1;(h?D--:++D<m)&&n(t[D],D,t););return s?$n(t,h?0:D,h?D+1:m):$n(t,h?D+1:0,h?m:D)}function Ia(t,n){var s=t;return s instanceof ue&&(s=s.value()),na(n,function(h,m){return m.func.apply(m.thisArg,Cr([h],m.args))},s)}function gs(t,n,s){var h=t.length;if(h<2)return h?Rr(t[0]):[];for(var m=-1,D=ht(h);++m<h;)for(var $=t[m],j=-1;++j<h;)j!=m&&(D[m]=po(D[m]||$,t[j],n,s));return Rr(Ke(D,1),n,s)}function bo(t,n,s){for(var h=-1,m=t.length,D=n.length,$={};++h<m;)s($,t[h],h<D?n[h]:b);return $}function _o(t){return i(t)?t:[]}function Na(t){return"function"==typeof t?t:Rn}function Gr(t,n){return fe(t)?t:Br(t,n)?[t]:Wf(qt(t))}var Af=he;function Or(t,n,s){var h=t.length;return s=s===b?h:s,!n&&s>=h?t:$n(t,n,s)}var ec=ha||function(t){return Xe.clearTimeout(t)};function nc(t,n){if(n)return t.slice();var s=t.length,h=uo?uo(s):new t.constructor(s);return t.copy(h),h}function Da(t){var n=new t.constructor(t.byteLength);return new ao(n).set(new ao(t)),n}function ic(t,n){var s=n?Da(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.length)}function oc(t,n){if(t!==n){var s=t!==b,h=null===t,m=t==t,D=Yt(t),$=n!==b,j=null===n,nt=n==n,xt=Yt(n);if(!j&&!xt&&!D&&t>n||D&&$&&nt&&!j&&!xt||h&&$&&nt||!s&&nt||!m)return 1;if(!h&&!D&&!xt&&t<n||xt&&s&&m&&!h&&!D||j&&s&&m||!$&&m||!nt)return-1}return 0}function sc(t,n,s,h){for(var m=-1,D=t.length,$=s.length,j=-1,nt=n.length,xt=Be(D-$,0),_t=ht(nt+xt),St=!h;++j<nt;)_t[j]=n[j];for(;++m<$;)(St||m<D)&&(_t[s[m]]=t[m]);for(;xt--;)_t[j++]=t[m++];return _t}function ac(t,n,s,h){for(var m=-1,D=t.length,$=-1,j=s.length,nt=-1,xt=n.length,_t=Be(D-j,0),St=ht(_t+xt),Pt=!h;++m<_t;)St[m]=t[m];for(var Kt=m;++nt<xt;)St[Kt+nt]=n[nt];for(;++$<j;)(Pt||m<D)&&(St[Kt+s[$]]=t[m++]);return St}function wn(t,n){var s=-1,h=t.length;for(n||(n=ht(h));++s<h;)n[s]=t[s];return n}function nr(t,n,s,h){var m=!s;s||(s={});for(var D=-1,$=n.length;++D<$;){var j=n[D],nt=h?h(s[j],t[j],j,s,t):b;nt===b&&(nt=t[j]),m?hr(s,j,nt):go(s,j,nt)}return s}function ps(t,n){return function(s,h){var m=fe(s)?_h:nf,D=n?n():{};return m(s,t,ne(h,2),D)}}function Oi(t){return he(function(n,s){var h=-1,m=s.length,D=m>1?s[m-1]:b,$=m>2?s[2]:b;for(D=t.length>3&&"function"==typeof D?(m--,D):b,$&&ln(s[0],s[1],$)&&(D=m<3?b:D,m=1),n=ke(n);++h<m;){var j=s[h];j&&t(n,j,h,D)}return n})}function uc(t,n){return function(s,h){if(null==s)return s;if(!e(s))return t(s,h);for(var m=s.length,D=n?m:-1,$=ke(s);(n?D--:++D<m)&&!1!==h($[D],D,$););return s}}function cc(t){return function(n,s,h){for(var m=-1,D=ke(n),$=h(n),j=$.length;j--;){var nt=$[t?j:++m];if(!1===s(D[nt],nt,D))break}return n}}function vs(t){return function(n){var s=ki(n=qt(n))?je(n):b,h=s?s[0]:n.charAt(0),m=s?Or(s,1).join(""):n.slice(1);return h[t]()+m}}function Pr(t){return function(n){return na(md(yd(n).replace(du,"")),t,"")}}function Pi(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var s=si(t.prototype),h=t.apply(s,n);return lt(h)?h:s}}function Ur(t){return function(n,s,h){var m=ke(n);if(!e(n)){var D=ne(s,3);n=rn(n),s=function(j){return D(m[j],j,m)}}var $=t(n,s,h);return $>-1?m[D?n[$]:$]:b}}function lr(t){return gr(function(n){var s=n.length,h=s,m=Dn.prototype.thru;for(t&&n.reverse();h--;){var D=n[h];if("function"!=typeof D)throw new mn(N);if(m&&!$&&"wrapper"==Bi(D))var $=new Dn([],!0)}for(h=$?h:s;++h<s;){var j=Bi(D=n[h]),nt="wrapper"==j?Wi(D):b;$=nt&&Ss(nt[0])&&424==nt[1]&&!nt[4].length&&1==nt[9]?$[Bi(nt[0])].apply($,nt[3]):1==D.length&&Ss(D)?$[j]():$.thru(D)}return function(){var xt=arguments,_t=xt[0];if($&&1==xt.length&&fe(_t))return $.plant(_t).value();for(var St=0,Pt=s?n[St].apply(this,xt):_t;++St<s;)Pt=n[St].call(this,Pt);return Pt}})}function ys(t,n,s,h,m,D,$,j,nt,xt){var _t=128&n,St=1&n,Pt=2&n,Kt=24&n,ie=512&n,ge=Pt?b:Pi(t);return function oe(){for(var ve=arguments.length,be=ht(ve),Hn=ve;Hn--;)be[Hn]=arguments[Hn];if(Kt)var Cn=Fi(oe),Xn=Dh(be,Cn);if(h&&(be=sc(be,h,m,Kt)),D&&(be=ac(be,D,$,Kt)),ve-=Xn,Kt&&ve<xt){var Ye=In(be,Cn);return Ta(t,n,ys,oe.placeholder,s,be,Ye,j,nt,xt-ve)}var mr=St?s:this,mi=Pt?mr[t]:t;return ve=be.length,j?be=Uf(be,j):ie&&ve>1&&be.reverse(),_t&&nt<ve&&(be.length=nt),this&&this!==Xe&&this instanceof oe&&(mi=ge||Pi(mi)),mi.apply(mr,be)}}function hc(t,n){return function(s,h){return function ff(t,n,s,h){return er(t,function(m,D,$){n(h,s(m),D,$)}),h}(s,t,n(h),{})}}function ms(t,n){return function(s,h){var m;if(s===b&&h===b)return n;if(s!==b&&(m=s),h!==b){if(m===b)return h;"string"==typeof s||"string"==typeof h?(s=ze(s),h=ze(h)):(s=tc(s),h=tc(h)),m=t(s,h)}return m}}function La(t){return gr(function(n){return n=De(n,An(ne())),he(function(s){var h=this;return t(n,function(m){return _n(m,h,s)})})})}function Ao(t,n){var s=(n=n===b?" ":ze(n)).length;if(s<2)return s?Ma(n,t):n;var h=Ma(n,ar(t/sr(n)));return ki(n)?Or(je(h),0,t).join(""):h.slice(0,t)}function fc(t){return function(n,s,h){return h&&"number"!=typeof h&&ln(n,s,h)&&(s=h=b),n=te(n),s===b?(s=n,n=0):s=te(s),function wf(t,n,s,h){for(var m=-1,D=Be(ar((n-t)/(s||1)),0),$=ht(D);D--;)$[h?D:++m]=t,t+=s;return $}(n,s,h=h===b?n<s?1:-1:te(h),t)}}function ws(t){return function(n,s){return"string"==typeof n&&"string"==typeof s||(n=xe(n),s=xe(s)),t(n,s)}}function Ta(t,n,s,h,m,D,$,j,nt,xt){var _t=8&n;n|=_t?L:64,4&(n&=~(_t?64:L))||(n&=-4);var ge=[t,n,m,_t?D:b,_t?$:b,_t?b:D,_t?b:$,j,nt,xt],oe=s.apply(b,ge);return Ss(t)&&xc(oe,ge),oe.placeholder=h,bc(oe,t,n)}function za(t){var n=We[t];return function(s,h){if(s=xe(s),(h=null==h?0:Qe(Tt(h),292))&&Li(s)){var m=(qt(s)+"e").split("e");return+((m=(qt(n(m[0]+"e"+(+m[1]+h)))+"e").split("e"))[0]+"e"+(+m[1]-h))}return n(s)}}var Nf=zi&&1/Sr(new zi([,-0]))[1]==Qt?function(t){return new zi(t)}:ql;function lc(t){return function(n){var s=nn(n);return s==Re?Ii(n):s==sn?function Iu(tt){var pt=-1,ht=Array(tt.size);return tt.forEach(function(Bt){ht[++pt]=[Bt,Bt]}),ht}(n):function Nh(tt,pt){return De(pt,function(ht){return[ht,tt[ht]]})}(n,t(n))}}function dr(t,n,s,h,m,D,$,j){var nt=2&n;if(!nt&&"function"!=typeof t)throw new mn(N);var xt=h?h.length:0;if(xt||(n&=-97,h=m=b),$=$===b?$:Be(Tt($),0),j=j===b?j:Tt(j),xt-=m?m.length:0,64&n){var _t=h,St=m;h=m=b}var Pt=nt?b:Wi(t),Kt=[t,n,s,h,m,_t,St,D,$,j];if(Pt&&function od(t,n){var s=t[1],h=n[1],m=s|h;if(!(m<131||(128==h&&8==s||128==h&&256==s&&t[7].length<=n[8]||384==h&&n[7].length<=n[8]&&8==s)))return t;1&h&&(t[2]=n[2],m|=1&s?0:4);var j=n[3];if(j){var nt=t[3];t[3]=nt?sc(nt,j,n[4]):j,t[4]=nt?In(t[3],E):n[4]}(j=n[5])&&(t[5]=(nt=t[5])?ac(nt,j,n[6]):j,t[6]=nt?In(t[5],E):n[6]),(j=n[7])&&(t[7]=j),128&h&&(t[8]=null==t[8]?n[8]:Qe(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=m}(Kt,Pt),t=Kt[0],n=Kt[1],s=Kt[2],h=Kt[3],m=Kt[4],!(j=Kt[9]=Kt[9]===b?nt?0:t.length:Be(Kt[9]-xt,0))&&24&n&&(n&=-25),n&&1!=n)ie=8==n||16==n?function fn(t,n,s){var h=Pi(t);return function m(){for(var D=arguments.length,$=ht(D),j=D,nt=Fi(m);j--;)$[j]=arguments[j];var xt=D<3&&$[0]!==nt&&$[D-1]!==nt?[]:In($,nt);return(D-=xt.length)<s?Ta(t,n,ys,m.placeholder,b,$,xt,b,b,s-D):_n(this&&this!==Xe&&this instanceof m?h:t,this,$)}}(t,n,j):n!=L&&33!=n||m.length?ys.apply(b,Kt):function If(t,n,s,h){var m=1&n,D=Pi(t);return function $(){for(var j=-1,nt=arguments.length,xt=-1,_t=h.length,St=ht(_t+nt),Pt=this&&this!==Xe&&this instanceof $?D:t;++xt<_t;)St[xt]=h[xt];for(;nt--;)St[xt++]=arguments[++j];return _n(Pt,m?s:this,St)}}(t,n,s,h);else var ie=function kf(t,n,s){var h=1&n,m=Pi(t);return function D(){return(this&&this!==Xe&&this instanceof D?m:t).apply(h?s:this,arguments)}}(t,n,s);return bc((Pt?ls:xc)(ie,Kt),t,n)}function dc(t,n,s,h){return t===b||Yn(t,Mr[s])&&!Ae.call(h,s)?n:t}function gc(t,n,s,h,m,D){return lt(t)&&lt(n)&&(D.set(n,t),Fe(t,n,b,gc,D),D.delete(n)),t}function Df(t){return Ft(t)?b:t}function pc(t,n,s,h,m,D){var $=1&s,j=t.length,nt=n.length;if(j!=nt&&!($&&nt>j))return!1;var xt=D.get(t),_t=D.get(n);if(xt&&_t)return xt==n&&_t==t;var St=-1,Pt=!0,Kt=2&s?new Tr:b;for(D.set(t,n),D.set(n,t);++St<j;){var ie=t[St],ge=n[St];if(h)var oe=$?h(ge,ie,St,n,t,D):h(ie,ge,St,t,n,D);if(oe!==b){if(oe)continue;Pt=!1;break}if(Kt){if(!eo(n,function(ve,be){if(!Mi(Kt,be)&&(ie===ve||m(ie,ve,s,h,D)))return Kt.push(be)})){Pt=!1;break}}else if(ie!==ge&&!m(ie,ge,s,h,D)){Pt=!1;break}}return D.delete(t),D.delete(n),Pt}function gr(t){return ks(wc(t,b,Za),t+"")}function Ra(t){return Ku(t,rn,As)}function Ga(t){return Ku(t,zn,Oa)}var Wi=ho?function(t){return ho.get(t)}:ql;function Bi(t){for(var n=t.name+"",s=ur[n],h=Ae.call(ur,n)?s.length:0;h--;){var m=s[h],D=m.func;if(null==D||D==t)return m.name}return n}function Fi(t){return(Ae.call(C,"placeholder")?C:t).placeholder}function ne(){var t=C.iteratee||Vl;return t=t===Vl?qu:t,arguments.length?t(arguments[0],arguments[1]):t}function bs(t,n){var s=t.__data__;return function Ua(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}(n)?s["string"==typeof n?"string":"hash"]:s.map}function _s(t){for(var n=rn(t),s=n.length;s--;){var h=n[s],m=t[h];n[s]=[h,m,Ms(m)]}return n}function Wr(t,n){var s=function Yo(tt,pt){return null==tt?b:tt[pt]}(t,n);return pf(s)?s:b}var As=kr?function(t){return null==t?[]:(t=ke(t),Er(kr(t),function(n){return ca.call(t,n)}))}:Ql,Oa=kr?function(t){for(var n=[];t;)Cr(n,As(t)),t=Jo(t);return n}:Ql,nn=cn;function Pa(t,n,s){for(var h=-1,m=(n=Gr(n,t)).length,D=!1;++h<m;){var $=vr(n[h]);if(!(D=null!=t&&s(t,$)))break;t=t[$]}return D||++h!=m?D:!!(m=null==t?0:t.length)&&K(m)&&pr($,m)&&(fe(t)||pi(t))}function Tf(t){return"function"!=typeof t.constructor||Zi(t)?{}:si(Jo(t))}function Rf(t){return fe(t)||pi(t)||!!(zu&&t&&t[zu])}function pr(t,n){var s=typeof t;return!!(n=null==n?pe:n)&&("number"==s||"symbol"!=s&&U.test(t))&&t>-1&&t%1==0&&t<n}function ln(t,n,s){if(!lt(s))return!1;var h=typeof n;return!!("number"==h?e(s)&&pr(n,s.length):"string"==h&&n in s)&&Yn(s[n],t)}function Br(t,n){if(fe(t))return!1;var s=typeof t;return!("number"!=s&&"symbol"!=s&&"boolean"!=s&&null!=t&&!Yt(t))||Ji.test(t)||!Ar.test(t)||null!=n&&t in ke(n)}function Ss(t){var n=Bi(t),s=C[n];if("function"!=typeof s||!(n in ue.prototype))return!1;if(t===s)return!0;var h=Wi(s);return!!h&&t===h[0]}(es&&nn(new es(new ArrayBuffer(1)))!=Kn||Ti&&nn(new Ti)!=Re||la&&nn(la.resolve())!=Ki||zi&&nn(new zi)!=sn||Ri&&nn(new Ri)!=Hr)&&(nn=function(t){var n=cn(t),s=n==Ue?t.constructor:b,h=s?li(s):"";if(h)switch(h){case Gu:return Kn;case ns:return Re;case tn:return Ki;case Ou:return sn;case Wh:return Hr}return n});var Gf=ri?H:td;function Zi(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||Mr)}function Ms(t){return t==t&&!lt(t)}function $i(t,n){return function(s){return null!=s&&s[t]===n&&(n!==b||t in ke(s))}}function wc(t,n,s){return n=Be(n===b?t.length-1:n,0),function(){for(var h=arguments,m=-1,D=Be(h.length-n,0),$=ht(D);++m<D;)$[m]=h[n+m];m=-1;for(var j=ht(n+1);++m<n;)j[m]=h[m];return j[n]=s($),_n(t,this,j)}}function Eo(t,n){return n.length<2?t:ui(t,$n(n,0,-1))}function Uf(t,n){for(var s=t.length,h=Qe(n.length,s),m=wn(t);h--;){var D=n[h];t[h]=pr(D,s)?m[D]:b}return t}function Co(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]}var xc=Ba(ls),So=fa||function(t,n){return Xe.setTimeout(t,n)},ks=Ba(_f);function bc(t,n,s){var h=n+"";return ks(t,function zf(t,n){var s=n.length;if(!s)return t;var h=s-1;return n[h]=(s>1?"& ":"")+n[h],n=n.join(s>2?", ":" "),t.replace(Oo,"{\n/* [wrapped with "+n+"] */\n")}(h,function Bf(t,n){return kn(ye,function(s){var h="_."+s[0];n&s[1]&&!Fo(t,h)&&t.push(h)}),t.sort()}(function Cs(t){var n=t.match(Vr);return n?n[1].split(Jr):[]}(h),s)))}function Ba(t){var n=0,s=0;return function(){var h=Oh(),m=16-(h-s);if(s=h,m>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(b,arguments)}}function Is(t,n){var s=-1,h=t.length,m=h-1;for(n=n===b?h:n;++s<n;){var D=fs(s,m),$=t[D];t[D]=t[s],t[s]=$}return t.length=n,t}var Wf=function mc(t){var n=Fs(t,function(h){return 500===s.size&&s.clear(),h}),s=n.cache;return n}(function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(Go,function(s,h,m,D){n.push(m?D.replace(g,"$1"):h||s)}),n});function vr(t){if("string"==typeof t||Yt(t))return t;var n=t+"";return"0"==n&&1/t==-Qt?"-0":n}function li(t){if(null!=t){try{return ii.call(t)}catch(n){}try{return t+""}catch(n){}}return""}function _c(t){if(t instanceof ue)return t.clone();var n=new Dn(t.__wrapped__,t.__chain__);return n.__actions__=wn(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}var Ff=he(function(t,n){return i(t)?po(t,Ke(n,1,i,!0)):[]}),Zf=he(function(t,n){var s=Tn(n);return i(s)&&(s=b),i(t)?po(t,Ke(n,1,i,!0),ne(s,2)):[]}),$f=he(function(t,n){var s=Tn(n);return i(s)&&(s=b),i(t)?po(t,Ke(n,1,i,!0),b,s):[]});function Ec(t,n,s){var h=null==t?0:t.length;if(!h)return-1;var m=null==s?0:Tt(s);return m<0&&(m=Be(h+m,0)),Zo(t,ne(n,3),m)}function Cc(t,n,s){var h=null==t?0:t.length;if(!h)return-1;var m=h-1;return s!==b&&(m=Tt(s),m=s<0?Be(h+m,0):Qe(m,h-1)),Zo(t,ne(n,3),m,!0)}function Za(t){return null!=t&&t.length?Ke(t,1):[]}function $a(t){return t&&t.length?t[0]:b}var Sc=he(function(t){var n=De(t,_o);return n.length&&n[0]===t[0]?_a(n):[]}),sd=he(function(t){var n=Tn(t),s=De(t,_o);return n===Tn(s)?n=b:s.pop(),s.length&&s[0]===t[0]?_a(s,ne(n,2)):[]}),qf=he(function(t){var n=Tn(t),s=De(t,_o);return(n="function"==typeof n?n:b)&&s.pop(),s.length&&s[0]===t[0]?_a(s,b,n):[]});function Tn(t){var n=null==t?0:t.length;return n?t[n-1]:b}var Ya=he(Ls);function Ls(t,n){return t&&t.length&&n&&n.length?Zn(t,n):t}var kc=gr(function(t,n){var s=null==t?0:t.length,h=ya(t,n);return Sa(t,De(n,function(m){return pr(m,s)?+m:m}).sort(oc)),h});function zs(t){return null==t?t:Uh.call(t)}var ol=he(function(t){return Rr(Ke(t,1,i,!0))}),sl=he(function(t){var n=Tn(t);return i(n)&&(n=b),Rr(Ke(t,1,i,!0),ne(n,2))}),Gs=he(function(t){var n=Tn(t);return n="function"==typeof n?n:b,Rr(Ke(t,1,i,!0),b,n)});function Xa(t){if(!t||!t.length)return[];var n=0;return t=Er(t,function(s){if(i(s))return n=Be(s.length,n),!0}),$o(n,function(s){return De(t,ra(s))})}function Os(t,n){if(!t||!t.length)return[];var s=Xa(t);return null==n?s:De(s,function(h){return _n(n,b,h)})}var ko=he(function(t,n){return i(t)?po(t,n):[]}),ul=he(function(t){return gs(Er(t,i))}),cl=he(function(t){var n=Tn(t);return i(n)&&(n=b),gs(Er(t,i),ne(n,2))}),zc=he(function(t){var n=Tn(t);return n="function"==typeof n?n:b,gs(Er(t,i),b,n)}),hl=he(Xa),dl=he(function(t){var n=t.length,s=n>1?t[n-1]:b;return s="function"==typeof s?(t.pop(),s):b,Os(t,s)});function Rc(t){var n=C(t);return n.__chain__=!0,n}function Hi(t,n){return n(t)}var Oc=gr(function(t){var n=t.length,s=n?t[0]:0,h=this.__wrapped__,m=function(D){return ya(D,t)};return!(n>1||this.__actions__.length)&&h instanceof ue&&pr(s)?((h=h.slice(s,+s+(n?1:0))).__actions__.push({func:Hi,args:[m],thisArg:b}),new Dn(h,this.__chain__).thru(function(D){return n&&!D.length&&D.push(b),D})):this.thru(m)}),Us=ps(function(t,n,s){Ae.call(t,s)?++t[s]:hr(t,s,1)}),ml=Ur(Ec),wl=Ur(Cc);function Ws(t,n){return(fe(t)?kn:zr)(t,ne(n,3))}function Va(t,n){return(fe(t)?Ah:Xu)(t,ne(n,3))}var gi=ps(function(t,n,s){Ae.call(t,s)?t[s].push(n):hr(t,s,[n])}),Fc=he(function(t,n,s){var h=-1,m="function"==typeof n,D=e(t)?ht(t.length):[];return zr(t,function($){D[++h]=m?_n(n,$,s):vo($,n,s)}),D}),bl=ps(function(t,n,s){hr(t,s,n)});function Io(t,n){return(fe(t)?De:ci)(t,ne(n,3))}var Xi=ps(function(t,n,s){t[s?0:1].push(n)},function(){return[[],[]]}),Hc=he(function(t,n){if(null==t)return[];var s=n.length;return s>1&&ln(t,n[0],n[1])?n=[]:s>2&&ln(n[0],n[1],n[2])&&(n=[n[0]]),cs(t,Ke(n,1),[])}),Bs=ts||function(){return Xe.Date.now()};function Xc(t,n,s){return n=s?b:n,dr(t,128,b,b,b,b,n=t&&null==n?t.length:n)}function jc(t,n){var s;if("function"!=typeof n)throw new mn(N);return t=Tt(t),function(){return--t>0&&(s=n.apply(this,arguments)),t<=1&&(n=b),s}}var Kc=he(function(t,n,s){var h=1;if(s.length){var m=In(s,Fi(Kc));h|=L}return dr(t,h,n,s,m)}),Vc=he(function(t,n,s){var h=3;if(s.length){var m=In(s,Fi(Vc));h|=L}return dr(n,h,t,s,m)});function Qc(t,n,s){var h,m,D,$,j,nt,xt=0,_t=!1,St=!1,Pt=!0;if("function"!=typeof t)throw new mn(N);function Kt(Ye){var mr=h,mi=m;return h=m=b,xt=Ye,$=t.apply(mi,mr)}function ie(Ye){return xt=Ye,j=So(ve,n),_t?Kt(Ye):$}function oe(Ye){var mr=Ye-nt;return nt===b||mr>=n||mr<0||St&&Ye-xt>=D}function ve(){var Ye=Bs();if(oe(Ye))return be(Ye);j=So(ve,function ge(Ye){var bd=n-(Ye-nt);return St?Qe(bd,D-(Ye-xt)):bd}(Ye))}function be(Ye){return j=b,Pt&&h?Kt(Ye):(h=m=b,$)}function Xn(){var Ye=Bs(),mr=oe(Ye);if(h=arguments,m=this,nt=Ye,mr){if(j===b)return ie(nt);if(St)return ec(j),j=So(ve,n),Kt(nt)}return j===b&&(j=So(ve,n)),$}return n=xe(n)||0,lt(s)&&(_t=!!s.leading,D=(St="maxWait"in s)?Be(xe(s.maxWait)||0,n):D,Pt="trailing"in s?!!s.trailing:Pt),Xn.cancel=function Hn(){j!==b&&ec(j),xt=0,h=nt=m=j=b},Xn.flush=function Cn(){return j===b?$:be(Bs())},Xn}var kl=he(function(t,n){return Hu(t,1,n)}),Il=he(function(t,n,s){return Hu(t,xe(n)||0,s)});function Fs(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new mn(N);var s=function(){var h=arguments,m=n?n.apply(this,h):h[0],D=s.cache;if(D.has(m))return D.get(m);var $=t.apply(this,h);return s.cache=D.set(m,$)||D,$};return s.cache=new(Fs.Cache||Lr),s}function Zs(t){if("function"!=typeof t)throw new mn(N);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}Fs.Cache=Lr;var Ll=Af(function(t,n){var s=(n=1==n.length&&fe(n[0])?De(n[0],An(ne())):De(Ke(n,1),An(ne()))).length;return he(function(h){for(var m=-1,D=Qe(h.length,s);++m<D;)h[m]=n[m].call(this,h[m]);return _n(t,this,h)})}),qa=he(function(t,n){var s=In(n,Fi(qa));return dr(t,L,b,n,s)}),th=he(function(t,n){var s=In(n,Fi(th));return dr(t,64,b,n,s)}),No=gr(function(t,n){return dr(t,256,b,b,b,n)});function Yn(t,n){return t===n||t!=t&&n!=n}var fd=ws(ba),Fl=ws(function(t,n){return t>=n}),pi=Vu(function(){return arguments}())?Vu:function(t){return ut(t)&&Ae.call(t,"callee")&&!ca.call(t,"callee")},fe=ht.isArray,Zl=pu?An(pu):function lf(t){return ut(t)&&cn(t)==wr};function e(t){return null!=t&&K(t.length)&&!H(t)}function i(t){return ut(t)&&e(t)}var o=Di||td,a=vu?An(vu):function df(t){return ut(t)&&cn(t)==He};function A(t){if(!ut(t))return!1;var n=cn(t);return n==Pe||"[object DOMException]"==n||"string"==typeof t.message&&"string"==typeof t.name&&!Ft(t)}function H(t){if(!lt(t))return!1;var n=cn(t);return n==Ie||n==jn||"[object AsyncFunction]"==n||"[object Proxy]"==n}function Y(t){return"number"==typeof t&&t==Tt(t)}function K(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=pe}function lt(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function ut(t){return null!=t&&"object"==typeof t}var V=yu?An(yu):function Ju(t){return ut(t)&&nn(t)==Re};function $t(t){return"number"==typeof t||ut(t)&&cn(t)==pn}function Ft(t){if(!ut(t)||cn(t)!=Ue)return!1;var n=Jo(t);if(null===n)return!0;var s=Ae.call(n,"constructor")&&n.constructor;return"function"==typeof s&&s instanceof s&&ii.call(s)==Vo}var ce=mu?An(mu):function nd(t){return ut(t)&&cn(t)==Gn},Rt=wu?An(wu):function vf(t){return ut(t)&&nn(t)==sn};function le(t){return"string"==typeof t||!fe(t)&&ut(t)&&cn(t)==wi}function Yt(t){return"symbol"==typeof t||ut(t)&&cn(t)==rr}var st=xu?An(xu):function yf(t){return ut(t)&&K(t.length)&&!!Ne[cn(t)]},Vt=ws(yo),Zt=ws(function(t,n){return t<=n});function jt(t){if(!t)return[];if(e(t))return le(t)?je(t):wn(t);if(co&&t[co])return function ku(tt){for(var pt,ht=[];!(pt=tt.next()).done;)ht.push(pt.value);return ht}(t[co]());var n=nn(t);return(n==Re?Ii:n==sn?Sr:$s)(t)}function te(t){return t?(t=xe(t))===Qt||t===-Qt?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function Tt(t){var n=te(t),s=n%1;return n==n?s?n-s:n:0}function dn(t){return t?ai(Tt(t),0,se):0}function xe(t){if("number"==typeof t)return t;if(Yt(t))return NaN;if(lt(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=lt(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=Su(t);var s=c.test(t);return s||M.test(t)?xh(t.slice(2),s?2:8):u.test(t)?NaN:+t}function Ve(t){return nr(t,zn(t))}function qt(t){return null==t?"":ze(t)}var gn=Oi(function(t,n){if(Zi(n)||e(n))nr(n,rn(n),t);else for(var s in n)Ae.call(n,s)&&go(t,s,n[s])}),vi=Oi(function(t,n){nr(n,zn(n),t)}),$r=Oi(function(t,n,s,h){nr(n,zn(n),t,h)}),nh=Oi(function(t,n,s,h){nr(n,rn(n),t,h)}),rh=gr(ya),ih=he(function(t,n){t=ke(t);var s=-1,h=n.length,m=h>2?n[2]:b;for(m&&ln(n[0],n[1],m)&&(h=1);++s<h;)for(var D=n[s],$=zn(D),j=-1,nt=$.length;++j<nt;){var xt=$[j],_t=t[xt];(_t===b||Yn(_t,Mr[xt])&&!Ae.call(t,xt))&&(t[xt]=D[xt])}return t}),$l=he(function(t){return t.push(b,gc),_n(ld,b,t)});function Hl(t,n,s){var h=null==t?b:ui(t,n);return h===b?s:h}function Xl(t,n){return null!=t&&Pa(t,n,cf)}var Sd=hc(function(t,n,s){null!=n&&"function"!=typeof n.toString&&(n=Ko.call(n)),t[n]=s},Kl(Rn)),Md=hc(function(t,n,s){null!=n&&"function"!=typeof n.toString&&(n=Ko.call(n)),Ae.call(t,n)?t[n].push(s):t[n]=[s]},ne),kd=he(vo);function rn(t){return e(t)?Fu(t):Aa(t)}function zn(t){return e(t)?Fu(t,!0):function Qu(t){if(!lt(t))return function Of(t){var n=[];if(null!=t)for(var s in ke(t))n.push(s);return n}(t);var n=Zi(t),s=[];for(var h in t)"constructor"==h&&(n||!Ae.call(t,h))||s.push(h);return s}(t)}var Dd=Oi(function(t,n,s){Fe(t,n,s)}),ld=Oi(function(t,n,s,h){Fe(t,n,s,h)}),Ld=gr(function(t,n){var s={};if(null==t)return s;var h=!1;n=De(n,function(D){return D=Gr(D,t),h||(h=D.length>1),D}),nr(t,Ga(t),s),h&&(s=Ln(s,7,Df));for(var m=n.length;m--;)fi(s,n[m]);return s}),zd=gr(function(t,n){return null==t?{}:function hs(t,n){return mo(t,n,function(s,h){return Xl(t,h)})}(t,n)});function dd(t,n){if(null==t)return{};var s=De(Ga(t),function(h){return[h]});return n=ne(n),mo(t,s,function(h,m){return n(h,m[0])})}var gd=lc(rn),pd=lc(zn);function $s(t){return null==t?[]:sa(t,rn(t))}var Hd=Pr(function(t,n,s){return n=n.toLowerCase(),t+(s?vd(n):n)});function vd(t){return jl(qt(t).toLowerCase())}function yd(t){return(t=qt(t))&&t.replace(rt,no).replace(Wo,"")}var Vd=Pr(function(t,n,s){return t+(s?"-":"")+n.toLowerCase()}),Jd=Pr(function(t,n,s){return t+(s?" ":"")+n.toLowerCase()}),qd=vs("toLowerCase"),og=Pr(function(t,n,s){return t+(s?"_":"")+n.toLowerCase()}),ag=Pr(function(t,n,s){return t+(s?" ":"")+jl(n)}),yg=Pr(function(t,n,s){return t+(s?" ":"")+n.toUpperCase()}),jl=vs("toUpperCase");function md(t,n,s){return t=qt(t),(n=s?b:n)===b?function Th(tt){return dh.test(tt)}(t)?function zh(tt){return tt.match(fh)||[]}(t):function Mh(tt){return tt.match(Ai)||[]}(t):t.match(n)||[]}var wd=he(function(t,n){try{return _n(t,b,n)}catch(s){return A(s)?s:new ae(s)}}),mg=gr(function(t,n){return kn(n,function(s){s=vr(s),hr(t,s,Kc(t[s],t))}),t});function Kl(t){return function(){return t}}var _g=lr(),Ag=lr(!0);function Rn(t){return t}function Vl(t){return qu("function"==typeof t?t:Ln(t,1))}var Sg=he(function(t,n){return function(s){return vo(s,t,n)}}),Mg=he(function(t,n){return function(s){return vo(t,s,n)}});function Jl(t,n,s){var h=rn(n),m=us(n,h);null==s&&(!lt(n)||!m.length&&h.length)&&(s=n,n=t,t=this,m=us(n,rn(n)));var D=!(lt(s)&&"chain"in s&&!s.chain),$=H(t);return kn(m,function(j){var nt=n[j];t[j]=nt,$&&(t.prototype[j]=function(){var xt=this.__chain__;if(D||xt){var _t=t(this.__wrapped__),St=_t.__actions__=wn(this.__actions__);return St.push({func:nt,args:arguments,thisArg:t}),_t.__chain__=xt,_t}return nt.apply(t,Cr([this.value()],arguments))})}),t}function ql(){}var Ng=La(De),Dg=La(bu),Lg=La(eo);function xd(t){return Br(t)?ra(vr(t)):function mf(t){return function(n){return ui(n,t)}}(t)}var zg=fc(),Rg=fc(!0);function Ql(){return[]}function td(){return!1}var Fg=ms(function(t,n){return t+n},0),Zg=za("ceil"),$g=ms(function(t,n){return t/n},1),Yg=za("floor"),qg=ms(function(t,n){return t*n},1),Qg=za("round"),tp=ms(function(t,n){return t-n},0);return C.after=function Ml(t,n){if("function"!=typeof n)throw new mn(N);return t=Tt(t),function(){if(--t<1)return n.apply(this,arguments)}},C.ary=Xc,C.assign=gn,C.assignIn=vi,C.assignInWith=$r,C.assignWith=nh,C.at=rh,C.before=jc,C.bind=Kc,C.bindAll=mg,C.bindKey=Vc,C.castArray=function Ol(){if(!arguments.length)return[];var t=arguments[0];return fe(t)?t:[t]},C.chain=Rc,C.chunk=function Ac(t,n,s){n=(s?ln(t,n,s):n===b)?1:Be(Tt(n),0);var h=null==t?0:t.length;if(!h||n<1)return[];for(var m=0,D=0,$=ht(ar(h/n));m<h;)$[D++]=$n(t,m,m+=n);return $},C.compact=function Fr(t){for(var n=-1,s=null==t?0:t.length,h=0,m=[];++n<s;){var D=t[n];D&&(m[h++]=D)}return m},C.concat=function Fa(){var t=arguments.length;if(!t)return[];for(var n=ht(t-1),s=arguments[0],h=t;h--;)n[h-1]=arguments[h];return Cr(fe(s)?wn(s):[s],Ke(n,1))},C.cond=function wg(t){var n=null==t?0:t.length,s=ne();return t=n?De(t,function(h){if("function"!=typeof h[1])throw new mn(N);return[s(h[0]),h[1]]}):[],he(function(h){for(var m=-1;++m<n;){var D=t[m];if(_n(D[0],this,h))return _n(D[1],this,h)}})},C.conforms=function xg(t){return function of(t){var n=rn(t);return function(s){return Yu(s,t,n)}}(Ln(t,1))},C.constant=Kl,C.countBy=Us,C.create=function yi(t,n){var s=si(t);return null==n?s:$u(s,n)},C.curry=function Jc(t,n,s){var h=dr(t,8,b,b,b,b,b,n=s?b:n);return h.placeholder=Jc.placeholder,h},C.curryRight=function qc(t,n,s){var h=dr(t,16,b,b,b,b,b,n=s?b:n);return h.placeholder=qc.placeholder,h},C.debounce=Qc,C.defaults=ih,C.defaultsDeep=$l,C.defer=kl,C.delay=Il,C.difference=Ff,C.differenceBy=Zf,C.differenceWith=$f,C.drop=function Yf(t,n,s){var h=null==t?0:t.length;return h?$n(t,(n=s||n===b?1:Tt(n))<0?0:n,h):[]},C.dropRight=function Hf(t,n,s){var h=null==t?0:t.length;return h?$n(t,0,(n=h-(n=s||n===b?1:Tt(n)))<0?0:n):[]},C.dropRightWhile=function Xf(t,n){return t&&t.length?fr(t,ne(n,3),!0,!0):[]},C.dropWhile=function jf(t,n){return t&&t.length?fr(t,ne(n,3),!0):[]},C.fill=function Kf(t,n,s,h){var m=null==t?0:t.length;return m?(s&&"number"!=typeof s&&ln(t,n,s)&&(s=0,h=m),function af(t,n,s,h){var m=t.length;for((s=Tt(s))<0&&(s=-s>m?0:m+s),(h=h===b||h>m?m:Tt(h))<0&&(h+=m),h=s>h?0:dn(h);s<h;)t[s++]=n;return t}(t,n,s,h)):[]},C.filter=function Ka(t,n){return(fe(t)?Er:ju)(t,ne(n,3))},C.flatMap=function Uc(t,n){return Ke(Io(t,n),1)},C.flatMapDeep=function Wc(t,n){return Ke(Io(t,n),Qt)},C.flatMapDepth=function xl(t,n,s){return s=s===b?1:Tt(s),Ke(Io(t,n),s)},C.flatten=Za,C.flattenDeep=function Yi(t){return null!=t&&t.length?Ke(t,Qt):[]},C.flattenDepth=function Ns(t,n){return null!=t&&t.length?Ke(t,n=n===b?1:Tt(n)):[]},C.flip=function Nl(t){return dr(t,512)},C.flow=_g,C.flowRight=Ag,C.fromPairs=function Ds(t){for(var n=-1,s=null==t?0:t.length,h={};++n<s;){var m=t[n];h[m[0]]=m[1]}return h},C.functions=function Ad(t){return null==t?[]:us(t,rn(t))},C.functionsIn=function Ed(t){return null==t?[]:us(t,zn(t))},C.groupBy=gi,C.initial=function Jf(t){return null!=t&&t.length?$n(t,0,-1):[]},C.intersection=Sc,C.intersectionBy=sd,C.intersectionWith=qf,C.invert=Sd,C.invertBy=Md,C.invokeMap=Fc,C.iteratee=Vl,C.keyBy=bl,C.keys=rn,C.keysIn=zn,C.map=Io,C.mapKeys=function Id(t,n){var s={};return n=ne(n,3),er(t,function(h,m,D){hr(s,n(h,m,D),h)}),s},C.mapValues=function Nd(t,n){var s={};return n=ne(n,3),er(t,function(h,m,D){hr(s,m,n(h,m,D))}),s},C.matches=function Eg(t){return hi(Ln(t,1))},C.matchesProperty=function Cg(t,n){return Ea(t,Ln(n,1))},C.memoize=Fs,C.merge=Dd,C.mergeWith=ld,C.method=Sg,C.methodOf=Mg,C.mixin=Jl,C.negate=Zs,C.nthArg=function Ig(t){return t=Tt(t),he(function(n){return Ca(n,t)})},C.omit=Ld,C.omitBy=function Td(t,n){return dd(t,Zs(ne(n)))},C.once=function Dl(t){return jc(2,t)},C.orderBy=function _l(t,n,s,h){return null==t?[]:(fe(n)||(n=null==n?[]:[n]),fe(s=h?b:s)||(s=null==s?[]:[s]),cs(t,n,s))},C.over=Ng,C.overArgs=Ll,C.overEvery=Dg,C.overSome=Lg,C.partial=qa,C.partialRight=th,C.partition=Xi,C.pick=zd,C.pickBy=dd,C.property=xd,C.propertyOf=function Tg(t){return function(n){return null==t?b:ui(t,n)}},C.pull=Ya,C.pullAll=Ls,C.pullAllBy=function Ts(t,n,s){return t&&t.length&&n&&n.length?Zn(t,n,ne(s,2)):t},C.pullAllWith=function Mo(t,n,s){return t&&t.length&&n&&n.length?Zn(t,n,b,s):t},C.pullAt=kc,C.range=zg,C.rangeRight=Rg,C.rearg=No,C.reject=function $c(t,n){return(fe(t)?Er:ju)(t,Zs(ne(n,3)))},C.remove=function Ic(t,n){var s=[];if(!t||!t.length)return s;var h=-1,m=[],D=t.length;for(n=ne(n,3);++h<D;){var $=t[h];n($,h,t)&&(s.push($),m.push(h))}return Sa(t,m),s},C.rest=function Qa(t,n){if("function"!=typeof t)throw new mn(N);return he(t,n=n===b?n:Tt(n))},C.reverse=zs,C.sampleSize=function El(t,n,s){return n=(s?ln(t,n,s):n===b)?1:Tt(n),(fe(t)?tf:bf)(t,n)},C.set=function Gd(t,n,s){return null==t?t:wo(t,n,s)},C.setWith=function Od(t,n,s,h){return h="function"==typeof h?h:b,null==t?t:wo(t,n,s,h)},C.shuffle=function Cl(t){return(fe(t)?ef:rd)(t)},C.slice=function el(t,n,s){var h=null==t?0:t.length;return h?(s&&"number"!=typeof s&&ln(t,n,s)?(n=0,s=h):(n=null==n?0:Tt(n),s=s===b?h:Tt(s)),$n(t,n,s)):[]},C.sortBy=Hc,C.sortedUniq=function nl(t){return t&&t.length?Ze(t):[]},C.sortedUniqBy=function Rs(t,n){return t&&t.length?Ze(t,ne(n,2)):[]},C.split=function sg(t,n,s){return s&&"number"!=typeof s&&ln(t,n,s)&&(n=s=b),(s=s===b?se:s>>>0)?(t=qt(t))&&("string"==typeof n||null!=n&&!ce(n))&&!(n=ze(n))&&ki(t)?Or(je(t),0,s):t.split(n,s):[]},C.spread=function Tl(t,n){if("function"!=typeof t)throw new mn(N);return n=null==n?0:Be(Tt(n),0),he(function(s){var h=s[n],m=Or(s,0,n);return h&&Cr(m,h),_n(t,this,m)})},C.tail=function cd(t){var n=null==t?0:t.length;return n?$n(t,1,n):[]},C.take=function Lc(t,n,s){return t&&t.length?$n(t,0,(n=s||n===b?1:Tt(n))<0?0:n):[]},C.takeRight=function rl(t,n,s){var h=null==t?0:t.length;return h?$n(t,(n=h-(n=s||n===b?1:Tt(n)))<0?0:n,h):[]},C.takeRightWhile=function Tc(t,n){return t&&t.length?fr(t,ne(n,3),!1,!0):[]},C.takeWhile=function il(t,n){return t&&t.length?fr(t,ne(n,3)):[]},C.tap=function Gc(t,n){return n(t),t},C.throttle=function zl(t,n,s){var h=!0,m=!0;if("function"!=typeof t)throw new mn(N);return lt(s)&&(h="leading"in s?!!s.leading:h,m="trailing"in s?!!s.trailing:m),Qc(t,n,{leading:h,maxWait:n,trailing:m})},C.thru=Hi,C.toArray=jt,C.toPairs=gd,C.toPairsIn=pd,C.toPath=function Wg(t){return fe(t)?De(t,vr):Yt(t)?[t]:wn(Wf(qt(t)))},C.toPlainObject=Ve,C.transform=function Pd(t,n,s){var h=fe(t),m=h||o(t)||st(t);if(n=ne(n,4),null==s){var D=t&&t.constructor;s=m?h?new D:[]:lt(t)&&H(D)?si(Jo(t)):{}}return(m?kn:er)(t,function($,j,nt){return n(s,$,j,nt)}),s},C.unary=function Rl(t){return Xc(t,1)},C.union=ol,C.unionBy=sl,C.unionWith=Gs,C.uniq=function al(t){return t&&t.length?Rr(t):[]},C.uniqBy=function yr(t,n){return t&&t.length?Rr(t,ne(n,2)):[]},C.uniqWith=function Ha(t,n){return n="function"==typeof n?n:b,t&&t.length?Rr(t,b,n):[]},C.unset=function Ud(t,n){return null==t||fi(t,n)},C.unzip=Xa,C.unzipWith=Os,C.update=function Wd(t,n,s){return null==t?t:ds(t,n,Na(s))},C.updateWith=function Bd(t,n,s,h){return h="function"==typeof h?h:b,null==t?t:ds(t,n,Na(s),h)},C.values=$s,C.valuesIn=function Fd(t){return null==t?[]:sa(t,zn(t))},C.without=ko,C.words=md,C.wrap=function Gl(t,n){return qa(Na(n),t)},C.xor=ul,C.xorBy=cl,C.xorWith=zc,C.zip=hl,C.zipObject=function fl(t,n){return bo(t||[],n||[],go)},C.zipObjectDeep=function ll(t,n){return bo(t||[],n||[],wo)},C.zipWith=dl,C.entries=gd,C.entriesIn=pd,C.extend=vi,C.extendWith=$r,Jl(C,C),C.add=Fg,C.attempt=wd,C.camelCase=Hd,C.capitalize=vd,C.ceil=Zg,C.clamp=function Zd(t,n,s){return s===b&&(s=n,n=b),s!==b&&(s=(s=xe(s))==s?s:0),n!==b&&(n=(n=xe(n))==n?n:0),ai(xe(t),n,s)},C.clone=function Pl(t){return Ln(t,4)},C.cloneDeep=function Wl(t){return Ln(t,5)},C.cloneDeepWith=function eh(t,n){return Ln(t,5,n="function"==typeof n?n:b)},C.cloneWith=function Ul(t,n){return Ln(t,4,n="function"==typeof n?n:b)},C.conformsTo=function Bl(t,n){return null==n||Yu(t,n,rn(n))},C.deburr=yd,C.defaultTo=function bg(t,n){return null==t||t!=t?n:t},C.divide=$g,C.endsWith=function Xd(t,n,s){t=qt(t),n=ze(n);var h=t.length,m=s=s===b?h:ai(Tt(s),0,h);return(s-=n.length)>=0&&t.slice(s,m)==n},C.eq=Yn,C.escape=function jd(t){return(t=qt(t))&&zo.test(t)?t.replace(_r,Lh):t},C.escapeRegExp=function Kd(t){return(t=qt(t))&&or.test(t)?t.replace(Kr,"\\$&"):t},C.every=function ja(t,n,s){var h=fe(t)?bu:sf;return s&&ln(t,n,s)&&(n=b),h(t,ne(n,3))},C.find=ml,C.findIndex=Ec,C.findKey=function Yl(t,n){return _u(t,ne(n,3),er)},C.findLast=wl,C.findLastIndex=Cc,C.findLastKey=function de(t,n){return _u(t,ne(n,3),xa)},C.floor=Yg,C.forEach=Ws,C.forEachRight=Va,C.forIn=function $e(t,n){return null==t?t:ma(t,ne(n,3),zn)},C.forInRight=function Do(t,n){return null==t?t:wa(t,ne(n,3),zn)},C.forOwn=function Yr(t,n){return t&&er(t,ne(n,3))},C.forOwnRight=function _d(t,n){return t&&xa(t,ne(n,3))},C.get=Hl,C.gt=fd,C.gte=Fl,C.has=function Cd(t,n){return null!=t&&Pa(t,n,uf)},C.hasIn=Xl,C.head=$a,C.identity=Rn,C.includes=function Bc(t,n,s,h){t=e(t)?t:$s(t),s=s&&!h?Tt(s):0;var m=t.length;return s<0&&(s=Be(m+s,0)),le(t)?s<=m&&t.indexOf(n,s)>-1:!!m&&Si(t,n,s)>-1},C.indexOf=function Vf(t,n,s){var h=null==t?0:t.length;if(!h)return-1;var m=null==s?0:Tt(s);return m<0&&(m=Be(h+m,0)),Si(t,n,m)},C.inRange=function $d(t,n,s){return n=te(n),s===b?(s=n,n=0):s=te(s),function hf(t,n,s){return t>=Qe(n,s)&&t<Be(n,s)}(t=xe(t),n,s)},C.invoke=kd,C.isArguments=pi,C.isArray=fe,C.isArrayBuffer=Zl,C.isArrayLike=e,C.isArrayLikeObject=i,C.isBoolean=function r(t){return!0===t||!1===t||ut(t)&&cn(t)==Te},C.isBuffer=o,C.isDate=a,C.isElement=function l(t){return ut(t)&&1===t.nodeType&&!Ft(t)},C.isEmpty=function d(t){if(null==t)return!0;if(e(t)&&(fe(t)||"string"==typeof t||"function"==typeof t.splice||o(t)||st(t)||pi(t)))return!t.length;var n=nn(t);if(n==Re||n==sn)return!t.size;if(Zi(t))return!Aa(t).length;for(var s in t)if(Ae.call(t,s))return!1;return!0},C.isEqual=function y(t,n){return En(t,n)},C.isEqualWith=function S(t,n,s){var h=(s="function"==typeof s?s:b)?s(t,n):b;return h===b?En(t,n,b,s):!!h},C.isError=A,C.isFinite=function O(t){return"number"==typeof t&&Li(t)},C.isFunction=H,C.isInteger=Y,C.isLength=K,C.isMap=V,C.isMatch=function q(t,n){return t===n||Fn(t,n,_s(n))},C.isMatchWith=function vt(t,n,s){return s="function"==typeof s?s:b,Fn(t,n,_s(n),s)},C.isNaN=function bt(t){return $t(t)&&t!=+t},C.isNative=function it(t){if(Gf(t))throw new ae("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return pf(t)},C.isNil=function Ut(t){return null==t},C.isNull=function Ct(t){return null===t},C.isNumber=$t,C.isObject=lt,C.isObjectLike=ut,C.isPlainObject=Ft,C.isRegExp=ce,C.isSafeInteger=function Xt(t){return Y(t)&&t>=-pe&&t<=pe},C.isSet=Rt,C.isString=le,C.isSymbol=Yt,C.isTypedArray=st,C.isUndefined=function Wt(t){return t===b},C.isWeakMap=function mt(t){return ut(t)&&nn(t)==Hr},C.isWeakSet=function Gt(t){return ut(t)&&"[object WeakSet]"==cn(t)},C.join=function Qf(t,n){return null==t?"":tr.call(t,n)},C.kebabCase=Vd,C.last=Tn,C.lastIndexOf=function tl(t,n,s){var h=null==t?0:t.length;if(!h)return-1;var m=h;return s!==b&&(m=(m=Tt(s))<0?Be(h+m,0):Qe(m,h-1)),n==n?function ro(tt,pt,ht){for(var Bt=ht+1;Bt--;)if(tt[Bt]===pt)return Bt;return Bt}(t,n,m):Zo(t,Au,m,!0)},C.lowerCase=Jd,C.lowerFirst=qd,C.lt=Vt,C.lte=Zt,C.max=function Hg(t){return t&&t.length?as(t,Rn,ba):b},C.maxBy=function Xg(t,n){return t&&t.length?as(t,ne(n,2),ba):b},C.mean=function jg(t){return Eu(t,Rn)},C.meanBy=function Kg(t,n){return Eu(t,ne(n,2))},C.min=function Vg(t){return t&&t.length?as(t,Rn,yo):b},C.minBy=function Jg(t,n){return t&&t.length?as(t,ne(n,2),yo):b},C.stubArray=Ql,C.stubFalse=td,C.stubObject=function Gg(){return{}},C.stubString=function Og(){return""},C.stubTrue=function Pg(){return!0},C.multiply=qg,C.nth=function Mc(t,n){return t&&t.length?Ca(t,Tt(n)):b},C.noConflict=function kg(){return Xe._===this&&(Xe._=Rh),this},C.noop=ql,C.now=Bs,C.pad=function Qd(t,n,s){t=qt(t);var h=(n=Tt(n))?sr(t):0;if(!n||h>=n)return t;var m=(n-h)/2;return Ao(Qn(m),s)+t+Ao(ar(m),s)},C.padEnd=function tg(t,n,s){t=qt(t);var h=(n=Tt(n))?sr(t):0;return n&&h<n?t+Ao(n-h,s):t},C.padStart=function eg(t,n,s){t=qt(t);var h=(n=Tt(n))?sr(t):0;return n&&h<n?Ao(n-h,s)+t:t},C.parseInt=function ng(t,n,s){return s||null==n?n=0:n&&(n=+n),Ph(qt(t).replace(Ee,""),n||0)},C.random=function Yd(t,n,s){if(s&&"boolean"!=typeof s&&ln(t,n,s)&&(n=s=b),s===b&&("boolean"==typeof n?(s=n,n=b):"boolean"==typeof t&&(s=t,t=b)),t===b&&n===b?(t=0,n=1):(t=te(t),n===b?(n=t,t=0):n=te(n)),t>n){var h=t;t=n,n=h}if(s||t%1||n%1){var m=Ru();return Qe(t+m*(n-t+Ci("1e-"+((m+"").length-1))),n)}return fs(t,n)},C.reduce=function Zc(t,n,s){var h=fe(t)?na:Cu,m=arguments.length<3;return h(t,ne(n,4),s,m,zr)},C.reduceRight=function Ja(t,n,s){var h=fe(t)?Eh:Cu,m=arguments.length<3;return h(t,ne(n,4),s,m,Xu)},C.repeat=function rg(t,n,s){return n=(s?ln(t,n,s):n===b)?1:Tt(n),Ma(qt(t),n)},C.replace=function ig(){var t=arguments,n=qt(t[0]);return t.length<3?n:n.replace(t[1],t[2])},C.result=function Rd(t,n,s){var h=-1,m=(n=Gr(n,t)).length;for(m||(m=1,t=b);++h<m;){var D=null==t?b:t[vr(n[h])];D===b&&(h=m,D=s),t=H(D)?D.call(t):D}return t},C.round=Qg,C.runInContext=tt,C.sample=function Al(t){return(fe(t)?Zu:xf)(t)},C.size=function Yc(t){if(null==t)return 0;if(e(t))return le(t)?sr(t):t.length;var n=nn(t);return n==Re||n==sn?t.size:Aa(t).length},C.snakeCase=og,C.some=function Sl(t,n,s){var h=fe(t)?eo:id;return s&&ln(t,n,s)&&(n=b),h(t,ne(n,3))},C.sortedIndex=function Zr(t,n){return ka(t,n)},C.sortedIndexBy=function di(t,n,s){return xo(t,n,ne(s,2))},C.sortedIndexOf=function Nc(t,n){var s=null==t?0:t.length;if(s){var h=ka(t,n);if(h<s&&Yn(t[h],n))return h}return-1},C.sortedLastIndex=function ad(t,n){return ka(t,n,!0)},C.sortedLastIndexBy=function Dc(t,n,s){return xo(t,n,ne(s,2),!0)},C.sortedLastIndexOf=function ud(t,n){if(null!=t&&t.length){var h=ka(t,n,!0)-1;if(Yn(t[h],n))return h}return-1},C.startCase=ag,C.startsWith=function ug(t,n,s){return t=qt(t),s=null==s?0:ai(Tt(s),0,t.length),n=ze(n),t.slice(s,s+n.length)==n},C.subtract=tp,C.sum=function ep(t){return t&&t.length?oa(t,Rn):0},C.sumBy=function np(t,n){return t&&t.length?oa(t,ne(n,2)):0},C.template=function cg(t,n,s){var h=C.templateSettings;s&&ln(t,n,s)&&(n=b),t=qt(t),n=$r({},n,h,dc);var j,nt,m=$r({},n.imports,h.imports,dc),D=rn(m),$=sa(m,D),xt=0,_t=n.interpolate||At,St="__p += '",Pt=jo((n.escape||At).source+"|"+_t.source+"|"+(_t===Ro?_:At).source+"|"+(n.evaluate||At).source+"|$","g"),Kt="//# sourceURL="+(Ae.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ph+"]")+"\n";t.replace(Pt,function(oe,ve,be,Hn,Cn,Xn){return be||(be=Hn),St+=t.slice(xt,Xn).replace(Et,Mu),ve&&(j=!0,St+="' +\n__e("+ve+") +\n'"),Cn&&(nt=!0,St+="';\n"+Cn+";\n__p += '"),be&&(St+="' +\n((__t = ("+be+")) == null ? '' : __t) +\n'"),xt=Xn+oe.length,oe}),St+="';\n";var ie=Ae.call(n,"variable")&&n.variable;if(ie){if(Mn.test(ie))throw new ae("Invalid `variable` option passed into `_.template`")}else St="with (obj) {\n"+St+"\n}\n";St=(nt?St.replace(bi,""):St).replace(To,"$1").replace(_i,"$1;"),St="function("+(ie||"obj")+") {\n"+(ie?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(j?", __e = _.escape":"")+(nt?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+St+"return __p\n}";var ge=wd(function(){return _e(D,Kt+"return "+St).apply(b,$)});if(ge.source=St,A(ge))throw ge;return ge},C.times=function Ug(t,n){if((t=Tt(t))<1||t>pe)return[];var s=se,h=Qe(t,se);n=ne(n),t-=se;for(var m=$o(h,n);++s<t;)n(s);return m},C.toFinite=te,C.toInteger=Tt,C.toLength=dn,C.toLower=function hg(t){return qt(t).toLowerCase()},C.toNumber=xe,C.toSafeInteger=function xn(t){return t?ai(Tt(t),-pe,pe):0===t?t:0},C.toString=qt,C.toUpper=function fg(t){return qt(t).toUpperCase()},C.trim=function lg(t,n,s){if((t=qt(t))&&(s||n===b))return Su(t);if(!t||!(n=ze(n)))return t;var h=je(t),m=je(n);return Or(h,yn(h,m),aa(h,m)+1).join("")},C.trimEnd=function dg(t,n,s){if((t=qt(t))&&(s||n===b))return t.slice(0,io(t)+1);if(!t||!(n=ze(n)))return t;var h=je(t);return Or(h,0,aa(h,je(n))+1).join("")},C.trimStart=function gg(t,n,s){if((t=qt(t))&&(s||n===b))return t.replace(Ee,"");if(!t||!(n=ze(n)))return t;var h=je(t);return Or(h,yn(h,je(n))).join("")},C.truncate=function pg(t,n){var s=30,h="...";if(lt(n)){var m="separator"in n?n.separator:m;s="length"in n?Tt(n.length):s,h="omission"in n?ze(n.omission):h}var D=(t=qt(t)).length;if(ki(t)){var $=je(t);D=$.length}if(s>=D)return t;var j=s-sr(h);if(j<1)return h;var nt=$?Or($,0,j).join(""):t.slice(0,j);if(m===b)return nt+h;if($&&(j+=nt.length-j),ce(m)){if(t.slice(j).search(m)){var xt,_t=nt;for(m.global||(m=jo(m.source,qt(p.exec(m))+"g")),m.lastIndex=0;xt=m.exec(_t);)var St=xt.index;nt=nt.slice(0,St===b?j:St)}}else if(t.indexOf(ze(m),j)!=j){var Pt=nt.lastIndexOf(m);Pt>-1&&(nt=nt.slice(0,Pt))}return nt+h},C.unescape=function vg(t){return(t=qt(t))&&Hs.test(t)?t.replace(br,oo):t},C.uniqueId=function Bg(t){var n=++Jn;return qt(t)+n},C.upperCase=yg,C.upperFirst=jl,C.each=Ws,C.eachRight=Va,C.first=$a,Jl(C,function(){var t={};return er(C,function(n,s){Ae.call(C.prototype,s)||(t[s]=n)}),t}(),{chain:!1}),C.VERSION="4.17.21",kn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){C[t].placeholder=C}),kn(["drop","take"],function(t,n){ue.prototype[t]=function(s){s=s===b?1:Be(Tt(s),0);var h=this.__filtered__&&!n?new ue(this):this.clone();return h.__filtered__?h.__takeCount__=Qe(s,h.__takeCount__):h.__views__.push({size:Qe(s,se),type:t+(h.__dir__<0?"Right":"")}),h},ue.prototype[t+"Right"]=function(s){return this.reverse()[t](s).reverse()}}),kn(["filter","map","takeWhile"],function(t,n){var s=n+1,h=1==s||3==s;ue.prototype[t]=function(m){var D=this.clone();return D.__iteratees__.push({iteratee:ne(m,3),type:s}),D.__filtered__=D.__filtered__||h,D}}),kn(["head","last"],function(t,n){var s="take"+(n?"Right":"");ue.prototype[t]=function(){return this[s](1).value()[0]}}),kn(["initial","tail"],function(t,n){var s="drop"+(n?"":"Right");ue.prototype[t]=function(){return this.__filtered__?new ue(this):this[s](1)}}),ue.prototype.compact=function(){return this.filter(Rn)},ue.prototype.find=function(t){return this.filter(t).head()},ue.prototype.findLast=function(t){return this.reverse().find(t)},ue.prototype.invokeMap=he(function(t,n){return"function"==typeof t?new ue(this):this.map(function(s){return vo(s,t,n)})}),ue.prototype.reject=function(t){return this.filter(Zs(ne(t)))},ue.prototype.slice=function(t,n){t=Tt(t);var s=this;return s.__filtered__&&(t>0||n<0)?new ue(s):(t<0?s=s.takeRight(-t):t&&(s=s.drop(t)),n!==b&&(s=(n=Tt(n))<0?s.dropRight(-n):s.take(n-t)),s)},ue.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},ue.prototype.toArray=function(){return this.take(se)},er(ue.prototype,function(t,n){var s=/^(?:filter|find|map|reject)|While$/.test(n),h=/^(?:head|last)$/.test(n),m=C[h?"take"+("last"==n?"Right":""):n],D=h||/^find/.test(n);!m||(C.prototype[n]=function(){var $=this.__wrapped__,j=h?[1]:arguments,nt=$ instanceof ue,xt=j[0],_t=nt||fe($),St=function(ve){var be=m.apply(C,Cr([ve],j));return h&&Pt?be[0]:be};_t&&s&&"function"==typeof xt&&1!=xt.length&&(nt=_t=!1);var Pt=this.__chain__,Kt=!!this.__actions__.length,ie=D&&!Pt,ge=nt&&!Kt;if(!D&&_t){$=ge?$:new ue(this);var oe=t.apply($,j);return oe.__actions__.push({func:Hi,args:[St],thisArg:b}),new Dn(oe,Pt)}return ie&&ge?t.apply(this,j):(oe=this.thru(St),ie?h?oe.value()[0]:oe.value():oe)})}),kn(["pop","push","shift","sort","splice","unshift"],function(t){var n=ni[t],s=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",h=/^(?:pop|shift)$/.test(t);C.prototype[t]=function(){var m=arguments;if(h&&!this.__chain__){var D=this.value();return n.apply(fe(D)?D:[],m)}return this[s](function($){return n.apply(fe($)?$:[],m)})}}),er(ue.prototype,function(t,n){var s=C[n];if(s){var h=s.name+"";Ae.call(ur,h)||(ur[h]=[]),ur[h].push({name:n,func:s})}}),ur[ys(b,2).name]=[{name:"wrapper",func:b}],ue.prototype.clone=function Pu(){var t=new ue(this.__wrapped__);return t.__actions__=wn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=wn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=wn(this.__views__),t},ue.prototype.reverse=function rs(){if(this.__filtered__){var t=new ue(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},ue.prototype.value=function da(){var t=this.__wrapped__.value(),n=this.__dir__,s=fe(t),h=n<0,m=s?t.length:0,D=function Es(t,n,s){for(var h=-1,m=s.length;++h<m;){var D=s[h],$=D.size;switch(D.type){case"drop":t+=$;break;case"dropRight":n-=$;break;case"take":n=Qe(n,t+$);break;case"takeRight":t=Be(t,n-$)}}return{start:t,end:n}}(0,m,this.__views__),$=D.start,j=D.end,nt=j-$,xt=h?j:$-1,_t=this.__iteratees__,St=_t.length,Pt=0,Kt=Qe(nt,this.__takeCount__);if(!s||!h&&m==nt&&Kt==nt)return Ia(t,this.__actions__);var ie=[];t:for(;nt--&&Pt<Kt;){for(var ge=-1,oe=t[xt+=n];++ge<St;){var ve=_t[ge],Hn=ve.type,Cn=(0,ve.iteratee)(oe);if(2==Hn)oe=Cn;else if(!Cn){if(1==Hn)continue t;break t}}ie[Pt++]=oe}return ie},C.prototype.at=Oc,C.prototype.chain=function gl(){return Rc(this)},C.prototype.commit=function pl(){return new Dn(this.value(),this.__chain__)},C.prototype.next=function hd(){this.__values__===b&&(this.__values__=jt(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?b:this.__values__[this.__index__++]}},C.prototype.plant=function yl(t){for(var n,s=this;s instanceof lo;){var h=_c(s);h.__index__=0,h.__values__=b,n?m.__wrapped__=h:n=h;var m=h;s=s.__wrapped__}return m.__wrapped__=t,n},C.prototype.reverse=function Ps(){var t=this.__wrapped__;if(t instanceof ue){var n=t;return this.__actions__.length&&(n=new ue(this)),(n=n.reverse()).__actions__.push({func:Hi,args:[zs],thisArg:b}),new Dn(n,this.__chain__)}return this.thru(zs)},C.prototype.toJSON=C.prototype.valueOf=C.prototype.value=function Pc(){return Ia(this.__wrapped__,this.__actions__)},C.prototype.first=C.prototype.head,co&&(C.prototype[co]=function vl(){return this}),C}();Xe._=Ni,(et=function(){return Ni}.call(dt,z,dt,Mt))!==b&&(Mt.exports=et)}.call(this)},8740:(Mt,dt,z)=>{var et=z(6009),b=z(5701);function F(f,T){if(arguments.length<2)throw new Error("mnemonist/fixed-deque: expecting an Array class and a capacity.");if("number"!=typeof T||T<=0)throw new Error("mnemonist/fixed-deque: `capacity` should be a positive number.");this.ArrayClass=f,this.capacity=T,this.items=new f(this.capacity),this.clear()}F.prototype.clear=function(){this.start=0,this.size=0},F.prototype.push=function(f){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.push: deque capacity ("+this.capacity+") exceeded!");return this.items[(this.start+this.size)%this.capacity]=f,++this.size},F.prototype.unshift=function(f){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.unshift: deque capacity ("+this.capacity+") exceeded!");var T=this.start-1;return 0===this.start&&(T=this.capacity-1),this.items[T]=f,this.start=T,++this.size},F.prototype.pop=function(){if(0===this.size)return;const f=(this.start+this.size-1)%this.capacity;return this.size--,this.items[f]},F.prototype.shift=function(){if(0!==this.size){var f=this.start;return this.size--,this.start++,this.start===this.capacity&&(this.start=0),this.items[f]}},F.prototype.peekFirst=function(){if(0!==this.size)return this.items[this.start]},F.prototype.peekLast=function(){if(0!==this.size){var f=this.start+this.size-1;return f>this.capacity&&(f-=this.capacity),this.items[f]}},F.prototype.get=function(f){if(0!==this.size)return(f=this.start+f)>this.capacity&&(f-=this.capacity),this.items[f]},F.prototype.forEach=function(f,T){T=arguments.length>1?T:this;for(var N=this.capacity,R=this.size,x=this.start,w=0;w<R;)f.call(T,this.items[x],w,this),w++,++x===N&&(x=0)},F.prototype.toArray=function(){var f=this.start+this.size;if(f<this.capacity)return this.items.slice(this.start,f);for(var T=new this.ArrayClass(this.size),N=this.capacity,R=this.size,x=this.start,w=0;w<R;)T[w]=this.items[x],w++,++x===N&&(x=0);return T},F.prototype.values=function(){var f=this.items,T=this.capacity,N=this.size,R=this.start,x=0;return new b(function(){if(x>=N)return{done:!0};var w=f[R];return R++,x++,R===T&&(R=0),{value:w,done:!1}})},F.prototype.entries=function(){var f=this.items,T=this.capacity,N=this.size,R=this.start,x=0;return new b(function(){if(x>=N)return{done:!0};var w=f[R];return++R===T&&(R=0),{value:[x++,w],done:!1}})},"undefined"!=typeof Symbol&&(F.prototype[Symbol.iterator]=F.prototype.values),F.prototype.inspect=function(){var f=this.toArray();return f.type=this.ArrayClass.name,f.capacity=this.capacity,Object.defineProperty(f,"constructor",{value:F,enumerable:!1}),f},"undefined"!=typeof Symbol&&(F.prototype[Symbol.for("nodejs.util.inspect.custom")]=F.prototype.inspect),F.from=function(f,T,N){if(arguments.length<3&&"number"!=typeof(N=et.guessLength(f)))throw new Error("mnemonist/fixed-deque.from: could not guess iterable length. Please provide desired capacity as last argument.");var R=new F(T,N);if(et.isArrayLike(f)){var x,w;for(x=0,w=f.length;x<w;x++)R.items[x]=f[x];return R.size=w,R}return et.forEach(f,function(E){R.push(E)}),R},Mt.exports=F},7451:(Mt,dt,z)=>{var et=z(5701),b=z(6009);function F(f,T){if(arguments.length<2)throw new Error("mnemonist/fixed-stack: expecting an Array class and a capacity.");if("number"!=typeof T||T<=0)throw new Error("mnemonist/fixed-stack: `capacity` should be a positive number.");this.capacity=T,this.ArrayClass=f,this.items=new this.ArrayClass(this.capacity),this.clear()}F.prototype.clear=function(){this.size=0},F.prototype.push=function(f){if(this.size===this.capacity)throw new Error("mnemonist/fixed-stack.push: stack capacity ("+this.capacity+") exceeded!");return this.items[this.size++]=f,this.size},F.prototype.pop=function(){if(0!==this.size)return this.items[--this.size]},F.prototype.peek=function(){return this.items[this.size-1]},F.prototype.forEach=function(f,T){T=arguments.length>1?T:this;for(var N=0,R=this.items.length;N<R;N++)f.call(T,this.items[R-N-1],N,this)},F.prototype.toArray=function(){for(var f=new this.ArrayClass(this.size),T=this.size-1,N=this.size;N--;)f[N]=this.items[T-N];return f},F.prototype.values=function(){var f=this.items,T=this.size,N=0;return new et(function(){if(N>=T)return{done:!0};var R=f[T-N-1];return N++,{value:R,done:!1}})},F.prototype.entries=function(){var f=this.items,T=this.size,N=0;return new et(function(){if(N>=T)return{done:!0};var R=f[T-N-1];return{value:[N++,R],done:!1}})},"undefined"!=typeof Symbol&&(F.prototype[Symbol.iterator]=F.prototype.values),F.prototype.toString=function(){return this.toArray().join(",")},F.prototype.toJSON=function(){return this.toArray()},F.prototype.inspect=function(){var f=this.toArray();return f.type=this.ArrayClass.name,f.capacity=this.capacity,Object.defineProperty(f,"constructor",{value:F,enumerable:!1}),f},"undefined"!=typeof Symbol&&(F.prototype[Symbol.for("nodejs.util.inspect.custom")]=F.prototype.inspect),F.from=function(f,T,N){if(arguments.length<3&&"number"!=typeof(N=b.guessLength(f)))throw new Error("mnemonist/fixed-stack.from: could not guess iterable length. Please provide desired capacity as last argument.");var R=new F(T,N);if(b.isArrayLike(f)){var x,w;for(x=0,w=f.length;x<w;x++)R.items[x]=f[x];return R.size=w,R}return b.forEach(f,function(E){R.push(E)}),R},Mt.exports=F},4547:(Mt,dt,z)=>{var et=z(4467),b=z(2062),F=z(6009),f=b.DEFAULT_COMPARATOR,T=b.reverseComparator;function N(P,B,W,L){for(var at,gt,ot=B[L];L>W&&P(ot,gt=B[at=L-1>>1])<0;)B[L]=gt,L=at;B[L]=ot}function R(P,B,W){for(var ct,L=B.length,ot=W,at=B[W],gt=2*W+1;gt<L;)(ct=gt+1)<L&&P(B[gt],B[ct])>=0&&(gt=ct),B[W]=B[gt],gt=2*(W=gt)+1;B[W]=at,N(P,B,ot,W)}function x(P,B,W){B.push(W),N(P,B,0,B.length-1)}function w(P,B){var W=B.pop();if(0!==B.length){var L=B[0];return B[0]=W,R(P,B,0),L}return W}function E(P,B,W){if(0===B.length)throw new Error("mnemonist/heap.replace: cannot pop an empty heap.");var L=B[0];return B[0]=W,R(P,B,0),L}function I(P,B,W){var L;return 0!==B.length&&P(B[0],W)<0&&(L=B[0],B[0]=W,W=L,R(P,B,0)),W}function k(P,B){for(var ot=B.length>>1;--ot>=0;)R(P,B,ot)}function G(P,B){for(var W=B.length,L=0,ot=new Array(W);L<W;)ot[L++]=w(P,B);return ot}function X(P){if(this.clear(),this.comparator=P||f,"function"!=typeof this.comparator)throw new Error("mnemonist/Heap.constructor: given comparator should be a function.")}function J(P){if(this.clear(),this.comparator=P||f,"function"!=typeof this.comparator)throw new Error("mnemonist/MaxHeap.constructor: given comparator should be a function.");this.comparator=T(this.comparator)}X.prototype.clear=function(){this.items=[],this.size=0},X.prototype.push=function(P){return x(this.comparator,this.items,P),++this.size},X.prototype.peek=function(){return this.items[0]},X.prototype.pop=function(){return 0!==this.size&&this.size--,w(this.comparator,this.items)},X.prototype.replace=function(P){return E(this.comparator,this.items,P)},X.prototype.pushpop=function(P){return I(this.comparator,this.items,P)},X.prototype.consume=function(){return this.size=0,G(this.comparator,this.items)},X.prototype.toArray=function(){return G(this.comparator,this.items.slice())},X.prototype.inspect=function(){var P=this.toArray();return Object.defineProperty(P,"constructor",{value:X,enumerable:!1}),P},"undefined"!=typeof Symbol&&(X.prototype[Symbol.for("nodejs.util.inspect.custom")]=X.prototype.inspect),J.prototype=X.prototype,X.from=function(P,B){var L,W=new X(B);return L=F.isArrayLike(P)?P.slice():F.toArray(P),k(W.comparator,L),W.items=L,W.size=L.length,W},J.from=function(P,B){var L,W=new J(B);return L=F.isArrayLike(P)?P.slice():F.toArray(P),k(W.comparator,L),W.items=L,W.size=L.length,W},X.siftUp=R,X.siftDown=N,X.push=x,X.pop=w,X.replace=E,X.pushpop=I,X.heapify=k,X.consume=G,X.nsmallest=function Q(P,B,W){2===arguments.length&&(W=B,B=P,P=f);var ot,at,gt,ft,L=T(P),ct=1/0;if(1===B){if(F.isArrayLike(W)){for(ot=0,at=W.length;ot<at;ot++)gt=W[ot],(ct===1/0||P(gt,ct)<0)&&(ct=gt);return(ft=new W.constructor(1))[0]=ct,ft}return et(W,function(Nt){(ct===1/0||P(Nt,ct)<0)&&(ct=Nt)}),[ct]}if(F.isArrayLike(W)){if(B>=W.length)return W.slice().sort(P);for(ft=W.slice(0,B),k(L,ft),ot=B,at=W.length;ot<at;ot++)L(W[ot],ft[0])>0&&E(L,ft,W[ot]);return ft.sort(P)}var wt=F.guessLength(W);return null!==wt&&wt<B&&(B=wt),ft=new Array(B),ot=0,et(W,function(Nt){ot<B?ft[ot]=Nt:(ot===B&&k(L,ft),L(Nt,ft[0])>0&&E(L,ft,Nt)),ot++}),ft.length>ot&&(ft.length=ot),ft.sort(P)},X.nlargest=function Z(P,B,W){2===arguments.length&&(W=B,B=P,P=f);var ot,at,gt,ft,L=T(P),ct=-1/0;if(1===B){if(F.isArrayLike(W)){for(ot=0,at=W.length;ot<at;ot++)gt=W[ot],(ct===-1/0||P(gt,ct)>0)&&(ct=gt);return(ft=new W.constructor(1))[0]=ct,ft}return et(W,function(Nt){(ct===-1/0||P(Nt,ct)>0)&&(ct=Nt)}),[ct]}if(F.isArrayLike(W)){if(B>=W.length)return W.slice().sort(L);for(ft=W.slice(0,B),k(P,ft),ot=B,at=W.length;ot<at;ot++)P(W[ot],ft[0])>0&&E(P,ft,W[ot]);return ft.sort(L)}var wt=F.guessLength(W);return null!==wt&&wt<B&&(B=wt),ft=new Array(B),ot=0,et(W,function(Nt){ot<B?ft[ot]=Nt:(ot===B&&k(P,ft),P(Nt,ft[0])>0&&E(P,ft,Nt)),ot++}),ft.length>ot&&(ft.length=ot),ft.sort(L)},X.MinHeap=X,X.MaxHeap=J,Mt.exports=X},7621:(Mt,dt,z)=>{var et=z(5701),b=z(4467);function F(){this.clear()}F.prototype.clear=function(){this.items=[],this.offset=0,this.size=0},F.prototype.enqueue=function(f){return this.items.push(f),++this.size},F.prototype.dequeue=function(){if(this.size){var f=this.items[this.offset];return 2*++this.offset>=this.items.length&&(this.items=this.items.slice(this.offset),this.offset=0),this.size--,f}},F.prototype.peek=function(){if(this.size)return this.items[this.offset]},F.prototype.forEach=function(f,T){T=arguments.length>1?T:this;for(var N=this.offset,R=0,x=this.items.length;N<x;N++,R++)f.call(T,this.items[N],R,this)},F.prototype.toArray=function(){return this.items.slice(this.offset)},F.prototype.values=function(){var f=this.items,T=this.offset;return new et(function(){if(T>=f.length)return{done:!0};var N=f[T];return T++,{value:N,done:!1}})},F.prototype.entries=function(){var f=this.items,T=this.offset,N=0;return new et(function(){if(T>=f.length)return{done:!0};var R=f[T];return T++,{value:[N++,R],done:!1}})},"undefined"!=typeof Symbol&&(F.prototype[Symbol.iterator]=F.prototype.values),F.prototype.toString=function(){return this.toArray().join(",")},F.prototype.toJSON=function(){return this.toArray()},F.prototype.inspect=function(){var f=this.toArray();return Object.defineProperty(f,"constructor",{value:F,enumerable:!1}),f},"undefined"!=typeof Symbol&&(F.prototype[Symbol.for("nodejs.util.inspect.custom")]=F.prototype.inspect),F.from=function(f){var T=new F;return b(f,function(N){T.enqueue(N)}),T},F.of=function(){return F.from(arguments)},Mt.exports=F},8090:(Mt,dt,z)=>{var et=z(5701),b=z(6116).getPointerArray;function F(f,T){arguments.length<2&&(T=f,f=Array);var N=b(T);this.size=0,this.length=T,this.dense=new N(T),this.sparse=new N(T),this.vals=new f(T)}F.prototype.clear=function(){this.size=0},F.prototype.has=function(f){var T=this.sparse[f];return T<this.size&&this.dense[T]===f},F.prototype.get=function(f){var T=this.sparse[f];if(T<this.size&&this.dense[T]===f)return this.vals[T]},F.prototype.set=function(f,T){var N=this.sparse[f];return N<this.size&&this.dense[N]===f?(this.vals[N]=T,this):(this.dense[this.size]=f,this.sparse[f]=this.size,this.vals[this.size]=T,this.size++,this)},F.prototype.delete=function(f){var T=this.sparse[f];return!(T>=this.size||this.dense[T]!==f||(this.dense[this.sparse[f]]=T=this.dense[this.size-1],this.sparse[T]=this.sparse[f],this.size--,0))},F.prototype.forEach=function(f,T){T=arguments.length>1?T:this;for(var N=0;N<this.size;N++)f.call(T,this.vals[N],this.dense[N])},F.prototype.keys=function(){var f=this.size,T=this.dense,N=0;return new et(function(){if(N<f){var R=T[N];return N++,{value:R}}return{done:!0}})},F.prototype.values=function(){var f=this.size,T=this.vals,N=0;return new et(function(){if(N<f){var R=T[N];return N++,{value:R}}return{done:!0}})},F.prototype.entries=function(){var f=this.size,T=this.dense,N=this.vals,R=0;return new et(function(){if(R<f){var x=[T[R],N[R]];return R++,{value:x}}return{done:!0}})},"undefined"!=typeof Symbol&&(F.prototype[Symbol.iterator]=F.prototype.entries),F.prototype.inspect=function(){for(var f=new Map,T=0;T<this.size;T++)f.set(this.dense[T],this.vals[T]);return Object.defineProperty(f,"constructor",{value:F,enumerable:!1}),f.length=this.length,this.vals.constructor!==Array&&(f.type=this.vals.constructor.name),f},"undefined"!=typeof Symbol&&(F.prototype[Symbol.for("nodejs.util.inspect.custom")]=F.prototype.inspect),Mt.exports=F},5766:(Mt,dt,z)=>{var et=z(5701),b=z(6116).getPointerArray;function F(f){var T=b(f);this.start=0,this.size=0,this.capacity=f,this.dense=new T(f),this.sparse=new T(f)}F.prototype.clear=function(){this.start=0,this.size=0},F.prototype.has=function(f){if(0===this.size)return!1;var T=this.sparse[f];return(T<this.capacity&&T>=this.start&&T<this.start+this.size||T<(this.start+this.size)%this.capacity)&&this.dense[T]===f},F.prototype.enqueue=function(f){var T=this.sparse[f];return 0!==this.size&&(T<this.capacity&&T>=this.start&&T<this.start+this.size||T<(this.start+this.size)%this.capacity)&&this.dense[T]===f||(this.dense[T=(this.start+this.size)%this.capacity]=f,this.sparse[f]=T,this.size++),this},F.prototype.dequeue=function(){if(0!==this.size){var f=this.start;this.size--,this.start++,this.start===this.capacity&&(this.start=0);var T=this.dense[f];return this.sparse[T]=this.capacity,T}},F.prototype.forEach=function(f,T){T=arguments.length>1?T:this;for(var N=this.capacity,R=this.size,x=this.start,w=0;w<R;)f.call(T,this.dense[x],w,this),w++,++x===N&&(x=0)},F.prototype.values=function(){var f=this.dense,T=this.capacity,N=this.size,R=this.start,x=0;return new et(function(){if(x>=N)return{done:!0};var w=f[R];return R++,x++,R===T&&(R=0),{value:w,done:!1}})},"undefined"!=typeof Symbol&&(F.prototype[Symbol.iterator]=F.prototype.values),F.prototype.inspect=function(){var f=[];return this.forEach(function(T){f.push(T)}),Object.defineProperty(f,"constructor",{value:F,enumerable:!1}),f.capacity=this.capacity,f},"undefined"!=typeof Symbol&&(F.prototype[Symbol.for("nodejs.util.inspect.custom")]=F.prototype.inspect),Mt.exports=F},4268:(Mt,dt,z)=>{var et=z(5701),b=z(6116).getPointerArray;function F(f){var T=b(f);this.size=0,this.length=f,this.dense=new T(f),this.sparse=new T(f)}F.prototype.clear=function(){this.size=0},F.prototype.has=function(f){var T=this.sparse[f];return T<this.size&&this.dense[T]===f},F.prototype.add=function(f){var T=this.sparse[f];return T<this.size&&this.dense[T]===f||(this.dense[this.size]=f,this.sparse[f]=this.size,this.size++),this},F.prototype.delete=function(f){var T=this.sparse[f];return!(T>=this.size||this.dense[T]!==f||(this.dense[this.sparse[f]]=T=this.dense[this.size-1],this.sparse[T]=this.sparse[f],this.size--,0))},F.prototype.forEach=function(f,T){T=arguments.length>1?T:this;for(var N,R=0;R<this.size;R++)f.call(T,N=this.dense[R],N)},F.prototype.values=function(){var f=this.size,T=this.dense,N=0;return new et(function(){if(N<f){var R=T[N];return N++,{value:R}}return{done:!0}})},"undefined"!=typeof Symbol&&(F.prototype[Symbol.iterator]=F.prototype.values),F.prototype.inspect=function(){for(var f=new Set,T=0;T<this.size;T++)f.add(this.dense[T]);return Object.defineProperty(f,"constructor",{value:F,enumerable:!1}),f.length=this.length,f},"undefined"!=typeof Symbol&&(F.prototype[Symbol.for("nodejs.util.inspect.custom")]=F.prototype.inspect),Mt.exports=F},2062:(Mt,dt)=>{dt.DEFAULT_COMPARATOR=function(f,T){return f<T?-1:f>T?1:0},dt.DEFAULT_REVERSE_COMPARATOR=function(f,T){return f<T?1:f>T?-1:0},dt.reverseComparator=function b(f){return function(T,N){return f(N,T)}},dt.createTupleComparator=function F(f){return 2===f?function(T,N){return T[0]<N[0]?-1:T[0]>N[0]?1:T[1]<N[1]?-1:T[1]>N[1]?1:0}:function(T,N){for(var R=0;R<f;){if(T[R]<N[R])return-1;if(T[R]>N[R])return 1;R++}return 0}}},6009:(Mt,dt,z)=>{var et=z(4467),b=z(6116);function f(R){return"number"==typeof R.length?R.length:"number"==typeof R.size?R.size:void 0}dt.isArrayLike=function F(R){return Array.isArray(R)||b.isTypedArray(R)},dt.guessLength=f,dt.toArray=function T(R){var x=f(R),w="number"==typeof x?new Array(x):[],E=0;return et(R,function(I){w[E++]=I}),w},dt.toArrayWithIndices=function N(R){var x=f(R),w="number"==typeof x?b.getPointerArray(x):Array,E="number"==typeof x?new Array(x):[],I="number"==typeof x?new w(x):[],k=0;return et(R,function(G){E[k]=G,I[k]=k++}),[E,I]}},6116:(Mt,dt)=>{var z=Math.pow(2,8)-1,et=Math.pow(2,16)-1,b=Math.pow(2,32)-1,F=Math.pow(2,7)-1,f=Math.pow(2,15)-1,T=Math.pow(2,31)-1;dt.getPointerArray=function(R){var x=R-1;if(x<=z)return Uint8Array;if(x<=et)return Uint16Array;if(x<=b)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},dt.getSignedPointerArray=function(R){var x=R-1;return x<=F?Int8Array:x<=f?Int16Array:x<=T?Int32Array:Float64Array},dt.getNumberType=function(R){return R===(0|R)?-1===Math.sign(R)?R<=127&&R>=-128?Int8Array:R<=32767&&R>=-32768?Int16Array:Int32Array:R<=255?Uint8Array:R<=65535?Uint16Array:Uint32Array:Float64Array};var N={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};dt.getMinimalRepresentation=function(R,x){var I,k,G,Q,Z,w=null,E=0;for(Q=0,Z=R.length;Q<Z;Q++)G=x?x(R[Q]):R[Q],k=dt.getNumberType(G),(I=N[k.name])>E&&(E=I,w=k);return w},dt.isTypedArray=function(R){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(R)},dt.concat=function(){var x,w,E,R=0;for(x=0,E=arguments.length;x<E;x++)R+=arguments[x].length;var I=new arguments[0].constructor(R);for(x=0,w=0;x<E;x++)I.set(arguments[x],w),w+=arguments[x].length;return I},dt.indices=function(R){for(var w=new(dt.getPointerArray(R))(R),E=0;E<R;E++)w[E]=E;return w}},4467:(Mt,dt,z)=>{var et=z(8123),b=et.ARRAY_BUFFER_SUPPORT,F=et.SYMBOL_SUPPORT;Mt.exports=function(T,N){var R,x,w,E,I;if(!T)throw new Error("obliterator/forEach: invalid iterable.");if("function"!=typeof N)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(T)||b&&ArrayBuffer.isView(T)||"string"==typeof T||"[object Arguments]"===T.toString())for(w=0,E=T.length;w<E;w++)N(T[w],w);else if("function"!=typeof T.forEach)if(F&&Symbol.iterator in T&&"function"!=typeof T.next&&(T=T[Symbol.iterator]()),"function"!=typeof T.next)for(x in T)T.hasOwnProperty(x)&&N(T[x],x);else for(R=T,w=0;!0!==(I=R.next()).done;)N(I.value,w),w++;else T.forEach(N)}},5701:Mt=>{function dt(z){if("function"!=typeof z)throw new Error("obliterator/iterator: expecting a function!");this.next=z}"undefined"!=typeof Symbol&&(dt.prototype[Symbol.iterator]=function(){return this}),dt.of=function(){var z=arguments,et=z.length,b=0;return new dt(function(){return b>=et?{done:!0}:{done:!1,value:z[b++]}})},dt.empty=function(){return new dt(function(){return{done:!0}})},dt.fromSequence=function(z){var et=0,b=z.length;return new dt(function(){return et>=b?{done:!0}:{done:!1,value:z[et++]}})},dt.is=function(z){return z instanceof dt||"object"==typeof z&&null!==z&&"function"==typeof z.next},Mt.exports=dt},8123:(Mt,dt)=>{dt.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,dt.SYMBOL_SUPPORT="undefined"!=typeof Symbol},8859:Mt=>{function dt(et){return function(b){return"number"!=typeof b&&(b=b.length),Math.floor(et()*b)}}var z=dt(Math.random);z.createRandomIndex=dt,Mt.exports=z},340:(Mt,dt,z)=>{var et=z(9471),b=z(2992),F=z(7657),f=z(5583),T=z(1929),N=z(8083),R=z(3818);R.alea=et,R.xor128=b,R.xorwow=F,R.xorshift7=f,R.xor4096=T,R.tychei=N,Mt.exports=R},9471:function(Mt,dt,z){var et;!function(b,F,f){function T(w){var E=this,I=function x(){var w=4022871197;return function(I){I=String(I);for(var k=0;k<I.length;k++){var G=.02519603282416938*(w+=I.charCodeAt(k));G-=w=G>>>0,w=(G*=w)>>>0,w+=4294967296*(G-=w)}return 2.3283064365386963e-10*(w>>>0)}}();E.next=function(){var k=2091639*E.s0+2.3283064365386963e-10*E.c;return E.s0=E.s1,E.s1=E.s2,E.s2=k-(E.c=0|k)},E.c=1,E.s0=I(" "),E.s1=I(" "),E.s2=I(" "),E.s0-=I(w),E.s0<0&&(E.s0+=1),E.s1-=I(w),E.s1<0&&(E.s1+=1),E.s2-=I(w),E.s2<0&&(E.s2+=1),I=null}function N(w,E){return E.c=w.c,E.s0=w.s0,E.s1=w.s1,E.s2=w.s2,E}function R(w,E){var I=new T(w),k=E&&E.state,G=I.next;return G.int32=function(){return 4294967296*I.next()|0},G.double=function(){return G()+11102230246251565e-32*(2097152*G()|0)},G.quick=G,k&&("object"==typeof k&&N(k,I),G.state=function(){return N(I,{})}),G}F&&F.exports?F.exports=R:z.amdD&&z.amdO?void 0!==(et=function(){return R}.call(dt,z,dt,F))&&(F.exports=et):this.alea=R}(0,Mt=z.nmd(Mt))},8083:function(Mt,dt,z){var et;!function(b,F,f){function T(x){var w=this,E="";w.next=function(){var k=w.b,G=w.c,Q=w.d,Z=w.a;return k=k<<25^k>>>7^G,G=G-Q|0,Q=Q<<24^Q>>>8^Z,Z=Z-k|0,w.b=k=k<<20^k>>>12^G,w.c=G=G-Q|0,w.d=Q<<16^G>>>16^Z,w.a=Z-k|0},w.a=0,w.b=0,w.c=-1640531527,w.d=1367130551,x===Math.floor(x)?(w.a=x/4294967296|0,w.b=0|x):E+=x;for(var I=0;I<E.length+20;I++)w.b^=0|E.charCodeAt(I),w.next()}function N(x,w){return w.a=x.a,w.b=x.b,w.c=x.c,w.d=x.d,w}function R(x,w){var E=new T(x),I=w&&w.state,k=function(){return(E.next()>>>0)/4294967296};return k.double=function(){do{var Z=((E.next()>>>11)+(E.next()>>>0)/4294967296)/(1<<21)}while(0===Z);return Z},k.int32=E.next,k.quick=k,I&&("object"==typeof I&&N(I,E),k.state=function(){return N(E,{})}),k}F&&F.exports?F.exports=R:z.amdD&&z.amdO?void 0!==(et=function(){return R}.call(dt,z,dt,F))&&(F.exports=et):this.tychei=R}(0,Mt=z.nmd(Mt))},2992:function(Mt,dt,z){var et;!function(b,F,f){function T(x){var w=this,E="";w.x=0,w.y=0,w.z=0,w.w=0,w.next=function(){var k=w.x^w.x<<11;return w.x=w.y,w.y=w.z,w.z=w.w,w.w^=w.w>>>19^k^k>>>8},x===(0|x)?w.x=x:E+=x;for(var I=0;I<E.length+64;I++)w.x^=0|E.charCodeAt(I),w.next()}function N(x,w){return w.x=x.x,w.y=x.y,w.z=x.z,w.w=x.w,w}function R(x,w){var E=new T(x),I=w&&w.state,k=function(){return(E.next()>>>0)/4294967296};return k.double=function(){do{var Z=((E.next()>>>11)+(E.next()>>>0)/4294967296)/(1<<21)}while(0===Z);return Z},k.int32=E.next,k.quick=k,I&&("object"==typeof I&&N(I,E),k.state=function(){return N(E,{})}),k}F&&F.exports?F.exports=R:z.amdD&&z.amdO?void 0!==(et=function(){return R}.call(dt,z,dt,F))&&(F.exports=et):this.xor128=R}(0,Mt=z.nmd(Mt))},1929:function(Mt,dt,z){var et;!function(b,F,f){function T(x){var w=this;w.next=function(){var Q,Z,I=w.w,k=w.X,G=w.i;return w.w=I=I+1640531527|0,Z=k[G+34&127],Q=k[G=G+1&127],Z^=Z<<13,Q^=Q<<17,Z=k[G]=(Z^=Z>>>15)^(Q^=Q>>>12),w.i=G,Z+(I^I>>>16)|0},function E(I,k){var G,Q,Z,X,J,P=[],B=128;for(k===(0|k)?(Q=k,k=null):(k+="\0",Q=0,B=Math.max(B,k.length)),Z=0,X=-32;X<B;++X)k&&(Q^=k.charCodeAt((X+32)%k.length)),0===X&&(J=Q),Q^=Q<<10,Q^=Q>>>15,Q^=Q<<4,Q^=Q>>>13,X>=0&&(Z=0==(G=P[127&X]^=Q+(J=J+1640531527|0))?Z+1:0);for(Z>=128&&(P[127&(k&&k.length||0)]=-1),Z=127,X=512;X>0;--X)Q=P[Z+34&127],G=P[Z=Z+1&127],Q^=Q<<13,G^=G<<17,P[Z]=(Q^=Q>>>15)^(G^=G>>>12);I.w=J,I.X=P,I.i=Z}(w,x)}function N(x,w){return w.i=x.i,w.w=x.w,w.X=x.X.slice(),w}function R(x,w){null==x&&(x=+new Date);var E=new T(x),I=w&&w.state,k=function(){return(E.next()>>>0)/4294967296};return k.double=function(){do{var Z=((E.next()>>>11)+(E.next()>>>0)/4294967296)/(1<<21)}while(0===Z);return Z},k.int32=E.next,k.quick=k,I&&(I.X&&N(I,E),k.state=function(){return N(E,{})}),k}F&&F.exports?F.exports=R:z.amdD&&z.amdO?void 0!==(et=function(){return R}.call(dt,z,dt,F))&&(F.exports=et):this.xor4096=R}(0,Mt=z.nmd(Mt))},5583:function(Mt,dt,z){var et;!function(b,F,f){function T(x){var w=this;w.next=function(){var G,Q,I=w.x,k=w.i;return G=I[k],Q=(G^=G>>>7)^G<<24,Q^=(G=I[k+1&7])^G>>>10,Q^=(G=I[k+3&7])^G>>>3,Q^=(G=I[k+4&7])^G<<7,G=I[k+7&7],I[k]=Q^=(G^=G<<13)^G<<9,w.i=k+1&7,Q},function E(I,k){var G,Z=[];if(k===(0|k))Z[0]=k;else for(k=""+k,G=0;G<k.length;++G)Z[7&G]=Z[7&G]<<15^k.charCodeAt(G)+Z[G+1&7]<<13;for(;Z.length<8;)Z.push(0);for(G=0;G<8&&0===Z[G];++G);for(8==G&&(Z[7]=-1),I.x=Z,I.i=0,G=256;G>0;--G)I.next()}(w,x)}function N(x,w){return w.x=x.x.slice(),w.i=x.i,w}function R(x,w){null==x&&(x=+new Date);var E=new T(x),I=w&&w.state,k=function(){return(E.next()>>>0)/4294967296};return k.double=function(){do{var Z=((E.next()>>>11)+(E.next()>>>0)/4294967296)/(1<<21)}while(0===Z);return Z},k.int32=E.next,k.quick=k,I&&(I.x&&N(I,E),k.state=function(){return N(E,{})}),k}F&&F.exports?F.exports=R:z.amdD&&z.amdO?void 0!==(et=function(){return R}.call(dt,z,dt,F))&&(F.exports=et):this.xorshift7=R}(0,Mt=z.nmd(Mt))},7657:function(Mt,dt,z){var et;!function(b,F,f){function T(x){var w=this,E="";w.next=function(){var k=w.x^w.x>>>2;return w.x=w.y,w.y=w.z,w.z=w.w,w.w=w.v,(w.d=w.d+362437|0)+(w.v=w.v^w.v<<4^k^k<<1)|0},w.x=0,w.y=0,w.z=0,w.w=0,w.v=0,x===(0|x)?w.x=x:E+=x;for(var I=0;I<E.length+64;I++)w.x^=0|E.charCodeAt(I),I==E.length&&(w.d=w.x<<10^w.x>>>4),w.next()}function N(x,w){return w.x=x.x,w.y=x.y,w.z=x.z,w.w=x.w,w.v=x.v,w.d=x.d,w}function R(x,w){var E=new T(x),I=w&&w.state,k=function(){return(E.next()>>>0)/4294967296};return k.double=function(){do{var Z=((E.next()>>>11)+(E.next()>>>0)/4294967296)/(1<<21)}while(0===Z);return Z},k.int32=E.next,k.quick=k,I&&("object"==typeof I&&N(I,E),k.state=function(){return N(E,{})}),k}F&&F.exports?F.exports=R:z.amdD&&z.amdO?void 0!==(et=function(){return R}.call(dt,z,dt,F))&&(F.exports=et):this.xorwow=R}(0,Mt=z.nmd(Mt))},3818:function(Mt,dt,z){var et;!function(b,F,f){var G,T=256,w=f.pow(T,6),E=f.pow(2,52),I=2*E,k=255;function Q(L,ot,at){var gt=[],ct=P(J((ot=1==ot?{entropy:!0}:ot||{}).entropy?[L,W(F)]:null==L?function B(){try{var L;return G&&(L=G.randomBytes)?L=L(T):(L=new Uint8Array(T),(b.crypto||b.msCrypto).getRandomValues(L)),W(L)}catch(gt){var ot=b.navigator,at=ot&&ot.plugins;return[+new Date,b,at,b.screen,W(F)]}}():L,3),gt),ft=new Z(gt),wt=function(){for(var Nt=ft.g(6),Dt=w,Ht=0;Nt<E;)Nt=(Nt+Ht)*T,Dt*=T,Ht=ft.g(1);for(;Nt>=I;)Nt/=2,Dt/=2,Ht>>>=1;return(Nt+Ht)/Dt};return wt.int32=function(){return 0|ft.g(4)},wt.quick=function(){return ft.g(4)/4294967296},wt.double=wt,P(W(ft.S),F),(ot.pass||at||function(Nt,Dt,Ht,ee){return ee&&(ee.S&&X(ee,ft),Nt.state=function(){return X(ft,{})}),Ht?(f.random=Nt,Dt):Nt})(wt,ct,"global"in ot?ot.global:this==f,ot.state)}function Z(L){var ot,at=L.length,gt=this,ct=0,ft=gt.i=gt.j=0,wt=gt.S=[];for(at||(L=[at++]);ct<T;)wt[ct]=ct++;for(ct=0;ct<T;ct++)wt[ct]=wt[ft=k&ft+L[ct%at]+(ot=wt[ct])],wt[ft]=ot;(gt.g=function(Nt){for(var Dt,Ht=0,ee=gt.i,Jt=gt.j,Qt=gt.S;Nt--;)Dt=Qt[ee=k&ee+1],Ht=Ht*T+Qt[k&(Qt[ee]=Qt[Jt=k&Jt+Dt])+(Qt[Jt]=Dt)];return gt.i=ee,gt.j=Jt,Ht})(T)}function X(L,ot){return ot.i=L.i,ot.j=L.j,ot.S=L.S.slice(),ot}function J(L,ot){var ct,at=[],gt=typeof L;if(ot&&"object"==gt)for(ct in L)try{at.push(J(L[ct],ot-1))}catch(ft){}return at.length?at:"string"==gt?L:L+"\0"}function P(L,ot){for(var gt,at=L+"",ct=0;ct<at.length;)ot[k&ct]=k&(gt^=19*ot[k&ct])+at.charCodeAt(ct++);return W(ot)}function W(L){return String.fromCharCode.apply(0,L)}if(P(f.random(),F),Mt.exports){Mt.exports=Q;try{G=z(5042)}catch(L){}}else void 0!==(et=function(){return Q}.call(dt,z,dt,Mt))&&(Mt.exports=et)}("undefined"!=typeof self?self:this,[],Math)},5042:()=>{}}]);