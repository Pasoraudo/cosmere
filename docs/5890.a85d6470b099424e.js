"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5890],{5890:(E,l,s)=>{s.r(l),s.d(l,{HomeModule:()=>M});var c=s(4521),g=s(5861),p=s(2415),r=s(2860),v=s(7489),u=s(9557),f=s(5595),Z=s(7749),A=s.n(Z),t=s(5e3),x=s(4498),y=s(1993),C=s(9287),d=s(7423),T=s(2108);const H=function(){return["/wiki/analysis"]},P=[{path:"",component:(()=>{class o extends p.n{constructor(e,i){super(),this.characterApi=e,this.relationshipApi=i,this.navigation=u.o,this.nodes=[],this.edges=[],this.characters=[],this.relationships=[],this.networkOptions={zoom:!1}}ngOnInit(){var e=this;this.subscribe(this.characterApi.cosmereCharacters(),i=>this.onCharactersChanges(i)),this.subscribe(this.relationshipApi.relationshipsByBook("mistborn1"),i=>this.onRelationshipsChanges(i)),(0,v.defer)((0,g.Z)(function*(){yield e.characterApi.fetchAllCosmereCharacter(),yield e.relationshipApi.fetchAllCosmereRelationship()}))}generateNetworkParameters(){this.edges=(0,r.U5)(this.relationships);const e=new f.UndirectedGraph;(0,r.df)(this.relationships).forEach(n=>e.addNode(n)),this.relationships.forEach(n=>e.addEdge(n.characterId1,n.characterId2));const B=A()(e);this.nodes=(0,r.k$)(this.characters,this.relationships).filter(n=>this.edges.map(h=>h.source).includes(n.id)||this.edges.map(h=>h.target).includes(n.id)),this.nodes=this.nodes.map(n=>Object.assign(Object.assign({},n),{group:B[n.id]}))}onCharactersChanges(e){this.characters=e,this.generateNetworkParameters()}onRelationshipsChanges(e){this.relationships=e,this.generateNetworkParameters()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.H),t.Y36(y.I))},o.\u0275cmp=t.Xpm({type:o,selectors:[["home"]],features:[t.qOj],decls:22,vars:18,consts:[[1,"inset-0","flex","flex-col","min-w-0","w-full"],[1,"flex","flex-col","mx-100","text-center","p-6","gap-5"],[1,"font-black","mt-3","text-7xl","text-center","mb-7"],[3,"nodes","links","height","options"],[1,"flex","flex-col"],[1,"font-black","mt-3","text-2xl","text-center","mb-3"],["mat-button","",1,"bg-primary","text-lg",3,"routerLink"],[1,"font-black","mt-3","text-2xl","text-center","mb-7"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._uU(3),t.ALo(4,"trans"),t.qZA(),t._UZ(5,"d3-network",3),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t._uU(8),t.ALo(9,"trans"),t.qZA(),t._UZ(10,"div"),t.qZA(),t.TgZ(11,"div",4),t.TgZ(12,"div",5),t._uU(13),t.ALo(14,"trans"),t.qZA(),t.TgZ(15,"div"),t.TgZ(16,"button",6),t._uU(17," An\xe1lisis "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",4),t.TgZ(19,"div",7),t._uU(20),t.ALo(21,"trans"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,9,"home.title")," "),t.xp6(2),t.Q6J("nodes",i.nodes)("links",i.edges)("height",600)("options",i.networkOptions),t.xp6(3),t.hij(" ",t.lcZ(9,11,"home.network.1")," "),t.xp6(5),t.hij(" ",t.lcZ(14,13,"home.analysis.1")," "),t.xp6(3),t.Q6J("routerLink",t.DdM(17,H)),t.xp6(4),t.hij(" ",t.lcZ(21,15,"home.me.1")," "))},directives:[C.J,d.lW,c.rH],pipes:[T.u],encapsulation:2}),o})()}];var U=s(5245),j=s(4613),I=s(5804),L=s(6767),m=s(393),O=s(9373),J=s(6915);let M=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.Bz.forChild(P),d.ot,U.Ps,j.m,I.J,L.d,m.ZD,m.Cl,O.T,J.PU]]}),o})()}}]);