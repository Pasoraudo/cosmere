"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5890],{5890:(B,l,s)=>{s.r(l),s.d(l,{HomeModule:()=>O});var c=s(4521),g=s(2415),r=s(2860),p=s(7489),u=s(9557),v=s(5595),f=s(7749),Z=s.n(f),t=s(5e3),A=s(4498),x=s(1993),C=s(5131),d=s(7423),T=s(2108);const y=function(){return["/wiki/network"]},H=function(){return["/wiki/analysis"]},P=[{path:"",component:(()=>{class o extends g.n{constructor(e,i){super(),this.characterApi=e,this.relationshipApi=i,this.navigation=u.o,this.nodes=[],this.edges=[],this.characters=[],this.relationships=[],this.networkOptions={zoom:!1}}ngOnInit(){this.subscribe(this.characterApi.cosmereCharacters(),e=>this.onCharactersChanges(e)),this.subscribe(this.relationshipApi.relationshipsByBook("mistborn1"),e=>this.onRelationshipsChanges(e)),(0,p.defer)(()=>{this.characterApi.fetchAllCosmereCharacter(),this.relationshipApi.fetchAllCosmereRelationship()})}generateNetworkParameters(){this.edges=(0,r.U5)(this.relationships);const e=new v.UndirectedGraph;(0,r.df)(this.relationships).forEach(n=>e.addNode(n)),this.relationships.forEach(n=>e.addEdge(n.characterId1,n.characterId2));const k=Z()(e);this.nodes=(0,r.k$)(this.characters,this.relationships).filter(n=>this.edges.map(h=>h.source).includes(n.id)||this.edges.map(h=>h.target).includes(n.id)),this.nodes=this.nodes.map(n=>Object.assign(Object.assign({},n),{group:k[n.id]}))}onCharactersChanges(e){this.characters=e,this.generateNetworkParameters()}onRelationshipsChanges(e){this.relationships=e,this.generateNetworkParameters()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(A.H),t.Y36(x.I))},o.\u0275cmp=t.Xpm({type:o,selectors:[["home"]],features:[t.qOj],decls:24,vars:20,consts:[[1,"inset-0","flex","flex-col","min-w-0","w-full"],[1,"flex","flex-col","mx-100","text-center","p-6","gap-5"],[1,"font-black","mt-3","text-7xl","text-center","mb-7"],[3,"nodes","links","height","options"],[1,"flex","flex-col"],[1,"font-black","mt-3","text-2xl","text-center","mb-3"],["mat-button","",1,"bg-primary","text-lg",3,"routerLink"],[1,"font-black","mt-3","text-2xl","text-center","mb-7"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._uU(3),t.ALo(4,"trans"),t.qZA(),t._UZ(5,"d3-network",3),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t._uU(8),t.ALo(9,"trans"),t.qZA(),t.TgZ(10,"div"),t.TgZ(11,"button",6),t._uU(12," Conexiones "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",4),t.TgZ(14,"div",5),t._uU(15),t.ALo(16,"trans"),t.qZA(),t.TgZ(17,"div"),t.TgZ(18,"button",6),t._uU(19," An\xe1lisis "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",4),t.TgZ(21,"div",7),t._uU(22),t.ALo(23,"trans"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,10,"home.title")," "),t.xp6(2),t.Q6J("nodes",i.nodes)("links",i.edges)("height",600)("options",i.networkOptions),t.xp6(3),t.hij(" ",t.lcZ(9,12,"home.network.1")," "),t.xp6(3),t.Q6J("routerLink",t.DdM(18,y)),t.xp6(4),t.hij(" ",t.lcZ(16,14,"home.analysis.1")," "),t.xp6(3),t.Q6J("routerLink",t.DdM(19,H)),t.xp6(4),t.hij(" ",t.lcZ(23,16,"home.me.1")," "))},directives:[C.J,d.lW,c.rH],pipes:[T.u],encapsulation:2}),o})()}];var U=s(5245),j=s(4613),L=s(5804),I=s(6767),m=s(393),J=s(9373),M=s(6915);let O=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.Bz.forChild(P),d.ot,U.Ps,j.m,L.J,I.d,m.ZD,m.Cl,J.T,M.PU]]}),o})()}}]);