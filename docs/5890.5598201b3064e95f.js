"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5890],{5890:(E,l,s)=>{s.r(l),s.d(l,{HomeModule:()=>k});var c=s(4521),g=s(5861),p=s(2415),r=s(2860),v=s(7489),u=s(9557),f=s(5595),Z=s(7749),A=s.n(Z),t=s(5e3),x=s(4498),T=s(1993),C=s(9287),d=s(7423),y=s(2108);const H=function(){return["/wiki/network"]},P=function(){return["/wiki/analysis"]},U=[{path:"",component:(()=>{class e extends p.n{constructor(o,n){super(),this.characterApi=o,this.relationshipApi=n,this.navigation=u.o,this.nodes=[],this.edges=[],this.characters=[],this.relationships=[],this.networkOptions={zoom:!1}}ngOnInit(){var o=this;this.subscribe(this.characterApi.cosmereCharacters(),n=>this.onCharactersChanges(n)),this.subscribe(this.relationshipApi.relationshipsByBook("mistborn1"),n=>this.onRelationshipsChanges(n)),(0,v.defer)((0,g.Z)(function*(){yield o.characterApi.fetchAllCosmereCharacter(),yield o.relationshipApi.fetchAllCosmereRelationship()}))}generateNetworkParameters(){this.edges=(0,r.U5)(this.relationships);const o=new f.UndirectedGraph;(0,r.df)(this.relationships).forEach(i=>o.addNode(i)),this.relationships.forEach(i=>o.addEdge(i.characterId1,i.characterId2));const B=A()(o);this.nodes=(0,r.k$)(this.characters,this.relationships).filter(i=>this.edges.map(h=>h.source).includes(i.id)||this.edges.map(h=>h.target).includes(i.id)),this.nodes=this.nodes.map(i=>Object.assign(Object.assign({},i),{group:B[i.id]}))}onCharactersChanges(o){this.characters=o,this.generateNetworkParameters()}onRelationshipsChanges(o){this.relationships=o,this.generateNetworkParameters()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(x.H),t.Y36(T.I))},e.\u0275cmp=t.Xpm({type:e,selectors:[["home"]],features:[t.qOj],decls:24,vars:20,consts:[[1,"inset-0","flex","flex-col","min-w-0","w-full"],[1,"flex","flex-col","mx-100","text-center","p-6","gap-5"],[1,"font-black","mt-3","text-7xl","text-center","mb-7"],[3,"nodes","links","height","options"],[1,"flex","flex-col"],[1,"font-black","mt-3","text-2xl","text-center","mb-3"],["mat-button","",1,"bg-primary","text-lg",3,"routerLink"],[1,"font-black","mt-3","text-2xl","text-center","mb-7"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._uU(3),t.ALo(4,"trans"),t.qZA(),t._UZ(5,"d3-network",3),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t._uU(8),t.ALo(9,"trans"),t.qZA(),t.TgZ(10,"div"),t.TgZ(11,"button",6),t._uU(12," Conexiones "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",4),t.TgZ(14,"div",5),t._uU(15),t.ALo(16,"trans"),t.qZA(),t.TgZ(17,"div"),t.TgZ(18,"button",6),t._uU(19," An\xe1lisis "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",4),t.TgZ(21,"div",7),t._uU(22),t.ALo(23,"trans"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(3),t.hij(" ",t.lcZ(4,10,"home.title")," "),t.xp6(2),t.Q6J("nodes",n.nodes)("links",n.edges)("height",600)("options",n.networkOptions),t.xp6(3),t.hij(" ",t.lcZ(9,12,"home.network.1")," "),t.xp6(3),t.Q6J("routerLink",t.DdM(18,H)),t.xp6(4),t.hij(" ",t.lcZ(16,14,"home.analysis.1")," "),t.xp6(3),t.Q6J("routerLink",t.DdM(19,P)),t.xp6(4),t.hij(" ",t.lcZ(23,16,"home.me.1")," "))},directives:[C.J,d.lW,c.rH],pipes:[y.u],encapsulation:2}),e})()}];var j=s(5245),L=s(4613),I=s(5804),J=s(6767),m=s(393),M=s(9373),O=s(6915);let k=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[c.Bz.forChild(U),d.ot,j.Ps,L.m,I.J,J.d,m.ZD,m.Cl,M.T,O.PU]]}),e})()}}]);