(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5159],{5159:(Nt,Et,P)=>{"use strict";P.r(Et),P.d(Et,{WikiModule:()=>Il});var ct=P(4521),S=P(5861),H=P(9268),l=P(5e3);let G=(()=>{class e{constructor(){this.subscriptionsData=[]}ngOnDestroy(){this.allSubscriptions().forEach(r=>{r.unsubscribe()})}subscribe(r,s,a,h){const d=(0,H.V)();return this.subscriptionsData.push({id:d,subscription:r.subscribe(s,a,h)}),d}unsubscribe(r){const s=this.subscriptionById(r);!s||s.closed||s.unsubscribe()}unsubscribeAll(){this.subscriptionsData.forEach(r=>r.subscription.unsubscribe())}allSubscriptions(){return this.subscriptionsData.map(r=>r.subscription)}subscriptionById(r){const s=this.subscriptionsData.find(a=>a.id===r);return null==s?void 0:s.subscription}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(r,s){},encapsulation:2}),e})();const x=(e,i)=>{if(0===e.length)return[];if(0===i.length)return[];const r=I(e,i);return e.map(s=>({id:s.id,label:s.name,group:s.planet,score:r[s.id]}))},w=e=>{const i={};for(const s of e){const a=`${s.characterId1}-${s.characterId2}`;i[a]?i[a]+=1:i[a]=1}let r=[];for(const s in i){const[a,h]=s.split("-");r.push({source:a,target:h,weight:i[s],group:"undefined"})}return r},E=e=>{const i=new Set;return e.forEach(r=>{i.add(r.characterId1),i.add(r.characterId2)}),Array.from(i)},I=(e,i)=>{const a={};i.forEach(R=>{var B,U,K,lt;null!==(B=a[K=R.characterId1])&&void 0!==B||(a[K]=0),null!==(U=a[lt=R.characterId2])&&void 0!==U||(a[lt]=0),a[R.characterId1]+=1,a[R.characterId2]+=1});const h=Object.values(a);let d=Math.min(...h);const C=Math.max(...h)-d,_={};for(const[R,B]of Object.entries(a))_[R]=(B-d)/C*55+5;return _};var N=P(7489),L=P.n(N),et=P(9557),q=P(5595),rt=P(7749),ut=P.n(rt),Z=P(4004),$=P(520),F=P(3905),T=P(2843),ot=P(262),vt=P(2340);let xt=(()=>{class e{generate(r){let s=r;return s.startsWith("/")||(s="/"+s),"assets/db"+s+".json"}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ft=(()=>{class e{constructor(r,s){this.http=r,this.router=s,this.requestCache={},setInterval(()=>{this.clearCache()},300)}get(r){var s=this;const a=this.router.generate(r);return new Promise(function(){var h=(0,S.Z)(function*(d,m){try{d(yield(0,F.z)(s.http.get(a).pipe((0,ot.K)(_=>(0,T._)(_)))))}catch(C){m(C)}});return function(d,m){return h.apply(this,arguments)}}())}headers(){return{headers:(new $.WM).set("app-version",vt.N.appVersion).set("Access-Control-Allow-Origin","*")}}clearCache(){const r=(0,N.keys)(this.requestCache),s=(new Date).getTime();for(const a of r){const h=this.requestCache[a];if(!h)continue;const d=s-h.timestamp;!h.response&&d<2e4||h.response&&d<200||(this.requestCache[a]=null,delete this.requestCache[a])}}}return e.\u0275fac=function(r){return new(r||e)(l.LFG($.eN),l.LFG(xt))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var pt=P(8306),Ct=P(727),Dt=P(3101),Ut=P(4707),jt=P(576);function te(e){return!!e&&(e instanceof pt.y||(0,jt.m)(e.lift)&&(0,jt.m)(e.subscribe))}var Kt=P(9646),Qt=P(9975),ge=P(4408),Le=P(7565);const Se=new class re extends Le.v{}(class ye extends ge.o{constructor(i,r){super(i,r),this.scheduler=i,this.work=r}schedule(i,r=0){return r>0?super.schedule(i,r):(this.delay=r,this.state=i,this.scheduler.flush(this),this)}execute(i,r){return r>0||this.closed?super.execute(i,r):this._execute(i,r)}requestAsyncId(i,r,s=0){return null!=s&&s>0||null==s&&this.delay>0?super.requestAsyncId(i,r,s):i.flush(this)}});var ve=P(9841),kt=P(7579),Mt=P(4351),Pt=P(4482),Te=P(5403),Ke=P(8421),an=P(4671),We=P(5032),Ie=P(3269),Ge=P(2722),vn=P(5698),Xi=P(1884),Ue=P(4782);function ji(){return e=>new pt.y(i=>{let r,s;const a=new Ct.w0;return a.add(e.subscribe({complete:()=>{r&&i.next(s),i.complete()},error:h=>{i.error(h)},next:h=>{s=h,r||(r=Dt.E.schedule(()=>{i.next(s),r=void 0}),a.add(r))}})),a})}const Ps=new l.OlP("@ngrx/component-store Initial State");let Pn=(()=>{class e{constructor(r){this.destroySubject$=new Ut.t(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new Ut.t(1),this.isInitialized=!1,this.notInitializedErrorMessage=`${this.constructor.name} has not been initialized yet. Please make sure it is initialized before updating/getting.`,this.state$=this.select(s=>s),r&&this.initState(r)}ngOnDestroy(){this.stateSubject$.complete(),this.destroySubject$.next()}updater(r){return s=>{let a;const d=(te(s)?s:(0,Kt.of)(s)).pipe((0,Mt.b)(m=>this.isInitialized?(0,Qt.x)([m],Se).pipe(function Kn(...e){const i=(0,Ie.jO)(e);return(0,Pt.e)((r,s)=>{const a=e.length,h=new Array(a);let d=e.map(()=>!1),m=!1;for(let C=0;C<a;C++)(0,Ke.Xf)(e[C]).subscribe(new Te.Q(s,_=>{h[C]=_,!m&&!d[C]&&(d[C]=!0,(m=d.every(an.y))&&(d=null))},We.Z));r.subscribe(new Te.Q(s,C=>{if(m){const _=[C,...h];s.next(i?i(..._):_)}}))})}(this.stateSubject$)):(0,T._)(new Error(this.notInitializedErrorMessage))),(0,Ge.R)(this.destroy$)).subscribe({next:([m,C])=>{this.stateSubject$.next(r(C,m))},error:m=>{a=m,this.stateSubject$.error(m)}});if(a)throw a;return d}}initState(r){(0,Qt.x)([r],Se).subscribe(s=>{this.isInitialized=!0,this.stateSubject$.next(s)})}setState(r){"function"!=typeof r?this.initState(r):this.updater(r)()}patchState(r){const s="function"==typeof r?r(this.get()):r;this.updater((a,h)=>Object.assign(Object.assign({},a),h))(s)}get(r){if(!this.isInitialized)throw new Error(this.notInitializedErrorMessage);let s;return this.stateSubject$.pipe((0,vn.q)(1)).subscribe(a=>{s=r?r(a):a}),s}select(...r){const{observables:s,projector:a,config:h}=function un(e){const i=Array.from(e);let s,r={debounce:!1};const a=i.pop();return"function"!=typeof a?(r=Object.assign(Object.assign({},r),a),s=i.pop()):s=a,{observables:i,projector:s,config:r}}(r);let d;return d=0===s.length?this.stateSubject$.pipe(h.debounce?ji():m=>m,(0,Z.U)(a)):(0,ve.a)(s).pipe(h.debounce?ji():m=>m,(0,Z.U)(m=>a(...m))),d.pipe((0,Xi.x)(),(0,Ue.d)({refCount:!0,bufferSize:1}),(0,Ge.R)(this.destroy$))}effect(r){const s=new kt.x;return r(s).pipe((0,Ge.R)(this.destroy$)).subscribe(),a=>(te(a)?a:(0,Kt.of)(a)).pipe((0,Ge.R)(this.destroy$)).subscribe(d=>{s.next(d)})}}return e.\u0275fac=function(r){return new(r||e)(l.LFG(Ps,8))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac}),e})();const mr=(e,i)=>i.find(r=>r.id===e),ir=(e,i)=>{e||(e=[]);let r=[...e];return i.forEach(s=>{r=Hr(r,s)}),r},Hr=(e,i)=>{const r=i;let s=[...e];return(0,N.some)(s,a=>a.id===r.id)?s=s.map(a=>a.id===r.id?i:a):s.push(i),s};let Vn=(()=>{class e extends Pn{constructor(){super({characters:[]}),this.characters$=this.select(r=>r.characters)}saveAllCharacters(r){(0,N.isEqual)(this.get().characters,r)||this.patchState(s=>({characters:ir(s.characters,r)}))}syncState(){return this.get()}syncCharacter(r){return mr(r,this.get().characters)}reset(){this.patchState({characters:[]})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),yi=(()=>{class e{constructor(r,s){this.api=r,this.store=s}fetchAllCharacter(){var r=this;return(0,S.Z)(function*(){const s=yield r.api.get("characters");r.store.saveAllCharacters(s)})()}fetchAllCosmereCharacter(){var r=this;return(0,S.Z)(function*(){const a=(yield r.api.get("characters")).filter(h=>"Cosmere"===h.universe);r.store.saveAllCharacters(a)})()}syncAllCharacters(){return this.store.syncState().characters}allCharacters(){return this.store.characters$}cosmereCharacters(){return this.store.characters$.pipe((0,Z.U)(r=>r.filter(s=>"Cosmere"===s.universe)))}}return e.\u0275fac=function(r){return new(r||e)(l.LFG(ft),l.LFG(Vn))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ki=(()=>{class e extends Pn{constructor(){super({relationships:[]}),this.relationships$=this.select(r=>r.relationships)}saveAllRelationship(r){(0,N.isEqual)(this.get().relationships,r)||this.patchState(s=>({relationships:ir(s.relationships,r)}))}syncState(){return this.get()}reset(){this.patchState({relationships:[]})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Xr=(()=>{class e{constructor(r,s){this.api=r,this.store=s}fetchAllRelationship(){var r=this;return(0,S.Z)(function*(){const s=yield r.api.get("relationships");r.store.saveAllRelationship(s)})()}fetchAllRelationshipByBookId(r){var s=this;return(0,S.Z)(function*(){const a=yield s.api.get("relationships-"+r);s.store.saveAllRelationship(a)})()}fetchAllCosmereRelationship(){var r=this;return(0,S.Z)(function*(){const s=[];for(const d of["warbreaker","mistborn1","mistborn2","mistborn3","mistborn4","mistborn5","mistborn6","stormlight1","stormlight2","stormlight3","stormlight4"])s.push(r.api.get("relationships-"+d).then(m=>m).catch(m=>{}));const a=yield Promise.all(s);let h=[];a.forEach(d=>h=ir(h,d)),r.store.saveAllRelationship(h)})()}syncAllRelationship(){return this.store.syncState().relationships}allRelationship(){return this.store.relationships$}cosmereRelationships(){return this.store.relationships$.pipe((0,Z.U)(r=>r.filter(s=>["warbreaker","mistborn1","mistborn2","mistborn3","mistborn4","mistborn5","mistborn6","stormlight1","stormlight2","stormlight3","stormlight4"].includes(s.bookId))))}relationshipsByBook(r){return this.store.relationships$.pipe((0,Z.U)(s=>s.filter(a=>(null==a?void 0:a.bookId)===r)))}}return e.\u0275fac=function(r){return new(r||e)(l.LFG(ft),l.LFG(Ki))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var qn=P(9976);function Wn(e,i){let r;if(void 0===i)for(const s of e)null!=s&&(r<s||void 0===r&&s>=s)&&(r=s);else{let s=-1;for(let a of e)null!=(a=i(a,++s,e))&&(r<a||void 0===r&&a>=a)&&(r=a)}return r}function Un(e,i){let r;if(void 0===i)for(const s of e)null!=s&&(r>s||void 0===r&&s>=s)&&(r=s);else{let s=-1;for(let a of e)null!=(a=i(a,++s,e))&&(r>a||void 0===r&&a>=a)&&(r=a)}return r}function In(e,i){return null==e||null==i?NaN:e<i?-1:e>i?1:e>=i?0:NaN}function bi(e,i){return(null==e||!(e>=e))-(null==i||!(i>=i))||(e<i?-1:e>i?1:0)}function xr(e,i,r=0,s=1/0,a){if(i=Math.floor(i),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(e.length-1,s)),!(r<=i&&i<=s))return e;for(a=void 0===a?bi:function To(e=In){if(e===In)return bi;if("function"!=typeof e)throw new TypeError("compare is not a function");return(i,r)=>{const s=e(i,r);return s||0===s?s:(0===e(r,r))-(0===e(i,i))}}(a);s>r;){if(s-r>600){const C=s-r+1,_=i-r+1,R=Math.log(C),B=.5*Math.exp(2*R/3),U=.5*Math.sqrt(R*B*(C-B)/C)*(_-C/2<0?-1:1);xr(e,i,Math.max(r,Math.floor(i-_*B/C+U)),Math.min(s,Math.floor(i+(C-_)*B/C+U)),a)}const h=e[i];let d=r,m=s;for(_r(e,r,i),a(e[s],h)>0&&_r(e,r,s);d<m;){for(_r(e,d,m),++d,--m;a(e[d],h)<0;)++d;for(;a(e[m],h)>0;)--m}0===a(e[r],h)?_r(e,r,m):(++m,_r(e,m,s)),m<=i&&(r=m+1),i<=m&&(s=m-1)}return e}function _r(e,i,r){const s=e[i];e[i]=e[r],e[r]=s}function Ar(e,i,r){e=+e,i=+i,r=(a=arguments.length)<2?(i=e,e=0,1):a<3?1:+r;for(var s=-1,a=0|Math.max(0,Math.ceil((i-e)/r)),h=new Array(a);++s<a;)h[s]=e+s*r;return h}class Vi extends Map{constructor(i,r=qi){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),null!=i)for(const[s,a]of i)this.set(s,a)}get(i){return super.get(jr(this,i))}has(i){return super.has(jr(this,i))}set(i,r){return super.set(or(this,i),r)}delete(i){return super.delete(_e(this,i))}}class Go extends Set{constructor(i,r=qi){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),null!=i)for(const s of i)this.add(s)}has(i){return super.has(jr(this,i))}add(i){return super.add(or(this,i))}delete(i){return super.delete(_e(this,i))}}function jr({_intern:e,_key:i},r){const s=i(r);return e.has(s)?e.get(s):r}function or({_intern:e,_key:i},r){const s=i(r);return e.has(s)?e.get(s):(e.set(s,r),r)}function _e({_intern:e,_key:i},r){const s=i(r);return e.has(s)&&(r=e.get(s),e.delete(s)),r}function qi(e){return null!==e&&"object"==typeof e?e.valueOf():e}function Oo(e){return e}var p=1e-6;function b(e){return"translate("+e+",0)"}function g(e){return"translate(0,"+e+")"}function u(e){return i=>+e(i)}function c(e,i){return i=Math.max(0,e.bandwidth()-2*i)/2,e.round()&&(i=Math.round(i)),r=>+e(r)+i}function v(){return!this.__axis}function k(e,i){var r=[],s=null,a=null,h=6,d=6,m=3,C="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,_=1===e||4===e?-1:1,R=4===e||2===e?"x":"y",B=1===e||3===e?b:g;function U(K){var lt=null==s?i.ticks?i.ticks.apply(i,r):i.domain():s,at=null==a?i.tickFormat?i.tickFormat.apply(i,r):Oo:a,j=Math.max(h,0)+m,X=i.range(),nt=+X[0]+C,wt=+X[X.length-1]+C,J=(i.bandwidth?c:u)(i.copy(),C),dt=K.selection?K.selection():K,Bt=dt.selectAll(".domain").data([null]),Ft=dt.selectAll(".tick").data(lt,i).order(),$t=Ft.exit(),ae=Ft.enter().append("g").attr("class","tick"),Yt=Ft.select("line"),zt=Ft.select("text");Bt=Bt.merge(Bt.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Ft=Ft.merge(ae),Yt=Yt.merge(ae.append("line").attr("stroke","currentColor").attr(R+"2",_*h)),zt=zt.merge(ae.append("text").attr("fill","currentColor").attr(R,_*j).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),K!==dt&&(Bt=Bt.transition(K),Ft=Ft.transition(K),Yt=Yt.transition(K),zt=zt.transition(K),$t=$t.transition(K).attr("opacity",p).attr("transform",function(he){return isFinite(he=J(he))?B(he+C):this.getAttribute("transform")}),ae.attr("opacity",p).attr("transform",function(he){var qt=this.parentNode.__axis;return B((qt&&isFinite(qt=qt(he))?qt:J(he))+C)})),$t.remove(),Bt.attr("d",4===e||2===e?d?"M"+_*d+","+nt+"H"+C+"V"+wt+"H"+_*d:"M"+C+","+nt+"V"+wt:d?"M"+nt+","+_*d+"V"+C+"H"+wt+"V"+_*d:"M"+nt+","+C+"H"+wt),Ft.attr("opacity",1).attr("transform",function(he){return B(J(he)+C)}),Yt.attr(R+"2",_*h),zt.attr(R,_*j).text(at),dt.filter(v).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),dt.each(function(){this.__axis=J})}return U.scale=function(K){return arguments.length?(i=K,U):i},U.ticks=function(){return r=Array.from(arguments),U},U.tickArguments=function(K){return arguments.length?(r=null==K?[]:Array.from(K),U):r.slice()},U.tickValues=function(K){return arguments.length?(s=null==K?null:Array.from(K),U):s&&s.slice()},U.tickFormat=function(K){return arguments.length?(a=K,U):a},U.tickSize=function(K){return arguments.length?(h=d=+K,U):h},U.tickSizeInner=function(K){return arguments.length?(h=+K,U):h},U.tickSizeOuter=function(K){return arguments.length?(d=+K,U):d},U.tickPadding=function(K){return arguments.length?(m=+K,U):m},U.offset=function(K){return arguments.length?(C=+K,U):C},U}function _t(e){return k(3,e)}function At(e){return k(4,e)}function gt(){}function Lt(e){return null==e?gt:function(){return this.querySelector(e)}}function Jt(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function me(){return[]}function Ae(e){return null==e?me:function(){return this.querySelectorAll(e)}}function tn(e){return function(){return this.matches(e)}}function cn(e){return function(i){return i.matches(e)}}var fn=Array.prototype.find;function qr(){return this.firstElementChild}var Po=Array.prototype.filter;function Ja(){return Array.from(this.children)}function tu(e){return new Array(e.length)}function Qi(e,i){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=i}function Bs(e){return function(){return e}}function Hc(e,i,r,s,a,h){for(var m,d=0,C=i.length,_=h.length;d<_;++d)(m=i[d])?(m.__data__=h[d],s[d]=m):r[d]=new Qi(e,h[d]);for(;d<C;++d)(m=i[d])&&(a[d]=m)}function nu(e,i,r,s,a,h,d){var m,C,K,_=new Map,R=i.length,B=h.length,U=new Array(R);for(m=0;m<R;++m)(C=i[m])&&(U[m]=K=d.call(C,C.__data__,m,i)+"",_.has(K)?a[m]=C:_.set(K,C));for(m=0;m<B;++m)K=d.call(e,h[m],m,h)+"",(C=_.get(K))?(s[m]=C,C.__data__=h[m],_.delete(K)):r[m]=new Qi(e,h[m]);for(m=0;m<R;++m)(C=i[m])&&_.get(U[m])===C&&(a[m]=C)}function Fs(e){return e.__data__}function _i(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function au(e,i){return e<i?-1:e>i?1:e>=i?0:NaN}Qi.prototype={constructor:Qi,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,i){return this._parent.insertBefore(e,i)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var $s="http://www.w3.org/1999/xhtml";const fu={svg:"http://www.w3.org/2000/svg",xhtml:$s,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Uo(e){var i=e+="",r=i.indexOf(":");return r>=0&&"xmlns"!==(i=e.slice(0,r))&&(e=e.slice(r+1)),fu.hasOwnProperty(i)?{space:fu[i],local:e}:e}function Ys(e){return function(){this.removeAttribute(e)}}function Jc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Qc(e,i){return function(){this.setAttribute(e,i)}}function tf(e,i){return function(){this.setAttributeNS(e.space,e.local,i)}}function ef(e,i){return function(){var r=i.apply(this,arguments);null==r?this.removeAttribute(e):this.setAttribute(e,r)}}function nf(e,i){return function(){var r=i.apply(this,arguments);null==r?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Ce(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function rf(e){return function(){this.style.removeProperty(e)}}function of(e,i,r){return function(){this.style.setProperty(e,i,r)}}function sf(e,i,r){return function(){var s=i.apply(this,arguments);null==s?this.style.removeProperty(e):this.style.setProperty(e,s,r)}}function Ai(e,i){return e.style.getPropertyValue(i)||Ce(e).getComputedStyle(e,null).getPropertyValue(i)}function uf(e){return function(){delete this[e]}}function hu(e,i){return function(){this[e]=i}}function cf(e,i){return function(){var r=i.apply(this,arguments);null==r?delete this[e]:this[e]=r}}function Hs(e){return e.trim().split(/^|\s+/)}function Qr(e){return e.classList||new Xs(e)}function Xs(e){this._node=e,this._names=Hs(e.getAttribute("class")||"")}function Bo(e,i){for(var r=Qr(e),s=-1,a=i.length;++s<a;)r.add(i[s])}function En(e,i){for(var r=Qr(e),s=-1,a=i.length;++s<a;)r.remove(i[s])}function lu(e){return function(){Bo(this,e)}}function du(e){return function(){En(this,e)}}function pu(e,i){return function(){(i.apply(this,arguments)?Bo:En)(this,e)}}function vu(){this.textContent=""}function yu(e){return function(){this.textContent=e}}function Sn(e){return function(){var i=e.apply(this,arguments);this.textContent=null==i?"":i}}function Dn(){this.innerHTML=""}function hf(e){return function(){this.innerHTML=e}}function mu(e){return function(){var i=e.apply(this,arguments);this.innerHTML=null==i?"":i}}function Fo(){this.nextSibling&&this.parentNode.appendChild(this)}function De(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ks(e){return function(){var i=this.ownerDocument,r=this.namespaceURI;return r===$s&&i.documentElement.namespaceURI===$s?i.createElement(e):i.createElementNS(r,e)}}function lf(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function to(e){var i=Uo(e);return(i.local?lf:Ks)(i)}function pf(){return null}function wu(){var e=this.parentNode;e&&e.removeChild(this)}function Ei(){var e=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(e,this.nextSibling):e}function vf(){var e=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(e,this.nextSibling):e}function qs(e){return e.trim().split(/^|\s+/).map(function(i){var r="",s=i.indexOf(".");return s>=0&&(r=i.slice(s+1),i=i.slice(0,s)),{type:i,name:r}})}function _u(e){return function(){var i=this.__on;if(i){for(var h,r=0,s=-1,a=i.length;r<a;++r)h=i[r],e.type&&h.type!==e.type||h.name!==e.name?i[++s]=h:this.removeEventListener(h.type,h.listener,h.options);++s?i.length=s:delete this.__on}}}function yf(e,i,r){return function(){var a,s=this.__on,h=function Vs(e){return function(i){e.call(this,i,this.__data__)}}(i);if(s)for(var d=0,m=s.length;d<m;++d)if((a=s[d]).type===e.type&&a.name===e.name)return this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=h,a.options=r),void(a.value=i);this.addEventListener(e.type,h,r),a={type:e.type,name:e.name,value:i,listener:h,options:r},s?s.push(a):this.__on=[a]}}function $o(e,i,r){var s=Ce(e),a=s.CustomEvent;"function"==typeof a?a=new a(i,r):(a=s.document.createEvent("Event"),r?(a.initEvent(i,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(i,!1,!1)),e.dispatchEvent(a)}function mf(e,i){return function(){return $o(this,e,i)}}function Au(e,i){return function(){return $o(this,e,i.apply(this,arguments))}}Xs.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var i=this._names.indexOf(e);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Si=[null];function mn(e,i){this._groups=e,this._parents=i}function ta(){return new mn([[document.documentElement]],Si)}mn.prototype=ta.prototype={constructor:mn,select:function Rt(e){"function"!=typeof e&&(e=Lt(e));for(var i=this._groups,r=i.length,s=new Array(r),a=0;a<r;++a)for(var C,_,h=i[a],d=h.length,m=s[a]=new Array(d),R=0;R<d;++R)(C=h[R])&&(_=e.call(C,C.__data__,R,h))&&("__data__"in C&&(_.__data__=C.__data__),m[R]=_);return new mn(s,this._parents)},selectAll:function Pe(e){e="function"==typeof e?function Oe(e){return function(){return Jt(e.apply(this,arguments))}}(e):Ae(e);for(var i=this._groups,r=i.length,s=[],a=[],h=0;h<r;++h)for(var C,d=i[h],m=d.length,_=0;_<m;++_)(C=d[_])&&(s.push(e.call(C,C.__data__,_,d)),a.push(C));return new mn(s,a)},selectChild:function Jr(e){return this.select(null==e?qr:function yn(e){return function(){return fn.call(this.children,e)}}("function"==typeof e?e:cn(e)))},selectChildren:function Wo(e){return this.selectAll(null==e?Ja:function Ji(e){return function(){return Po.call(this.children,e)}}("function"==typeof e?e:cn(e)))},filter:function Qa(e){"function"!=typeof e&&(e=tn(e));for(var i=this._groups,r=i.length,s=new Array(r),a=0;a<r;++a)for(var C,h=i[a],d=h.length,m=s[a]=[],_=0;_<d;++_)(C=h[_])&&e.call(C,C.__data__,_,h)&&m.push(C);return new mn(s,this._parents)},data:function Zs(e,i){if(!arguments.length)return Array.from(this,Fs);var r=i?nu:Hc,s=this._parents,a=this._groups;"function"!=typeof e&&(e=Bs(e));for(var h=a.length,d=new Array(h),m=new Array(h),C=new Array(h),_=0;_<h;++_){var R=s[_],B=a[_],U=B.length,K=_i(e.call(R,R&&R.__data__,_,s)),lt=K.length,at=m[_]=new Array(lt),j=d[_]=new Array(lt),X=C[_]=new Array(U);r(R,B,at,j,X,K,i);for(var J,dt,nt=0,wt=0;nt<lt;++nt)if(J=at[nt]){for(nt>=wt&&(wt=nt+1);!(dt=j[wt])&&++wt<lt;);J._next=dt||null}}return(d=new mn(d,s))._enter=m,d._exit=C,d},enter:function eu(){return new mn(this._enter||this._groups.map(tu),this._parents)},exit:function ru(){return new mn(this._exit||this._groups.map(tu),this._parents)},join:function iu(e,i,r){var s=this.enter(),a=this,h=this.exit();return"function"==typeof e?(s=e(s))&&(s=s.selection()):s=s.append(e+""),null!=i&&(a=i(a))&&(a=a.selection()),null==r?h.remove():r(h),s&&a?s.merge(a).order():a},merge:function Xc(e){for(var i=e.selection?e.selection():e,r=this._groups,s=i._groups,a=r.length,d=Math.min(a,s.length),m=new Array(a),C=0;C<d;++C)for(var K,_=r[C],R=s[C],B=_.length,U=m[C]=new Array(B),lt=0;lt<B;++lt)(K=_[lt]||R[lt])&&(U[lt]=K);for(;C<a;++C)m[C]=r[C];return new mn(m,this._parents)},selection:function wf(){return this},order:function ou(){for(var e=this._groups,i=-1,r=e.length;++i<r;)for(var d,s=e[i],a=s.length-1,h=s[a];--a>=0;)(d=s[a])&&(h&&4^d.compareDocumentPosition(h)&&h.parentNode.insertBefore(d,h),h=d);return this},sort:function su(e){function i(B,U){return B&&U?e(B.__data__,U.__data__):!B-!U}e||(e=au);for(var r=this._groups,s=r.length,a=new Array(s),h=0;h<s;++h){for(var _,d=r[h],m=d.length,C=a[h]=new Array(m),R=0;R<m;++R)(_=d[R])&&(C[R]=_);C.sort(i)}return new mn(a,this._parents).order()},call:function uu(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function jc(){return Array.from(this)},node:function Kc(){for(var e=this._groups,i=0,r=e.length;i<r;++i)for(var s=e[i],a=0,h=s.length;a<h;++a){var d=s[a];if(d)return d}return null},size:function Vc(){let e=0;for(const i of this)++e;return e},empty:function cu(){return!this.node()},each:function qc(e){for(var i=this._groups,r=0,s=i.length;r<s;++r)for(var m,a=i[r],h=0,d=a.length;h<d;++h)(m=a[h])&&e.call(m,m.__data__,h,a);return this},attr:function Ne(e,i){var r=Uo(e);if(arguments.length<2){var s=this.node();return r.local?s.getAttributeNS(r.space,r.local):s.getAttribute(r)}return this.each((null==i?r.local?Jc:Ys:"function"==typeof i?r.local?nf:ef:r.local?tf:Qc)(r,i))},style:function af(e,i,r){return arguments.length>1?this.each((null==i?rf:"function"==typeof i?sf:of)(e,i,null==r?"":r)):Ai(this.node(),e)},property:function Ve(e,i){return arguments.length>1?this.each((null==i?uf:"function"==typeof i?cf:hu)(e,i)):this.node()[e]},classed:function gu(e,i){var r=Hs(e+"");if(arguments.length<2){for(var s=Qr(this.node()),a=-1,h=r.length;++a<h;)if(!s.contains(r[a]))return!1;return!0}return this.each(("function"==typeof i?pu:i?lu:du)(r,i))},text:function ff(e){return arguments.length?this.each(null==e?vu:("function"==typeof e?Sn:yu)(e)):this.node().textContent},html:function Er(e){return arguments.length?this.each(null==e?Dn:("function"==typeof e?mu:hf)(e)):this.node().innerHTML},raise:function js(){return this.each(Fo)},lower:function Sr(){return this.each(De)},append:function df(e){var i="function"==typeof e?e:to(e);return this.select(function(){return this.appendChild(i.apply(this,arguments))})},insert:function gf(e,i){var r="function"==typeof e?e:to(e),s=null==i?pf:"function"==typeof i?i:Lt(i);return this.select(function(){return this.insertBefore(r.apply(this,arguments),s.apply(this,arguments)||null)})},remove:function Zo(){return this.each(wu)},clone:function bu(e){return this.select(e?vf:Ei)},datum:function xu(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function Js(e,i,r){var a,d,s=qs(e+""),h=s.length;if(!(arguments.length<2)){for(m=i?yf:_u,a=0;a<h;++a)this.each(m(s[a],i,r));return this}var m=this.node().__on;if(m)for(var R,C=0,_=m.length;C<_;++C)for(a=0,R=m[C];a<h;++a)if((d=s[a]).type===R.type&&d.name===R.name)return R.value},dispatch:function Cn(e,i){return this.each(("function"==typeof i?Au:mf)(e,i))},[Symbol.iterator]:function*Qs(){for(var e=this._groups,i=0,r=e.length;i<r;++i)for(var d,s=e[i],a=0,h=s.length;a<h;++a)(d=s[a])&&(yield d)}};const eo=ta;var bf={value:()=>{}};function Eu(){for(var s,e=0,i=arguments.length,r={};e<i;++e){if(!(s=arguments[e]+"")||s in r||/[\s.]/.test(s))throw new Error("illegal type: "+s);r[s]=[]}return new Yo(r)}function Yo(e){this._=e}function Ci(e,i){return e.trim().split(/^|\s+/).map(function(r){var s="",a=r.indexOf(".");if(a>=0&&(s=r.slice(a+1),r=r.slice(0,a)),r&&!i.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:s}})}function xf(e,i){for(var a,r=0,s=e.length;r<s;++r)if((a=e[r]).name===i)return a.value}function Su(e,i,r){for(var s=0,a=e.length;s<a;++s)if(e[s].name===i){e[s]=bf,e=e.slice(0,s).concat(e.slice(s+1));break}return null!=r&&e.push({name:i,value:r}),e}Yo.prototype=Eu.prototype={constructor:Yo,on:function(e,i){var a,r=this._,s=Ci(e+"",r),h=-1,d=s.length;if(!(arguments.length<2)){if(null!=i&&"function"!=typeof i)throw new Error("invalid callback: "+i);for(;++h<d;)if(a=(e=s[h]).type)r[a]=Su(r[a],e.name,i);else if(null==i)for(a in r)r[a]=Su(r[a],e.name,null);return this}for(;++h<d;)if((a=(e=s[h]).type)&&(a=xf(r[a],e.name)))return a},copy:function(){var e={},i=this._;for(var r in i)e[r]=i[r].slice();return new Yo(e)},call:function(e,i){if((a=arguments.length-2)>0)for(var a,h,r=new Array(a),s=0;s<a;++s)r[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=0,a=(h=this._[e]).length;s<a;++s)h[s].value.apply(i,r)},apply:function(e,i,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],a=0,h=s.length;a<h;++a)s[a].value.apply(i,r)}};const ki=Eu;var Ho,no,ti=0,Ln=0,Cr=0,sr=0,qe=0,ro=0,io="object"==typeof performance&&performance.now?performance:Date,ku="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ea(){return qe||(ku(_f),qe=io.now()+ro)}function _f(){qe=0}function Xo(){this._call=this._time=this._next=null}function Mi(e,i,r){var s=new Xo;return s.restart(e,i,r),s}function ht(){qe=(sr=io.now())+ro,ti=Ln=0;try{!function V(){ea(),++ti;for(var i,e=Ho;e;)(i=qe-e._time)>=0&&e._call.call(void 0,i),e=e._next;--ti}()}finally{ti=0,function Zt(){for(var e,r,i=Ho,s=1/0;i;)i._call?(s>i._time&&(s=i._time),e=i,i=i._next):(r=i._next,i._next=null,i=e?e._next=r:Ho=r);no=e,ie(s)}(),qe=0}}function st(){var e=io.now(),i=e-sr;i>1e3&&(ro-=i,sr=e)}function ie(e){ti||(Ln&&(Ln=clearTimeout(Ln)),e-qe>24?(e<1/0&&(Ln=setTimeout(ht,e-io.now()-ro)),Cr&&(Cr=clearInterval(Cr))):(Cr||(sr=io.now(),Cr=setInterval(st,1e3)),ti=1,ku(ht)))}function be(e,i,r){var s=new Xo;return s.restart(a=>{s.stop(),e(a+i)},i=null==i?0:+i,r),s}Xo.prototype=Mi.prototype={constructor:Xo,restart:function(e,i,r){if("function"!=typeof e)throw new TypeError("callback is not a function");r=(null==r?ea():+r)+(null==i?0:+i),!this._next&&no!==this&&(no?no._next=this:Ho=this,no=this),this._call=e,this._time=r,ie()},stop:function(){this._call&&(this._call=null,this._time=1/0,ie())}};var Be=ki("start","end","cancel","interrupt"),ke=[];function ri(e,i,r,s,a,h){var d=e.__transition;if(d){if(r in d)return}else e.__transition={};!function Ko(e,i,r){var a,s=e.__transition;function d(_){var R,B,U,K;if(1!==r.state)return C();for(R in s)if((K=s[R]).name===r.name){if(3===K.state)return be(d);4===K.state?(K.state=6,K.timer.stop(),K.on.call("interrupt",e,e.__data__,K.index,K.group),delete s[R]):+R<i&&(K.state=6,K.timer.stop(),K.on.call("cancel",e,e.__data__,K.index,K.group),delete s[R])}if(be(function(){3===r.state&&(r.state=4,r.timer.restart(m,r.delay,r.time),m(_))}),r.state=2,r.on.call("start",e,e.__data__,r.index,r.group),2===r.state){for(r.state=3,a=new Array(U=r.tween.length),R=0,B=-1;R<U;++R)(K=r.tween[R].value.call(e,e.__data__,r.index,r.group))&&(a[++B]=K);a.length=B+1}}function m(_){for(var R=_<r.duration?r.ease.call(null,_/r.duration):(r.timer.restart(C),r.state=5,1),B=-1,U=a.length;++B<U;)a[B].call(e,R);5===r.state&&(r.on.call("end",e,e.__data__,r.index,r.group),C())}function C(){for(var _ in r.state=6,r.timer.stop(),delete s[i],s)return;delete e.__transition}s[i]=r,r.timer=Mi(function h(_){r.state=1,r.timer.restart(d,r.delay,r.time),r.delay<=_&&d(_-r.delay)},0,r.time)}(e,r,{name:i,index:s,group:a,on:Be,tween:ke,time:h.time,delay:h.delay,duration:h.duration,ease:h.ease,timer:null,state:0})}function xe(e,i){var r=Tn(e,i);if(r.state>0)throw new Error("too late; already scheduled");return r}function Jn(e,i){var r=Tn(e,i);if(r.state>3)throw new Error("too late; already running");return r}function Tn(e,i){var r=e.__transition;if(!r||!(r=r[i]))throw new Error("transition not found");return r}function Vo(e,i){var s,a,d,r=e.__transition,h=!0;if(r){for(d in i=null==i?null:i+"",r)(s=r[d]).name===i?(a=s.state>2&&s.state<5,s.state=6,s.timer.stop(),s.on.call(a?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete r[d]):h=!1;h&&delete e.__transition}}function Bn(e,i){return e=+e,i=+i,function(r){return e*(1-r)+i*r}}var ao,oo=180/Math.PI,Qn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function so(e,i,r,s,a,h){var d,m,C;return(d=Math.sqrt(e*e+i*i))&&(e/=d,i/=d),(C=e*r+i*s)&&(r-=e*C,s-=i*C),(m=Math.sqrt(r*r+s*s))&&(r/=m,s/=m,C/=m),e*s<i*r&&(e=-e,i=-i,C=-C,d=-d),{translateX:a,translateY:h,rotate:Math.atan2(i,e)*oo,skewX:Math.atan(C)*oo,scaleX:d,scaleY:m}}function na(e,i,r,s){function a(_){return _.length?_.pop()+" ":""}return function(_,R){var B=[],U=[];return _=e(_),R=e(R),function h(_,R,B,U,K,lt){if(_!==B||R!==U){var at=K.push("translate(",null,i,null,r);lt.push({i:at-4,x:Bn(_,B)},{i:at-2,x:Bn(R,U)})}else(B||U)&&K.push("translate("+B+i+U+r)}(_.translateX,_.translateY,R.translateX,R.translateY,B,U),function d(_,R,B,U){_!==R?(_-R>180?R+=360:R-_>180&&(_+=360),U.push({i:B.push(a(B)+"rotate(",null,s)-2,x:Bn(_,R)})):R&&B.push(a(B)+"rotate("+R+s)}(_.rotate,R.rotate,B,U),function m(_,R,B,U){_!==R?U.push({i:B.push(a(B)+"skewX(",null,s)-2,x:Bn(_,R)}):R&&B.push(a(B)+"skewX("+R+s)}(_.skewX,R.skewX,B,U),function C(_,R,B,U,K,lt){if(_!==B||R!==U){var at=K.push(a(K)+"scale(",null,",",null,")");lt.push({i:at-4,x:Bn(_,B)},{i:at-2,x:Bn(R,U)})}else(1!==B||1!==U)&&K.push(a(K)+"scale("+B+","+U+")")}(_.scaleX,_.scaleY,R.scaleX,R.scaleY,B,U),_=R=null,function(K){for(var j,lt=-1,at=U.length;++lt<at;)B[(j=U[lt]).i]=j.x(K);return B.join("")}}}var Jo=na(function qo(e){const i=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return i.isIdentity?Qn:so(i.a,i.b,i.c,i.d,i.e,i.f)},"px, ","px)","deg)"),Du=na(function Nu(e){return null!=e&&(ao||(ao=document.createElementNS("http://www.w3.org/2000/svg","g")),ao.setAttribute("transform",e),e=ao.transform.baseVal.consolidate())?so((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Qn},", ",")",")");function uo(e,i){var r,s;return function(){var a=Jn(this,e),h=a.tween;if(h!==r)for(var d=0,m=(s=r=h).length;d<m;++d)if(s[d].name===i){(s=s.slice()).splice(d,1);break}a.tween=s}}function ii(e,i,r){var s,a;if("function"!=typeof r)throw new Error;return function(){var h=Jn(this,e),d=h.tween;if(d!==s){a=(s=d).slice();for(var m={name:i,value:r},C=0,_=a.length;C<_;++C)if(a[C].name===i){a[C]=m;break}C===_&&a.push(m)}h.tween=a}}function ra(e,i,r){var s=e._id;return e.each(function(){var a=Jn(this,s);(a.value||(a.value={}))[i]=r.apply(this,arguments)}),function(a){return Tn(a,s).value[i]}}function ia(e,i,r){e.prototype=i.prototype=r,r.constructor=e}function Lu(e,i){var r=Object.create(e.prototype);for(var s in i)r[s]=i[s];return r}function Mr(){}var Ii=1/.7,Ni="\\s*([+-]?\\d+)\\s*",Di="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ef=/^#([0-9a-f]{3,8})$/,Fe=new RegExp(`^rgb\\(${Ni},${Ni},${Ni}\\)$`),en=new RegExp(`^rgb\\(${tr},${tr},${tr}\\)$`),Sf=new RegExp(`^rgba\\(${Ni},${Ni},${Ni},${Di}\\)$`),Cf=new RegExp(`^rgba\\(${tr},${tr},${tr},${Di}\\)$`),Tu=new RegExp(`^hsl\\(${Di},${tr},${tr}\\)$`),kf=new RegExp(`^hsla\\(${Di},${tr},${tr},${Di}\\)$`),ts={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Li(){return this.rgb().formatHex()}function Ri(){return this.rgb().formatRgb()}function Fn(e){var i,r;return e=(e+"").trim().toLowerCase(),(i=Ef.exec(e))?(r=i[1].length,i=parseInt(i[1],16),6===r?co(i):3===r?new bn(i>>8&15|i>>4&240,i>>4&15|240&i,(15&i)<<4|15&i,1):8===r?ar(i>>24&255,i>>16&255,i>>8&255,(255&i)/255):4===r?ar(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|240&i,((15&i)<<4|15&i)/255):null):(i=Fe.exec(e))?new bn(i[1],i[2],i[3],1):(i=en.exec(e))?new bn(255*i[1]/100,255*i[2]/100,255*i[3]/100,1):(i=Sf.exec(e))?ar(i[1],i[2],i[3],i[4]):(i=Cf.exec(e))?ar(255*i[1]/100,255*i[2]/100,255*i[3]/100,i[4]):(i=Tu.exec(e))?oi(i[1],i[2]/100,i[3]/100,1):(i=kf.exec(e))?oi(i[1],i[2]/100,i[3]/100,i[4]):ts.hasOwnProperty(e)?co(ts[e]):"transparent"===e?new bn(NaN,NaN,NaN,0):null}function co(e){return new bn(e>>16&255,e>>8&255,255&e,1)}function ar(e,i,r,s){return s<=0&&(e=i=r=NaN),new bn(e,i,r,s)}function Mf(e){return e instanceof Mr||(e=Fn(e)),e?new bn((e=e.rgb()).r,e.g,e.b,e.opacity):new bn}function es(e,i,r,s){return 1===arguments.length?Mf(e):new bn(e,i,r,null==s?1:s)}function bn(e,i,r,s){this.r=+e,this.g=+i,this.b=+r,this.opacity=+s}function Ru(){return`#${A(this.r)}${A(this.g)}${A(this.b)}`}function fo(){const e=Nr(this.opacity);return`${1===e?"rgb(":"rgba("}${Dr(this.r)}, ${Dr(this.g)}, ${Dr(this.b)}${1===e?")":`, ${e})`}`}function Nr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Dr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function A(e){return((e=Dr(e))<16?"0":"")+e.toString(16)}function oi(e,i,r,s){return s<=0?e=i=r=NaN:r<=0||r>=1?e=i=NaN:i<=0&&(e=NaN),new oe(e,i,r,s)}function ho(e){if(e instanceof oe)return new oe(e.h,e.s,e.l,e.opacity);if(e instanceof Mr||(e=Fn(e)),!e)return new oe;if(e instanceof oe)return e;var i=(e=e.rgb()).r/255,r=e.g/255,s=e.b/255,a=Math.min(i,r,s),h=Math.max(i,r,s),d=NaN,m=h-a,C=(h+a)/2;return m?(d=i===h?(r-s)/m+6*(r<s):r===h?(s-i)/m+2:(i-r)/m+4,m/=C<.5?h+a:2-h-a,d*=60):m=C>0&&C<1?0:d,new oe(d,m,C,e.opacity)}function oe(e,i,r,s){this.h=+e,this.s=+i,this.l=+r,this.opacity=+s}function zu(e){return(e=(e||0)%360)<0?e+360:e}function ns(e){return Math.max(0,Math.min(1,e||0))}function sa(e,i,r){return 255*(e<60?i+(r-i)*e/60:e<180?r:e<240?i+(r-i)*(240-e)/60:i)}function Lr(e,i,r,s,a){var h=e*e,d=h*e;return((1-3*e+3*h-d)*i+(4-6*h+3*d)*r+(1+3*e+3*h-3*d)*s+d*a)/6}ia(Mr,Fn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Li,formatHex:Li,formatHex8:function oa(){return this.rgb().formatHex8()},formatHsl:function Ti(){return ho(this).formatHsl()},formatRgb:Ri,toString:Ri}),ia(bn,es,Lu(Mr,{brighter(e){return e=null==e?Ii:Math.pow(Ii,e),new bn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new bn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new bn(Dr(this.r),Dr(this.g),Dr(this.b),Nr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ru,formatHex:Ru,formatHex8:function If(){return`#${A(this.r)}${A(this.g)}${A(this.b)}${A(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:fo,toString:fo})),ia(oe,function Rn(e,i,r,s){return 1===arguments.length?ho(e):new oe(e,i,r,null==s?1:s)},Lu(Mr,{brighter(e){return e=null==e?Ii:Math.pow(Ii,e),new oe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new oe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),i=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*i,a=2*r-s;return new bn(sa(e>=240?e-240:e+120,a,s),sa(e,a,s),sa(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new oe(zu(this.h),ns(this.s),ns(this.l),Nr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Nr(this.opacity);return`${1===e?"hsl(":"hsla("}${zu(this.h)}, ${100*ns(this.s)}%, ${100*ns(this.l)}%${1===e?")":`, ${e})`}`}}));const aa=e=>()=>e;function Ou(e,i){var r=i-e;return r?function Gu(e,i){return function(r){return e+r*i}}(e,r):aa(isNaN(e)?i:e)}const rs=function e(i){var r=function Tf(e){return 1==(e=+e)?Ou:function(i,r){return r-i?function Lf(e,i,r){return e=Math.pow(e,r),i=Math.pow(i,r)-e,r=1/r,function(s){return Math.pow(e+s*i,r)}}(i,r,e):aa(isNaN(i)?r:i)}}(i);function s(a,h){var d=r((a=es(a)).r,(h=es(h)).r),m=r(a.g,h.g),C=r(a.b,h.b),_=Ou(a.opacity,h.opacity);return function(R){return a.r=d(R),a.g=m(R),a.b=C(R),a.opacity=_(R),a+""}}return s.gamma=e,s}(1);function Pu(e){return function(i){var d,m,r=i.length,s=new Array(r),a=new Array(r),h=new Array(r);for(d=0;d<r;++d)m=es(i[d]),s[d]=m.r||0,a[d]=m.g||0,h[d]=m.b||0;return s=e(s),a=e(a),h=e(h),m.opacity=1,function(C){return m.r=s(C),m.g=a(C),m.b=h(C),m+""}}}Pu(function Nf(e){var i=e.length-1;return function(r){var s=r<=0?r=0:r>=1?(r=1,i-1):Math.floor(r*i),a=e[s],h=e[s+1];return Lr((r-s/i)*i,s>0?e[s-1]:2*a-h,a,h,s<i-1?e[s+2]:2*h-a)}}),Pu(function Df(e){var i=e.length;return function(r){var s=Math.floor(((r%=1)<0?++r:r)*i);return Lr((r-s/i)*i,e[(s+i-1)%i],e[s%i],e[(s+1)%i],e[(s+2)%i])}});var ua=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ca=new RegExp(ua.source,"g");function Wu(e,i){var s,a,h,r=ua.lastIndex=ca.lastIndex=0,d=-1,m=[],C=[];for(e+="",i+="";(s=ua.exec(e))&&(a=ca.exec(i));)(h=a.index)>r&&(h=i.slice(r,h),m[d]?m[d]+=h:m[++d]=h),(s=s[0])===(a=a[0])?m[d]?m[d]+=a:m[++d]=a:(m[++d]=null,C.push({i:d,x:Bn(s,a)})),r=ca.lastIndex;return r<i.length&&(h=i.slice(r),m[d]?m[d]+=h:m[++d]=h),m.length<2?C[0]?function zf(e){return function(i){return e(i)+""}}(C[0].x):function Rf(e){return function(){return e}}(i):(i=C.length,function(_){for(var B,R=0;R<i;++R)m[(B=C[R]).i]=B.x(_);return m.join("")})}function zr(e,i){var r;return("number"==typeof i?Bn:i instanceof Fn?rs:(r=Fn(i))?(i=r,rs):Wu)(e,i)}function Gf(e){return function(){this.removeAttribute(e)}}function Of(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Zn(e,i,r){var s,h,a=r+"";return function(){var d=this.getAttribute(e);return d===a?null:d===s?h:h=i(s=d,r)}}function Pf(e,i,r){var s,h,a=r+"";return function(){var d=this.getAttributeNS(e.space,e.local);return d===a?null:d===s?h:h=i(s=d,r)}}function Wf(e,i,r){var s,a,h;return function(){var d,C,m=r(this);return null==m?void this.removeAttribute(e):(d=this.getAttribute(e))===(C=m+"")?null:d===s&&C===a?h:(a=C,h=i(s=d,m))}}function Uf(e,i,r){var s,a,h;return function(){var d,C,m=r(this);return null==m?void this.removeAttributeNS(e.space,e.local):(d=this.getAttributeNS(e.space,e.local))===(C=m+"")?null:d===s&&C===a?h:(a=C,h=i(s=d,m))}}function Ff(e,i){return function(r){this.setAttribute(e,i.call(this,r))}}function Uu(e,i){return function(r){this.setAttributeNS(e.space,e.local,i.call(this,r))}}function Bu(e,i){var r,s;function a(){var h=i.apply(this,arguments);return h!==s&&(r=(s=h)&&Uu(e,h)),r}return a._value=i,a}function Zf(e,i){var r,s;function a(){var h=i.apply(this,arguments);return h!==s&&(r=(s=h)&&Ff(e,h)),r}return a._value=i,a}function fa(e,i){return function(){xe(this,e).delay=+i.apply(this,arguments)}}function lo(e,i){return i=+i,function(){xe(this,e).delay=i}}function Yf(e,i){return function(){Jn(this,e).duration=+i.apply(this,arguments)}}function Fu(e,i){return i=+i,function(){Jn(this,e).duration=i}}function ur(e,i){if("function"!=typeof i)throw new Error;return function(){Jn(this,e).ease=i}}function po(e,i,r){var s,a,h=function $u(e){return(e+"").trim().split(/^|\s+/).every(function(i){var r=i.indexOf(".");return r>=0&&(i=i.slice(0,r)),!i||"start"===i})}(i)?xe:Jn;return function(){var d=h(this,e),m=d.on;m!==s&&(a=(s=m).copy()).on(i,r),d.on=a}}var Hu=eo.prototype.constructor;function da(e){return function(){this.style.removeProperty(e)}}function Xu(e,i,r){return function(s){this.style.setProperty(e,i.call(this,s),r)}}function hn(e,i,r){var s,a;function h(){var d=i.apply(this,arguments);return d!==a&&(s=(a=d)&&Xu(e,d,r)),s}return h._value=i,h}function va(e){return function(i){this.textContent=e.call(this,i)}}function Qf(e){var i,r;function s(){var a=e.apply(this,arguments);return a!==r&&(i=(r=a)&&va(a)),i}return s._value=e,s}var eh=0;function kn(e,i,r,s){this._groups=e,this._parents=i,this._name=r,this._id=s}function Ku(){return++eh}var $n=eo.prototype;kn.prototype=function nh(e){return eo().transition(e)}.prototype={constructor:kn,select:function os(e){var i=this._name,r=this._id;"function"!=typeof e&&(e=Lt(e));for(var s=this._groups,a=s.length,h=new Array(a),d=0;d<a;++d)for(var R,B,m=s[d],C=m.length,_=h[d]=new Array(C),U=0;U<C;++U)(R=m[U])&&(B=e.call(R,R.__data__,U,m))&&("__data__"in R&&(B.__data__=R.__data__),_[U]=B,ri(_[U],i,r,U,_,Tn(R,r)));return new kn(h,this._parents,i,r)},selectAll:function Kf(e){var i=this._name,r=this._id;"function"!=typeof e&&(e=Ae(e));for(var s=this._groups,a=s.length,h=[],d=[],m=0;m<a;++m)for(var R,C=s[m],_=C.length,B=0;B<_;++B)if(R=C[B]){for(var K,U=e.call(R,R.__data__,B,C),lt=Tn(R,r),at=0,j=U.length;at<j;++at)(K=U[at])&&ri(K,i,r,at,U,lt);h.push(U),d.push(R)}return new kn(h,d,i,r)},selectChild:$n.selectChild,selectChildren:$n.selectChildren,filter:function Xf(e){"function"!=typeof e&&(e=tn(e));for(var i=this._groups,r=i.length,s=new Array(r),a=0;a<r;++a)for(var C,h=i[a],d=h.length,m=s[a]=[],_=0;_<d;++_)(C=h[_])&&e.call(C,C.__data__,_,h)&&m.push(C);return new kn(s,this._parents,this._name,this._id)},merge:function Zu(e){if(e._id!==this._id)throw new Error;for(var i=this._groups,r=e._groups,s=i.length,h=Math.min(s,r.length),d=new Array(s),m=0;m<h;++m)for(var U,C=i[m],_=r[m],R=C.length,B=d[m]=new Array(R),K=0;K<R;++K)(U=C[K]||_[K])&&(B[K]=U);for(;m<s;++m)d[m]=i[m];return new kn(d,this._parents,this._name,this._id)},selection:function Je(){return new Hu(this._groups,this._parents)},transition:function ju(){for(var e=this._name,i=this._id,r=Ku(),s=this._groups,a=s.length,h=0;h<a;++h)for(var C,d=s[h],m=d.length,_=0;_<m;++_)if(C=d[_]){var R=Tn(C,i);ri(C,e,r,_,d,{time:R.time+R.delay+R.duration,delay:0,duration:R.duration,ease:R.ease})}return new kn(s,this._parents,e,r)},call:$n.call,nodes:$n.nodes,node:$n.node,size:$n.size,empty:$n.empty,each:$n.each,on:function Gr(e,i){var r=this._id;return arguments.length<2?Tn(this.node(),r).on.on(e):this.each(po(r,e,i))},attr:function Bf(e,i){var r=Uo(e),s="transform"===r?Du:zr;return this.attrTween(e,"function"==typeof i?(r.local?Uf:Wf)(r,s,ra(this,"attr."+e,i)):null==i?(r.local?Of:Gf)(r):(r.local?Pf:Zn)(r,s,i))},attrTween:function $f(e,i){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==i)return this.tween(r,null);if("function"!=typeof i)throw new Error;var s=Uo(e);return this.tween(r,(s.local?Bu:Zf)(s,i))},style:function ai(e,i,r){var s="transform"==(e+="")?Jo:zr;return null==i?this.styleTween(e,function la(e,i){var r,s,a;return function(){var h=Ai(this,e),d=(this.style.removeProperty(e),Ai(this,e));return h===d?null:h===r&&d===s?a:a=i(r=h,s=d)}}(e,s)).on("end.style."+e,da(e)):"function"==typeof i?this.styleTween(e,function pa(e,i,r){var s,a,h;return function(){var d=Ai(this,e),m=r(this),C=m+"";return null==m&&(this.style.removeProperty(e),C=m=Ai(this,e)),d===C?null:d===s&&C===a?h:(a=C,h=i(s=d,m))}}(e,s,ra(this,"style."+e,i))).each(function ss(e,i){var r,s,a,m,h="style."+i,d="end."+h;return function(){var C=Jn(this,e),_=C.on,R=null==C.value[h]?m||(m=da(i)):void 0;(_!==r||a!==R)&&(s=(r=_).copy()).on(d,a=R),C.on=s}}(this._id,e)):this.styleTween(e,function er(e,i,r){var s,h,a=r+"";return function(){var d=Ai(this,e);return d===a?null:d===s?h:h=i(s=d,r)}}(e,s,i),r).on("end.style."+e,null)},styleTween:function ga(e,i,r){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(null==i)return this.tween(s,null);if("function"!=typeof i)throw new Error;return this.tween(s,hn(e,i,null==r?"":r))},text:function Jf(e){return this.tween("text","function"==typeof e?function qf(e){return function(){var i=e(this);this.textContent=null==i?"":i}}(ra(this,"text",e)):function Vf(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function go(e){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,Qf(e))},remove:function jf(){return this.on("end.remove",function Yu(e){return function(){var i=this.parentNode;for(var r in this.__transition)if(+r!==e)return;i&&i.removeChild(this)}}(this._id))},tween:function Qo(e,i){var r=this._id;if(e+="",arguments.length<2){for(var d,s=Tn(this.node(),r).tween,a=0,h=s.length;a<h;++a)if((d=s[a]).name===e)return d.value;return null}return this.each((null==i?uo:ii)(r,e,i))},delay:function is(e){var i=this._id;return arguments.length?this.each(("function"==typeof e?fa:lo)(i,e)):Tn(this.node(),i).delay},duration:function Hf(e){var i=this._id;return arguments.length?this.each(("function"==typeof e?Yf:Fu)(i,e)):Tn(this.node(),i).duration},ease:function ha(e){var i=this._id;return arguments.length?this.each(ur(i,e)):Tn(this.node(),i).ease},easeVarying:function zn(e){if("function"!=typeof e)throw new Error;return this.each(function si(e,i){return function(){var r=i.apply(this,arguments);if("function"!=typeof r)throw new Error;Jn(this,e).ease=r}}(this._id,e))},end:function th(){var e,i,r=this,s=r._id,a=r.size();return new Promise(function(h,d){var m={value:d},C={value:function(){0==--a&&h()}};r.each(function(){var _=Jn(this,s),R=_.on;R!==e&&((i=(e=R).copy())._.cancel.push(m),i._.interrupt.push(m),i._.end.push(C)),_.on=i}),0===a&&h()})},[Symbol.iterator]:$n[Symbol.iterator]};var oh={time:null,delay:0,duration:250,ease:function ih(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Vu(e,i){for(var r;!(r=e.__transition)||!(r=r[i]);)if(!(e=e.parentNode))throw new Error(`transition ${i} not found`);return r}eo.prototype.interrupt=function Af(e){return this.each(function(){Vo(this,e)})},eo.prototype.transition=function ya(e){var i,r;e instanceof kn?(i=e._id,e=e._name):(i=Ku(),(r=oh).time=ea(),e=null==e?null:e+"");for(var s=this._groups,a=s.length,h=0;h<a;++h)for(var C,d=s[h],m=d.length,_=0;_<m;++_)(C=d[_])&&ri(C,e,i,_,d,r||Vu(C,i));return new kn(s,this._parents,e,i)};Math;function ue(e){return{type:e}}function $e(e){return"string"==typeof e?new mn([[document.querySelector(e)]],[document.documentElement]):new mn([[e]],Si)}function ze(e,i){if(e=function Ju(e){let i;for(;i=e.sourceEvent;)e=i;return e}(e),void 0===i&&(i=e.currentTarget),i){var r=i.ownerSVGElement||i;if(r.createSVGPoint){var s=r.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,[(s=s.matrixTransform(i.getScreenCTM().inverse())).x,s.y]}if(i.getBoundingClientRect){var a=i.getBoundingClientRect();return[e.clientX-a.left-i.clientLeft,e.clientY-a.top-i.clientTop]}}return[e.pageX,e.pageY]}["w","e"].map(ue),["n","s"].map(ue),["n","w","e","s","nw","ne","sw","se"].map(ue);const Or={passive:!1},fi={capture:!0,passive:!1};function hs(e){e.stopImmediatePropagation()}function cr(e){e.preventDefault(),e.stopImmediatePropagation()}function Aa(e){var i=e.document.documentElement,r=$e(e).on("dragstart.drag",cr,fi);"onselectstart"in i?r.on("selectstart.drag",cr,fi):(i.__noselect=i.style.MozUserSelect,i.style.MozUserSelect="none")}function ls(e,i){var r=e.document.documentElement,s=$e(e).on("dragstart.drag",null);i&&(s.on("click.drag",cr,fi),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in r?s.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const bo=e=>()=>e;function xo(e,{sourceEvent:i,subject:r,target:s,identifier:a,active:h,x:d,y:m,dx:C,dy:_,dispatch:R}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:h,enumerable:!0,configurable:!0},x:{value:d,enumerable:!0,configurable:!0},y:{value:m,enumerable:!0,configurable:!0},dx:{value:C,enumerable:!0,configurable:!0},dy:{value:_,enumerable:!0,configurable:!0},_:{value:R}})}function Ea(e){return!e.ctrlKey&&!e.button}function Pr(){return this.parentNode}function hh(e,i){return null==i?{x:e.x,y:e.y}:i}function Wr(){return navigator.maxTouchPoints||"ontouchstart"in this}function ec(e,i,r,s){if(isNaN(i)||isNaN(r))return e;var a,B,U,K,lt,at,j,X,nt,h=e._root,d={data:s},m=e._x0,C=e._y0,_=e._x1,R=e._y1;if(!h)return e._root=d,e;for(;h.length;)if((at=i>=(B=(m+_)/2))?m=B:_=B,(j=r>=(U=(C+R)/2))?C=U:R=U,a=h,!(h=h[X=j<<1|at]))return a[X]=d,e;if(K=+e._x.call(null,h.data),lt=+e._y.call(null,h.data),i===K&&r===lt)return d.next=h,a?a[X]=d:e._root=d,e;do{a=a?a[X]=new Array(4):e._root=new Array(4),(at=i>=(B=(m+_)/2))?m=B:_=B,(j=r>=(U=(C+R)/2))?C=U:R=U}while((X=j<<1|at)==(nt=(lt>=U)<<1|K>=B));return a[nt]=h,a[X]=d,e}function ln(e,i,r,s,a){this.node=e,this.x0=i,this.y0=r,this.x1=s,this.y1=a}function zi(e){return e[0]}function ac(e){return e[1]}function ps(e,i,r){var s=new Ur(null==i?zi:i,null==r?ac:r,NaN,NaN,NaN,NaN);return null==e?s:s.addAll(e)}function Ur(e,i,r,s,a,h){this._x=e,this._y=i,this._x0=r,this._y0=s,this._x1=a,this._y1=h,this._root=void 0}function Gi(e){for(var i={data:e.data},r=i;e=e.next;)r=r.next={data:e.data};return i}xo.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var dn=ps.prototype=Ur.prototype;function Br(e){return function(){return e}}function fr(e){return 1e-6*(e()-.5)}function gs(e){return e.x+e.vx}function uc(e){return e.y+e.vy}function Ca(e){return e.index}function _o(e,i){var r=e.get(i);if(!r)throw new Error("node not found: "+i);return r}dn.copy=function(){var r,s,e=new Ur(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return e;if(!i.length)return e._root=Gi(i),e;for(r=[{source:i,target:e._root=new Array(4)}];i=r.pop();)for(var a=0;a<4;++a)(s=i.source[a])&&(s.length?r.push({source:s,target:i.target[a]=new Array(4)}):i.target[a]=Gi(s));return e},dn.add=function Sa(e){const i=+this._x.call(null,e),r=+this._y.call(null,e);return ec(this.cover(i,r),i,r,e)},dn.addAll=function lh(e){var i,r,a,h,s=e.length,d=new Array(s),m=new Array(s),C=1/0,_=1/0,R=-1/0,B=-1/0;for(r=0;r<s;++r)isNaN(a=+this._x.call(null,i=e[r]))||isNaN(h=+this._y.call(null,i))||(d[r]=a,m[r]=h,a<C&&(C=a),a>R&&(R=a),h<_&&(_=h),h>B&&(B=h));if(C>R||_>B)return this;for(this.cover(C,_).cover(R,B),r=0;r<s;++r)ec(this,d[r],m[r],e[r]);return this},dn.cover=function dh(e,i){if(isNaN(e=+e)||isNaN(i=+i))return this;var r=this._x0,s=this._y0,a=this._x1,h=this._y1;if(isNaN(r))a=(r=Math.floor(e))+1,h=(s=Math.floor(i))+1;else{for(var C,_,d=a-r||1,m=this._root;r>e||e>=a||s>i||i>=h;)switch(_=(i<s)<<1|e<r,C=new Array(4),C[_]=m,m=C,d*=2,_){case 0:a=r+d,h=s+d;break;case 1:r=a-d,h=s+d;break;case 2:a=r+d,s=h-d;break;case 3:r=a-d,s=h-d}this._root&&this._root.length&&(this._root=m)}return this._x0=r,this._y0=s,this._x1=a,this._y1=h,this},dn.data=function nc(){var e=[];return this.visit(function(i){if(!i.length)do{e.push(i.data)}while(i=i.next)}),e},dn.extent=function rc(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},dn.find=function ic(e,i,r){var s,d,m,C,_,lt,at,a=this._x0,h=this._y0,R=this._x1,B=this._y1,U=[],K=this._root;for(K&&U.push(new ln(K,a,h,R,B)),null==r?r=1/0:(a=e-r,h=i-r,R=e+r,B=i+r,r*=r);lt=U.pop();)if(!(!(K=lt.node)||(d=lt.x0)>R||(m=lt.y0)>B||(C=lt.x1)<a||(_=lt.y1)<h))if(K.length){var j=(d+C)/2,X=(m+_)/2;U.push(new ln(K[3],j,X,C,_),new ln(K[2],d,X,j,_),new ln(K[1],j,m,C,X),new ln(K[0],d,m,j,X)),(at=(i>=X)<<1|e>=j)&&(lt=U[U.length-1],U[U.length-1]=U[U.length-1-at],U[U.length-1-at]=lt)}else{var nt=e-+this._x.call(null,K.data),wt=i-+this._y.call(null,K.data),J=nt*nt+wt*wt;if(J<r){var dt=Math.sqrt(r=J);a=e-dt,h=i-dt,R=e+dt,B=i+dt,s=K.data}}return s},dn.remove=function oc(e){if(isNaN(R=+this._x.call(null,e))||isNaN(B=+this._y.call(null,e)))return this;var i,s,a,h,R,B,U,K,lt,at,j,X,r=this._root,d=this._x0,m=this._y0,C=this._x1,_=this._y1;if(!r)return this;if(r.length)for(;;){if((lt=R>=(U=(d+C)/2))?d=U:C=U,(at=B>=(K=(m+_)/2))?m=K:_=K,i=r,!(r=r[j=at<<1|lt]))return this;if(!r.length)break;(i[j+1&3]||i[j+2&3]||i[j+3&3])&&(s=i,X=j)}for(;r.data!==e;)if(a=r,!(r=r.next))return this;return(h=r.next)&&delete r.next,a?(h?a.next=h:delete a.next,this):i?(h?i[j]=h:delete i[j],(r=i[0]||i[1]||i[2]||i[3])&&r===(i[3]||i[2]||i[1]||i[0])&&!r.length&&(s?s[X]=r:this._root=r),this):(this._root=h,this)},dn.removeAll=function xn(e){for(var i=0,r=e.length;i<r;++i)this.remove(e[i]);return this},dn.root=function nr(){return this._root},dn.size=function ph(){var e=0;return this.visit(function(i){if(!i.length)do{++e}while(i=i.next)}),e},dn.visit=function gh(e){var r,a,h,d,m,C,i=[],s=this._root;for(s&&i.push(new ln(s,this._x0,this._y0,this._x1,this._y1));r=i.pop();)if(!e(s=r.node,h=r.x0,d=r.y0,m=r.x1,C=r.y1)&&s.length){var _=(h+m)/2,R=(d+C)/2;(a=s[3])&&i.push(new ln(a,_,R,m,C)),(a=s[2])&&i.push(new ln(a,h,R,_,C)),(a=s[1])&&i.push(new ln(a,_,d,m,R)),(a=s[0])&&i.push(new ln(a,h,d,_,R))}return this},dn.visitAfter=function ds(e){var s,i=[],r=[];for(this._root&&i.push(new ln(this._root,this._x0,this._y0,this._x1,this._y1));s=i.pop();){var a=s.node;if(a.length){var h,d=s.x0,m=s.y0,C=s.x1,_=s.y1,R=(d+C)/2,B=(m+_)/2;(h=a[0])&&i.push(new ln(h,d,m,R,B)),(h=a[1])&&i.push(new ln(h,R,m,C,B)),(h=a[2])&&i.push(new ln(h,d,B,R,_)),(h=a[3])&&i.push(new ln(h,R,B,C,_))}r.push(s)}for(;s=r.pop();)e(s.node,s.x0,s.y0,s.x1,s.y1);return this},dn.x=function sc(e){return arguments.length?(this._x=e,this):this._x},dn.y=function vh(e){return arguments.length?(this._y=e,this):this._y};const ka=4294967296;function mh(e){return e.x}function fc(e){return e.y}var hc=Math.PI*(3-Math.sqrt(5));function ms(e,i){if((r=(e=i?e.toExponential(i-1):e.toExponential()).indexOf("e"))<0)return null;var r,s=e.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+e.slice(r+1)]}function Oi(e){return(e=ms(Math.abs(e)))?e[1]:NaN}var Vt,Na=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pi(e){if(!(i=Na.exec(e)))throw new Error("invalid format: "+e);var i;return new Wi({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10]})}function Wi(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function bs(e,i){var r=ms(e,i);if(!r)return e+"";var s=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}Pi.prototype=Wi.prototype,Wi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Fr={"%":(e,i)=>(100*e).toFixed(i),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function dc(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,i)=>e.toExponential(i),f:(e,i)=>e.toFixed(i),g:(e,i)=>e.toPrecision(i),o:e=>Math.round(e).toString(8),p:(e,i)=>bs(100*e,i),r:bs,s:function ws(e,i){var r=ms(e,i);if(!r)return e+"";var s=r[0],a=r[1],h=a-(Vt=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,d=s.length;return h===d?s:h>d?s+new Array(h-d+1).join("0"):h>0?s.slice(0,h)+"."+s.slice(h):"0."+new Array(1-h).join("0")+ms(e,Math.max(0,i+h-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pc(e){return e}var _s,As,La,xs=Array.prototype.map,Da=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function gc(e,i){var d,r=i?i.length:0,s=e?Math.min(r,e.length):0,a=new Array(s),h=new Array(r);for(d=0;d<s;++d)a[d]=Zr(e[d],i[d]);for(;d<r;++d)h[d]=i[d];return function(m){for(d=0;d<s;++d)h[d]=a[d](m);return h}}function _h(e,i){var r=new Date;return e=+e,i=+i,function(s){return r.setTime(e*(1-s)+i*s),r}}function Ah(e,i){var a,r={},s={};for(a in(null===e||"object"!=typeof e)&&(e={}),(null===i||"object"!=typeof i)&&(i={}),i)a in e?r[a]=Zr(e[a],i[a]):s[a]=i[a];return function(h){for(a in r)s[a]=r[a](h);return s}}function dr(e,i){i||(i=[]);var a,r=e?Math.min(i.length,e.length):0,s=i.slice();return function(h){for(a=0;a<r;++a)s[a]=e[a]*(1-h)+i[a]*h;return s}}function Zr(e,i){var s,r=typeof i;return null==i||"boolean"===r?aa(i):("number"===r?Bn:"string"===r?(s=Fn(i))?(i=s,rs):Wu:i instanceof Fn?rs:i instanceof Date?_h:function pn(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(i)?dr:Array.isArray(i)?gc:"function"!=typeof i.valueOf&&"function"!=typeof i.toString||isNaN(i)?Ah:Bn)(e,i)}function Ta(e,i){return e=+e,i=+i,function(r){return Math.round(e*(1-r)+i*r)}}function Es(e,i){for(var r=new Array(i),s=0;s<i;++s)r[s]=e(s/(i-1));return r}function Ra(e,i){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(i).domain(e)}return this}function Eh(e,i){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof i?this.interpolator(i):this.range(i)}return this}!function bh(e){_s=function rn(e){var i=void 0===e.grouping||void 0===e.thousands?pc:function lr(e,i){return function(r,s){for(var a=r.length,h=[],d=0,m=e[0],C=0;a>0&&m>0&&(C+m+1>s&&(m=Math.max(1,s-C)),h.push(r.substring(a-=m,a+m)),!((C+=m+1)>s));)m=e[d=(d+1)%e.length];return h.reverse().join(i)}}(xs.call(e.grouping,Number),e.thousands+""),r=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",h=void 0===e.numerals?pc:function Ia(e){return function(i){return i.replace(/[0-9]/g,function(r){return e[+r]})}}(xs.call(e.numerals,String)),d=void 0===e.percent?"%":e.percent+"",m=void 0===e.minus?"\u2212":e.minus+"",C=void 0===e.nan?"NaN":e.nan+"";function _(B){var U=(B=Pi(B)).fill,K=B.align,lt=B.sign,at=B.symbol,j=B.zero,X=B.width,nt=B.comma,wt=B.precision,J=B.trim,dt=B.type;"n"===dt?(nt=!0,dt="g"):Fr[dt]||(void 0===wt&&(wt=12),J=!0,dt="g"),(j||"0"===U&&"="===K)&&(j=!0,U="0",K="=");var Bt="$"===at?r:"#"===at&&/[boxX]/.test(dt)?"0"+dt.toLowerCase():"",Ft="$"===at?s:/[%p]/.test(dt)?d:"",$t=Fr[dt],ae=/[defgprs%]/.test(dt);function Yt(zt){var it,Gt,yt,he=Bt,qt=Ft;if("c"===dt)qt=$t(zt)+qt,zt="";else{var Tt=(zt=+zt)<0||1/zt<0;if(zt=isNaN(zt)?C:$t(Math.abs(zt),wt),J&&(zt=function Ui(e){t:for(var a,i=e.length,r=1,s=-1;r<i;++r)switch(e[r]){case".":s=a=r;break;case"0":0===s&&(s=r),a=r;break;default:if(!+e[r])break t;s>0&&(s=0)}return s>0?e.slice(0,s)+e.slice(a+1):e}(zt)),Tt&&0==+zt&&"+"!==lt&&(Tt=!1),he=(Tt?"("===lt?lt:m:"-"===lt||"("===lt?"":lt)+he,qt=("s"===dt?Da[8+Vt/3]:"")+qt+(Tt&&"("===lt?")":""),ae)for(it=-1,Gt=zt.length;++it<Gt;)if(48>(yt=zt.charCodeAt(it))||yt>57){qt=(46===yt?a+zt.slice(it+1):zt.slice(it))+qt,zt=zt.slice(0,it);break}}nt&&!j&&(zt=i(zt,1/0));var Ot=he.length+zt.length+qt.length,It=Ot<X?new Array(X-Ot+1).join(U):"";switch(nt&&j&&(zt=i(It+zt,It.length?X-qt.length:1/0),It=""),K){case"<":zt=he+zt+qt+It;break;case"=":zt=he+It+zt+qt;break;case"^":zt=It.slice(0,Ot=It.length>>1)+he+zt+qt+It.slice(Ot);break;default:zt=It+he+zt+qt}return h(zt)}return wt=void 0===wt?6:/[gprs]/.test(dt)?Math.max(1,Math.min(21,wt)):Math.max(0,Math.min(20,wt)),Yt.toString=function(){return B+""},Yt}return{format:_,formatPrefix:function R(B,U){var K=_(((B=Pi(B)).type="f",B)),lt=3*Math.max(-8,Math.min(8,Math.floor(Oi(U)/3))),at=Math.pow(10,-lt),j=Da[8+lt/3];return function(X){return K(at*X)+j}}}}(e),As=_s.format,La=_s.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});const Bi=Symbol("implicit");function Ss(){var e=new Vi,i=[],r=[],s=Bi;function a(h){let d=e.get(h);if(void 0===d){if(s!==Bi)return s;e.set(h,d=i.push(h)-1)}return r[d%r.length]}return a.domain=function(h){if(!arguments.length)return i.slice();i=[],e=new Vi;for(const d of h)e.has(d)||e.set(d,i.push(d)-1);return a},a.range=function(h){return arguments.length?(r=Array.from(h),a):r.slice()},a.unknown=function(h){return arguments.length?(s=h,a):s},a.copy=function(){return Ss(i,r).unknown(s)},Ra.apply(a,arguments),a}function Fi(){var h,d,e=Ss().unknown(void 0),i=e.domain,r=e.range,s=0,a=1,m=!1,C=0,_=0,R=.5;function B(){var U=i().length,K=a<s,lt=K?a:s,at=K?s:a;h=(at-lt)/Math.max(1,U-C+2*_),m&&(h=Math.floor(h)),lt+=(at-lt-h*(U-C))*R,d=h*(1-C),m&&(lt=Math.round(lt),d=Math.round(d));var j=Ar(U).map(function(X){return lt+h*X});return r(K?j.reverse():j)}return delete e.unknown,e.domain=function(U){return arguments.length?(i(U),B()):i()},e.range=function(U){return arguments.length?([s,a]=U,s=+s,a=+a,B()):[s,a]},e.rangeRound=function(U){return[s,a]=U,s=+s,a=+a,m=!0,B()},e.bandwidth=function(){return d},e.step=function(){return h},e.round=function(U){return arguments.length?(m=!!U,B()):m},e.padding=function(U){return arguments.length?(C=Math.min(1,_=+U),B()):C},e.paddingInner=function(U){return arguments.length?(C=Math.min(1,U),B()):C},e.paddingOuter=function(U){return arguments.length?(_=+U,B()):_},e.align=function(U){return arguments.length?(R=Math.max(0,Math.min(1,U)),B()):R},e.copy=function(){return Fi(i(),[s,a]).round(m).paddingInner(C).paddingOuter(_).align(R)},Ra.apply(B(),arguments)}const Sh=Math.sqrt(50),Ch=Math.sqrt(10),yc=Math.sqrt(2);function Ao(e,i,r){const s=(i-e)/Math.max(0,r),a=Math.floor(Math.log10(s)),h=s/Math.pow(10,a),d=h>=Sh?10:h>=Ch?5:h>=yc?2:1;let m,C,_;return a<0?(_=Math.pow(10,-a)/d,m=Math.round(e*_),C=Math.round(i*_),m/_<e&&++m,C/_>i&&--C,_=-_):(_=Math.pow(10,a)*d,m=Math.round(e/_),C=Math.round(i/_),m*_<e&&++m,C*_>i&&--C),C<m&&.5<=r&&r<2?Ao(e,i,2*r):[m,C,_]}function Eo(e,i,r){return Ao(e=+e,i=+i,r=+r)[2]}function So(e,i){return null==e||null==i?NaN:i<e?-1:i>e?1:i>=e?0:NaN}function Cs(e){let i,r,s;function a(m,C,_=0,R=m.length){if(_<R){if(0!==i(C,C))return R;do{const B=_+R>>>1;r(m[B],C)<0?_=B+1:R=B}while(_<R)}return _}return 2!==e.length?(i=In,r=(m,C)=>In(e(m),C),s=(m,C)=>e(m)-C):(i=e===In||e===So?e:wc,r=e,s=e),{left:a,center:function d(m,C,_=0,R=m.length){const B=a(m,C,_,R-1);return B>_&&s(m[B-1],C)>-s(m[B],C)?B-1:B},right:function h(m,C,_=0,R=m.length){if(_<R){if(0!==i(C,C))return R;do{const B=_+R>>>1;r(m[B],C)<=0?_=B+1:R=B}while(_<R)}return _}}}function wc(){return 0}const ks=Cs(In).right,hi=(Cs(function Ws(e){return null===e?NaN:+e}),ks);function bc(e){return+e}var xc=[0,1];function $r(e){return e}function Ga(e,i){return(i-=e=+e)?function(r){return(r-e)/i}:function Ih(e){return function(){return e}}(isNaN(i)?NaN:.5)}function Dh(e,i,r){var s=e[0],a=e[1],h=i[0],d=i[1];return a<s?(s=Ga(a,s),h=r(d,h)):(s=Ga(s,a),h=r(h,d)),function(m){return h(s(m))}}function Lh(e,i,r){var s=Math.min(e.length,i.length)-1,a=new Array(s),h=new Array(s),d=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),i=i.slice().reverse());++d<s;)a[d]=Ga(e[d],e[d+1]),h[d]=r(i[d],i[d+1]);return function(m){var C=hi(e,m,1,s)-1;return h[C](a[C](m))}}function Th(e,i){return i.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function zh(){return function Rh(){var s,a,h,m,C,_,e=xc,i=xc,r=Zr,d=$r;function R(){var U=Math.min(e.length,i.length);return d!==$r&&(d=function Nh(e,i){var r;return e>i&&(r=e,e=i,i=r),function(s){return Math.max(e,Math.min(i,s))}}(e[0],e[U-1])),m=U>2?Lh:Dh,C=_=null,B}function B(U){return null==U||isNaN(U=+U)?h:(C||(C=m(e.map(s),i,r)))(s(d(U)))}return B.invert=function(U){return d(a((_||(_=m(i,e.map(s),Bn)))(U)))},B.domain=function(U){return arguments.length?(e=Array.from(U,bc),R()):e.slice()},B.range=function(U){return arguments.length?(i=Array.from(U),R()):i.slice()},B.rangeRound=function(U){return i=Array.from(U),r=Ta,R()},B.clamp=function(U){return arguments.length?(d=!!U||$r,R()):d!==$r},B.interpolate=function(U){return arguments.length?(r=U,R()):r},B.unknown=function(U){return arguments.length?(h=U,B):h},function(U,K){return s=U,a=K,R()}}()($r,$r)}function Oa(e){var i=e.domain;return e.ticks=function(r){var s=i();return function kh(e,i,r){if(!((r=+r)>0))return[];if((e=+e)==(i=+i))return[e];const s=i<e,[a,h,d]=s?Ao(i,e,r):Ao(e,i,r);if(!(h>=a))return[];const m=h-a+1,C=new Array(m);if(s)if(d<0)for(let _=0;_<m;++_)C[_]=(h-_)/-d;else for(let _=0;_<m;++_)C[_]=(h-_)*d;else if(d<0)for(let _=0;_<m;++_)C[_]=(a+_)/-d;else for(let _=0;_<m;++_)C[_]=(a+_)*d;return C}(s[0],s[s.length-1],null==r?10:r)},e.tickFormat=function(r,s){var a=i();return function Ac(e,i,r,s){var h,a=function mc(e,i,r){r=+r;const s=(i=+i)<(e=+e),a=s?Eo(i,e,r):Eo(e,i,r);return(s?-1:1)*(a<0?1/-a:a)}(e,i,r);switch((s=Pi(null==s?",f":s)).type){case"s":var d=Math.max(Math.abs(e),Math.abs(i));return null==s.precision&&!isNaN(h=function Gh(e,i){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Oi(i)/3)))-Oi(Math.abs(e)))}(a,d))&&(s.precision=h),La(s,d);case"":case"e":case"g":case"p":case"r":null==s.precision&&!isNaN(h=function Oh(e,i){return e=Math.abs(e),i=Math.abs(i)-e,Math.max(0,Oi(i)-Oi(e))+1}(a,Math.max(Math.abs(e),Math.abs(i))))&&(s.precision=h-("e"===s.type));break;case"f":case"%":null==s.precision&&!isNaN(h=function _c(e){return Math.max(0,-Oi(Math.abs(e)))}(a))&&(s.precision=h-2*("%"===s.type))}return As(s)}(a[0],a[a.length-1],null==r?10:r,s)},e.nice=function(r){null==r&&(r=10);var C,_,s=i(),a=0,h=s.length-1,d=s[a],m=s[h],R=10;for(m<d&&(_=d,d=m,m=_,_=a,a=h,h=_);R-- >0;){if((_=Eo(d,m,r))===C)return s[a]=d,s[h]=m,i(s);if(_>0)d=Math.floor(d/_)*_,m=Math.ceil(m/_)*_;else{if(!(_<0))break;d=Math.ceil(d*_)/_,m=Math.floor(m*_)/_}C=_}return e},e}function Zi(){var e=zh();return e.copy=function(){return Th(e,Zi())},Ra.apply(e,arguments),Oa(e)}function Ms(){var r,s,a,h,C,e=0,i=1,d=$r,m=!1;function _(B){return null==B||isNaN(B=+B)?C:d(0===a?.5:(B=(h(B)-r)*a,m?Math.max(0,Math.min(1,B)):B))}function R(B){return function(U){var K,lt;return arguments.length?([K,lt]=U,d=B(K,lt),_):[d(0),d(1)]}}return _.domain=function(B){return arguments.length?([e,i]=B,r=h(e=+e),s=h(i=+i),a=r===s?0:1/(s-r),_):[e,i]},_.clamp=function(B){return arguments.length?(m=!!B,_):m},_.interpolator=function(B){return arguments.length?(d=B,_):d},_.range=R(Zr),_.rangeRound=R(Ta),_.unknown=function(B){return arguments.length?(C=B,_):C},function(B){return h=B,r=B(e),s=B(i),a=r===s?0:1/(s-r),_}}function Is(e,i){return i.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Pa(){var e=Oa(Ms()($r));return e.copy=function(){return Is(e,Pa())},Eh.apply(e,arguments)}function Co(e){for(var i=e.length/6|0,r=new Array(i),s=0;s<i;)r[s]="#"+e.slice(6*s,6*++s);return r}const Uh=Co("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function gn(e){var i=e.length;return function(r){return e[Math.max(0,Math.min(i-1,Math.floor(r*i)))]}}const Bh=gn(Co("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));function Sc(e){return $e(to(e).call(document.documentElement))}function Cc(e){return((e=Math.exp(e))+1/e)/2}gn(Co("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),gn(Co("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),gn(Co("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const Yh=function e(i,r,s){function a(h,d){var j,X,m=h[0],C=h[1],_=h[2],U=d[2],K=d[0]-m,lt=d[1]-C,at=K*K+lt*lt;if(at<1e-12)X=Math.log(U/_)/i,j=function(Ft){return[m+Ft*K,C+Ft*lt,_*Math.exp(i*Ft*X)]};else{var nt=Math.sqrt(at),wt=(U*U-_*_+s*at)/(2*_*r*nt),J=(U*U-_*_-s*at)/(2*U*r*nt),dt=Math.log(Math.sqrt(wt*wt+1)-wt),Bt=Math.log(Math.sqrt(J*J+1)-J);X=(Bt-dt)/i,j=function(Ft){var $t=Ft*X,ae=Cc(dt),Yt=_/(r*nt)*(ae*function Wa(e){return((e=Math.exp(2*e))-1)/(e+1)}(i*$t+dt)-function $h(e){return((e=Math.exp(e))-1/e)/2}(dt));return[m+Yt*K,C+Yt*lt,_*ae/Cc(i*$t+dt)]}}return j.duration=1e3*X*i/Math.SQRT2,j}return a.rho=function(h){var d=Math.max(.001,+h),m=d*d;return e(d,m,m*m)},a}(Math.SQRT2,2,4),Ns=e=>()=>e;function Hh(e,{sourceEvent:i,target:r,transform:s,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:a}})}function gr(e,i,r){this.k=e,this.x=i,this.y=r}gr.prototype={constructor:gr,scale:function(e){return 1===e?this:new gr(this.k*e,this.x,this.y)},translate:function(e,i){return 0===e&0===i?this:new gr(this.k,this.x+this.k*e,this.y+this.k*i)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ua=new gr(1,0,0);function Ba(e){e.stopImmediatePropagation()}function ko(e){e.preventDefault(),e.stopImmediatePropagation()}function jh(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function Kh(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function kc(){return this.__zoom||Ua}function Vh(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function qh(){return navigator.maxTouchPoints||"ontouchstart"in this}function Jh(e,i,r){var s=e.invertX(i[0][0])-r[0][0],a=e.invertX(i[1][0])-r[1][0],h=e.invertY(i[0][1])-r[0][1],d=e.invertY(i[1][1])-r[1][1];return e.translate(a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a),d>h?(h+d)/2:Math.min(0,h)||Math.max(0,d))}var tl=P(4825);let Mc=(()=>{class e extends qn.H{constructor(){super(),this.nodes=[],this.links=[],this.width=window.screen.availWidth,this.height=window.screen.availHeight,this.characterLinks=[],this.defaultOptions={zoom:!0,edgeRadius:0},this.id=(0,H.V)(),this.groups=[]}ngOnChanges(r){this.nodes.length>0&&this.links.length>0&&this.create()}ngAfterViewInit(){this.nodes.length>0&&this.links.length>0&&this.create()}create(){this.options=Object.assign(Object.assign({},this.defaultOptions),this.options),this.element=document.getElementById(this.id+"-network"),$e(this.element).selectChildren().remove(),this.createCharacterLinks(),this.initializeColor(),this.createSvg(),this.createLink(),this.createSimulation(),this.createNode()}initializeColor(){this.groups=Array.from(new Set(this.characterLinks.map(r=>r.group))),this.color=Ss(this.groups,Uh)}createCharacterLinks(){const r=this.nodes.map(s=>s.id);this.characterLinks=this.links.filter(s=>r.includes(s.source)&&r.includes(s.target))}createSimulation(){this.simulation=function lc(e){var i,r=1,s=.001,a=1-Math.pow(s,1/300),h=0,d=.6,m=new Map,C=Mi(B),_=ki("tick","end"),R=function Ma(){let e=1;return()=>(e=(1664525*e+1013904223)%ka)/ka}();function B(){U(),_.call("tick",i),r<s&&(C.stop(),_.call("end",i))}function U(at){var j,nt,X=e.length;void 0===at&&(at=1);for(var wt=0;wt<at;++wt)for(r+=(h-r)*a,m.forEach(function(J){J(r)}),j=0;j<X;++j)null==(nt=e[j]).fx?nt.x+=nt.vx*=d:(nt.x=nt.fx,nt.vx=0),null==nt.fy?nt.y+=nt.vy*=d:(nt.y=nt.fy,nt.vy=0);return i}function K(){for(var X,at=0,j=e.length;at<j;++at){if((X=e[at]).index=at,null!=X.fx&&(X.x=X.fx),null!=X.fy&&(X.y=X.fy),isNaN(X.x)||isNaN(X.y)){var nt=10*Math.sqrt(.5+at),wt=at*hc;X.x=nt*Math.cos(wt),X.y=nt*Math.sin(wt)}(isNaN(X.vx)||isNaN(X.vy))&&(X.vx=X.vy=0)}}function lt(at){return at.initialize&&at.initialize(e,R),at}return null==e&&(e=[]),K(),i={tick:U,restart:function(){return C.restart(B),i},stop:function(){return C.stop(),i},nodes:function(at){return arguments.length?(e=at,K(),m.forEach(lt),i):e},alpha:function(at){return arguments.length?(r=+at,i):r},alphaMin:function(at){return arguments.length?(s=+at,i):s},alphaDecay:function(at){return arguments.length?(a=+at,i):+a},alphaTarget:function(at){return arguments.length?(h=+at,i):h},velocityDecay:function(at){return arguments.length?(d=1-at,i):1-d},randomSource:function(at){return arguments.length?(R=at,m.forEach(lt),i):R},force:function(at,j){return arguments.length>1?(null==j?m.delete(at):m.set(at,lt(j)),i):m.get(at)},find:function(at,j,X){var J,dt,Bt,Ft,$t,nt=0,wt=e.length;for(null==X?X=1/0:X*=X,nt=0;nt<wt;++nt)(Bt=(J=at-(Ft=e[nt]).x)*J+(dt=j-Ft.y)*dt)<X&&($t=Ft,X=Bt);return $t},on:function(at,j){return arguments.length>1?(_.on(at,j),i):_.on(at)}}}(this.nodes).force("link",function yh(e){var s,h,d,m,C,_,i=Ca,r=function B(j){return 1/Math.min(m[j.source.index],m[j.target.index])},a=Br(30),R=1;function U(j){for(var X=0,nt=e.length;X<R;++X)for(var J,dt,Bt,Ft,$t,ae,Yt,wt=0;wt<nt;++wt)Ft=(Bt=(J=e[wt]).target).x+Bt.vx-(dt=J.source).x-dt.vx||fr(_),$t=Bt.y+Bt.vy-dt.y-dt.vy||fr(_),$t*=ae=((ae=Math.sqrt(Ft*Ft+$t*$t))-h[wt])/ae*j*s[wt],Bt.vx-=(Ft*=ae)*(Yt=C[wt]),Bt.vy-=$t*Yt,dt.vx+=Ft*(Yt=1-Yt),dt.vy+=$t*Yt}function K(){if(d){var j,J,X=d.length,nt=e.length,wt=new Map(d.map((dt,Bt)=>[i(dt,Bt,d),dt]));for(j=0,m=new Array(X);j<nt;++j)(J=e[j]).index=j,"object"!=typeof J.source&&(J.source=_o(wt,J.source)),"object"!=typeof J.target&&(J.target=_o(wt,J.target)),m[J.source.index]=(m[J.source.index]||0)+1,m[J.target.index]=(m[J.target.index]||0)+1;for(j=0,C=new Array(nt);j<nt;++j)C[j]=m[(J=e[j]).source.index]/(m[J.source.index]+m[J.target.index]);s=new Array(nt),lt(),h=new Array(nt),at()}}function lt(){if(d)for(var j=0,X=e.length;j<X;++j)s[j]=+r(e[j],j,e)}function at(){if(d)for(var j=0,X=e.length;j<X;++j)h[j]=+a(e[j],j,e)}return null==e&&(e=[]),U.initialize=function(j,X){d=j,_=X,K()},U.links=function(j){return arguments.length?(e=j,K(),U):e},U.id=function(j){return arguments.length?(i=j,U):i},U.iterations=function(j){return arguments.length?(R=+j,U):R},U.strength=function(j){return arguments.length?(r="function"==typeof j?j:Br(+j),lt(),U):r},U.distance=function(j){return arguments.length?(a="function"==typeof j?j:Br(+j),at(),U):a},U}(this.characterLinks).distance(20).id(this.getId)).force("charge",function wh(){var e,i,r,s,h,a=Br(-30),d=1,m=1/0,C=.81;function _(K){var lt,at=e.length,j=ps(e,mh,fc).visitAfter(B);for(s=K,lt=0;lt<at;++lt)i=e[lt],j.visit(U)}function R(){if(e){var K,at,lt=e.length;for(h=new Array(lt),K=0;K<lt;++K)h[(at=e[K]).index]=+a(at,K,e)}}function B(K){var at,j,nt,wt,J,lt=0,X=0;if(K.length){for(nt=wt=J=0;J<4;++J)(at=K[J])&&(j=Math.abs(at.value))&&(lt+=at.value,X+=j,nt+=j*at.x,wt+=j*at.y);K.x=nt/X,K.y=wt/X}else{(at=K).x=at.data.x,at.y=at.data.y;do{lt+=h[at.data.index]}while(at=at.next)}K.value=lt}function U(K,lt,at,j){if(!K.value)return!0;var X=K.x-i.x,nt=K.y-i.y,wt=j-lt,J=X*X+nt*nt;if(wt*wt/C<J)return J<m&&(0===X&&(J+=(X=fr(r))*X),0===nt&&(J+=(nt=fr(r))*nt),J<d&&(J=Math.sqrt(d*J)),i.vx+=X*K.value*s/J,i.vy+=nt*K.value*s/J),!0;if(!(K.length||J>=m)){(K.data!==i||K.next)&&(0===X&&(J+=(X=fr(r))*X),0===nt&&(J+=(nt=fr(r))*nt),J<d&&(J=Math.sqrt(d*J)));do{K.data!==i&&(i.vx+=X*(wt=h[K.data.index]*s/J),i.vy+=nt*wt)}while(K=K.next)}}return _.initialize=function(K,lt){e=K,r=lt,R()},_.strength=function(K){return arguments.length?(a="function"==typeof K?K:Br(+K),R(),_):a},_.distanceMin=function(K){return arguments.length?(d=K*K,_):Math.sqrt(d)},_.distanceMax=function(K){return arguments.length?(m=K*K,_):Math.sqrt(m)},_.theta=function(K){return arguments.length?(C=K*K,_):Math.sqrt(C)},_}().strength(r=>-100*r.score)).force("center",function tc(e,i){var r,s=1;function a(){var h,m,d=r.length,C=0,_=0;for(h=0;h<d;++h)C+=(m=r[h]).x,_+=m.y;for(C=(C/d-e)*s,_=(_/d-i)*s,h=0;h<d;++h)(m=r[h]).x-=C,m.y-=_}return null==e&&(e=0),null==i&&(i=0),a.initialize=function(h){r=h},a.x=function(h){return arguments.length?(e=+h,a):e},a.y=function(h){return arguments.length?(i=+h,a):i},a.strength=function(h){return arguments.length?(s=+h,a):s},a}(this.width/2,this.height/2)).force("radius",function vs(e){var i,r,s,a=1,h=1;function d(){for(var _,B,U,K,lt,at,j,R=i.length,X=0;X<h;++X)for(B=ps(i,gs,uc).visitAfter(m),_=0;_<R;++_)j=(at=r[(U=i[_]).index])*at,K=U.x+U.vx,lt=U.y+U.vy,B.visit(nt);function nt(wt,J,dt,Bt,Ft){var $t=wt.data,ae=wt.r,Yt=at+ae;if(!$t)return J>K+Yt||Bt<K-Yt||dt>lt+Yt||Ft<lt-Yt;if($t.index>U.index){var zt=K-$t.x-$t.vx,he=lt-$t.y-$t.vy,qt=zt*zt+he*he;qt<Yt*Yt&&(0===zt&&(qt+=(zt=fr(s))*zt),0===he&&(qt+=(he=fr(s))*he),qt=(Yt-(qt=Math.sqrt(qt)))/qt*a,U.vx+=(zt*=qt)*(Yt=(ae*=ae)/(j+ae)),U.vy+=(he*=qt)*Yt,$t.vx-=zt*(Yt=1-Yt),$t.vy-=he*Yt)}}}function m(_){if(_.data)return _.r=r[_.data.index];for(var R=_.r=0;R<4;++R)_[R]&&_[R].r>_.r&&(_.r=_[R].r)}function C(){if(i){var _,B,R=i.length;for(r=new Array(R),_=0;_<R;++_)r[(B=i[_]).index]=+e(B,_,i)}}return"function"!=typeof e&&(e=Br(null==e?1:+e)),d.initialize=function(_,R){i=_,s=R,C()},d.iterations=function(_){return arguments.length?(h=+_,d):h},d.strength=function(_){return arguments.length?(a=+_,d):a},d.radius=function(_){return arguments.length?(e="function"==typeof _?_:Br(+_),C(),d):e},d}(r=>r.score+20)).force("cluster",this.cluster(this.nodes)).on("tick",()=>{this.link.attr("d",r=>`\n            M${r.source.x},${r.source.y}\n            A${this.options.edgeRadius},${this.options.edgeRadius} 0 0,1 ${r.target.x},${r.target.y}\n          `),this.node.attr("transform",r=>`translate(${r.x}, ${r.y})`),(0,tl.g)(1e4)}),setTimeout(()=>{this.simulation.stop()},1e4)}createSvg(){const r=this;this.svg=Sc("svg").attr("viewBox",[0,0,this.width,this.height]).style("font","12px sans-serif"),this.g=this.svg.append("g"),this.options.zoom&&this.svg.call(function Qh(){var R,B,U,e=jh,i=Kh,r=Jh,s=Vh,a=qh,h=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],m=250,C=Yh,_=ki("start","zoom","end"),K=500,at=0,j=10;function X(it){it.property("__zoom",kc).on("wheel.zoom",$t,{passive:!1}).on("mousedown.zoom",ae).on("dblclick.zoom",Yt).filter(a).on("touchstart.zoom",zt).on("touchmove.zoom",he).on("touchend.zoom touchcancel.zoom",qt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function nt(it,Gt){return(Gt=Math.max(h[0],Math.min(h[1],Gt)))===it.k?it:new gr(Gt,it.x,it.y)}function wt(it,Gt,yt){var Tt=Gt[0]-yt[0]*it.k,Ot=Gt[1]-yt[1]*it.k;return Tt===it.x&&Ot===it.y?it:new gr(it.k,Tt,Ot)}function J(it){return[(+it[0][0]+ +it[1][0])/2,(+it[0][1]+ +it[1][1])/2]}function dt(it,Gt,yt,Tt){it.on("start.zoom",function(){Bt(this,arguments).event(Tt).start()}).on("interrupt.zoom end.zoom",function(){Bt(this,arguments).event(Tt).end()}).tween("zoom",function(){var Ot=this,It=arguments,Ht=Bt(Ot,It).event(Tt),se=i.apply(Ot,It),ce=null==yt?J(se):"function"==typeof yt?yt.apply(Ot,It):yt,_n=Math.max(se[1][0]-se[0][0],se[1][1]-se[0][1]),Re=Ot.__zoom,on="function"==typeof Gt?Gt.apply(Ot,It):Gt,An=C(Re.invert(ce).concat(_n/Re.k),on.invert(ce).concat(_n/on.k));return function(Me){if(1===Me)Me=on;else{var Ye=An(Me),Yr=_n/Ye[2];Me=new gr(Yr,ce[0]-Ye[0]*Yr,ce[1]-Ye[1]*Yr)}Ht.zoom(null,Me)}})}function Bt(it,Gt,yt){return!yt&&it.__zooming||new Ft(it,Gt)}function Ft(it,Gt){this.that=it,this.args=Gt,this.active=0,this.sourceEvent=null,this.extent=i.apply(it,Gt),this.taps=0}function $t(it,...Gt){if(e.apply(this,arguments)){var yt=Bt(this,Gt).event(it),Tt=this.__zoom,Ot=Math.max(h[0],Math.min(h[1],Tt.k*Math.pow(2,s.apply(this,arguments)))),It=ze(it);if(yt.wheel)(yt.mouse[0][0]!==It[0]||yt.mouse[0][1]!==It[1])&&(yt.mouse[1]=Tt.invert(yt.mouse[0]=It)),clearTimeout(yt.wheel);else{if(Tt.k===Ot)return;yt.mouse=[It,Tt.invert(It)],Vo(this),yt.start()}ko(it),yt.wheel=setTimeout(Ht,150),yt.zoom("mouse",r(wt(nt(Tt,Ot),yt.mouse[0],yt.mouse[1]),yt.extent,d))}function Ht(){yt.wheel=null,yt.end()}}function ae(it,...Gt){if(!U&&e.apply(this,arguments)){var yt=it.currentTarget,Tt=Bt(this,Gt,!0).event(it),Ot=$e(it.view).on("mousemove.zoom",ce,!0).on("mouseup.zoom",_n,!0),It=ze(it,yt),Ht=it.clientX,se=it.clientY;Aa(it.view),Ba(it),Tt.mouse=[It,this.__zoom.invert(It)],Vo(this),Tt.start()}function ce(Re){if(ko(Re),!Tt.moved){var on=Re.clientX-Ht,An=Re.clientY-se;Tt.moved=on*on+An*An>at}Tt.event(Re).zoom("mouse",r(wt(Tt.that.__zoom,Tt.mouse[0]=ze(Re,yt),Tt.mouse[1]),Tt.extent,d))}function _n(Re){Ot.on("mousemove.zoom mouseup.zoom",null),ls(Re.view,Tt.moved),ko(Re),Tt.event(Re).end()}}function Yt(it,...Gt){if(e.apply(this,arguments)){var yt=this.__zoom,Tt=ze(it.changedTouches?it.changedTouches[0]:it,this),Ot=yt.invert(Tt),Ht=r(wt(nt(yt,yt.k*(it.shiftKey?.5:2)),Tt,Ot),i.apply(this,Gt),d);ko(it),m>0?$e(this).transition().duration(m).call(dt,Ht,Tt,it):$e(this).call(X.transform,Ht,Tt,it)}}function zt(it,...Gt){if(e.apply(this,arguments)){var It,Ht,se,ce,yt=it.touches,Tt=yt.length,Ot=Bt(this,Gt,it.changedTouches.length===Tt).event(it);for(Ba(it),Ht=0;Ht<Tt;++Ht)ce=[ce=ze(se=yt[Ht],this),this.__zoom.invert(ce),se.identifier],Ot.touch0?!Ot.touch1&&Ot.touch0[2]!==ce[2]&&(Ot.touch1=ce,Ot.taps=0):(Ot.touch0=ce,It=!0,Ot.taps=1+!!R);R&&(R=clearTimeout(R)),It&&(Ot.taps<2&&(B=ce[0],R=setTimeout(function(){R=null},K)),Vo(this),Ot.start())}}function he(it,...Gt){if(this.__zooming){var It,Ht,se,ce,yt=Bt(this,Gt).event(it),Tt=it.changedTouches,Ot=Tt.length;for(ko(it),It=0;It<Ot;++It)se=ze(Ht=Tt[It],this),yt.touch0&&yt.touch0[2]===Ht.identifier?yt.touch0[0]=se:yt.touch1&&yt.touch1[2]===Ht.identifier&&(yt.touch1[0]=se);if(Ht=yt.that.__zoom,yt.touch1){var _n=yt.touch0[0],Re=yt.touch0[1],on=yt.touch1[0],An=yt.touch1[1],Me=(Me=on[0]-_n[0])*Me+(Me=on[1]-_n[1])*Me,Ye=(Ye=An[0]-Re[0])*Ye+(Ye=An[1]-Re[1])*Ye;Ht=nt(Ht,Math.sqrt(Me/Ye)),se=[(_n[0]+on[0])/2,(_n[1]+on[1])/2],ce=[(Re[0]+An[0])/2,(Re[1]+An[1])/2]}else{if(!yt.touch0)return;se=yt.touch0[0],ce=yt.touch0[1]}yt.zoom("touch",r(wt(Ht,se,ce),yt.extent,d))}}function qt(it,...Gt){if(this.__zooming){var It,Ht,yt=Bt(this,Gt).event(it),Tt=it.changedTouches,Ot=Tt.length;for(Ba(it),U&&clearTimeout(U),U=setTimeout(function(){U=null},K),It=0;It<Ot;++It)Ht=Tt[It],yt.touch0&&yt.touch0[2]===Ht.identifier?delete yt.touch0:yt.touch1&&yt.touch1[2]===Ht.identifier&&delete yt.touch1;if(yt.touch1&&!yt.touch0&&(yt.touch0=yt.touch1,delete yt.touch1),yt.touch0)yt.touch0[1]=this.__zoom.invert(yt.touch0[0]);else if(yt.end(),2===yt.taps&&(Ht=ze(Ht,this),Math.hypot(B[0]-Ht[0],B[1]-Ht[1])<j)){var se=$e(this).on("dblclick.zoom");se&&se.apply(this,arguments)}}}return X.transform=function(it,Gt,yt,Tt){var Ot=it.selection?it.selection():it;Ot.property("__zoom",kc),it!==Ot?dt(it,Gt,yt,Tt):Ot.interrupt().each(function(){Bt(this,arguments).event(Tt).start().zoom(null,"function"==typeof Gt?Gt.apply(this,arguments):Gt).end()})},X.scaleBy=function(it,Gt,yt,Tt){X.scaleTo(it,function(){return this.__zoom.k*("function"==typeof Gt?Gt.apply(this,arguments):Gt)},yt,Tt)},X.scaleTo=function(it,Gt,yt,Tt){X.transform(it,function(){var Ot=i.apply(this,arguments),It=this.__zoom,Ht=null==yt?J(Ot):"function"==typeof yt?yt.apply(this,arguments):yt,se=It.invert(Ht),ce="function"==typeof Gt?Gt.apply(this,arguments):Gt;return r(wt(nt(It,ce),Ht,se),Ot,d)},yt,Tt)},X.translateBy=function(it,Gt,yt,Tt){X.transform(it,function(){return r(this.__zoom.translate("function"==typeof Gt?Gt.apply(this,arguments):Gt,"function"==typeof yt?yt.apply(this,arguments):yt),i.apply(this,arguments),d)},null,Tt)},X.translateTo=function(it,Gt,yt,Tt,Ot){X.transform(it,function(){var It=i.apply(this,arguments),Ht=this.__zoom,se=null==Tt?J(It):"function"==typeof Tt?Tt.apply(this,arguments):Tt;return r(Ua.translate(se[0],se[1]).scale(Ht.k).translate("function"==typeof Gt?-Gt.apply(this,arguments):-Gt,"function"==typeof yt?-yt.apply(this,arguments):-yt),It,d)},Tt,Ot)},Ft.prototype={event:function(it){return it&&(this.sourceEvent=it),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(it,Gt){return this.mouse&&"mouse"!==it&&(this.mouse[1]=Gt.invert(this.mouse[0])),this.touch0&&"touch"!==it&&(this.touch0[1]=Gt.invert(this.touch0[0])),this.touch1&&"touch"!==it&&(this.touch1[1]=Gt.invert(this.touch1[0])),this.that.__zoom=Gt,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(it){var Gt=$e(this.that).datum();_.call(it,this.that,new Hh(it,{sourceEvent:this.sourceEvent,target:X,type:it,transform:this.that.__zoom,dispatch:_}),Gt)}},X.wheelDelta=function(it){return arguments.length?(s="function"==typeof it?it:Ns(+it),X):s},X.filter=function(it){return arguments.length?(e="function"==typeof it?it:Ns(!!it),X):e},X.touchable=function(it){return arguments.length?(a="function"==typeof it?it:Ns(!!it),X):a},X.extent=function(it){return arguments.length?(i="function"==typeof it?it:Ns([[+it[0][0],+it[0][1]],[+it[1][0],+it[1][1]]]),X):i},X.scaleExtent=function(it){return arguments.length?(h[0]=+it[0],h[1]=+it[1],X):[h[0],h[1]]},X.translateExtent=function(it){return arguments.length?(d[0][0]=+it[0][0],d[1][0]=+it[1][0],d[0][1]=+it[0][1],d[1][1]=+it[1][1],X):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},X.constrain=function(it){return arguments.length?(r=it,X):r},X.duration=function(it){return arguments.length?(m=+it,X):m},X.interpolate=function(it){return arguments.length?(C=it,X):C},X.on=function(){var it=_.on.apply(_,arguments);return it===_?X:it},X.clickDistance=function(it){return arguments.length?(at=(it=+it)*it,X):Math.sqrt(at)},X.tapDistance=function(it){return arguments.length?(j=+it,X):j},X}().extent([[0,0],[this.width,this.height]]).on("zoom",function s({transform:a}){r.g.attr("transform",a)})),this.element.append(this.svg.node()),this.svg.attr("width",this.width).attr("height",this.height),this.svg.append("defs").selectAll("marker").data(this.groups).join("marker").attr("id",a=>`arrow-${a}`).attr("viewBox","0 -5 10 10").attr("refX",15).attr("refY",-.5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("fill",this.color).attr("d","M0,-5L10,0L0,5")}createLink(){this.link=this.g.append("g").attr("fill","none").attr("stroke-width",1.5).selectAll("path").data(this.characterLinks).join("path").attr("stroke",r=>this.color(r.group))}createNode(){this.node=this.g.append("g").attr("fill","currentColor").attr("stroke-linecap","round").attr("stroke-linejoin","round").selectAll("g").data(this.nodes).join("g"),this.node.append("circle").attr("stroke","black").attr("stroke-width",1).attr("r",r=>r.score).style("fill",r=>this.color(r.group)),this.node.append("text").text(r=>r.label).style("font-size","1rem").style("color","white").style("text-anchor","middle").style("dominant-baseline","central")}getId(r){return r.id}drag(r){return function Qu(){var m,C,_,R,e=Ea,i=Pr,r=hh,s=Wr,a={},h=ki("start","drag","end"),d=0,B=0;function U(J){J.on("mousedown.drag",K).filter(s).on("touchstart.drag",j).on("touchmove.drag",X,Or).on("touchend.drag touchcancel.drag",nt).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function K(J,dt){if(!R&&e.call(this,J,dt)){var Bt=wt(this,i.call(this,J,dt),J,dt,"mouse");!Bt||($e(J.view).on("mousemove.drag",lt,fi).on("mouseup.drag",at,fi),Aa(J.view),hs(J),_=!1,m=J.clientX,C=J.clientY,Bt("start",J))}}function lt(J){if(cr(J),!_){var dt=J.clientX-m,Bt=J.clientY-C;_=dt*dt+Bt*Bt>B}a.mouse("drag",J)}function at(J){$e(J.view).on("mousemove.drag mouseup.drag",null),ls(J.view,_),cr(J),a.mouse("end",J)}function j(J,dt){if(e.call(this,J,dt)){var ae,Yt,Bt=J.changedTouches,Ft=i.call(this,J,dt),$t=Bt.length;for(ae=0;ae<$t;++ae)(Yt=wt(this,Ft,J,dt,Bt[ae].identifier,Bt[ae]))&&(hs(J),Yt("start",J,Bt[ae]))}}function X(J){var Ft,$t,dt=J.changedTouches,Bt=dt.length;for(Ft=0;Ft<Bt;++Ft)($t=a[dt[Ft].identifier])&&(cr(J),$t("drag",J,dt[Ft]))}function nt(J){var Ft,$t,dt=J.changedTouches,Bt=dt.length;for(R&&clearTimeout(R),R=setTimeout(function(){R=null},500),Ft=0;Ft<Bt;++Ft)($t=a[dt[Ft].identifier])&&(hs(J),$t("end",J,dt[Ft]))}function wt(J,dt,Bt,Ft,$t,ae){var he,qt,it,Yt=h.copy(),zt=ze(ae||Bt,dt);if(null!=(it=r.call(J,new xo("beforestart",{sourceEvent:Bt,target:U,identifier:$t,active:d,x:zt[0],y:zt[1],dx:0,dy:0,dispatch:Yt}),Ft)))return he=it.x-zt[0]||0,qt=it.y-zt[1]||0,function Gt(yt,Tt,Ot){var Ht,It=zt;switch(yt){case"start":a[$t]=Gt,Ht=d++;break;case"end":delete a[$t],--d;case"drag":zt=ze(Ot||Tt,dt),Ht=d}Yt.call(yt,J,new xo(yt,{sourceEvent:Tt,subject:it,target:U,identifier:$t,active:Ht,x:zt[0]+he,y:zt[1]+qt,dx:zt[0]-It[0],dy:zt[1]-It[1],dispatch:Yt}),Ft)}}return U.filter=function(J){return arguments.length?(e="function"==typeof J?J:bo(!!J),U):e},U.container=function(J){return arguments.length?(i="function"==typeof J?J:bo(J),U):i},U.subject=function(J){return arguments.length?(r="function"==typeof J?J:bo(J),U):r},U.touchable=function(J){return arguments.length?(s="function"==typeof J?J:bo(!!J),U):s},U.on=function(){var J=h.on.apply(h,arguments);return J===h?U:J},U.clickDistance=function(J){return arguments.length?(B=(J=+J)*J,U):Math.sqrt(B)},U}().on("start",function s(d,m){d.active||r.alphaTarget(.3).restart(),m.fx=m.x,m.fy=m.y}).on("drag",function a(d,m){m.fx=d.x,m.fy=d.y}).on("end",function h(d,m){d.active||r.alphaTarget(0),m.fx=null,m.fy=null})}cluster(r){return function a(h){for(const d of r){const m=r.filter(R=>R.group===d.group),C=m.reduce((R,B)=>R+B.x,0)/m.length,_=m.reduce((R,B)=>R+B.y,0)/m.length;d.vx+=(C-d.x)*h*.2,d.vy+=(_-d.y)*h*.2}}}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["d3-network"]],inputs:{nodes:"nodes",links:"links",options:"options",width:"width",height:"height"},features:[l.qOj,l.TTD],decls:1,vars:1,consts:[[1,"flex","flex-1",3,"id"]],template:function(r,s){1&r&&l._UZ(0,"div",0),2&r&&l.MGl("id","",s.id,"-network")},encapsulation:2}),e})();var Fa=P(7423),Ic=P(2108);const el=function(){return["/wiki/network"]},Za=function(){return["/wiki/analysis"]},rl=[{path:"",component:(()=>{class e extends G{constructor(r,s){super(),this.characterApi=r,this.relationshipApi=s,this.navigation=et.o,this.nodes=[],this.edges=[],this.characters=[],this.relationships=[],this.networkOptions={zoom:!1}}ngOnInit(){var r=this;this.subscribe(this.characterApi.cosmereCharacters(),s=>this.onCharactersChanges(s)),this.subscribe(this.relationshipApi.relationshipsByBook("mistborn1"),s=>this.onRelationshipsChanges(s)),(0,N.defer)((0,S.Z)(function*(){yield r.characterApi.fetchAllCosmereCharacter(),yield r.relationshipApi.fetchAllCosmereRelationship()}))}generateNetworkParameters(){this.edges=w(this.relationships);const r=new q.UndirectedGraph;E(this.relationships).forEach(h=>r.addNode(h)),this.relationships.forEach(h=>r.addEdge(h.characterId1,h.characterId2));const a=ut()(r);this.nodes=x(this.characters,this.relationships).filter(h=>this.edges.map(d=>d.source).includes(h.id)||this.edges.map(d=>d.target).includes(h.id)),this.nodes=this.nodes.map(h=>Object.assign(Object.assign({},h),{group:a[h.id]}))}onCharactersChanges(r){this.characters=r,this.generateNetworkParameters()}onRelationshipsChanges(r){this.relationships=r,this.generateNetworkParameters()}}return e.\u0275fac=function(r){return new(r||e)(l.Y36(yi),l.Y36(Xr))},e.\u0275cmp=l.Xpm({type:e,selectors:[["home"]],features:[l.qOj],decls:24,vars:20,consts:[[1,"inset-0","flex","flex-col","min-w-0","w-full"],[1,"flex","flex-col","mx-100","text-center","p-6","gap-5"],[1,"font-black","mt-3","text-7xl","text-center","mb-7"],[3,"nodes","links","height","options"],[1,"flex","flex-col"],[1,"font-black","mt-3","text-2xl","text-center","mb-3"],["mat-button","",1,"bg-primary","text-lg",3,"routerLink"],[1,"font-black","mt-3","text-2xl","text-center","mb-7"]],template:function(r,s){1&r&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l._uU(3),l.ALo(4,"trans"),l.qZA(),l._UZ(5,"d3-network",3),l.TgZ(6,"div",4),l.TgZ(7,"div",5),l._uU(8),l.ALo(9,"trans"),l.qZA(),l.TgZ(10,"div"),l.TgZ(11,"button",6),l._uU(12," Conexiones "),l.qZA(),l.qZA(),l.qZA(),l.TgZ(13,"div",4),l.TgZ(14,"div",5),l._uU(15),l.ALo(16,"trans"),l.qZA(),l.TgZ(17,"div"),l.TgZ(18,"button",6),l._uU(19," An\xe1lisis "),l.qZA(),l.qZA(),l.qZA(),l.TgZ(20,"div",4),l.TgZ(21,"div",7),l._uU(22),l.ALo(23,"trans"),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&r&&(l.xp6(3),l.hij(" ",l.lcZ(4,10,"home.title")," "),l.xp6(2),l.Q6J("nodes",s.nodes)("links",s.edges)("height",600)("options",s.networkOptions),l.xp6(3),l.hij(" ",l.lcZ(9,12,"home.network.1")," "),l.xp6(3),l.Q6J("routerLink",l.DdM(18,el)),l.xp6(4),l.hij(" ",l.lcZ(16,14,"home.analysis.1")," "),l.xp6(3),l.Q6J("routerLink",l.DdM(19,Za)),l.xp6(4),l.hij(" ",l.lcZ(23,16,"home.me.1")," "))},directives:[Mc,Fa.lW,ct.rH],pipes:[Ic.u],encapsulation:2}),e})()}];var il=P(5245),Ds=P(4613),Nc=P(6767),Ls=P(393);let $a=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[]]}),e})();var Ya=P(3564),ol=P(3812);let Dc=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[ct.Bz.forChild(rl),Fa.ot,il.Ps,Ds.m,Ya.J,Nc.d,Ls.ZD,Ls.Cl,$a,ol.P]]}),e})();const Lc=()=>({id:(0,H.V)(),books:[]}),Mo=()=>({configuration:Lc()});let sl=(()=>{class e extends Pn{constructor(){super(Mo()),this.configuration$=this.select(r=>r.configuration)}saveConfiguration(r){(0,N.isEqual)(this.get().configuration,r)||this.patchState(s=>({configuration:r}))}syncState(){return this.get()}syncConfiguration(){return this.get().configuration}reset(){this.patchState(Mo())}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ha=(()=>{class e{constructor(r){this.store=r}syncConfiguration(){return this.store.syncState().configuration}configuration(){return this.store.configuration$}saveConfiguration(r){this.store.saveConfiguration(r)}}return e.\u0275fac=function(r){return new(r||e)(l.LFG(sl))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Tc=P(1999),li=P(3075);let Rc=(()=>{class e{constructor(r){this.formBuilder=r}build(r,s=[],a=[]){const h={};return Object.keys(r).forEach(d=>{const m=r[d],C=this.getValidator(d,s);if(h[d]=[m,C],a.includes(d)&&(0,N.isArray)(m)){const _=[];m.forEach(R=>{_.push((0,Tc.Z)(R)?this.build(R,s):R)}),h[d]=this.formBuilder.array(_)}if(!a.includes(d)&&!(0,N.isArray)(m)&&(0,Tc.Z)(m)){const _=this.extractSubValidator(d,s);h[d]=this.build(m,_)}}),this.formBuilder.group(h)}extractSubValidator(r,s){return s.filter(a=>a.key.startsWith(r)).map(a=>({key:a.key.replace(r+".",""),validators:a.validators}))}getValidator(r,s){const a=s.find(h=>h.key===r);return a?a.validators:[]}}return e.\u0275fac=function(r){return new(r||e)(l.LFG(li.qu))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),al=(()=>{class e extends Pn{constructor(){super({books:[]}),this.books$=this.select(r=>r.books)}saveAllBooks(r){(0,N.isEqual)(this.get().books,r)||this.patchState(s=>({books:ir(s.books,r)}))}syncState(){return this.get()}syncBook(r){return mr(r,this.get().books)}reset(){this.patchState({books:[]})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Gc=(()=>{class e{constructor(r,s){this.api=r,this.store=s}fetchAllBooks(){var r=this;return(0,S.Z)(function*(){const s=yield r.api.get("books");r.store.saveAllBooks(s)})()}syncAllBooks(){return this.store.syncState().books}allBooks(){return this.store.books$}}return e.\u0275fac=function(r){return new(r||e)(l.LFG(ft),l.LFG(al))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ul=P(96),$i=P(9808),Oc=P(9602),Xa=P(7322),Pc=P(4107),cl=P(508);function fl(e,i){if(1&e&&(l.TgZ(0,"mat-option",11),l._uU(1),l.ALo(2,"uppercase"),l.ALo(3,"trans"),l.qZA()),2&e){const r=i.$implicit;l.Q6J("value",r.id),l.xp6(1),l.hij(" ",l.lcZ(2,2,l.lcZ(3,4,r.title))," ")}}function hl(e,i){if(1&e&&(l.TgZ(0,"div",5),l.TgZ(1,"fuse-card",6),l.TgZ(2,"form",7),l.TgZ(3,"mat-form-field",8),l.TgZ(4,"mat-label"),l._uU(5),l.ALo(6,"titlecase"),l.ALo(7,"trans"),l.qZA(),l.TgZ(8,"mat-select",9),l.YNc(9,fl,4,6,"mat-option",10),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){const r=l.oxw();l.xp6(2),l.Q6J("formGroup",r.configurationForm),l.xp6(3),l.Oqu(l.lcZ(6,3,l.lcZ(7,5,"books"))),l.xp6(4),l.Q6J("ngForOf",r.data.books)}}let ja=(()=>{class e extends qn.H{constructor(r,s,a){super(),this.configurationApi=r,this.formBuilder=s,this.bookApi=a,this.configurationChanges=new l.vpe,this.showCard=!1,this.data={books:[]}}ngOnInit(){var r=this;this.subscribe(this.bookApi.allBooks(),s=>this.data.books=s),this.subscribe(this.configurationApi.configuration(),s=>this.setConfiguration(s)),(0,N.defer)((0,S.Z)(function*(){yield r.bookApi.fetchAllBooks()})),this.buildForm()}buildForm(){this.configurationForm=this.formBuilder.build(this.configuration),this.configurationForm.get("books").valueChanges.subscribe(r=>{this.configuration.books=r,this.saveConfiguration()})}toggle(){this.showCard=!this.showCard}setConfiguration(r){this.configuration=Object.assign({},r),this.configurationForm&&this.configurationForm.patchValue(r)}saveConfiguration(){this.configurationApi.saveConfiguration(this.configuration)}}return e.\u0275fac=function(r){return new(r||e)(l.Y36(Ha),l.Y36(Rc),l.Y36(Gc))},e.\u0275cmp=l.Xpm({type:e,selectors:[["configuration"]],outputs:{configurationChanges:"configurationChanges"},features:[l.qOj],decls:5,vars:1,consts:[[1,"absolute","top-0","right-0","z-50"],[1,"flex","flex-col","items-end","pr-6"],["mat-icon-button","",3,"click"],["icon","settings","size","10"],["class","z-50",4,"ngIf"],[1,"z-50"],[1,"flex","flex-col","h-full","p-6","gap-5","w-100"],[1,"w-full",3,"formGroup"],["floatLabel","always",1,"w-full"],["multiple","","formControlName","books","placeholder","Libros: Todos"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,s){1&r&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"button",2),l.NdJ("click",function(){return s.toggle()}),l._UZ(3,"app-icon",3),l.qZA(),l.YNc(4,hl,10,7,"div",4),l.qZA(),l.qZA()),2&r&&(l.xp6(4),l.Q6J("ngIf",s.showCard))},directives:[Fa.lW,ul.o,$i.O5,Oc.y,li._Y,li.JL,li.sg,Xa.KE,Xa.hX,Pc.gD,li.JJ,li.u,$i.sg,cl.ey],pipes:[$i.rS,Ic.u,$i.gd],encapsulation:2,changeDetection:0}),e})();var Wc=P(340);let ll=(()=>{class e extends Pn{constructor(){super({planets:[]}),this.planets$=this.select(r=>r.planets)}saveAllPlanets(r){(0,N.isEqual)(this.get().planets,r)||this.patchState(s=>({planets:ir(s.planets,r)}))}syncState(){return this.get()}syncPlanet(r){return mr(r,this.get().planets)}reset(){this.patchState({planets:[]})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),dl=(()=>{class e{constructor(r,s){this.api=r,this.store=s}fetchAllPlanets(){var r=this;return(0,S.Z)(function*(){const s=yield r.api.get("planets");r.store.saveAllPlanets(s)})()}syncAllPlanets(){return this.store.syncState().planets}allPlanets(){return this.store.planets$}}return e.\u0275fac=function(r){return new(r||e)(l.LFG(ft),l.LFG(ll))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var pl=P(4344);let Ts=(()=>{class e extends qn.H{constructor(r,s,a,h,d,m,C){super(),this.characterApi=r,this.relationshipApi=s,this.formBuilder=a,this.bookApi=h,this.planetApi=d,this.modal=m,this.configurationApi=C,this.nodes=[],this.edges=[],this.characters=[],this.relationships=[]}ngOnInit(){var r=this;return(0,S.Z)(function*(){r.subscribe(r.characterApi.cosmereCharacters(),s=>{r.onCharactersChanges(s)}),r.subscribe(r.relationshipApi.cosmereRelationships(),s=>{r.onRelationshipsChanges(s)}),r.subscribe(r.configurationApi.configuration(),s=>r.onConfigurationChanges(s)),(0,N.defer)((0,S.Z)(function*(){yield r.characterApi.fetchAllCosmereCharacter(),yield r.relationshipApi.fetchAllCosmereRelationship()}))})()}regenerateNetworkParameters(){this.edges=w(this.filterRelationships(this.relationships));const r=new q.UndirectedGraph;E(this.relationships).forEach(h=>r.addNode(h)),this.filterRelationships(this.relationships).forEach(h=>r.addEdge(h.characterId1,h.characterId2));const a=ut()(r,{rng:Wc("1231312"),resolution:2});this.nodes=x(this.filterCharacters(this.characters),this.filterRelationships(this.relationships)).filter(h=>this.edges.map(d=>d.source).includes(h.id)||this.edges.map(d=>d.target).includes(h.id)),this.nodes=this.nodes.map(h=>Object.assign(Object.assign({},h),{group:a[h.id]})),this.edges=this.edges.map(h=>{const d=this.nodes.find(_=>_.id===h.target),m=this.nodes.find(_=>_.id===h.source);if(void 0===d||void 0===m)return h;const C=d.score>m.score?a[d.id]:a[m.id];return Object.assign(Object.assign({},h),{group:C})})}filterCharacters(r){return r}filterRelationships(r){if(!this.configuration)return r;let s=r;return this.configuration.books.length>0&&(s=s.filter(a=>this.configuration.books.includes(a.bookId))),s}onCharactersChanges(r){this.characters=r,this.regenerateNetworkParameters()}onRelationshipsChanges(r){this.relationships=r,this.regenerateNetworkParameters()}onConfigurationChanges(r){this.configuration=r,this.regenerateNetworkParameters()}}return e.\u0275fac=function(r){return new(r||e)(l.Y36(yi),l.Y36(Xr),l.Y36(Rc),l.Y36(Gc),l.Y36(dl),l.Y36(pl.u),l.Y36(Ha))},e.\u0275cmp=l.Xpm({type:e,selectors:[["characters-relationships-graph"]],features:[l.qOj],decls:2,vars:2,consts:[[1,"relative","w-full","h-full","justify-center"],[3,"nodes","links"]],template:function(r,s){1&r&&(l.TgZ(0,"div",0),l._UZ(1,"d3-network",1),l.qZA()),2&r&&(l.xp6(1),l.Q6J("nodes",s.nodes)("links",s.edges))},directives:[Mc],encapsulation:2}),e})();const gl=[{path:"",component:(()=>{class e extends G{constructor(){super()}ngOnInit(){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["network"]],features:[l.qOj],decls:4,vars:0,consts:[[1,"inset-0","flex","flex-col","min-w-0","w-full","overflow-hidden"],[1,"flex","flex-row","h-full","grow","justify-center"],[1,"w-full"]],template:function(r,s){1&r&&(l.TgZ(0,"div",0),l._UZ(1,"configuration"),l.TgZ(2,"div",1),l._UZ(3,"characters-relationships-graph",2),l.qZA(),l.qZA())},directives:[ja,Ts],encapsulation:2}),e})()}];var vl=P(5836);let yl=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[]]}),e})(),ml=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[vl.J,Xa.lN,Pc.LD,$i.ez,Nc.d,li.UX,Ds.m,yl,$a]]}),e})(),wl=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[ct.Bz.forChild(gl),ml,Ls.ZD,Ya.J,Ds.m]]}),e})();var bl=P(5547),xl=P(3378),_l=P.n(xl),Al=P(5894),El=P.n(Al),Rs=P(1063),Sl=P.n(Rs);const Yi=e=>(e=>e.map(([i,r])=>({label:i,value:r})))(L().map((e=>(0,N.fromPairs)((0,N.sortBy)((0,N.toPairs)(e),1).reverse()))(e),(i,r)=>[r,i])),Hi=e=>{const i=Math.min(...e.map(s=>s.value)),r=Math.max(...e.map(s=>s.value));return e.map(s=>Object.assign(Object.assign({},s),{value:(s.value-i)/(r-i)}))};var Fc=P(5408);let Zc=(()=>{class e extends qn.H{constructor(){super(),this.config={colors:{highlight:"#b11adc",highlightLight:"#d975f6",text:"#777",xAxis:"#eee",yAxis:"#999"},height:500,width:640,margin:{top:30,left:70,right:5,bottom:0},gap:.4,xFormat:"",animationDuration:300,ticksInterval:10,type:Zi,titleColor:"white",title:""},this.id=(0,H.V)()}ngOnChanges(r){this.create()}ngAfterViewInit(){this.create()}create(){!this.data||0===this.data.length||(this.data=this.data.splice(0,10),this.element=document.getElementById(this.id+"-vertical-bar-chart"),this.initValues(),this.initScales(),this.createSvg())}initValues(){this.X=this.data.map(r=>r.value),this.Y=this.data.map(r=>r.label)}initScales(){const r=[this.config.margin.left,this.config.width-this.config.margin.right],s=[this.config.margin.top,this.config.height-this.config.margin.bottom];this.xDomain=[0,Wn(this.X)],this.yDomain=new Go(this.Y),this.xScale=this.config.type(this.xDomain,r),this.yScale=Fi(this.yDomain,s).padding(this.config.gap),this.xAxis=function z(e){return k(1,e)}(this.xScale).ticks(this.config.width/80,this.config.xFormat),this.yAxis=At(this.yScale).tickSizeOuter(0)}createSvg(){const r=Ar(this.X.length).filter(a=>this.yDomain.has(this.Y[a]));$e(this.element).select("svg").remove(),this.svg=this.svg=$e(this.element).append("svg").attr("width",this.config.width).attr("height",this.config.height).attr("viewBox",[0,0,this.config.width,this.config.height]).attr("style","max-width: 100%; height: auto; height: intrinsic;"),this.svg.append("g").attr("transform",`translate(0,${this.config.margin.top})`).call(this.xAxis).call(a=>a.select(".domain").remove()).call(a=>a.selectAll(".tick line").clone().attr("y2",this.config.height-this.config.margin.top-this.config.margin.bottom).attr("stroke-opacity",.1)).call(a=>a.append("text").attr("x",this.config.width-this.config.margin.right).attr("y",-22).attr("fill","none").attr("text-anchor","end"));const s=this.svg.append("g").selectAll("rect").data(r).join("rect").attr("x",this.xScale(0)).attr("y",a=>this.yScale(this.Y[a])).attr("width",0).attr("height",this.yScale.bandwidth());this.svg.append("g").attr("fill",this.config.titleColor).attr("text-anchor","end").attr("font-family","sans-serif").attr("font-size",10).selectAll("text").data(r).join("text").attr("x",a=>this.xScale(this.X[a])).attr("y",a=>this.yScale(this.Y[a])+this.yScale.bandwidth()/2).attr("dy","0.35em").attr("dx",-4).text(this.config.title).call(a=>a.filter(h=>this.xScale(this.X[h])-this.xScale(0)<20).attr("dx",4).attr("fill",this.config.titleAltColor).attr("text-anchor","start")),this.svg.append("g").attr("transform",`translate(${this.config.margin.left},0)`).call(this.yAxis),console.log("a",s),s.transition().style("fill",(a,h)=>this.getBarColor(h)).duration(this.config.animationDuration).delay((a,h)=>h*this.config.animationDuration/3).attr("height",this.yScale.bandwidth()).attr("width",(a,h)=>this.X[h]<0?this.xScale(this.X[h])+this.xScale(0):this.xScale(0)+this.xScale(this.X[h]))}getBarColor(r,s=0){return`rgb(${(210+s).toString()}, ${(10+20*r+s).toString()}, ${(220-20*r+s).toString()})`}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["vertical-bar-chart"]],inputs:{data:"data",config:"config"},features:[l.qOj,l.TTD],decls:1,vars:1,consts:[[1,"flex","flex-1",3,"id"]],template:function(r,s){1&r&&l._UZ(0,"div",0),2&r&&l.MGl("id","",s.id,"-vertical-bar-chart")},encapsulation:2}),e})();const $c=({color:e,title:i,tickSize:r=6,width:s=36+r,height:a=320,marginTop:h=20,marginRight:d=10+r,marginBottom:m=20,marginLeft:C=5,ticks:_=a/64,tickFormat:R,tickValues:B}={})=>{const U=Sc("svg").attr("width",s).attr("height",a).attr("viewBox",[0,0,s,a]).style("overflow","visible").style("display","block");let lt,K=at=>at.selectAll(".tick line").attr("x1",C-s+d);if(e.interpolate){const at=Math.min(e.domain().length,e.range().length);lt=e.copy().rangeRound(Es(Zr(a-m,h),at)),U.append("image").attr("x",C).attr("y",h).attr("width",s-C-d).attr("height",a-h-m).attr("preserveAspectRatio","none").attr("xlink:href",Ka(e.copy().domain(Es(Zr(0,1),at))).toDataURL())}else if(e.interpolator){if(lt=Object.assign(e.copy().interpolator(Ta(a-m,h)),{range:()=>[a-m,h]}),U.append("image").attr("x",C).attr("y",h).attr("width",s-C-d).attr("height",a-h-m).attr("preserveAspectRatio","none").attr("xlink:href",Ka(e.interpolator()).toDataURL()),!lt.ticks){if(void 0===B){const at=Math.round(_+1);B=Ar(at).map(j=>function Us(e,i,r){if(e=Float64Array.from(function*Ro(e,i){if(void 0===i)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let s of e)null!=(s=i(s,++r,e))&&(s=+s)>=s&&(yield s)}}(e,r)),(s=e.length)&&!isNaN(i=+i)){if(i<=0||s<2)return Un(e);if(i>=1)return Wn(e);var s,a=(s-1)*i,h=Math.floor(a),d=Wn(xr(e,h).subarray(0,h+1));return d+(Un(e.subarray(h+1))-d)*(a-h)}}(e.domain(),j/(at-1)))}"function"!=typeof R&&(R=As(void 0===R?",f":R))}}else if(e.invertExtent){const at=e.thresholds?e.thresholds():e.quantiles?e.quantiles():e.domain(),j=void 0===R?X=>X:"string"==typeof R?As(R):R;lt=Zi().domain([-1,e.range().length-1]).rangeRound([a-m,h]),U.append("g").selectAll("rect").data(e.range()).join("rect").attr("y",(X,nt)=>lt(nt)).attr("x",C).attr("height",(X,nt)=>lt(nt-1)-lt(nt)).attr("width",s-d-C).attr("fill",X=>X),B=Ar(at.length),R=X=>j(at[X],X)}else lt=Fi().domain(e.domain()).rangeRound([a-m,h]),U.append("g").selectAll("rect").data(e.domain()).join("rect").attr("y",lt).attr("x",C).attr("height",Math.max(0,lt.bandwidth()-1)).attr("width",s-C-d).attr("fill",e),K=()=>{};return U.append("g").attr("transform",`translate(${s-d},0)`).call(function tt(e){return k(2,e)}(lt).ticks(_,"string"==typeof R?R:void 0).tickFormat("function"==typeof R?R:void 0).tickSize(r).tickValues(B)).call(K).call(at=>at.select(".domain").remove()).call(at=>at.append("text").attr("x",C-s+d).attr("y",0).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").attr("class","title").text(i)),U.node()};function Ka(e,i=256){const r=document.createElement("canvas");r.width=1,r.height=i;const s=r.getContext("2d");for(let a=0;a<i;++a)s.fillStyle=e(a/(i-1)),s.fillRect(0,i-a,1,1);return r}let Cl=(()=>{class e extends qn.H{constructor(){super(),this.xLabel="",this.yLabel="",this.config={height:500,width:500,margin:{top:20,left:40,right:30,bottom:30},inset:{top:6,right:6,bottom:6,left:6},dot:{radius:20,strokeWidth:0,strokeColor:"white"},domain:{x:[0,1],y:[0,1]},padding:10,animationDuration:300,ticksInterval:10,color:Bh},this.id=(0,H.V)()}ngOnChanges(r){this.create()}ngAfterViewInit(){this.create()}create(){!this.data||0===this.data.length||(this.element=document.getElementById(this.id+"-chart-3d"),this.initValues(),this.createColorBar(),this.initScales(),this.createAxis(),this.createSvg())}createColorBar(){const r=$c({color:Pa([0,1],this.color),title:"Degree"});this.legendElement=document.getElementById(this.id+"-legend-bar"),this.legendElement&&($e(this.legendElement).select("svg").remove(),this.legendElement.append(r))}initValues(){this.color=this.config.color,this.X=this.data.map(r=>r.x),this.Y=this.data.map(r=>r.y),this.Z=this.data.map(r=>r.z),this.labels=this.data.map(r=>r.label)}initScales(){const s=[this.config.height-this.config.margin.bottom-this.config.inset.bottom,this.config.margin.top+this.config.inset.top];this.xScale=Zi(this.config.domain.x,[this.config.margin.left+this.config.inset.left,this.config.width-this.config.margin.right-this.config.inset.right]),this.yScale=Zi(this.config.domain.y,s)}createAxis(){this.xAxis=_t(this.xScale).ticks(this.config.width/80),this.yAxis=At(this.yScale).ticks(this.config.height/50)}createSvg(){$e(this.element).select("svg").remove(),this.svg=$e(this.element).append("svg").attr("width",this.config.width).attr("height",this.config.height).attr("viewBox",[0,0,this.config.width,this.config.height]).attr("style","max-width: 100%; this.options.height: auto; height: intrinsic;"),this.svg.append("g").attr("transform",`translate(0,${this.config.height-this.config.margin.bottom})`).call(this.xAxis).call(a=>a.select(".domain").remove()).call(a=>a.selectAll(".tick line").clone().attr("y2",this.config.margin.top+this.config.margin.bottom-this.config.height).attr("stroke-opacity",.1)).call(a=>a.append("text").attr("x",this.config.width).attr("y",this.config.margin.bottom-4).attr("fill","currentColor").attr("text-anchor","end").text(this.xLabel)),this.svg.append("g").attr("transform",`translate(${this.config.margin.left},0)`).call(this.yAxis).call(a=>a.select(".domain").remove()).call(a=>a.selectAll(".tick line").clone().attr("x2",this.config.width-this.config.margin.left-this.config.margin.right).attr("stroke-opacity",.1)).call(a=>a.append("text").attr("x",-this.config.margin.left).attr("y",10).attr("fill","currentColor").attr("text-anchor","start").text(this.yLabel));const s=Ar(this.X.length).filter(a=>!isNaN(this.X[a])&&!isNaN(this.Y[a]));this.svg.append("g").attr("stroke",this.config.dot.strokeColor).attr("stroke-width",this.config.dot.strokeWidth).selectAll("circle").data(s).join("circle").attr("cx",a=>this.xScale(this.X[a])).attr("cy",a=>this.yScale(this.Y[a])).attr("fill",a=>this.color(this.Z[a])).attr("r",this.config.dot.radius),this.svg.append("g").attr("font-family","sans-serif").attr("font-size",15).attr("stroke-linejoin","round").attr("stroke-linecap","round").selectAll("text").data(s).join("text").attr("x",a=>this.xScale(this.X[a])).attr("y",a=>this.yScale(this.Y[a])).text(a=>this.labels[a]).style("fill","white").style("text-anchor","middle").style("dominant-baseline","central")}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["chart-3d"]],inputs:{data:"data",xLabel:"xLabel",yLabel:"yLabel",config:"config"},features:[l.qOj,l.TTD],decls:3,vars:2,consts:[[1,"flex","flex-row"],[3,"id"],[1,"flex","flex-1","items-end","pb-10",3,"id"]],template:function(r,s){1&r&&(l.TgZ(0,"div",0),l._UZ(1,"div",1),l._UZ(2,"div",2),l.qZA()),2&r&&(l.xp6(1),l.MGl("id","",s.id,"-chart-3d"),l.xp6(1),l.MGl("id","",s.id,"-legend-bar"))},encapsulation:2}),e})(),kl=(()=>{class e extends qn.H{constructor(){super(),this.options={colors:{highlight:"#b11adc",highlightLight:"#d975f6",text:"#777",xAxis:"#eee",yAxis:"#999"},height:200,width:600,margin:{top:10,left:40,right:10,bottom:20},animationDuration:300,ticksInterval:10},this.id=(0,H.V)()}ngOnChanges(r){this.create()}ngAfterViewInit(){this.create()}create(){!this.data||0===this.data.length||(this.data=this.data.splice(0,10),this.element=document.getElementById(this.id+"-barchart"),this.initValues(),this.initScales(),this.initChart(),this.createAxis(),this.createBars())}initChart(){$e(this.element).select("svg").remove(),this.svg=$e(this.element).append("svg").attr("viewBox",`0 0 ${this.options.width} ${this.options.height+100}`)}initValues(){const r=Number(Un(this.data.map(a=>a.value))),s=Number(Wn(this.data.map(a=>a.value)));this.minValue=r<0?r-this.options.ticksInterval:0,this.maxValue=s}initScales(){this.yScale=Zi().domain([this.minValue,this.maxValue]).range([this.options.height-this.options.margin.bottom,this.options.margin.top]),this.xScale=Fi().domain(Ar(this.data.length)).range([this.options.margin.left+this.options.margin.right,this.options.width-this.options.margin.right]).paddingInner(this.calculatePadding(this.data.length))}getBarMaxWidth(){const r=window.innerWidth;return r<=768?r<=480?10:15:20}getBarColor(r,s=0){return`rgb(${(210+s).toString()}, ${(10+20*r+s).toString()}, ${(220-20*r+s).toString()})`}createBars(){this.svg.selectAll(".bar").data(this.data).enter().append("rect").classed("bar",!0).style("fill","transparent").style("display",s=>"number"==typeof s.value?"initial":"none").attr("x",(s,a)=>this.xScale(a)).attr("y",this.yScale(0)).attr("width",this.xScale.bandwidth()).attr("height",0).transition().style("fill",(s,a)=>this.getBarColor(a)).duration(this.options.animationDuration).delay((s,a)=>a*this.options.animationDuration/3).attr("x",(s,a)=>this.xScale(a)).attr("y",(s,a)=>this.yScale(s.value<0?0:s.value)).attr("width",this.xScale.bandwidth()).attr("height",(s,a)=>s.value<0?this.yScale(s.value)-this.yScale(0):this.yScale(0)-this.yScale(s.value))}createAxis(){const r=_t(this.xScale).tickSize(-this.options.width).tickFormat((a,h)=>this.data[h].label.toUpperCase()),s=At(this.yScale).tickSize(-this.options.width).tickFormat(a=>`${a}`).ticks(this.options.ticksInterval);this.svg.append("g").attr("class","axis x-axis").attr("transform",`translate(0, ${this.options.height-15})`).call(r).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end"),this.svg.append("g").attr("class","axis y-axis").attr("transform",`translate(${+this.options.margin.left}, 0)`).call(s),this.svg.selectAll(".axis .domain").remove(),this.svg.selectAll(".axis .tick text").style("fill",this.options.colors.text),this.svg.selectAll(".y-axis .tick line").style("stroke",this.options.colors.yAxis),this.svg.selectAll(".x-axis .tick line").style("stroke",this.options.colors.xAxis)}calculatePadding(r){return 1-r*this.getBarMaxWidth()/this.options.width}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["bar-chart"]],inputs:{data:"data",options:"options"},features:[l.qOj,l.TTD],decls:1,vars:1,consts:[[1,"flex","flex-1",3,"id"]],template:function(r,s){1&r&&l._UZ(0,"div",0),2&r&&l.MGl("id","",s.id,"-barchart")},encapsulation:2}),e})();const zs=[{path:"",component:(()=>{class e extends G{constructor(r,s){super(),this.relationshipApi=r,this.configurationApi=s,this.pagerankEigenvectorAndDegreeCentrality=[],this.configuration=Lc(),this.normalizeBarChartItems=Hi}ngOnInit(){var r=this;this.subscribe(this.relationshipApi.cosmereRelationships(),s=>this.onRelationshipsChanges(s)),this.subscribe(this.configurationApi.configuration(),s=>this.onConfigurationChanges(s)),(0,N.defer)((0,S.Z)(function*(){return yield r.relationshipApi.fetchAllCosmereRelationship()}))}analyseNetwork(r){const s=r.nodes(),a=(0,bl.pagerank)(r,{getEdgeWeight:void 0,maxIterations:300});this.pagerankCosmere=Yi(a);const h=Sl()(r);this.betweennessCosmere=Yi(h);const d=_l()(r);this.closenessCosmere=Yi(d),this.closenessCosmere=(0,N.reject)(this.closenessCosmere,B=>1===B.value);const m=El()(r,{maxIterations:200});this.eigenvectorCosmere=Yi(m);const C=(0,Fc.degreeCentrality)(r);this.degreeCentralityCosmere=Yi(C),this.pageRankNormalized=Hi(this.pagerankCosmere);const _=Hi(this.eigenvectorCosmere),R=Hi(this.degreeCentralityCosmere);this.pagerankEigenvectorAndDegreeCentrality=s.map(B=>({label:B,x:this.pageRankNormalized.find(U=>U.label===B).value,y:_.find(U=>U.label===B).value,z:R.find(U=>U.label===B).value})).filter(B=>B.x>.2&&B.y>.2)}onRelationshipsChanges(r){this.relationships=r,this.analyseNetwork(this.graph())}onConfigurationChanges(r){this.configuration=r,this.analyseNetwork(this.graph())}filterRelationships(r){if(!this.configuration)return r;let s=r;return this.configuration.books.length>0&&(s=s.filter(a=>this.configuration.books.includes(a.bookId))),s}graph(){const r=this.filterRelationships(this.relationships),s=new q.UndirectedGraph;return E(r).forEach(h=>s.addNode(h)),r.forEach(h=>s.addEdge(h.characterId1,h.characterId2)),s}}return e.\u0275fac=function(r){return new(r||e)(l.Y36(Xr),l.Y36(Ha))},e.\u0275cmp=l.Xpm({type:e,selectors:[["network"]],features:[l.qOj],decls:28,vars:7,consts:[[1,"inset-0","flex","flex-col","min-w-0","w-full","h-screen"],[1,"mr-6"],[1,"flex","flex-col","p-10"],[1,"flex","flex-row","mt-5","gap-5"],[1,"flex","flex-col","p-10","basis-1/2"],[1,"text-xl","mb-5"],[1,"w-full",3,"data"],[1,"flex","flex-col","p-6","basis-1/2"],[1,"flex","flex-auto","w-full",3,"data","xLabel","yLabel"],[1,"flex","flex-auto","grow","p-6"],[1,"flex","flex-col","grow"]],template:function(r,s){1&r&&(l.TgZ(0,"div",0),l._UZ(1,"configuration",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"fuse-card",4),l.TgZ(5,"div",5),l._uU(6,"Lista de personajes m\xe1s relevantes por PageRank"),l.qZA(),l._UZ(7,"vertical-bar-chart",6),l.qZA(),l.TgZ(8,"fuse-card",7),l.TgZ(9,"div",5),l._uU(10,"Protagonismo"),l.qZA(),l._UZ(11,"chart-3d",8),l.qZA(),l.qZA(),l.TgZ(12,"div",3),l.TgZ(13,"fuse-card",9),l.TgZ(14,"div",10),l.TgZ(15,"div",5),l._uU(16,"Eigenvector"),l.qZA(),l._UZ(17,"bar-chart",6),l.qZA(),l.qZA(),l.TgZ(18,"fuse-card",9),l.TgZ(19,"div",10),l.TgZ(20,"div",5),l._uU(21,"Betweenness"),l.qZA(),l._UZ(22,"bar-chart",6),l.qZA(),l.qZA(),l.TgZ(23,"fuse-card",9),l.TgZ(24,"div",10),l.TgZ(25,"div",5),l._uU(26,"Closeness"),l.qZA(),l._UZ(27,"bar-chart",6),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&r&&(l.xp6(7),l.Q6J("data",s.pageRankNormalized),l.xp6(4),l.Q6J("data",s.pagerankEigenvectorAndDegreeCentrality)("xLabel","pagerank")("yLabel","eigenvector"),l.xp6(6),l.Q6J("data",s.eigenvectorCosmere),l.xp6(5),l.Q6J("data",s.betweennessCosmere),l.xp6(5),l.Q6J("data",s.closenessCosmere))},directives:[ja,Oc.y,Zc,Cl,kl],encapsulation:2}),e})()}];let Gs=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[ct.Bz.forChild(zs),Ls.ZD,Ya.J,$a,$i.ez,Ds.m]]}),e})();const Ml=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>Dc},{path:"network",loadChildren:()=>wl},{path:"analysis",loadChildren:()=>Gs}];let Il=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[ct.Bz.forChild(Ml)]]}),e})()},7749:(Nt,Et,P)=>{var ct=P(8487),S=P(6714),H=P(5568),l=P(8090),G=P(5766),D=P(8859).createRandomIndex,O=P(6956),x=O.UndirectedLouvainIndex,w=O.DirectedLouvainIndex,E={nodeCommunityAttribute:"community",getEdgeWeight:"weight",fastLocalMoves:!0,randomWalk:!0,resolution:1,rng:Math.random};function I(Z,$,F){var T=Z.get($);void 0===T&&(T=0),Z.set($,T+=F)}function L(Z,$,F,T,ot){return Math.abs(T-ot)<1e-10?Z!==$&&F>Z:T>ot}function et(Z,$,F){var ft,pt,Dt,Ut,jt,te,Kt,Qt,ge,ye,Le,re,Se,ve,kt,Pt,We,Ie,T=new x($,{getEdgeWeight:F.getEdgeWeight,keepDendrogram:Z,resolution:F.resolution}),ot=D(F.rng),vt=!0,xt=!0,Ct=new l(Float64Array,T.C),Te=0,Ke=0,an=[];for(F.fastLocalMoves&&(Dt=new G(T.C));vt;){if(re=T.C,vt=!1,xt=!0,F.fastLocalMoves){for(Ie=0,Qt=F.randomWalk?ot(re):0,ge=0;ge<re;ge++,Qt++)Dt.enqueue(ye=Qt%re);for(;0!==Dt.size;){for(ye=Dt.dequeue(),Ke++,Se=0,Ct.clear(),ft=T.belongings[ye],Ut=T.starts[ye],jt=T.starts[ye+1];Ut<jt;Ut++)Se+=te=T.weights[Ut],I(Ct,pt=T.belongings[Le=T.neighborhood[Ut]],te);for(kt=T.fastDeltaWithOwnCommunity(ye,Se,Ct.get(ft)||0,ft),ve=ft,Kt=0;Kt<Ct.size;Kt++)(pt=Ct.dense[Kt])!==ft&&(Te++,L(ve,ft,pt,Pt=T.fastDelta(ye,Se,Ct.vals[Kt],pt),kt)&&(kt=Pt,ve=pt));if(kt<0){if((ve=T.isolate(ye,Se))===ft)continue}else{if(ve===ft)continue;T.move(ye,Se,ve)}for(vt=!0,Ie++,Ut=T.starts[ye],jt=T.starts[ye+1];Ut<jt;Ut++)(pt=T.belongings[Le=T.neighborhood[Ut]])!==ve&&Dt.enqueue(Le)}an.push(Ie)}else for(an.push(We=[]);xt;){for(xt=!1,Ie=0,Qt=F.randomWalk?ot(re):0,ge=0;ge<re;ge++,Qt++){for(ye=Qt%re,Ke++,Se=0,Ct.clear(),ft=T.belongings[ye],Ut=T.starts[ye],jt=T.starts[ye+1];Ut<jt;Ut++)Se+=te=T.weights[Ut],I(Ct,pt=T.belongings[Le=T.neighborhood[Ut]],te);for(kt=T.fastDeltaWithOwnCommunity(ye,Se,Ct.get(ft)||0,ft),ve=ft,Kt=0;Kt<Ct.size;Kt++)(pt=Ct.dense[Kt])!==ft&&(Te++,L(ve,ft,pt,Pt=T.fastDelta(ye,Se,Ct.vals[Kt],pt),kt)&&(kt=Pt,ve=pt));if(kt<0){if((ve=T.isolate(ye,Se))===ft)continue}else{if(ve===ft)continue;T.move(ye,Se,ve)}xt=!0,Ie++}We.push(Ie),vt=xt||vt}vt&&T.zoomOut()}return{index:T,deltaComputations:Te,nodesVisited:Ke,moves:an}}function q(Z,$,F){var ft,pt,Dt,Ut,jt,te,Qt,ge,ye,Le,re,Se,Qe,ve,kt,Pt,Te,an,Ge,vn,T=new w($,{getEdgeWeight:F.getEdgeWeight,keepDendrogram:Z,resolution:F.resolution}),ot=D(F.rng),vt=!0,xt=!0,Ct=new l(Float64Array,T.C),We=0,Ie=0,Kn=[];for(F.fastLocalMoves&&(Dt=new G(T.C));vt;){if(Qe=T.C,vt=!1,xt=!0,F.fastLocalMoves){for(vn=0,ye=F.randomWalk?ot(Qe):0,Le=0;Le<Qe;Le++,ye++)Dt.enqueue(re=ye%Qe);for(;0!==Dt.size;){for(re=Dt.dequeue(),Ie++,ve=0,kt=0,Ct.clear(),ft=T.belongings[re],Ut=T.starts[re],jt=T.starts[re+1],te=T.offsets[re];Ut<jt;Ut++)Qt=T.weights[Ut],Ut<te?kt+=Qt:ve+=Qt,I(Ct,pt=T.belongings[Se=T.neighborhood[Ut]],Qt);for(Te=T.deltaWithOwnCommunity(re,ve,kt,Ct.get(ft)||0,ft),Pt=ft,ge=0;ge<Ct.size;ge++)(pt=Ct.dense[ge])!==ft&&(We++,L(Pt,ft,pt,an=T.delta(re,ve,kt,Ct.vals[ge],pt),Te)&&(Te=an,Pt=pt));if(Te<0){if((Pt=T.isolate(re,ve,kt))===ft)continue}else{if(Pt===ft)continue;T.move(re,ve,kt,Pt)}for(vt=!0,vn++,Ut=T.starts[re],jt=T.starts[re+1];Ut<jt;Ut++)(pt=T.belongings[Se=T.neighborhood[Ut]])!==Pt&&Dt.enqueue(Se)}Kn.push(vn)}else for(Kn.push(Ge=[]);xt;){for(xt=!1,vn=0,ye=F.randomWalk?ot(Qe):0,Le=0;Le<Qe;Le++,ye++){for(re=ye%Qe,Ie++,ve=0,kt=0,Ct.clear(),ft=T.belongings[re],Ut=T.starts[re],jt=T.starts[re+1],te=T.offsets[re];Ut<jt;Ut++)Qt=T.weights[Ut],Ut<te?kt+=Qt:ve+=Qt,I(Ct,pt=T.belongings[Se=T.neighborhood[Ut]],Qt);for(Te=T.deltaWithOwnCommunity(re,ve,kt,Ct.get(ft)||0,ft),Pt=ft,ge=0;ge<Ct.size;ge++)(pt=Ct.dense[ge])!==ft&&(We++,L(Pt,ft,pt,an=T.delta(re,ve,kt,Ct.vals[ge],pt),Te)&&(Te=an,Pt=pt));if(Te<0){if((Pt=T.isolate(re,ve,kt))===ft)continue}else{if(Pt===ft)continue;T.move(re,ve,kt,Pt)}xt=!0,vn++}Ge.push(vn),vt=xt||vt}vt&&T.zoomOut()}return{index:T,deltaComputations:We,nodesVisited:Ie,moves:Kn}}function rt(Z,$,F,T){if(!S(F))throw new Error("graphology-communities-louvain: the given graph is not a valid graphology instance.");var ot=H(F);if("mixed"===ot)throw new Error("graphology-communities-louvain: cannot run the algorithm on a true mixed graph.");T=ct(T,E);var vt=0;if(0===F.size){if(Z)return void F.forEachNode(function(Ut){F.setNodeAttribute(Ut,T.nodeCommunityAttribute,vt++)});var xt={};return F.forEachNode(function(Ut){xt[Ut]=vt++}),$?{communities:xt,count:F.order,deltaComputations:0,dendrogram:null,level:0,modularity:NaN,moves:null,nodesVisited:0,resolution:T.resolution}:xt}var pt=("undirected"===ot?et:q)($,F,T),Ct=pt.index;if(!$)return Z?void Ct.assign(T.nodeCommunityAttribute):Ct.collect();var Dt={count:Ct.C,deltaComputations:pt.deltaComputations,dendrogram:Ct.dendrogram,level:Ct.level,modularity:Ct.modularity(),moves:pt.moves,nodesVisited:pt.nodesVisited,resolution:T.resolution};return Z?(Ct.assign(T.nodeCommunityAttribute),Dt):(Dt.communities=Ct.collect(),Dt)}var ut=rt.bind(null,!1,!1);ut.assign=rt.bind(null,!0,!1),ut.detailed=rt.bind(null,!1,!0),ut.defaults=E,Nt.exports=ut},6956:(Nt,Et,P)=>{var ct=P(6116),S=P(8487),H=P(2954).Q6,l=Symbol.for("nodejs.util.inspect.custom"),G={getEdgeWeight:"weight",keepDendrogram:!1,resolution:1};function D(x,w){var E=(w=S(w,G)).resolution,I=H(w.getEdgeWeight).fromEntry,N=2*(x.size-x.selfLoopCount),L=ct.getPointerArray(N),et=ct.getPointerArray(x.order+1),q=w.getEdgeWeight?Float64Array:ct.getPointerArray(2*x.size);this.C=x.order,this.M=0,this.E=N,this.U=0,this.resolution=E,this.level=0,this.graph=x,this.nodes=new Array(x.order),this.keepDendrogram=w.keepDendrogram,this.neighborhood=new et(N),this.weights=new q(N),this.loops=new q(x.order),this.starts=new L(x.order+1),this.belongings=new et(x.order),this.dendrogram=[],this.mapping=null,this.counts=new et(x.order),this.unused=new et(x.order),this.totalWeights=new q(x.order);var ut,rt={},Z=0,$=0,F=this;x.forEachNode(function(T){F.nodes[Z]=T,rt[T]=Z,$+=x.undirectedDegreeWithoutSelfLoops(T),F.starts[Z]=$,F.belongings[Z]=Z,F.counts[Z]=1,Z++}),x.forEachEdge(function(T,ot,vt,xt,ft,pt,Ct){if(ut=I(T,ot,vt,xt,ft,pt,Ct),vt=rt[vt],xt=rt[xt],F.M+=ut,vt===xt)F.totalWeights[vt]+=2*ut,F.loops[vt]=2*ut;else{F.totalWeights[vt]+=ut,F.totalWeights[xt]+=ut;var Dt=--F.starts[vt],Ut=--F.starts[xt];F.neighborhood[Dt]=xt,F.neighborhood[Ut]=vt,F.weights[Dt]=ut,F.weights[Ut]=ut}}),this.starts[Z]=this.E,this.keepDendrogram?this.dendrogram.push(this.belongings.slice()):this.mapping=this.belongings.slice()}function O(x,w){var E=(w=S(w,G)).resolution,I=H(w.getEdgeWeight).fromEntry,N=2*(x.size-x.selfLoopCount),L=ct.getPointerArray(N),et=ct.getPointerArray(x.order+1),q=w.getEdgeWeight?Float64Array:ct.getPointerArray(2*x.size);this.C=x.order,this.M=0,this.E=N,this.U=0,this.resolution=E,this.level=0,this.graph=x,this.nodes=new Array(x.order),this.keepDendrogram=w.keepDendrogram,this.neighborhood=new et(N),this.weights=new q(N),this.loops=new q(x.order),this.starts=new L(x.order+1),this.offsets=new L(x.order),this.belongings=new et(x.order),this.dendrogram=[],this.counts=new et(x.order),this.unused=new et(x.order),this.totalInWeights=new q(x.order),this.totalOutWeights=new q(x.order);var ut,rt={},Z=0,$=0,F=this;x.forEachNode(function(T){F.nodes[Z]=T,rt[T]=Z,$+=x.outDegreeWithoutSelfLoops(T),F.starts[Z]=$,$+=x.inDegreeWithoutSelfLoops(T),F.offsets[Z]=$,F.belongings[Z]=Z,F.counts[Z]=1,Z++}),x.forEachEdge(function(T,ot,vt,xt,ft,pt,Ct){if(ut=I(T,ot,vt,xt,ft,pt,Ct),vt=rt[vt],xt=rt[xt],F.M+=ut,vt===xt)F.loops[vt]+=ut,F.totalInWeights[vt]+=ut,F.totalOutWeights[vt]+=ut;else{F.totalOutWeights[vt]+=ut,F.totalInWeights[xt]+=ut;var Dt=--F.starts[vt],Ut=--F.offsets[xt];F.neighborhood[Dt]=xt,F.neighborhood[Ut]=vt,F.weights[Dt]=ut,F.weights[Ut]=ut}}),this.starts[Z]=this.E,this.keepDendrogram?this.dendrogram.push(this.belongings.slice()):this.mapping=this.belongings.slice()}D.prototype.isolate=function(x,w){var E=this.belongings[x];if(1===this.counts[E])return E;var I=this.unused[--this.U],N=this.loops[x];return this.totalWeights[E]-=w+N,this.totalWeights[I]+=w+N,this.belongings[x]=I,this.counts[E]--,this.counts[I]++,I},D.prototype.move=function(x,w,E){var I=this.belongings[x],N=this.loops[x];this.totalWeights[I]-=w+N,this.totalWeights[E]+=w+N,this.belongings[x]=E;var L=1==this.counts[I]--;this.counts[E]++,L&&(this.unused[this.U++]=I)},D.prototype.computeNodeDegree=function(x){var w,E,N=0;for(w=this.starts[x],E=this.starts[x+1];w<E;w++)N+=this.weights[w];return N},D.prototype.expensiveIsolate=function(x){var w=this.computeNodeDegree(x);return this.isolate(x,w)},D.prototype.expensiveMove=function(x,w){var E=this.computeNodeDegree(x);this.move(x,E,w)},D.prototype.zoomOut=function(){var L,et,q,rt,ut,Z,$,F,T,ot,vt,x=new Array(this.C-this.U),w={},E=this.nodes.length,I=0,N=0;for(L=0,q=this.C;L<q;L++)(Z=this.belongings[L])in w||(w[Z]=I,x[I]={adj:{},totalWeights:this.totalWeights[Z],internalWeights:0},I++),this.belongings[L]=w[Z];if(this.keepDendrogram){for(ot=this.dendrogram[this.level],vt=new(ct.getPointerArray(I))(E),L=0;L<E;L++)vt[L]=this.belongings[ot[L]];this.dendrogram.push(vt)}else for(L=0;L<E;L++)this.mapping[L]=this.belongings[this.mapping[L]];for(L=0,q=this.C;L<q;L++)for(T=(F=x[Z=this.belongings[L]]).adj,F.internalWeights+=this.loops[L],et=this.starts[L],rt=this.starts[L+1];et<rt;et++)Z!==($=this.belongings[ut=this.neighborhood[et]])?($ in T||(T[$]=0),T[$]+=this.weights[et]):F.internalWeights+=this.weights[et];for(this.C=I,ut=0,Z=0;Z<I;Z++)for($ in T=(F=x[Z]).adj,this.totalWeights[Z=+Z]=F.totalWeights,this.loops[Z]=F.internalWeights,this.counts[Z]=1,this.starts[Z]=ut,this.belongings[Z]=Z,T)this.neighborhood[ut]=+$,this.weights[ut]=T[$],N++,ut++;return this.starts[I]=N,this.E=N,this.U=0,this.level++,w},D.prototype.modularity=function(){var x,E,I,N,L=0,et=2*this.M,q=new Float64Array(this.C);for(E=0;E<this.C;E++)for(q[x=this.belongings[E]]+=this.loops[E],I=this.starts[E],N=this.starts[E+1];I<N;I++)x===this.belongings[this.neighborhood[I]]&&(q[x]+=this.weights[I]);for(E=0;E<this.C;E++)L+=q[E]/et-Math.pow(this.totalWeights[E]/et,2)*this.resolution;return L},D.prototype.delta=function(x,w,E,I){var N=this.M;return E/N-this.totalWeights[I]*(w+=this.loops[x])*this.resolution/(2*N*N)},D.prototype.deltaWithOwnCommunity=function(x,w,E,I){var N=this.M;return E/N-(this.totalWeights[I]-(w+=this.loops[x]))*w*this.resolution/(2*N*N)},D.prototype.fastDelta=function(x,w,E,I){return E-(w+=this.loops[x])*this.totalWeights[I]*this.resolution/(2*this.M)},D.prototype.fastDeltaWithOwnCommunity=function(x,w,E,I){return E-(w+=this.loops[x])*(this.totalWeights[I]-w)*this.resolution/(2*this.M)},D.prototype.bounds=function(x){return[this.starts[x],this.starts[x+1]]},D.prototype.project=function(){var x=this,w={};return x.nodes.slice(0,this.C).forEach(function(E,I){w[E]=Array.from(x.neighborhood.slice(x.starts[I],x.starts[I+1])).map(function(N){return x.nodes[N]})}),w},D.prototype.collect=function(x){arguments.length<1&&(x=this.level);var I,N,w={},E=this.keepDendrogram?this.dendrogram[x]:this.mapping;for(I=0,N=E.length;I<N;I++)w[this.nodes[I]]=E[I];return w},D.prototype.assign=function(x,w){arguments.length<2&&(w=this.level);var I,N,E=this.keepDendrogram?this.dendrogram[w]:this.mapping;for(I=0,N=E.length;I<N;I++)this.graph.setNodeAttribute(this.nodes[I],x,E[I])},D.prototype[l]=function(){var x={};Object.defineProperty(x,"constructor",{value:D,enumerable:!1}),x.C=this.C,x.M=this.M,x.E=this.E,x.U=this.U,x.resolution=this.resolution,x.level=this.level,x.nodes=this.nodes,x.starts=this.starts.slice(0,x.C+1);var I=this;return["neighborhood","weights"].forEach(function(N){x[N]=I[N].slice(0,x.E)}),["counts","loops","belongings","totalWeights"].forEach(function(N){x[N]=I[N].slice(0,x.C)}),x.unused=this.unused.slice(0,this.U),this.keepDendrogram?x.dendrogram=this.dendrogram:x.mapping=this.mapping,x},O.prototype.bounds=D.prototype.bounds,O.prototype.inBounds=function(x){return[this.offsets[x],this.starts[x+1]]},O.prototype.outBounds=function(x){return[this.starts[x],this.offsets[x]]},O.prototype.project=D.prototype.project,O.prototype.projectIn=function(){var x=this,w={};return x.nodes.slice(0,this.C).forEach(function(E,I){w[E]=Array.from(x.neighborhood.slice(x.offsets[I],x.starts[I+1])).map(function(N){return x.nodes[N]})}),w},O.prototype.projectOut=function(){var x=this,w={};return x.nodes.slice(0,this.C).forEach(function(E,I){w[E]=Array.from(x.neighborhood.slice(x.starts[I],x.offsets[I])).map(function(N){return x.nodes[N]})}),w},O.prototype.isolate=function(x,w,E){var I=this.belongings[x];if(1===this.counts[I])return I;var N=this.unused[--this.U],L=this.loops[x];return this.totalInWeights[I]-=w+L,this.totalInWeights[N]+=w+L,this.totalOutWeights[I]-=E+L,this.totalOutWeights[N]+=E+L,this.belongings[x]=N,this.counts[I]--,this.counts[N]++,N},O.prototype.move=function(x,w,E,I){var N=this.belongings[x],L=this.loops[x];this.totalInWeights[N]-=w+L,this.totalInWeights[I]+=w+L,this.totalOutWeights[N]-=E+L,this.totalOutWeights[I]+=E+L,this.belongings[x]=I;var et=1==this.counts[N]--;this.counts[I]++,et&&(this.unused[this.U++]=N)},O.prototype.computeNodeInDegree=function(x){var w,E,N=0;for(w=this.offsets[x],E=this.starts[x+1];w<E;w++)N+=this.weights[w];return N},O.prototype.computeNodeOutDegree=function(x){var w,E,N=0;for(w=this.starts[x],E=this.offsets[x];w<E;w++)N+=this.weights[w];return N},O.prototype.expensiveMove=function(x,w){var E=this.computeNodeInDegree(x),I=this.computeNodeOutDegree(x);this.move(x,E,I,w)},O.prototype.zoomOut=function(){var L,et,q,rt,ut,Z,$,F,T,ot,vt,xt,ft,pt,Ct,x=new Array(this.C-this.U),w={},E=this.nodes.length,I=0,N=0;for(L=0,q=this.C;L<q;L++)(Z=this.belongings[L])in w||(w[Z]=I,x[I]={inAdj:{},outAdj:{},totalInWeights:this.totalInWeights[Z],totalOutWeights:this.totalOutWeights[Z],internalWeights:0},I++),this.belongings[L]=w[Z];if(this.keepDendrogram){for(pt=this.dendrogram[this.level],Ct=new(ct.getPointerArray(I))(E),L=0;L<E;L++)Ct[L]=this.belongings[pt[L]];this.dendrogram.push(Ct)}else for(L=0;L<E;L++)this.mapping[L]=this.belongings[this.mapping[L]];for(L=0,q=this.C;L<q;L++)for(T=this.offsets[L],xt=(F=x[Z=this.belongings[L]]).inAdj,ft=F.outAdj,F.internalWeights+=this.loops[L],et=this.starts[L],rt=this.starts[L+1];et<rt;et++)vt=(ot=et<T)?ft:xt,Z!==($=this.belongings[ut=this.neighborhood[et]])?($ in vt||(vt[$]=0),vt[$]+=this.weights[et]):ot&&(F.internalWeights+=this.weights[et]);for(this.C=I,ut=0,Z=0;Z<I;Z++){for($ in xt=(F=x[Z]).inAdj,ft=F.outAdj,this.totalInWeights[Z=+Z]=F.totalInWeights,this.totalOutWeights[Z]=F.totalOutWeights,this.loops[Z]=F.internalWeights,this.counts[Z]=1,this.starts[Z]=ut,this.belongings[Z]=Z,ft)this.neighborhood[ut]=+$,this.weights[ut]=ft[$],N++,ut++;for($ in this.offsets[Z]=ut,xt)this.neighborhood[ut]=+$,this.weights[ut]=xt[$],N++,ut++}return this.starts[I]=N,this.E=N,this.U=0,this.level++,w},O.prototype.modularity=function(){var x,E,I,N,L=0,et=this.M,q=new Float64Array(this.C);for(E=0;E<this.C;E++)for(q[x=this.belongings[E]]+=this.loops[E],I=this.starts[E],N=this.offsets[E];I<N;I++)x===this.belongings[this.neighborhood[I]]&&(q[x]+=this.weights[I]);for(E=0;E<this.C;E++)L+=q[E]/et-this.totalInWeights[E]*this.totalOutWeights[E]/Math.pow(et,2)*this.resolution;return L},O.prototype.delta=function(x,w,E,I,N){var L=this.M,rt=this.loops[x];return I/L-((E+=rt)*this.totalInWeights[N]+(w+=rt)*this.totalOutWeights[N])*this.resolution/(L*L)},O.prototype.deltaWithOwnCommunity=function(x,w,E,I,N){var L=this.M,rt=this.loops[x];return I/L-((E+=rt)*(this.totalInWeights[N]-(w+=rt))+w*(this.totalOutWeights[N]-E))*this.resolution/(L*L)},O.prototype.collect=D.prototype.collect,O.prototype.assign=D.prototype.assign,O.prototype[l]=function(){var x={};Object.defineProperty(x,"constructor",{value:O,enumerable:!1}),x.C=this.C,x.M=this.M,x.E=this.E,x.U=this.U,x.resolution=this.resolution,x.level=this.level,x.nodes=this.nodes,x.starts=this.starts.slice(0,x.C+1);var I=this;return["neighborhood","weights"].forEach(function(N){x[N]=I[N].slice(0,x.E)}),["counts","offsets","loops","belongings","totalInWeights","totalOutWeights"].forEach(function(N){x[N]=I[N].slice(0,x.C)}),x.unused=this.unused.slice(0,this.U),this.keepDendrogram?x.dendrogram=this.dendrogram:x.mapping=this.mapping,x},Et.UndirectedLouvainIndex=D,Et.DirectedLouvainIndex=O},6078:(Nt,Et,P)=>{var ct=P(6116),S=P(2954).Q6;function H(D,O){return"outbound"===D||"inbound"===D?O.directedSize+2*O.undirectedSize:"in"===D||"out"===D||"directed"===D?O.directedSize:2*O.undirectedSize}function l(D,O){var x=D[(O=O||"outbound")+"Neighbors"].bind(D),w=H(O,D),E=ct.getPointerArray(w),I=ct.getPointerArray(D.order);this.graph=D,this.neighborhood=new I(w),this.starts=new E(D.order+1),this.nodes=D.nodes();var L,et,q,rt,Z,N={},$=0;for(L=0,et=D.order;L<et;L++)N[this.nodes[L]]=L;for(L=0,et=D.order;L<et;L++)for(Z=x(this.nodes[L]),this.starts[L]=$,q=0,rt=Z.length;q<rt;q++)this.neighborhood[$++]=N[Z[q]];this.starts[L]=w}function G(D,O,x){var w=D[(x=x||"outbound")+"Edges"].bind(D),E=H(x,D),I=ct.getPointerArray(E),N=ct.getPointerArray(D.order),L=S(O).fromMinimalEntry;this.graph=D,this.neighborhood=new N(E),this.weights=new Float64Array(E),this.outDegrees=new Float64Array(D.order),this.starts=new I(D.order+1),this.nodes=D.nodes();var q,rt,ut,Z,$,F,T,ot,vt,et={},xt=0;for(q=0,rt=D.order;q<rt;q++)et[this.nodes[q]]=q;for(q=0,rt=D.order;q<rt;q++)for(T=w($=this.nodes[q]),this.starts[q]=xt,ut=0,Z=T.length;ut<Z;ut++)F=D.opposite($,ot=T[ut]),vt=L(ot,D.getEdgeAttributes(ot)),this.neighborhood[xt]=et[F],this.weights[xt++]=vt,this.outDegrees[q]+=vt;this.starts[q]=E}l.prototype.bounds=function(D){return[this.starts[D],this.starts[D+1]]},l.prototype.project=function(){var D=this,O={};return D.nodes.forEach(function(x,w){O[x]=Array.from(D.neighborhood.slice(D.starts[w],D.starts[w+1])).map(function(E){return D.nodes[E]})}),O},l.prototype.collect=function(D){var O,x,w={};for(O=0,x=D.length;O<x;O++)w[this.nodes[O]]=D[O];return w},l.prototype.assign=function(D,O){var x=0;this.graph.updateEachNodeAttributes(function(w,E){return E[D]=O[x++],E},{attributes:[D]})},Et.NeighborhoodIndex=l,G.prototype.bounds=l.prototype.bounds,G.prototype.project=l.prototype.project,G.prototype.collect=l.prototype.collect,G.prototype.assign=l.prototype.assign,Et.WeightedNeighborhoodIndex=G},1063:(Nt,Et,P)=>{var ct=P(6714),S=P(3933),H=P(8487),l=S.createUnweightedIndexedBrandes,G=S.createDijkstraIndexedBrandes,D={nodeCentralityAttribute:"betweennessCentrality",getEdgeWeight:"weight",normalized:!0};function O(w,E,I){if(!ct(E))throw new Error("graphology-centrality/beetweenness-centrality: the given graph is not a valid graphology instance.");var rt,ut,Z,$,F,T,ot,vt,xt,ft,N=(I=H(I,D)).nodeCentralityAttribute,L=I.normalized,et=I.getEdgeWeight?G(E,I.getEdgeWeight):l(E),q=E.order,pt=new Float64Array(q),Ct=new Float64Array(q);for(T=0;T<q;T++){for(Z=(rt=et(T))[1],$=rt[2],ot=(ut=rt[0]).size;ot--;)pt[ut.items[ut.size-ot]]=0;for(;0!==ut.size;){for(F=(1+pt[ft=ut.pop()])/$[ft],ot=0,vt=Z[ft].length;ot<vt;ot++)pt[xt=Z[ft][ot]]+=$[xt]*F;ft!==T&&(Ct[ft]+=pt[ft])}}var Dt;if(null!==(Dt=L?q<=2?null:1/((q-1)*(q-2)):"undirected"===E.type?.5:null))for(T=0;T<q;T++)Ct[T]*=Dt;return w?et.index.assign(N,Ct):et.index.collect(Ct)}var x=O.bind(null,!1);x.assign=O.bind(null,!0),Nt.exports=x},3378:(Nt,Et,P)=>{var ct=P(6714),S=P(8487),H=P(8740),l=P(4268),G=P(6078).NeighborhoodIndex,D={nodeCentralityAttribute:"closenessCentrality",wassermanFaust:!1};function O(E){this.index=new G(E,"inbound"),this.queue=new H(Array,E.order),this.seen=new l(E.order)}function x(E,I,N){if(!ct(I))throw new Error("graphology-metrics/centrality/closeness: the given graph is not a valid graphology instance.");var rt,ut,Z,$,F,L=(N=S(N,D)).wassermanFaust,et=new O(I),q=I.order,T=new Float64Array(q);for(rt=0;rt<q;rt++)Z=(ut=et.fromNode(rt))[0],F=0,($=ut[1])>0&&q>1&&(F=Z/$,L&&(F*=Z/(q-1))),T[rt]=F;return E?et.index.assign(N.nodeCentralityAttribute,T):et.index.collect(T)}O.prototype.fromNode=function(E){var I=this.index,N=this.queue,L=this.seen;L.clear(),N.clear(),L.add(E),N.push([E,0]);for(var et,q,rt,ut,Z,$,F=0,T=0;0!==N.size;)for(0!==(rt=(et=N.shift())[1])&&(F+=rt,T+=1),Z=I.starts[(q=et[0])+1],ut=I.starts[q];ut<Z;ut++)!L.has($=I.neighborhood[ut])&&(L.add($),N.push([$,rt+1]));return[T,F]};var w=x.bind(null,!1);w.assign=x.bind(null,!0),Nt.exports=w},5408:(Nt,Et,P)=>{var ct=P(6714);function S(D,O,x,w){var E=O+"Centrality";if(!ct(x))throw new Error("graphology-centrality/"+E+": the given graph is not a valid graphology instance.");if("degree"!==O&&"undirected"===x.type)throw new Error("graphology-centrality/"+E+": cannot compute "+O+" centrality on an undirected graph.");var I=(w=w||{}).nodeCentralityAttribute||E,N=x.order-1,L=x[O].bind(x);if(!D){var et={};return x.forEachNode(function(q){et[q]=L(q)/N}),et}x.updateEachNodeAttributes(function(q,rt){return rt[I]=L(q)/N,rt},{attributes:[I]})}var H=S.bind(null,!1,"degree"),l=S.bind(null,!1,"inDegree"),G=S.bind(null,!1,"outDegree");H.assign=S.bind(null,!0,"degree"),l.assign=S.bind(null,!0,"inDegree"),G.assign=S.bind(null,!0,"outDegree"),Et.degreeCentrality=H,Et.inDegreeCentrality=l,Et.outDegreeCentrality=G},5894:(Nt,Et,P)=>{var ct=P(6714),S=P(8487),H=P(6078).WeightedNeighborhoodIndex,l={nodeCentralityAttribute:"eigenvectorCentrality",getEdgeWeight:"weight",maxIterations:100,tolerance:1e-6};function G(x){for(var w=0,E=0,I=0,N=x.length;I<N;I++){var L=Math.abs(x[I]);L>w&&(E*=w/L*(w/L),w=L),E+=0===L&&0===w?0:L/w*(L/w)}return w===1/0?1:w*Math.sqrt(E)}function D(x,w,E){if(!ct(w))throw new Error("graphology-metrics/centrality/eigenvector: the given graph is not a valid graphology instance.");var q,rt,ut,I=(E=S(E,l)).maxIterations,N=E.tolerance,L=w.order,et=new H(w,E.getEdgeWeight),$=new Float64Array(w.order);for(q=0;q<L;q++)$[q]=1/L;for(var vt,xt,F=0,T=0,ft=!1;F<I;){for(vt=$,$=new Float64Array(vt),q=0;q<L;q++)for(ut=et.starts[q+1],rt=et.starts[q];rt<ut;rt++)$[et.neighborhood[rt]]+=vt[q]*et.weights[rt];for(xt=G($),q=0;q<L;q++)$[q]/=xt;for(T=0,q=0;q<L;q++)T+=Math.abs($[q]-vt[q]);if(T<L*N){ft=!0;break}F++}if(!ft)throw Error("graphology-metrics/centrality/eigenvector: failed to converge.");if(!x)return et.collect($);et.assign(E.nodeCentralityAttribute,$)}var O=D.bind(null,!1);O.assign=D.bind(null,!0),Nt.exports=O},9850:(Nt,Et,P)=>{var ct=P(8487),S=P(6714),H=P(2954).Q6,l={nodeAuthorityAttribute:"authority",nodeHubAttribute:"hub",getEdgeWeight:"weight",maxIterations:100,normalize:!0,tolerance:1e-8};function G(w,E){var N,L,I=Object.create(null);for(N=0,L=w.length;N<L;N++)I[w[N]]=E;return I}function D(w){var E=0;for(var I in w)E+=w[I];return E}function O(w,E,I){if(!S(E))throw new Error("graphology-hits: the given graph is not a valid graphology instance.");if(E.multi)throw new Error("graphology-hits: the HITS algorithm does not work with MultiGraphs.");I=ct(I,l);var q,$,F,T,ot,vt,xt,ft,pt,Ct,Dt,Ut,jt,te,N=H(I.getEdgeWeight).fromEntry,L=E.order,et=E.nodes(),rt=G(et,1/L),ut={},Z=!1;for(E.forEachEdge(function(Kt,Qt,ge,ye,Le,re,Se){ut[Kt]=N(Kt,Qt,ge,ye,Le,re,Se)}),xt=0;xt<I.maxIterations;xt++){for($=rt,rt=G(et,0),F=G(et,0),pt=0,ft=0,Ut=0;Ut<L;Ut++)for(jt=0,te=(q=E.outboundEdges(T=et[Ut])).length;jt<te;jt++)ot=E.opposite(T,vt=q[jt]),F[ot]+=$[T]*ut[vt],F[ot]>ft&&(ft=F[ot]);for(Ut=0;Ut<L;Ut++)for(jt=0,te=(q=E.outboundEdges(T=et[Ut])).length;jt<te;jt++)ot=E.opposite(T,vt=q[jt]),rt[T]+=F[ot]*ut[vt],rt[ot]>pt&&(pt=rt[ot]);for(T in Dt=1/pt,rt)rt[T]*=Dt;for(T in Dt=1/ft,F)F[T]*=Dt;for(T in Ct=0,rt)Ct+=Math.abs(rt[T]-$[T]);if(Ct<I.tolerance){Z=!0;break}}if(!Z)throw Error("graphology-metrics/centrality/hits: failed to converge.");if(I.normalize){for(T in Dt=1/D(F),F)F[T]*=Dt;for(T in Dt=1/D(rt),rt)rt[T]*=Dt}if(!w)return{hubs:rt,authorities:F};E.updateEachNodeAttributes(function(Kt,Qt){return Qt[I.nodeAuthorityAttribute]=F[Kt],Qt[I.nodeHubAttribute]=rt[Kt],Qt},{attributes:[I.nodeAuthorityAttribute,I.nodeHubAttribute]})}var x=O.bind(null,!1);x.assign=O.bind(null,!0),Nt.exports=x},5547:(Nt,Et,P)=>{P(5408);P(1063),P(3378),P(5894),P(9850),Et.pagerank=P(593)},593:(Nt,Et,P)=>{var ct=P(6714),S=P(8487),H=P(6078).WeightedNeighborhoodIndex,l={nodePagerankAttribute:"pagerank",getEdgeWeight:"weight",alpha:.85,maxIterations:100,tolerance:1e-6};function G(O,x,w){if(!ct(x))throw new Error("graphology-metrics/centrality/pagerank: the given graph is not a valid graphology instance.");var ut,Z,$,F,E=(w=S(w,l)).alpha,I=w.maxIterations,N=w.tolerance,L=w.nodePagerankAttribute,et=x.order,q=1/et,rt=new H(x,w.getEdgeWeight),T=new Float64Array(x.order),ot=new Float64Array(rt.weights.length),vt=[];for(ut=0;ut<et;ut++)for(T[ut]=q,$=rt.starts[ut+1],0===(F=rt.outDegrees[ut])&&vt.push(ut),Z=rt.starts[ut];Z<$;Z++)ot[Z]=rt.weights[Z]/F;for(var pt,Dt,xt=0,ft=0,Ut=!1;xt<I;){for(Dt=T,T=new Float64Array(x.order),pt=0,ut=0,$=vt.length;ut<$;ut++)pt+=Dt[vt[ut]];for(pt*=E,ut=0;ut<et;ut++){for($=rt.starts[ut+1],Z=rt.starts[ut];Z<$;Z++)T[rt.neighborhood[Z]]+=E*Dt[ut]*ot[Z];T[ut]+=pt*q+(1-E)*q}for(ft=0,ut=0;ut<et;ut++)ft+=Math.abs(T[ut]-Dt[ut]);if(ft<et*N){Ut=!0;break}xt++}if(!Ut)throw Error("graphology-metrics/centrality/pagerank: failed to converge.");if(!O)return rt.collect(T);rt.assign(L,T)}var D=G.bind(null,!1);D.assign=G.bind(null,!0),Nt.exports=D},3933:(Nt,Et,P)=>{var ct=P(8740),S=P(7451),H=P(4547),l=P(6116),G=P(6078),D=G.NeighborhoodIndex,O=G.WeightedNeighborhoodIndex;function x(w,E){return w[0]>E[0]?1:w[0]<E[0]?-1:w[1]>E[1]?1:w[1]<E[1]?-1:w[2]>E[2]?1:w[2]<E[2]?-1:w[3]>E[3]?1:w[3]<E[3]?-1:0}Et.createUnweightedIndexedBrandes=function(E){var I=new D(E),N=I.neighborhood,L=I.starts,et=E.order,q=new S(l.getPointerArray(et),et),rt=new Uint32Array(et),ut=new Array(et),Z=new Int32Array(et),$=new ct(Uint32Array,et),F=function(T){var ot,vt,ft,pt,Ct,Dt;for(Ct=0;Ct<et;Ct++)ut[Ct]=[],rt[Ct]=0,Z[Ct]=-1;for(rt[T]=1,Z[T]=0,$.push(T);0!==$.size;)for(Ct=$.shift(),q.push(Ct),ot=Z[Ct],vt=rt[Ct],ft=L[Ct+1],pt=L[Ct];pt<ft;pt++)-1===Z[Dt=N[pt]]&&($.push(Dt),Z[Dt]=ot+1),Z[Dt]===ot+1&&(rt[Dt]+=vt,ut[Dt].push(Ct));return[q,ut,rt]};return F.index=I,F},Et.createDijkstraIndexedBrandes=function(E,I){var N=new O(E,I||"weight"),L=N.neighborhood,et=N.weights,q=N.starts,rt=E.order,ut=new S(l.getPointerArray(rt),rt),Z=new Uint32Array(rt),$=new Array(rt),F=new Float64Array(rt),T=new Float64Array(rt),ot=new H(x),vt=function(xt){var pt,Ct,Dt,Ut,jt,te,Kt,Qt,ge=0;for(Kt=0;Kt<rt;Kt++)$[Kt]=[],Z[Kt]=0,F[Kt]=-1,T[Kt]=-1;for(Z[xt]=1,T[xt]=0,ot.push([0,ge++,xt,xt]);0!==ot.size;)if(Dt=(Ct=ot.pop())[0],Ut=Ct[2],-1===F[Kt=Ct[3]])for(ut.push(Kt),F[Kt]=Dt,Z[Kt]+=Z[Ut],pt=q[Kt+1],te=q[Kt];te<pt;te++)jt=Dt+et[te],-1===F[Qt=L[te]]&&(-1===T[Qt]||jt<T[Qt])?(T[Qt]=jt,ot.push([jt,ge++,Kt,Qt]),Z[Qt]=0,$[Qt]=[Kt]):jt===T[Qt]&&(Z[Qt]+=Z[Kt],$[Qt].push(Kt));return[ut,$,Z]};return vt.index=N,vt}},8487:Nt=>{function Et(ct){return!ct||"object"!=typeof ct||"function"==typeof ct||Array.isArray(ct)||ct instanceof Set||ct instanceof Map||ct instanceof RegExp||ct instanceof Date}Nt.exports=function P(ct,S){ct=ct||{};var H={};for(var l in S){var G=ct[l],D=S[l];H[l]=Et(D)?void 0===G?D:G:P(G,D)}return H}},2954:(Nt,Et)=>{function ct(l){return"number"!=typeof l||isNaN(l)?1:l}Et.Q6=function(l){return function H(l,G){var D={},O=function(E){return void 0===E?G:E};"function"==typeof G&&(O=G);var x=function(E){return O(E[l])},w=function(){return O(void 0)};return"string"==typeof l?(D.fromAttributes=x,D.fromGraph=function(E,I){return x(E.getEdgeAttributes(I))},D.fromEntry=function(E,I){return x(I)},D.fromPartialEntry=D.fromEntry,D.fromMinimalEntry=D.fromEntry):"function"==typeof l?(D.fromAttributes=function(){throw new Error("graphology-utils/getters/createEdgeValueGetter: irrelevant usage.")},D.fromGraph=function(E,I){var N=E.extremities(I);return O(l(I,E.getEdgeAttributes(I),N[0],N[1],E.getNodeAttributes(N[0]),E.getNodeAttributes(N[1]),E.isUndirected(I)))},D.fromEntry=function(E,I,N,L,et,q,rt){return O(l(E,I,N,L,et,q,rt))},D.fromPartialEntry=function(E,I,N,L){return O(l(E,I,N,L))},D.fromMinimalEntry=function(E,I){return O(l(E,I))}):(D.fromAttributes=w,D.fromGraph=w,D.fromEntry=w,D.fromMinimalEntry=w),D}(l,ct)}},5568:(Nt,Et,P)=>{var ct=P(6714);Nt.exports=function(H){if(!ct(H))throw new Error("graphology-utils/infer-type: expecting a valid graphology instance.");var l=H.type;return"mixed"!==l?l:0===H.directedSize&&0===H.undirectedSize||H.directedSize>0&&H.undirectedSize>0?"mixed":H.directedSize>0?"directed":"undirected"}},6714:Nt=>{Nt.exports=function(P){return null!==P&&"object"==typeof P&&"function"==typeof P.addUndirectedEdgeWithKey&&"function"==typeof P.dropNode&&"boolean"==typeof P.multi}},5595:function(Nt){Nt.exports=function(){"use strict";function Et(p){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(p)}function P(p,b){p.prototype=Object.create(b.prototype),p.prototype.constructor=p,S(p,b)}function ct(p){return(ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)})(p)}function S(p,b){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,u){return g.__proto__=u,g})(p,b)}function H(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(p){return!1}}function l(p,b,g){return(l=H()?Reflect.construct.bind():function(u,c,v){var k=[null];k.push.apply(k,c);var z=new(Function.bind.apply(u,k));return v&&S(z,v.prototype),z}).apply(null,arguments)}function G(p){var b="function"==typeof Map?new Map:void 0;return G=function(g){if(null===g||-1===Function.toString.call(g).indexOf("[native code]"))return g;if("function"!=typeof g)throw new TypeError("Super expression must either be null or a function");if(void 0!==b){if(b.has(g))return b.get(g);b.set(g,c)}function c(){return l(g,arguments,ct(this).constructor)}return c.prototype=Object.create(g.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),S(c,g)},G(p)}function D(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}var O=function(){for(var p=arguments[0],b=1,g=arguments.length;b<g;b++)if(arguments[b])for(var u in arguments[b])p[u]=arguments[b][u];return p};function x(p,b,g,u){var c=p._nodes.get(b),v=null;return c?v="mixed"===u?c.out&&c.out[g]||c.undirected&&c.undirected[g]:"directed"===u?c.out&&c.out[g]:c.undirected&&c.undirected[g]:v}function w(p){return"object"===Et(p)&&null!==p&&p.constructor===Object}function E(p){var b;for(b in p)return!1;return!0}function I(p,b,g){Object.defineProperty(p,b,{enumerable:!1,configurable:!1,writable:!0,value:g})}function N(p,b,g){var u={enumerable:!0,configurable:!0};"function"==typeof g?u.get=g:(u.value=g,u.writable=!1),Object.defineProperty(p,b,u)}function L(p){return!(!w(p)||p.attributes&&!Array.isArray(p.attributes))}"function"==typeof Object.assign&&(O=Object.assign);var et,q={exports:{}},rt="object"==typeof Reflect?Reflect:null,ut=rt&&"function"==typeof rt.apply?rt.apply:function(p,b,g){return Function.prototype.apply.call(p,b,g)};et=rt&&"function"==typeof rt.ownKeys?rt.ownKeys:Object.getOwnPropertySymbols?function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:function(p){return Object.getOwnPropertyNames(p)};var Z=Number.isNaN||function(p){return p!=p};function $(){$.init.call(this)}q.exports=$,q.exports.once=function(p,b){return new Promise(function(g,u){function c(k){p.removeListener(b,v),u(k)}function v(){"function"==typeof p.removeListener&&p.removeListener("error",c),g([].slice.call(arguments))}var k;Ut(p,b,v,{once:!0}),"error"!==b&&("function"==typeof(k=p).on&&Ut(k,"error",c,{once:!0}))})},$.EventEmitter=$,$.prototype._events=void 0,$.prototype._eventsCount=0,$.prototype._maxListeners=void 0;var F=10;function T(p){if("function"!=typeof p)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof p)}function ot(p){return void 0===p._maxListeners?$.defaultMaxListeners:p._maxListeners}function vt(p,b,g,u){var c,v,k;if(T(g),void 0===(v=p._events)?(v=p._events=Object.create(null),p._eventsCount=0):(void 0!==v.newListener&&(p.emit("newListener",b,g.listener?g.listener:g),v=p._events),k=v[b]),void 0===k)k=v[b]=g,++p._eventsCount;else if("function"==typeof k?k=v[b]=u?[g,k]:[k,g]:u?k.unshift(g):k.push(g),(c=ot(p))>0&&k.length>c&&!k.warned){k.warned=!0;var tt=new Error("Possible EventEmitter memory leak detected. "+k.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit");tt.name="MaxListenersExceededWarning",tt.emitter=p,tt.type=b,tt.count=k.length,console&&console.warn&&console.warn(tt)}return p}function xt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ft(p,b,g){var u={fired:!1,wrapFn:void 0,target:p,type:b,listener:g},c=xt.bind(u);return c.listener=g,u.wrapFn=c,c}function pt(p,b,g){var u=p._events;if(void 0===u)return[];var c=u[b];return void 0===c?[]:"function"==typeof c?g?[c.listener||c]:[c]:g?function(v){for(var k=new Array(v.length),z=0;z<k.length;++z)k[z]=v[z].listener||v[z];return k}(c):Dt(c,c.length)}function Ct(p){var b=this._events;if(void 0!==b){var g=b[p];if("function"==typeof g)return 1;if(void 0!==g)return g.length}return 0}function Dt(p,b){for(var g=new Array(b),u=0;u<b;++u)g[u]=p[u];return g}function Ut(p,b,g,u){if("function"==typeof p.on)u.once?p.once(b,g):p.on(b,g);else{if("function"!=typeof p.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof p);p.addEventListener(b,function c(v){u.once&&p.removeEventListener(b,c),g(v)})}}function jt(p){if("function"!=typeof p)throw new Error("obliterator/iterator: expecting a function!");this.next=p}Object.defineProperty($,"defaultMaxListeners",{enumerable:!0,get:function(){return F},set:function(p){if("number"!=typeof p||p<0||Z(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+p+".");F=p}}),$.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},$.prototype.setMaxListeners=function(p){if("number"!=typeof p||p<0||Z(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this},$.prototype.getMaxListeners=function(){return ot(this)},$.prototype.emit=function(p){for(var b=[],g=1;g<arguments.length;g++)b.push(arguments[g]);var u="error"===p,c=this._events;if(void 0!==c)u=u&&void 0===c.error;else if(!u)return!1;if(u){var v;if(b.length>0&&(v=b[0]),v instanceof Error)throw v;var k=new Error("Unhandled error."+(v?" ("+v.message+")":""));throw k.context=v,k}var z=c[p];if(void 0===z)return!1;if("function"==typeof z)ut(z,this,b);else{var tt=z.length,_t=Dt(z,tt);for(g=0;g<tt;++g)ut(_t[g],this,b)}return!0},$.prototype.on=$.prototype.addListener=function(p,b){return vt(this,p,b,!1)},$.prototype.prependListener=function(p,b){return vt(this,p,b,!0)},$.prototype.once=function(p,b){return T(b),this.on(p,ft(this,p,b)),this},$.prototype.prependOnceListener=function(p,b){return T(b),this.prependListener(p,ft(this,p,b)),this},$.prototype.off=$.prototype.removeListener=function(p,b){var g,u,c,v,k;if(T(b),void 0===(u=this._events))return this;if(void 0===(g=u[p]))return this;if(g===b||g.listener===b)0==--this._eventsCount?this._events=Object.create(null):(delete u[p],u.removeListener&&this.emit("removeListener",p,g.listener||b));else if("function"!=typeof g){for(c=-1,v=g.length-1;v>=0;v--)if(g[v]===b||g[v].listener===b){k=g[v].listener,c=v;break}if(c<0)return this;0===c?g.shift():function(z,tt){for(;tt+1<z.length;tt++)z[tt]=z[tt+1];z.pop()}(g,c),1===g.length&&(u[p]=g[0]),void 0!==u.removeListener&&this.emit("removeListener",p,k||b)}return this},$.prototype.removeAllListeners=function(p){var b,g,u;if(void 0===(g=this._events))return this;if(void 0===g.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==g[p]&&(0==--this._eventsCount?this._events=Object.create(null):delete g[p]),this;if(0===arguments.length){var c,v=Object.keys(g);for(u=0;u<v.length;++u)"removeListener"!==(c=v[u])&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(b=g[p]))this.removeListener(p,b);else if(void 0!==b)for(u=b.length-1;u>=0;u--)this.removeListener(p,b[u]);return this},$.prototype.listeners=function(p){return pt(this,p,!0)},$.prototype.rawListeners=function(p){return pt(this,p,!1)},$.listenerCount=function(p,b){return"function"==typeof p.listenerCount?p.listenerCount(b):Ct.call(p,b)},$.prototype.listenerCount=Ct,$.prototype.eventNames=function(){return this._eventsCount>0?et(this._events):[]},"undefined"!=typeof Symbol&&(jt.prototype[Symbol.iterator]=function(){return this}),jt.of=function(){var p=arguments,b=p.length,g=0;return new jt(function(){return g>=b?{done:!0}:{done:!1,value:p[g++]}})},jt.empty=function(){return new jt(function(){return{done:!0}})},jt.fromSequence=function(p){var b=0,g=p.length;return new jt(function(){return b>=g?{done:!0}:{done:!1,value:p[b++]}})},jt.is=function(p){return p instanceof jt||"object"==typeof p&&null!==p&&"function"==typeof p.next};var te=jt,Kt={};Kt.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,Kt.SYMBOL_SUPPORT="undefined"!=typeof Symbol;var Qt=te,ye=Kt.ARRAY_BUFFER_SUPPORT,Le=Kt.SYMBOL_SUPPORT,re=function(p){var g,b="string"==typeof(g=p)||Array.isArray(g)||ye&&ArrayBuffer.isView(g)?Qt.fromSequence(g):"object"!=typeof g||null===g?null:Le&&"function"==typeof g[Symbol.iterator]?g[Symbol.iterator]():"function"==typeof g.next?g:null;if(!b)throw new Error("obliterator: target is not iterable nor a valid iterator.");return b},Se=re,Qe=function(p,b){for(var g,u=arguments.length>1?b:1/0,c=u!==1/0?new Array(u):[],v=0,k=Se(p);;){if(v===u)return c;if((g=k.next()).done)return v!==b&&(c.length=v),c;c[v++]=g.value}},ve=function(p){function b(g){var u;return(u=p.call(this)||this).name="GraphError",u.message=g,u}return P(b,p),b}(G(Error)),kt=function(p){function b(g){var u;return(u=p.call(this,g)||this).name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(D(u),b.prototype.constructor),u}return P(b,p),b}(ve),Mt=function(p){function b(g){var u;return(u=p.call(this,g)||this).name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(D(u),b.prototype.constructor),u}return P(b,p),b}(ve),Pt=function(p){function b(g){var u;return(u=p.call(this,g)||this).name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(D(u),b.prototype.constructor),u}return P(b,p),b}(ve);function Te(p,b){this.key=p,this.attributes=b,this.clear()}function Ke(p,b){this.key=p,this.attributes=b,this.clear()}function an(p,b){this.key=p,this.attributes=b,this.clear()}function We(p,b,g,u,c){this.key=b,this.attributes=c,this.undirected=p,this.source=g,this.target=u}function Ie(p,b,g,u,c,v,k){var z,tt,_t,At;if(u=""+u,0===g){if(!(z=p._nodes.get(u)))throw new Mt("Graph.".concat(b,': could not find the "').concat(u,'" node in the graph.'));_t=c,At=v}else if(3===g){if(!(tt=p._edges.get(c=""+c)))throw new Mt("Graph.".concat(b,': could not find the "').concat(c,'" edge in the graph.'));var gt=tt.source.key,Lt=tt.target.key;if(u===gt)z=tt.target;else{if(u!==Lt)throw new Mt("Graph.".concat(b,': the "').concat(u,'" node is not attached to the "').concat(c,'" edge (').concat(gt,", ").concat(Lt,")."));z=tt.source}_t=v,At=k}else{if(!(tt=p._edges.get(u)))throw new Mt("Graph.".concat(b,': could not find the "').concat(u,'" edge in the graph.'));z=1===g?tt.source:tt.target,_t=c,At=v}return[z,_t,At]}Te.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}},Ke.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}},an.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}},We.prototype.attach=function(){var p="out",b="in";this.undirected&&(p=b="undirected");var g=this.source.key,u=this.target.key;this.source[p][u]=this,this.undirected&&g===u||(this.target[b][g]=this)},We.prototype.attachMulti=function(){var p="out",b="in",g=this.source.key,u=this.target.key;this.undirected&&(p=b="undirected");var c=this.source[p],v=c[u];if(void 0===v)return c[u]=this,void(this.undirected&&g===u||(this.target[b][g]=this));v.previous=this,this.next=v,c[u]=this,this.target[b][g]=this},We.prototype.detach=function(){var p=this.source.key,g="out",u="in";this.undirected&&(g=u="undirected"),delete this.source[g][this.target.key],delete this.target[u][p]},We.prototype.detachMulti=function(){var p=this.source.key,b=this.target.key,g="out",u="in";this.undirected&&(g=u="undirected"),void 0===this.previous?void 0===this.next?(delete this.source[g][b],delete this.target[u][p]):(this.next.previous=void 0,this.source[g][b]=this.next,this.target[u][p]=this.next):(this.previous.next=this.next,void 0!==this.next&&(this.next.previous=this.previous))};var Kn=[{name:function(p){return"get".concat(p,"Attribute")},attacher:function(p,b,g){p.prototype[b]=function(u,c,v){var k=Ie(this,b,g,u,c,v);return k[0].attributes[k[1]]}}},{name:function(p){return"get".concat(p,"Attributes")},attacher:function(p,b,g){p.prototype[b]=function(u,c){return Ie(this,b,g,u,c)[0].attributes}}},{name:function(p){return"has".concat(p,"Attribute")},attacher:function(p,b,g){p.prototype[b]=function(u,c,v){var k=Ie(this,b,g,u,c,v);return k[0].attributes.hasOwnProperty(k[1])}}},{name:function(p){return"set".concat(p,"Attribute")},attacher:function(p,b,g){p.prototype[b]=function(u,c,v,k){var z=Ie(this,b,g,u,c,v,k),tt=z[0],_t=z[1];return tt.attributes[_t]=z[2],this.emit("nodeAttributesUpdated",{key:tt.key,type:"set",attributes:tt.attributes,name:_t}),this}}},{name:function(p){return"update".concat(p,"Attribute")},attacher:function(p,b,g){p.prototype[b]=function(u,c,v,k){var z=Ie(this,b,g,u,c,v,k),tt=z[0],_t=z[1],At=z[2];if("function"!=typeof At)throw new kt("Graph.".concat(b,": updater should be a function."));var gt=tt.attributes,Lt=At(gt[_t]);return gt[_t]=Lt,this.emit("nodeAttributesUpdated",{key:tt.key,type:"set",attributes:tt.attributes,name:_t}),this}}},{name:function(p){return"remove".concat(p,"Attribute")},attacher:function(p,b,g){p.prototype[b]=function(u,c,v){var k=Ie(this,b,g,u,c,v),z=k[0],tt=k[1];return delete z.attributes[tt],this.emit("nodeAttributesUpdated",{key:z.key,type:"remove",attributes:z.attributes,name:tt}),this}}},{name:function(p){return"replace".concat(p,"Attributes")},attacher:function(p,b,g){p.prototype[b]=function(u,c,v){var k=Ie(this,b,g,u,c,v),z=k[0],tt=k[1];if(!w(tt))throw new kt("Graph.".concat(b,": provided attributes are not a plain object."));return z.attributes=tt,this.emit("nodeAttributesUpdated",{key:z.key,type:"replace",attributes:z.attributes}),this}}},{name:function(p){return"merge".concat(p,"Attributes")},attacher:function(p,b,g){p.prototype[b]=function(u,c,v){var k=Ie(this,b,g,u,c,v),z=k[0],tt=k[1];if(!w(tt))throw new kt("Graph.".concat(b,": provided attributes are not a plain object."));return O(z.attributes,tt),this.emit("nodeAttributesUpdated",{key:z.key,type:"merge",attributes:z.attributes,data:tt}),this}}},{name:function(p){return"update".concat(p,"Attributes")},attacher:function(p,b,g){p.prototype[b]=function(u,c,v){var k=Ie(this,b,g,u,c,v),z=k[0],tt=k[1];if("function"!=typeof tt)throw new kt("Graph.".concat(b,": provided updater is not a function."));return z.attributes=tt(z.attributes),this.emit("nodeAttributesUpdated",{key:z.key,type:"update",attributes:z.attributes}),this}}}],Ge=[{name:function(p){return"get".concat(p,"Attribute")},attacher:function(p,b,g){p.prototype[b]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Pt("Graph.".concat(b,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Pt("Graph.".concat(b,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var k=""+u,z=""+c;if(c=arguments[2],!(v=x(this,k,z,g)))throw new Mt("Graph.".concat(b,': could not find an edge for the given path ("').concat(k,'" - "').concat(z,'").'))}else{if("mixed"!==g)throw new Pt("Graph.".concat(b,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new Mt("Graph.".concat(b,': could not find the "').concat(u,'" edge in the graph.'))}return v.attributes[c]}}},{name:function(p){return"get".concat(p,"Attributes")},attacher:function(p,b,g){p.prototype[b]=function(u){var c;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Pt("Graph.".concat(b,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new Pt("Graph.".concat(b,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var v=""+u,k=""+arguments[1];if(!(c=x(this,v,k,g)))throw new Mt("Graph.".concat(b,': could not find an edge for the given path ("').concat(v,'" - "').concat(k,'").'))}else{if("mixed"!==g)throw new Pt("Graph.".concat(b,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(c=this._edges.get(u=""+u)))throw new Mt("Graph.".concat(b,': could not find the "').concat(u,'" edge in the graph.'))}return c.attributes}}},{name:function(p){return"has".concat(p,"Attribute")},attacher:function(p,b,g){p.prototype[b]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Pt("Graph.".concat(b,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Pt("Graph.".concat(b,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var k=""+u,z=""+c;if(c=arguments[2],!(v=x(this,k,z,g)))throw new Mt("Graph.".concat(b,': could not find an edge for the given path ("').concat(k,'" - "').concat(z,'").'))}else{if("mixed"!==g)throw new Pt("Graph.".concat(b,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new Mt("Graph.".concat(b,': could not find the "').concat(u,'" edge in the graph.'))}return v.attributes.hasOwnProperty(c)}}},{name:function(p){return"set".concat(p,"Attribute")},attacher:function(p,b,g){p.prototype[b]=function(u,c,v){var k;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Pt("Graph.".concat(b,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new Pt("Graph.".concat(b,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var z=""+u,tt=""+c;if(c=arguments[2],v=arguments[3],!(k=x(this,z,tt,g)))throw new Mt("Graph.".concat(b,': could not find an edge for the given path ("').concat(z,'" - "').concat(tt,'").'))}else{if("mixed"!==g)throw new Pt("Graph.".concat(b,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(k=this._edges.get(u=""+u)))throw new Mt("Graph.".concat(b,': could not find the "').concat(u,'" edge in the graph.'))}return k.attributes[c]=v,this.emit("edgeAttributesUpdated",{key:k.key,type:"set",attributes:k.attributes,name:c}),this}}},{name:function(p){return"update".concat(p,"Attribute")},attacher:function(p,b,g){p.prototype[b]=function(u,c,v){var k;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Pt("Graph.".concat(b,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new Pt("Graph.".concat(b,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var z=""+u,tt=""+c;if(c=arguments[2],v=arguments[3],!(k=x(this,z,tt,g)))throw new Mt("Graph.".concat(b,': could not find an edge for the given path ("').concat(z,'" - "').concat(tt,'").'))}else{if("mixed"!==g)throw new Pt("Graph.".concat(b,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(k=this._edges.get(u=""+u)))throw new Mt("Graph.".concat(b,': could not find the "').concat(u,'" edge in the graph.'))}if("function"!=typeof v)throw new kt("Graph.".concat(b,": updater should be a function."));return k.attributes[c]=v(k.attributes[c]),this.emit("edgeAttributesUpdated",{key:k.key,type:"set",attributes:k.attributes,name:c}),this}}},{name:function(p){return"remove".concat(p,"Attribute")},attacher:function(p,b,g){p.prototype[b]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Pt("Graph.".concat(b,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Pt("Graph.".concat(b,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var k=""+u,z=""+c;if(c=arguments[2],!(v=x(this,k,z,g)))throw new Mt("Graph.".concat(b,': could not find an edge for the given path ("').concat(k,'" - "').concat(z,'").'))}else{if("mixed"!==g)throw new Pt("Graph.".concat(b,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new Mt("Graph.".concat(b,': could not find the "').concat(u,'" edge in the graph.'))}return delete v.attributes[c],this.emit("edgeAttributesUpdated",{key:v.key,type:"remove",attributes:v.attributes,name:c}),this}}},{name:function(p){return"replace".concat(p,"Attributes")},attacher:function(p,b,g){p.prototype[b]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Pt("Graph.".concat(b,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Pt("Graph.".concat(b,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var k=""+u,z=""+c;if(c=arguments[2],!(v=x(this,k,z,g)))throw new Mt("Graph.".concat(b,': could not find an edge for the given path ("').concat(k,'" - "').concat(z,'").'))}else{if("mixed"!==g)throw new Pt("Graph.".concat(b,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new Mt("Graph.".concat(b,': could not find the "').concat(u,'" edge in the graph.'))}if(!w(c))throw new kt("Graph.".concat(b,": provided attributes are not a plain object."));return v.attributes=c,this.emit("edgeAttributesUpdated",{key:v.key,type:"replace",attributes:v.attributes}),this}}},{name:function(p){return"merge".concat(p,"Attributes")},attacher:function(p,b,g){p.prototype[b]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Pt("Graph.".concat(b,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Pt("Graph.".concat(b,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var k=""+u,z=""+c;if(c=arguments[2],!(v=x(this,k,z,g)))throw new Mt("Graph.".concat(b,': could not find an edge for the given path ("').concat(k,'" - "').concat(z,'").'))}else{if("mixed"!==g)throw new Pt("Graph.".concat(b,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new Mt("Graph.".concat(b,': could not find the "').concat(u,'" edge in the graph.'))}if(!w(c))throw new kt("Graph.".concat(b,": provided attributes are not a plain object."));return O(v.attributes,c),this.emit("edgeAttributesUpdated",{key:v.key,type:"merge",attributes:v.attributes,data:c}),this}}},{name:function(p){return"update".concat(p,"Attributes")},attacher:function(p,b,g){p.prototype[b]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Pt("Graph.".concat(b,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Pt("Graph.".concat(b,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var k=""+u,z=""+c;if(c=arguments[2],!(v=x(this,k,z,g)))throw new Mt("Graph.".concat(b,': could not find an edge for the given path ("').concat(k,'" - "').concat(z,'").'))}else{if("mixed"!==g)throw new Pt("Graph.".concat(b,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new Mt("Graph.".concat(b,': could not find the "').concat(u,'" edge in the graph.'))}if("function"!=typeof c)throw new kt("Graph.".concat(b,": provided updater is not a function."));return v.attributes=c(v.attributes),this.emit("edgeAttributesUpdated",{key:v.key,type:"update",attributes:v.attributes}),this}}}],vn=te,Xi=re,Ue=function(){var p=arguments,b=null,g=-1;return new vn(function(){for(var u=null;;){if(null===b){if(++g>=p.length)return{done:!0};b=Xi(p[g])}if(!0!==(u=b.next()).done)break;b=null}return u})},ji=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function Ps(p,b,g,u){var c=!1;for(var v in b)if(v!==u){var k=b[v];if(c=g(k.key,k.attributes,k.source.key,k.target.key,k.source.attributes,k.target.attributes,k.undirected),p&&c)return k.key}}function Pn(p,b,g,u){var c,v,k,z=!1;for(var tt in b)if(tt!==u){c=b[tt];do{if(z=g(c.key,c.attributes,(v=c.source).key,(k=c.target).key,v.attributes,k.attributes,c.undirected),p&&z)return c.key;c=c.next}while(void 0!==c)}}function un(p,b){var g,u=Object.keys(p),c=u.length,v=0;return new te(function(){do{if(g)g=g.next;else{if(v>=c)return{done:!0};var k=u[v++];if(k===b){g=void 0;continue}g=p[k]}}while(!g);return{done:!1,value:{edge:g.key,attributes:g.attributes,source:g.source.key,target:g.target.key,sourceAttributes:g.source.attributes,targetAttributes:g.target.attributes,undirected:g.undirected}}})}function vi(p,b,g,u){var c=b[g];if(c){var v=c.source,k=c.target;return u(c.key,c.attributes,v.key,k.key,v.attributes,k.attributes,c.undirected)&&p?c.key:void 0}}function mr(p,b,g,u){var c=b[g];if(c){var v=!1;do{if(v=u(c.key,c.attributes,c.source.key,c.target.key,c.source.attributes,c.target.attributes,c.undirected),p&&v)return c.key;c=c.next}while(void 0!==c)}}function ir(p,b){var g=p[b];return void 0!==g.next?new te(function(){if(!g)return{done:!0};var u={edge:g.key,attributes:g.attributes,source:g.source.key,target:g.target.key,sourceAttributes:g.source.attributes,targetAttributes:g.target.attributes,undirected:g.undirected};return g=g.next,{done:!1,value:u}}):te.of({edge:g.key,attributes:g.attributes,source:g.source.key,target:g.target.key,sourceAttributes:g.source.attributes,targetAttributes:g.target.attributes,undirected:g.undirected})}function Hr(p,b){if(0===p.size)return[];if("mixed"===b||b===p.type)return"function"==typeof Array.from?Array.from(p._edges.keys()):Qe(p._edges.keys(),p._edges.size);for(var g,u,v=new Array("undirected"===b?p.undirectedSize:p.directedSize),k="undirected"===b,z=p._edges.values(),tt=0;!0!==(g=z.next()).done;)(u=g.value).undirected===k&&(v[tt++]=u.key);return v}function Lo(p,b,g,u){if(0!==b.size)for(var c,v,k="mixed"!==g&&g!==b.type,z="undirected"===g,tt=!1,_t=b._edges.values();!0!==(c=_t.next()).done;)if(v=c.value,!k||v.undirected===z){var gt=v.key,Rt=v.source,Jt=v.target;if(tt=u(gt,v.attributes,Rt.key,Jt.key,Rt.attributes,Jt.attributes,v.undirected),p&&tt)return gt}}function wr(p,b){if(0===p.size)return te.empty();var g="mixed"!==b&&b!==p.type,u="undirected"===b,c=p._edges.values();return new te(function(){for(var v,k;;){if((v=c.next()).done)return v;if(k=v.value,!g||k.undirected===u)break}return{value:{edge:k.key,attributes:k.attributes,source:k.source.key,target:k.target.key,sourceAttributes:k.source.attributes,targetAttributes:k.target.attributes,undirected:k.undirected},done:!1}})}function Vn(p,b,g,u,c,v){var k,z=b?Pn:Ps;if("undirected"!==g&&("out"!==u&&(k=z(p,c.in,v),p&&k)||"in"!==u&&(k=z(p,c.out,v,u?void 0:c.key),p&&k))||"directed"!==g&&(k=z(p,c.undirected,v),p&&k))return k}function yi(p,b,g,u){var c=[];return Vn(!1,p,b,g,u,function(v){c.push(v)}),c}function mi(p,b,g){var u=te.empty();return"undirected"!==p&&("out"!==b&&void 0!==g.in&&(u=Ue(u,un(g.in))),"in"!==b&&void 0!==g.out&&(u=Ue(u,un(g.out,b?void 0:g.key)))),"directed"!==p&&void 0!==g.undirected&&(u=Ue(u,un(g.undirected))),u}function br(p,b,g,u,c,v,k){var z,tt=g?mr:vi;if("undirected"!==b&&(void 0!==c.in&&"out"!==u&&(z=tt(p,c.in,v,k),p&&z)||void 0!==c.out&&"in"!==u&&(u||c.key!==v)&&(z=tt(p,c.out,v,k),p&&z))||"directed"!==b&&void 0!==c.undirected&&(z=tt(p,c.undirected,v,k),p&&z))return z}function Ki(p,b,g,u,c){var v=[];return br(!1,p,b,g,u,c,function(k){v.push(k)}),v}function Xr(p,b,g,u){var c=te.empty();return"undirected"!==p&&(void 0!==g.in&&"out"!==b&&u in g.in&&(c=Ue(c,ir(g.in,u))),void 0!==g.out&&"in"!==b&&u in g.out&&(b||g.key!==u)&&(c=Ue(c,ir(g.out,u)))),"directed"!==p&&void 0!==g.undirected&&u in g.undirected&&(c=Ue(c,ir(g.undirected,u))),c}var qn=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function Wn(){this.A=null,this.B=null}function Un(p,b,g,u,c){for(var v in u){var k=u[v],z=k.source,_t=z===g?k.target:z;if(!b||!b.has(_t.key)){var At=c(_t.key,_t.attributes);if(p&&At)return _t.key}}}function In(p,b,g,u,c){if("mixed"!==b){if("undirected"===b)return Un(p,null,u,u.undirected,c);if("string"==typeof g)return Un(p,null,u,u[g],c)}var v,k=new Wn;if("undirected"!==b){if("out"!==g){if(v=Un(p,null,u,u.in,c),p&&v)return v;k.wrap(u.in)}if("in"!==g){if(v=Un(p,k,u,u.out,c),p&&v)return v;k.wrap(u.out)}}if("directed"!==b&&(v=Un(p,k,u,u.undirected,c),p&&v))return v}function wi(p,b,g){var u=Object.keys(g),c=u.length,v=0;return new te(function(){var k=null;do{if(v>=c)return p&&p.wrap(g),{done:!0};var z=g[u[v++]],tt=z.source;k=tt===b?z.target:tt,p&&p.has(k.key)&&(k=null)}while(null===k);return{done:!1,value:{neighbor:k.key,attributes:k.attributes}}})}function xr(p,b,g,u,c){for(var v,k,z,tt,_t,At,gt,Lt=u._nodes.values(),Rt=u.type;!0!==(v=Lt.next()).done;){var Jt=!1;if(k=v.value,"undirected"!==Rt)for(z in tt=k.out){_t=tt[z];do{if(Jt=!0,gt=c(k.key,(At=_t.target).key,k.attributes,At.attributes,_t.key,_t.attributes,_t.undirected),p&&gt)return _t;_t=_t.next}while(_t)}if("directed"!==Rt)for(z in tt=k.undirected)if(!(b&&k.key>z)){_t=tt[z];do{if((At=_t.target).key!==z&&(At=_t.source),Jt=!0,gt=c(k.key,At.key,k.attributes,At.attributes,_t.key,_t.attributes,_t.undirected),p&&gt)return _t;_t=_t.next}while(_t)}if(g&&!Jt&&(gt=c(k.key,null,k.attributes,null,null,null,null),p&&gt))return null}}function _r(p){if(!w(p))throw new kt('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in p))throw new kt("Graph.import: serialized node is missing its key.");if("attributes"in p&&(!w(p.attributes)||null===p.attributes))throw new kt("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function Ws(p){if(!w(p))throw new kt('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in p))throw new kt("Graph.import: serialized edge is missing its source.");if(!("target"in p))throw new kt("Graph.import: serialized edge is missing its target.");if("attributes"in p&&(!w(p.attributes)||null===p.attributes))throw new kt("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in p&&"boolean"!=typeof p.undirected)throw new kt("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}Wn.prototype.wrap=function(p){null===this.A?this.A=p:null===this.B&&(this.B=p)},Wn.prototype.has=function(p){return null!==this.A&&p in this.A||null!==this.B&&p in this.B};var Ro,Us=(Ro=255&Math.floor(256*Math.random()),function(){return Ro++}),qa=new Set(["directed","undirected","mixed"]),zo=new Set(["domain","_events","_eventsCount","_maxListeners"]),Ar={allowSelfLoops:!0,multi:!1,type:"mixed"};function Vi(p,b,g){var u=new p.NodeDataClass(b,g);return p._nodes.set(b,u),p.emit("nodeAdded",{key:b,attributes:g}),u}function Go(p,b,g,u,c,v,k,z){if(!u&&"undirected"===p.type)throw new Pt("Graph.".concat(b,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(u&&"directed"===p.type)throw new Pt("Graph.".concat(b,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(z&&!w(z))throw new kt("Graph.".concat(b,': invalid attributes. Expecting an object but got "').concat(z,'"'));if(v=""+v,k=""+k,z=z||{},!p.allowSelfLoops&&v===k)throw new Pt("Graph.".concat(b,': source & target are the same ("').concat(v,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var tt=p._nodes.get(v),_t=p._nodes.get(k);if(!tt)throw new Mt("Graph.".concat(b,': source node "').concat(v,'" not found.'));if(!_t)throw new Mt("Graph.".concat(b,': target node "').concat(k,'" not found.'));var At={key:null,undirected:u,source:v,target:k,attributes:z};if(g)c=p._edgeKeyGenerator();else if(p._edges.has(c=""+c))throw new Pt("Graph.".concat(b,': the "').concat(c,'" edge already exists in the graph.'));if(!p.multi&&(u?void 0!==tt.undirected[k]:void 0!==tt.out[k]))throw new Pt("Graph.".concat(b,': an edge linking "').concat(v,'" to "').concat(k,"\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option."));var gt=new We(u,c,tt,_t,z);p._edges.set(c,gt);var Lt=v===k;return u?(tt.undirectedDegree++,_t.undirectedDegree++,Lt&&(tt.undirectedLoops++,p._undirectedSelfLoopCount++)):(tt.outDegree++,_t.inDegree++,Lt&&(tt.directedLoops++,p._directedSelfLoopCount++)),p.multi?gt.attachMulti():gt.attach(),u?p._undirectedSize++:p._directedSize++,At.key=c,p.emit("edgeAdded",At),c}function jr(p,b,g,u,c,v,k,z,tt){if(!u&&"undirected"===p.type)throw new Pt("Graph.".concat(b,": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead."));if(u&&"directed"===p.type)throw new Pt("Graph.".concat(b,": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead."));if(z)if(tt){if("function"!=typeof z)throw new kt("Graph.".concat(b,': invalid updater function. Expecting a function but got "').concat(z,'"'))}else if(!w(z))throw new kt("Graph.".concat(b,': invalid attributes. Expecting an object but got "').concat(z,'"'));var _t;if(v=""+v,k=""+k,tt&&(_t=z,z=void 0),!p.allowSelfLoops&&v===k)throw new Pt("Graph.".concat(b,': source & target are the same ("').concat(v,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var At,gt,Lt=p._nodes.get(v),Rt=p._nodes.get(k);if(!g&&(At=p._edges.get(c))){if(!(At.source.key===v&&At.target.key===k||u&&At.source.key===k&&At.target.key===v))throw new Pt("Graph.".concat(b,': inconsistency detected when attempting to merge the "').concat(c,'" edge with "').concat(v,'" source & "').concat(k,'" target vs. ("').concat(At.source.key,'", "').concat(At.target.key,'").'));gt=At}if(gt||p.multi||!Lt||(gt=u?Lt.undirected[k]:Lt.out[k]),gt){var Jt=[gt.key,!1,!1,!1];return(tt?_t:z)?(tt?(gt.attributes=_t(gt.attributes),p.emit("edgeAttributesUpdated",{type:"replace",key:gt.key,attributes:gt.attributes})):(O(gt.attributes,z),p.emit("edgeAttributesUpdated",{type:"merge",key:gt.key,attributes:gt.attributes,data:z})),Jt):Jt}z=z||{},tt&&_t&&(z=_t(z));var Ae={key:null,undirected:u,source:v,target:k,attributes:z};if(g)c=p._edgeKeyGenerator();else if(p._edges.has(c=""+c))throw new Pt("Graph.".concat(b,': the "').concat(c,'" edge already exists in the graph.'));var Oe=!1,Pe=!1;Lt||(Lt=Vi(p,v,{}),Oe=!0,v===k&&(Rt=Lt,Pe=!0)),Rt||(Rt=Vi(p,k,{}),Pe=!0),At=new We(u,c,Lt,Rt,z),p._edges.set(c,At);var tn=v===k;return u?(Lt.undirectedDegree++,Rt.undirectedDegree++,tn&&(Lt.undirectedLoops++,p._undirectedSelfLoopCount++)):(Lt.outDegree++,Rt.inDegree++,tn&&(Lt.directedLoops++,p._directedSelfLoopCount++)),p.multi?At.attachMulti():At.attach(),u?p._undirectedSize++:p._directedSize++,Ae.key=c,p.emit("edgeAdded",Ae),[c,!0,Oe,Pe]}function or(p,b){p._edges.delete(b.key);var g=b.source,u=b.target,c=b.attributes,v=b.undirected,k=g===u;v?(g.undirectedDegree--,u.undirectedDegree--,k&&(g.undirectedLoops--,p._undirectedSelfLoopCount--)):(g.outDegree--,u.inDegree--,k&&(g.directedLoops--,p._directedSelfLoopCount--)),p.multi?b.detachMulti():b.detach(),v?p._undirectedSize--:p._directedSize--,p.emit("edgeDropped",{key:b.key,attributes:c,source:g.key,target:u.key,undirected:v})}var p,_e=function(p){function b(u){var c;if(c=p.call(this)||this,"boolean"!=typeof(u=O({},Ar,u)).multi)throw new kt("Graph.constructor: invalid 'multi' option. Expecting a boolean but got \"".concat(u.multi,'".'));if(!qa.has(u.type))throw new kt('Graph.constructor: invalid \'type\' option. Should be one of "mixed", "directed" or "undirected" but got "'.concat(u.type,'".'));if("boolean"!=typeof u.allowSelfLoops)throw new kt("Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \"".concat(u.allowSelfLoops,'".'));var v="mixed"===u.type?Te:"directed"===u.type?Ke:an;I(D(c),"NodeDataClass",v);var k="geid_"+Us()+"_",z=0;return I(D(c),"_attributes",{}),I(D(c),"_nodes",new Map),I(D(c),"_edges",new Map),I(D(c),"_directedSize",0),I(D(c),"_undirectedSize",0),I(D(c),"_directedSelfLoopCount",0),I(D(c),"_undirectedSelfLoopCount",0),I(D(c),"_edgeKeyGenerator",function(){var tt;do{tt=k+z++}while(c._edges.has(tt));return tt}),I(D(c),"_options",u),zo.forEach(function(tt){return I(D(c),tt,c[tt])}),N(D(c),"order",function(){return c._nodes.size}),N(D(c),"size",function(){return c._edges.size}),N(D(c),"directedSize",function(){return c._directedSize}),N(D(c),"undirectedSize",function(){return c._undirectedSize}),N(D(c),"selfLoopCount",function(){return c._directedSelfLoopCount+c._undirectedSelfLoopCount}),N(D(c),"directedSelfLoopCount",function(){return c._directedSelfLoopCount}),N(D(c),"undirectedSelfLoopCount",function(){return c._undirectedSelfLoopCount}),N(D(c),"multi",c._options.multi),N(D(c),"type",c._options.type),N(D(c),"allowSelfLoops",c._options.allowSelfLoops),N(D(c),"implementation",function(){return"graphology"}),c}P(b,p);var g=b.prototype;return g._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},g.hasNode=function(u){return this._nodes.has(""+u)},g.hasDirectedEdge=function(u,c){if("undirected"===this.type)return!1;if(1===arguments.length){var k=this._edges.get(""+u);return!!k&&!k.undirected}if(2===arguments.length){c=""+c;var z=this._nodes.get(u=""+u);return!!z&&z.out.hasOwnProperty(c)}throw new kt("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},g.hasUndirectedEdge=function(u,c){if("directed"===this.type)return!1;if(1===arguments.length){var k=this._edges.get(""+u);return!!k&&k.undirected}if(2===arguments.length){c=""+c;var z=this._nodes.get(u=""+u);return!!z&&z.undirected.hasOwnProperty(c)}throw new kt("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},g.hasEdge=function(u,c){if(1===arguments.length)return this._edges.has(""+u);if(2===arguments.length){c=""+c;var k=this._nodes.get(u=""+u);return!!k&&(void 0!==k.out&&k.out.hasOwnProperty(c)||void 0!==k.undirected&&k.undirected.hasOwnProperty(c))}throw new kt("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},g.directedEdge=function(u,c){if("undirected"!==this.type){if(u=""+u,c=""+c,this.multi)throw new Pt("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var v=this._nodes.get(u);if(!v)throw new Mt('Graph.directedEdge: could not find the "'.concat(u,'" source node in the graph.'));if(!this._nodes.has(c))throw new Mt('Graph.directedEdge: could not find the "'.concat(c,'" target node in the graph.'));var k=v.out&&v.out[c]||void 0;return k?k.key:void 0}},g.undirectedEdge=function(u,c){if("directed"!==this.type){if(u=""+u,c=""+c,this.multi)throw new Pt("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var v=this._nodes.get(u);if(!v)throw new Mt('Graph.undirectedEdge: could not find the "'.concat(u,'" source node in the graph.'));if(!this._nodes.has(c))throw new Mt('Graph.undirectedEdge: could not find the "'.concat(c,'" target node in the graph.'));var k=v.undirected&&v.undirected[c]||void 0;return k?k.key:void 0}},g.edge=function(u,c){if(this.multi)throw new Pt("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new Mt('Graph.edge: could not find the "'.concat(u,'" source node in the graph.'));if(!this._nodes.has(c))throw new Mt('Graph.edge: could not find the "'.concat(c,'" target node in the graph.'));var k=v.out&&v.out[c]||v.undirected&&v.undirected[c]||void 0;if(k)return k.key},g.areDirectedNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new Mt('Graph.areDirectedNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&(c in v.in||c in v.out)},g.areOutNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new Mt('Graph.areOutNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&c in v.out},g.areInNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new Mt('Graph.areInNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&c in v.in},g.areUndirectedNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new Mt('Graph.areUndirectedNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"directed"!==this.type&&c in v.undirected},g.areNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new Mt('Graph.areNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&(c in v.in||c in v.out)||"directed"!==this.type&&c in v.undirected},g.areInboundNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new Mt('Graph.areInboundNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&c in v.in||"directed"!==this.type&&c in v.undirected},g.areOutboundNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new Mt('Graph.areOutboundNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&c in v.out||"directed"!==this.type&&c in v.undirected},g.inDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.inDegree: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.inDegree},g.outDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.outDegree: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.outDegree},g.directedDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.directedDegree: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.inDegree+c.outDegree},g.undirectedDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.undirectedDegree: could not find the "'.concat(u,'" node in the graph.'));return"directed"===this.type?0:c.undirectedDegree},g.inboundDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.inboundDegree: could not find the "'.concat(u,'" node in the graph.'));var v=0;return"directed"!==this.type&&(v+=c.undirectedDegree),"undirected"!==this.type&&(v+=c.inDegree),v},g.outboundDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.outboundDegree: could not find the "'.concat(u,'" node in the graph.'));var v=0;return"directed"!==this.type&&(v+=c.undirectedDegree),"undirected"!==this.type&&(v+=c.outDegree),v},g.degree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.degree: could not find the "'.concat(u,'" node in the graph.'));var v=0;return"directed"!==this.type&&(v+=c.undirectedDegree),"undirected"!==this.type&&(v+=c.inDegree+c.outDegree),v},g.inDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.inDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.inDegree-c.directedLoops},g.outDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.outDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.outDegree-c.directedLoops},g.directedDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.directedDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.inDegree+c.outDegree-2*c.directedLoops},g.undirectedDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.undirectedDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));return"directed"===this.type?0:c.undirectedDegree-2*c.undirectedLoops},g.inboundDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.inboundDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));var v=0,k=0;return"directed"!==this.type&&(v+=c.undirectedDegree,k+=2*c.undirectedLoops),"undirected"!==this.type&&(v+=c.inDegree,k+=c.directedLoops),v-k},g.outboundDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.outboundDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));var v=0,k=0;return"directed"!==this.type&&(v+=c.undirectedDegree,k+=2*c.undirectedLoops),"undirected"!==this.type&&(v+=c.outDegree,k+=c.directedLoops),v-k},g.degreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.degreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));var v=0,k=0;return"directed"!==this.type&&(v+=c.undirectedDegree,k+=2*c.undirectedLoops),"undirected"!==this.type&&(v+=c.inDegree+c.outDegree,k+=2*c.directedLoops),v-k},g.source=function(u){var c=this._edges.get(u=""+u);if(!c)throw new Mt('Graph.source: could not find the "'.concat(u,'" edge in the graph.'));return c.source.key},g.target=function(u){var c=this._edges.get(u=""+u);if(!c)throw new Mt('Graph.target: could not find the "'.concat(u,'" edge in the graph.'));return c.target.key},g.extremities=function(u){var c=this._edges.get(u=""+u);if(!c)throw new Mt('Graph.extremities: could not find the "'.concat(u,'" edge in the graph.'));return[c.source.key,c.target.key]},g.opposite=function(u,c){u=""+u;var v=this._edges.get(c=""+c);if(!v)throw new Mt('Graph.opposite: could not find the "'.concat(c,'" edge in the graph.'));var k=v.source.key,z=v.target.key;if(u===k)return z;if(u===z)return k;throw new Mt('Graph.opposite: the "'.concat(u,'" node is not attached to the "').concat(c,'" edge (').concat(k,", ").concat(z,")."))},g.hasExtremity=function(u,c){c=""+c;var v=this._edges.get(u=""+u);if(!v)throw new Mt('Graph.hasExtremity: could not find the "'.concat(u,'" edge in the graph.'));return v.source.key===c||v.target.key===c},g.isUndirected=function(u){var c=this._edges.get(u=""+u);if(!c)throw new Mt('Graph.isUndirected: could not find the "'.concat(u,'" edge in the graph.'));return c.undirected},g.isDirected=function(u){var c=this._edges.get(u=""+u);if(!c)throw new Mt('Graph.isDirected: could not find the "'.concat(u,'" edge in the graph.'));return!c.undirected},g.isSelfLoop=function(u){var c=this._edges.get(u=""+u);if(!c)throw new Mt('Graph.isSelfLoop: could not find the "'.concat(u,'" edge in the graph.'));return c.source===c.target},g.addNode=function(u,c){return function(k,z,tt){if(tt&&!w(tt))throw new kt('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(tt,'"'));if(tt=tt||{},k._nodes.has(z=""+z))throw new Pt('Graph.addNode: the "'.concat(z,'" node already exist in the graph.'));var _t=new k.NodeDataClass(z,tt);return k._nodes.set(z,_t),k.emit("nodeAdded",{key:z,attributes:tt}),_t}(this,u,c).key},g.mergeNode=function(u,c){if(c&&!w(c))throw new kt('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(c,'"'));c=c||{};var v=this._nodes.get(u=""+u);return v?(c&&(O(v.attributes,c),this.emit("nodeAttributesUpdated",{type:"merge",key:u,attributes:v.attributes,data:c})),[u,!1]):(v=new this.NodeDataClass(u,c),this._nodes.set(u,v),this.emit("nodeAdded",{key:u,attributes:c}),[u,!0])},g.updateNode=function(u,c){if(c&&"function"!=typeof c)throw new kt('Graph.updateNode: invalid updater function. Expecting a function but got "'.concat(c,'"'));var v=this._nodes.get(u=""+u);if(v)return c&&(v.attributes=c(v.attributes),this.emit("nodeAttributesUpdated",{type:"replace",key:u,attributes:v.attributes})),[u,!1];var z=c?c({}):{};return v=new this.NodeDataClass(u,z),this._nodes.set(u,v),this.emit("nodeAdded",{key:u,attributes:z}),[u,!0]},g.dropNode=function(u){var c,v=this._nodes.get(u=""+u);if(!v)throw new Mt('Graph.dropNode: could not find the "'.concat(u,'" node in the graph.'));if("undirected"!==this.type){for(var k in v.out){c=v.out[k];do{or(this,c),c=c.next}while(c)}for(var z in v.in){c=v.in[z];do{or(this,c),c=c.next}while(c)}}if("directed"!==this.type)for(var tt in v.undirected){c=v.undirected[tt];do{or(this,c),c=c.next}while(c)}this._nodes.delete(u),this.emit("nodeDropped",{key:u,attributes:v.attributes})},g.dropEdge=function(u){var c;if(arguments.length>1){var v=""+arguments[0],k=""+arguments[1];if(!(c=x(this,v,k,this.type)))throw new Mt('Graph.dropEdge: could not find the "'.concat(v,'" -> "').concat(k,'" edge in the graph.'))}else if(!(c=this._edges.get(u=""+u)))throw new Mt('Graph.dropEdge: could not find the "'.concat(u,'" edge in the graph.'));return or(this,c),this},g.dropDirectedEdge=function(u,c){if(arguments.length<2)throw new Pt("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new Pt("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var v=x(this,u=""+u,c=""+c,"directed");if(!v)throw new Mt('Graph.dropDirectedEdge: could not find a "'.concat(u,'" -> "').concat(c,'" edge in the graph.'));return or(this,v),this},g.dropUndirectedEdge=function(u,c){if(arguments.length<2)throw new Pt("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new Pt("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var v=x(this,u,c,"undirected");if(!v)throw new Mt('Graph.dropUndirectedEdge: could not find a "'.concat(u,'" -> "').concat(c,'" edge in the graph.'));return or(this,v),this},g.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")},g.clearEdges=function(){for(var u,c=this._nodes.values();!0!==(u=c.next()).done;)u.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")},g.getAttribute=function(u){return this._attributes[u]},g.getAttributes=function(){return this._attributes},g.hasAttribute=function(u){return this._attributes.hasOwnProperty(u)},g.setAttribute=function(u,c){return this._attributes[u]=c,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:u}),this},g.updateAttribute=function(u,c){if("function"!=typeof c)throw new kt("Graph.updateAttribute: updater should be a function.");return this._attributes[u]=c(this._attributes[u]),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:u}),this},g.removeAttribute=function(u){return delete this._attributes[u],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:u}),this},g.replaceAttributes=function(u){if(!w(u))throw new kt("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=u,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this},g.mergeAttributes=function(u){if(!w(u))throw new kt("Graph.mergeAttributes: provided attributes are not a plain object.");return O(this._attributes,u),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:u}),this},g.updateAttributes=function(u){if("function"!=typeof u)throw new kt("Graph.updateAttributes: provided updater is not a function.");return this._attributes=u(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this},g.updateEachNodeAttributes=function(u,c){if("function"!=typeof u)throw new kt("Graph.updateEachNodeAttributes: expecting an updater function.");if(c&&!L(c))throw new kt("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var v,k,z=this._nodes.values();!0!==(v=z.next()).done;)(k=v.value).attributes=u(k.key,k.attributes);this.emit("eachNodeAttributesUpdated",{hints:c||null})},g.updateEachEdgeAttributes=function(u,c){if("function"!=typeof u)throw new kt("Graph.updateEachEdgeAttributes: expecting an updater function.");if(c&&!L(c))throw new kt("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var v,k,z,tt,_t=this._edges.values();!0!==(v=_t.next()).done;)z=(k=v.value).source,k.attributes=u(k.key,k.attributes,z.key,(tt=k.target).key,z.attributes,tt.attributes,k.undirected);this.emit("eachEdgeAttributesUpdated",{hints:c||null})},g.forEachAdjacencyEntry=function(u){if("function"!=typeof u)throw new kt("Graph.forEachAdjacencyEntry: expecting a callback.");xr(!1,!1,!1,this,u)},g.forEachAdjacencyEntryWithOrphans=function(u){if("function"!=typeof u)throw new kt("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");xr(!1,!1,!0,this,u)},g.forEachAssymetricAdjacencyEntry=function(u){if("function"!=typeof u)throw new kt("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");xr(!1,!0,!1,this,u)},g.forEachAssymetricAdjacencyEntryWithOrphans=function(u){if("function"!=typeof u)throw new kt("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");xr(!1,!0,!0,this,u)},g.nodes=function(){return"function"==typeof Array.from?Array.from(this._nodes.keys()):Qe(this._nodes.keys(),this._nodes.size)},g.forEachNode=function(u){if("function"!=typeof u)throw new kt("Graph.forEachNode: expecting a callback.");for(var c,v,k=this._nodes.values();!0!==(c=k.next()).done;)u((v=c.value).key,v.attributes)},g.findNode=function(u){if("function"!=typeof u)throw new kt("Graph.findNode: expecting a callback.");for(var c,v,k=this._nodes.values();!0!==(c=k.next()).done;)if(u((v=c.value).key,v.attributes))return v.key},g.mapNodes=function(u){if("function"!=typeof u)throw new kt("Graph.mapNode: expecting a callback.");for(var c,v,k=this._nodes.values(),z=new Array(this.order),tt=0;!0!==(c=k.next()).done;)z[tt++]=u((v=c.value).key,v.attributes);return z},g.someNode=function(u){if("function"!=typeof u)throw new kt("Graph.someNode: expecting a callback.");for(var c,v,k=this._nodes.values();!0!==(c=k.next()).done;)if(u((v=c.value).key,v.attributes))return!0;return!1},g.everyNode=function(u){if("function"!=typeof u)throw new kt("Graph.everyNode: expecting a callback.");for(var c,v,k=this._nodes.values();!0!==(c=k.next()).done;)if(!u((v=c.value).key,v.attributes))return!1;return!0},g.filterNodes=function(u){if("function"!=typeof u)throw new kt("Graph.filterNodes: expecting a callback.");for(var c,v,k=this._nodes.values(),z=[];!0!==(c=k.next()).done;)u((v=c.value).key,v.attributes)&&z.push(v.key);return z},g.reduceNodes=function(u,c){if("function"!=typeof u)throw new kt("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new kt("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");for(var v,k,z=c,tt=this._nodes.values();!0!==(v=tt.next()).done;)z=u(z,(k=v.value).key,k.attributes);return z},g.nodeEntries=function(){var u=this._nodes.values();return new te(function(){var c=u.next();if(c.done)return c;var v=c.value;return{value:{node:v.key,attributes:v.attributes},done:!1}})},g.export=function(){var u=this,c=new Array(this._nodes.size),v=0;this._nodes.forEach(function(z,tt){var At,gt;c[v++]=(gt={key:tt},E((At=z).attributes)||(gt.attributes=O({},At.attributes)),gt)});var k=new Array(this._edges.size);return v=0,this._edges.forEach(function(z,tt){var _t,gt,Lt;k[v++]=(_t=u.type,Lt={key:tt,source:(gt=z).source.key,target:gt.target.key},E(gt.attributes)||(Lt.attributes=O({},gt.attributes)),"mixed"===_t&&gt.undirected&&(Lt.undirected=!0),Lt)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:c,edges:k}},g.import=function(u){var c,v,k,z,tt,_t=this,At=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(u instanceof b)return u.forEachNode(function(fn,yn){At?_t.mergeNode(fn,yn):_t.addNode(fn,yn)}),u.forEachEdge(function(fn,yn,qr,Jr,Po,Ja,Ji){At?Ji?_t.mergeUndirectedEdgeWithKey(fn,qr,Jr,yn):_t.mergeDirectedEdgeWithKey(fn,qr,Jr,yn):Ji?_t.addUndirectedEdgeWithKey(fn,qr,Jr,yn):_t.addDirectedEdgeWithKey(fn,qr,Jr,yn)}),this;if(!w(u))throw new kt("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(u.attributes){if(!w(u.attributes))throw new kt("Graph.import: invalid attributes. Expecting a plain object.");At?this.mergeAttributes(u.attributes):this.replaceAttributes(u.attributes)}if(u.nodes){if(k=u.nodes,!Array.isArray(k))throw new kt("Graph.import: invalid nodes. Expecting an array.");for(c=0,v=k.length;c<v;c++){_r(z=k[c]);var Lt=z.key,Rt=z.attributes;At?this.mergeNode(Lt,Rt):this.addNode(Lt,Rt)}}if(u.edges){var Jt=!1;if("undirected"===this.type&&(Jt=!0),k=u.edges,!Array.isArray(k))throw new kt("Graph.import: invalid edges. Expecting an array.");for(c=0,v=k.length;c<v;c++){Ws(tt=k[c]);var Ae=tt.source,Oe=tt.target,Pe=tt.attributes,tn=tt.undirected,cn=void 0===tn?Jt:tn;"key"in tt?(At?cn?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:cn?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,tt.key,Ae,Oe,Pe):(At?cn?this.mergeUndirectedEdge:this.mergeDirectedEdge:cn?this.addUndirectedEdge:this.addDirectedEdge).call(this,Ae,Oe,Pe)}}return this},g.nullCopy=function(u){var c=new b(O({},this._options,u));return c.replaceAttributes(O({},this.getAttributes())),c},g.emptyCopy=function(u){var c=this.nullCopy(u);return this._nodes.forEach(function(v,k){var z=O({},v.attributes);v=new c.NodeDataClass(k,z),c._nodes.set(k,v)}),c},g.copy=function(u){if("string"==typeof(u=u||{}).type&&u.type!==this.type&&"mixed"!==u.type)throw new Pt('Graph.copy: cannot create an incompatible copy from "'.concat(this.type,'" type to "').concat(u.type,'" because this would mean losing information about the current graph.'));if("boolean"==typeof u.multi&&u.multi!==this.multi&&!0!==u.multi)throw new Pt("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if("boolean"==typeof u.allowSelfLoops&&u.allowSelfLoops!==this.allowSelfLoops&&!0!==u.allowSelfLoops)throw new Pt("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");for(var c,v,k=this.emptyCopy(u),z=this._edges.values();!0!==(c=z.next()).done;)Go(k,"copy",!1,(v=c.value).undirected,v.key,v.source.key,v.target.key,O({},v.attributes));return k},g.toJSON=function(){return this.export()},g.toString=function(){return"[object Graph]"},g.inspect=function(){var u=this,c={};this._nodes.forEach(function(_t,At){c[At]=_t.attributes});var v={},k={};this._edges.forEach(function(_t,At){var gt,Lt=_t.undirected?"--":"->",Rt="",Jt=_t.source.key,me=_t.target.key;_t.undirected&&Jt>me&&(gt=Jt,Jt=me,me=gt);var Ae="(".concat(Jt,")").concat(Lt,"(").concat(me,")");At.startsWith("geid_")?u.multi&&(void 0===k[Ae]?k[Ae]=0:k[Ae]++,Rt+="".concat(k[Ae],". ")):Rt+="[".concat(At,"]: "),v[Rt+=Ae]=_t.attributes});var z={};for(var tt in this)this.hasOwnProperty(tt)&&!zo.has(tt)&&"function"!=typeof this[tt]&&"symbol"!==Et(tt)&&(z[tt]=this[tt]);return z.attributes=this._attributes,z.nodes=c,z.edges=v,I(z,"constructor",this.constructor),z},b}(q.exports.EventEmitter);"undefined"!=typeof Symbol&&(_e.prototype[Symbol.for("nodejs.util.inspect.custom")]=_e.prototype.inspect),[{name:function(p){return"".concat(p,"Edge")},generateKey:!0},{name:function(p){return"".concat(p,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(p){return"".concat(p,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(p){return"".concat(p,"EdgeWithKey")}},{name:function(p){return"".concat(p,"DirectedEdgeWithKey")},type:"directed"},{name:function(p){return"".concat(p,"UndirectedEdgeWithKey")},type:"undirected"}].forEach(function(p){["add","merge","update"].forEach(function(b){var g=p.name(b),u="add"===b?Go:jr;_e.prototype[g]=p.generateKey?function(c,v,k){return u(this,g,!0,"undirected"===(p.type||this.type),null,c,v,k,"update"===b)}:function(c,v,k,z){return u(this,g,!1,"undirected"===(p.type||this.type),c,v,k,z,"update"===b)}})}),p=_e,Kn.forEach(function(b){var g=b.name,u=b.attacher;u(p,g("Node"),0),u(p,g("Source"),1),u(p,g("Target"),2),u(p,g("Opposite"),3)}),function(p){Ge.forEach(function(b){var g=b.name,u=b.attacher;u(p,g("Edge"),"mixed"),u(p,g("DirectedEdge"),"directed"),u(p,g("UndirectedEdge"),"undirected")})}(_e),function(p){ji.forEach(function(b){var u,c,v,k;v=(u=b).type,k=u.direction,p.prototype[c=u.name]=function(z,tt){if("mixed"!==v&&"mixed"!==this.type&&v!==this.type)return[];if(!arguments.length)return Hr(this,v);if(1===arguments.length){var _t=this._nodes.get(z=""+z);if(void 0===_t)throw new Mt("Graph.".concat(c,': could not find the "').concat(z,'" node in the graph.'));return yi(this.multi,"mixed"===v?this.type:v,k,_t)}if(2===arguments.length){tt=""+tt;var At=this._nodes.get(z=""+z);if(!At)throw new Mt("Graph.".concat(c,':  could not find the "').concat(z,'" source node in the graph.'));if(!this._nodes.has(tt))throw new Mt("Graph.".concat(c,':  could not find the "').concat(tt,'" target node in the graph.'));return Ki(v,this.multi,k,At,tt)}throw new kt("Graph.".concat(c,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))},function(g,u){var c=u.name,v=u.type,k=u.direction,z="forEach"+c[0].toUpperCase()+c.slice(1,-1);g.prototype[z]=function(gt,Lt,Rt){if("mixed"===v||"mixed"===this.type||v===this.type){if(1===arguments.length)return Lo(!1,this,v,Rt=gt);if(2===arguments.length){Rt=Lt;var Jt=this._nodes.get(gt=""+gt);if(void 0===Jt)throw new Mt("Graph.".concat(z,': could not find the "').concat(gt,'" node in the graph.'));return Vn(!1,this.multi,"mixed"===v?this.type:v,k,Jt,Rt)}if(3===arguments.length){Lt=""+Lt;var me=this._nodes.get(gt=""+gt);if(!me)throw new Mt("Graph.".concat(z,':  could not find the "').concat(gt,'" source node in the graph.'));if(!this._nodes.has(Lt))throw new Mt("Graph.".concat(z,':  could not find the "').concat(Lt,'" target node in the graph.'));return br(!1,v,this.multi,k,me,Lt,Rt)}throw new kt("Graph.".concat(z,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}};var tt="map"+c[0].toUpperCase()+c.slice(1);g.prototype[tt]=function(){var gt,Lt=Array.prototype.slice.call(arguments),Rt=Lt.pop();if(0===Lt.length){var Jt=0;"directed"!==v&&(Jt+=this.undirectedSize),"undirected"!==v&&(Jt+=this.directedSize),gt=new Array(Jt);var me=0;Lt.push(function(Ae,Oe,Pe,tn,cn,fn,yn){gt[me++]=Rt(Ae,Oe,Pe,tn,cn,fn,yn)})}else gt=[],Lt.push(function(Ae,Oe,Pe,tn,cn,fn,yn){gt.push(Rt(Ae,Oe,Pe,tn,cn,fn,yn))});return this[z].apply(this,Lt),gt};var _t="filter"+c[0].toUpperCase()+c.slice(1);g.prototype[_t]=function(){var gt=Array.prototype.slice.call(arguments),Lt=gt.pop(),Rt=[];return gt.push(function(Jt,me,Ae,Oe,Pe,tn,cn){Lt(Jt,me,Ae,Oe,Pe,tn,cn)&&Rt.push(Jt)}),this[z].apply(this,gt),Rt};var At="reduce"+c[0].toUpperCase()+c.slice(1);g.prototype[At]=function(){var gt,Lt,Rt=Array.prototype.slice.call(arguments);if(Rt.length<2||Rt.length>4)throw new kt("Graph.".concat(At,": invalid number of arguments (expecting 2, 3 or 4 and got ").concat(Rt.length,")."));if("function"==typeof Rt[Rt.length-1]&&"function"!=typeof Rt[Rt.length-2])throw new kt("Graph.".concat(At,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));2===Rt.length?(gt=Rt[0],Lt=Rt[1],Rt=[]):3===Rt.length?(gt=Rt[1],Lt=Rt[2],Rt=[Rt[0]]):4===Rt.length&&(gt=Rt[2],Lt=Rt[3],Rt=[Rt[0],Rt[1]]);var Jt=Lt;return Rt.push(function(me,Ae,Oe,Pe,tn,cn,fn){Jt=gt(Jt,me,Ae,Oe,Pe,tn,cn,fn)}),this[z].apply(this,Rt),Jt}}(p,b),function(g,u){var c=u.name,v=u.type,k=u.direction,z="find"+c[0].toUpperCase()+c.slice(1,-1);g.prototype[z]=function(At,gt,Lt){if("mixed"!==v&&"mixed"!==this.type&&v!==this.type)return!1;if(1===arguments.length)return Lo(!0,this,v,Lt=At);if(2===arguments.length){Lt=gt;var Rt=this._nodes.get(At=""+At);if(void 0===Rt)throw new Mt("Graph.".concat(z,': could not find the "').concat(At,'" node in the graph.'));return Vn(!0,this.multi,"mixed"===v?this.type:v,k,Rt,Lt)}if(3===arguments.length){gt=""+gt;var Jt=this._nodes.get(At=""+At);if(!Jt)throw new Mt("Graph.".concat(z,':  could not find the "').concat(At,'" source node in the graph.'));if(!this._nodes.has(gt))throw new Mt("Graph.".concat(z,':  could not find the "').concat(gt,'" target node in the graph.'));return br(!0,v,this.multi,k,Jt,gt,Lt)}throw new kt("Graph.".concat(z,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))};var tt="some"+c[0].toUpperCase()+c.slice(1,-1);g.prototype[tt]=function(){var At=Array.prototype.slice.call(arguments),gt=At.pop();return At.push(function(Lt,Rt,Jt,me,Ae,Oe,Pe){return gt(Lt,Rt,Jt,me,Ae,Oe,Pe)}),!!this[z].apply(this,At)};var _t="every"+c[0].toUpperCase()+c.slice(1,-1);g.prototype[_t]=function(){var At=Array.prototype.slice.call(arguments),gt=At.pop();return At.push(function(Lt,Rt,Jt,me,Ae,Oe,Pe){return!gt(Lt,Rt,Jt,me,Ae,Oe,Pe)}),!this[z].apply(this,At)}}(p,b),function(g,u){var v=u.type,k=u.direction,z=u.name.slice(0,-1)+"Entries";g.prototype[z]=function(tt,_t){if("mixed"!==v&&"mixed"!==this.type&&v!==this.type)return te.empty();if(!arguments.length)return wr(this,v);if(1===arguments.length){var At=this._nodes.get(tt=""+tt);if(!At)throw new Mt("Graph.".concat(z,': could not find the "').concat(tt,'" node in the graph.'));return mi(v,k,At)}if(2===arguments.length){_t=""+_t;var gt=this._nodes.get(tt=""+tt);if(!gt)throw new Mt("Graph.".concat(z,':  could not find the "').concat(tt,'" source node in the graph.'));if(!this._nodes.has(_t))throw new Mt("Graph.".concat(z,':  could not find the "').concat(_t,'" target node in the graph.'));return Xr(v,k,gt,_t)}throw new kt("Graph.".concat(z,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(p,b)})}(_e),function(p){qn.forEach(function(b){var g,u,c,v,k,z,tt;(function To(p,b){var g=b.name,u=b.type,c=b.direction;p.prototype[g]=function(v){if("mixed"!==u&&"mixed"!==this.type&&u!==this.type)return[];var k=this._nodes.get(v=""+v);if(void 0===k)throw new Mt("Graph.".concat(g,': could not find the "').concat(v,'" node in the graph.'));return function(z,tt,_t){if("mixed"!==z){if("undirected"===z)return Object.keys(_t.undirected);if("string"==typeof tt)return Object.keys(_t[tt])}var At=[];return In(!1,z,tt,_t,function(gt){At.push(gt)}),At}("mixed"===u?this.type:u,c,k)}})(p,b),function(g,u){var c=u.name,v=u.type,k=u.direction,z="forEach"+c[0].toUpperCase()+c.slice(1,-1);g.prototype[z]=function(gt,Lt){if("mixed"===v||"mixed"===this.type||v===this.type){var Rt=this._nodes.get(gt=""+gt);if(void 0===Rt)throw new Mt("Graph.".concat(z,': could not find the "').concat(gt,'" node in the graph.'));In(!1,"mixed"===v?this.type:v,k,Rt,Lt)}};var tt="map"+c[0].toUpperCase()+c.slice(1);g.prototype[tt]=function(gt,Lt){var Rt=[];return this[z](gt,function(Jt,me){Rt.push(Lt(Jt,me))}),Rt};var _t="filter"+c[0].toUpperCase()+c.slice(1);g.prototype[_t]=function(gt,Lt){var Rt=[];return this[z](gt,function(Jt,me){Lt(Jt,me)&&Rt.push(Jt)}),Rt};var At="reduce"+c[0].toUpperCase()+c.slice(1);g.prototype[At]=function(gt,Lt,Rt){if(arguments.length<3)throw new kt("Graph.".concat(At,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));var Jt=Rt;return this[z](gt,function(me,Ae){Jt=Lt(Jt,me,Ae)}),Jt}}(p,b),g=p,v=(u=b).type,k=u.direction,z=(c=u.name)[0].toUpperCase()+c.slice(1,-1),g.prototype[tt="find"+z]=function(gt,Lt){if("mixed"===v||"mixed"===this.type||v===this.type){var Rt=this._nodes.get(gt=""+gt);if(void 0===Rt)throw new Mt("Graph.".concat(tt,': could not find the "').concat(gt,'" node in the graph.'));return In(!0,"mixed"===v?this.type:v,k,Rt,Lt)}},g.prototype["some"+z]=function(gt,Lt){return!!this[tt](gt,Lt)},g.prototype["every"+z]=function(gt,Lt){return!this[tt](gt,function(Rt,Jt){return!Lt(Rt,Jt)})},function bi(p,b){var u=b.type,c=b.direction,v=b.name.slice(0,-1)+"Entries";p.prototype[v]=function(k){if("mixed"!==u&&"mixed"!==this.type&&u!==this.type)return te.empty();var z=this._nodes.get(k=""+k);if(void 0===z)throw new Mt("Graph.".concat(v,': could not find the "').concat(k,'" node in the graph.'));return function(tt,_t,At){if("mixed"!==tt){if("undirected"===tt)return wi(null,At,At.undirected);if("string"==typeof _t)return wi(null,At,At[_t])}var gt=te.empty(),Lt=new Wn;return"undirected"!==tt&&("out"!==_t&&(gt=Ue(gt,wi(Lt,At,At.in))),"in"!==_t&&(gt=Ue(gt,wi(Lt,At,At.out)))),"directed"!==tt&&(gt=Ue(gt,wi(Lt,At,At.undirected))),gt}("mixed"===u?this.type:u,c,z)}}(p,b)})}(_e);var qi=function(p){function b(g){var u=O({type:"directed"},g);if("multi"in u&&!1!==u.multi)throw new kt("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("directed"!==u.type)throw new kt('DirectedGraph.from: inconsistent "'+u.type+'" type in given options!');return p.call(this,u)||this}return P(b,p),b}(_e),Oo=function(p){function b(g){var u=O({type:"undirected"},g);if("multi"in u&&!1!==u.multi)throw new kt("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("undirected"!==u.type)throw new kt('UndirectedGraph.from: inconsistent "'+u.type+'" type in given options!');return p.call(this,u)||this}return P(b,p),b}(_e),Kr=function(p){function b(g){var u=O({multi:!0},g);if("multi"in u&&!0!==u.multi)throw new kt("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");return p.call(this,u)||this}return P(b,p),b}(_e),Vr=function(p){function b(g){var u=O({type:"directed",multi:!0},g);if("multi"in u&&!0!==u.multi)throw new kt("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("directed"!==u.type)throw new kt('MultiDirectedGraph.from: inconsistent "'+u.type+'" type in given options!');return p.call(this,u)||this}return P(b,p),b}(_e),xi=function(p){function b(g){var u=O({type:"undirected",multi:!0},g);if("multi"in u&&!0!==u.multi)throw new kt("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("undirected"!==u.type)throw new kt('MultiUndirectedGraph.from: inconsistent "'+u.type+'" type in given options!');return p.call(this,u)||this}return P(b,p),b}(_e);function Nn(p){p.from=function(b,g){var u=O({},b.options,g),c=new p(u);return c.import(b),c}}return Nn(_e),Nn(qi),Nn(Oo),Nn(Kr),Nn(Vr),Nn(xi),_e.Graph=_e,_e.DirectedGraph=qi,_e.UndirectedGraph=Oo,_e.MultiGraph=Kr,_e.MultiDirectedGraph=Vr,_e.MultiUndirectedGraph=xi,_e.InvalidArgumentsGraphError=kt,_e.NotFoundGraphError=Mt,_e.UsageGraphError=Pt,_e}()},7489:function(Nt,Et,P){var ct;Nt=P.nmd(Nt),function(){var S,D="Expected a function",x="__lodash_hash_undefined__",E="__lodash_placeholder__",T=32,Qt=1/0,ge=9007199254740991,re=4294967295,ve=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",T],["partialRight",64],["rearg",256]],kt="[object Arguments]",Mt="[object Array]",Te="[object Boolean]",Ke="[object Date]",We="[object Error]",Ie="[object Function]",Kn="[object GeneratorFunction]",Ge="[object Map]",vn="[object Number]",Ue="[object Object]",ji="[object Promise]",Pn="[object RegExp]",un="[object Set]",vi="[object String]",mr="[object Symbol]",Hr="[object WeakMap]",wr="[object ArrayBuffer]",Vn="[object DataView]",yi="[object Float32Array]",mi="[object Float64Array]",br="[object Int8Array]",Ki="[object Int16Array]",Xr="[object Int32Array]",qn="[object Uint8Array]",Wn="[object Uint8ClampedArray]",Un="[object Uint16Array]",In="[object Uint32Array]",wi=/\b__p \+= '';/g,To=/\b(__p \+=) '' \+/g,bi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xr=/&(?:amp|lt|gt|quot|#39);/g,_r=/[&<>"']/g,Ws=RegExp(xr.source),Ro=RegExp(_r.source),Us=/<%-([\s\S]+?)%>/g,qa=/<%([\s\S]+?)%>/g,zo=/<%=([\s\S]+?)%>/g,Ar=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vi=/^\w*$/,Go=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jr=/[\\^$.*+?()[\]{}|]/g,or=RegExp(jr.source),_e=/^\s+/,qi=/\s/,Oo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Kr=/\{\n\/\* \[wrapped with (.+)\] \*/,Vr=/,? & /,xi=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Nn=/[()=,{}\[\]\/\s]/,p=/\\(\\)?/g,b=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,g=/\w*$/,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,v=/^\[object .+?Constructor\]$/,k=/^0o[0-7]+$/i,z=/^(?:0|[1-9]\d*)$/,tt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_t=/($^)/,At=/['\n\r\u2028\u2029\\]/g,gt="\\ud800-\\udfff",me="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ae="\\u2700-\\u27bf",Oe="a-z\\xdf-\\xf6\\xf8-\\xff",yn="A-Z\\xc0-\\xd6\\xd8-\\xde",qr="\\ufe0e\\ufe0f",Jr="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ja="["+gt+"]",Ji="["+Jr+"]",Wo="["+me+"]",Qa="\\d+",tu="["+Ae+"]",eu="["+Oe+"]",Qi="[^"+gt+Jr+Qa+Ae+Oe+yn+"]",Bs="\\ud83c[\\udffb-\\udfff]",nu="[^"+gt+"]",Fs="(?:\\ud83c[\\udde6-\\uddff]){2}",Zs="[\\ud800-\\udbff][\\udc00-\\udfff]",_i="["+yn+"]",iu="(?:"+eu+"|"+Qi+")",Xc="(?:"+_i+"|"+Qi+")",ou="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",su="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",au="(?:"+Wo+"|"+Bs+")?",uu="["+qr+"]?",cu=uu+au+"(?:\\u200d(?:"+[nu,Fs,Zs].join("|")+")"+uu+au+")*",qc="(?:"+[tu,Fs,Zs].join("|")+")"+cu,$s="(?:"+[nu+Wo+"?",Wo,Fs,Zs,Ja].join("|")+")",fu=RegExp("['\u2019]","g"),Uo=RegExp(Wo,"g"),Ys=RegExp(Bs+"(?="+Bs+")|"+$s+cu,"g"),Jc=RegExp([_i+"?"+eu+"+"+ou+"(?="+[Ji,_i,"$"].join("|")+")",Xc+"+"+su+"(?="+[Ji,_i+iu,"$"].join("|")+")",_i+"?"+iu+"+"+ou,_i+"+"+su,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Qa,qc].join("|"),"g"),Qc=RegExp("[\\u200d"+gt+me+qr+"]"),tf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ef=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nf=-1,Ne={};Ne[yi]=Ne[mi]=Ne[br]=Ne[Ki]=Ne[Xr]=Ne[qn]=Ne[Wn]=Ne[Un]=Ne[In]=!0,Ne[kt]=Ne[Mt]=Ne[wr]=Ne[Te]=Ne[Vn]=Ne[Ke]=Ne[We]=Ne[Ie]=Ne[Ge]=Ne[vn]=Ne[Ue]=Ne[Pn]=Ne[un]=Ne[vi]=Ne[Hr]=!1;var Ce={};Ce[kt]=Ce[Mt]=Ce[wr]=Ce[Vn]=Ce[Te]=Ce[Ke]=Ce[yi]=Ce[mi]=Ce[br]=Ce[Ki]=Ce[Xr]=Ce[Ge]=Ce[vn]=Ce[Ue]=Ce[Pn]=Ce[un]=Ce[vi]=Ce[mr]=Ce[qn]=Ce[Wn]=Ce[Un]=Ce[In]=!0,Ce[We]=Ce[Ie]=Ce[Hr]=!1;var af={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ai=parseFloat,uf=parseInt,hu="object"==typeof global&&global&&global.Object===Object&&global,cf="object"==typeof self&&self&&self.Object===Object&&self,Ve=hu||cf||Function("return this")(),Hs=Et&&!Et.nodeType&&Et,Qr=Hs&&Nt&&!Nt.nodeType&&Nt,Xs=Qr&&Qr.exports===Hs,Bo=Xs&&hu.process,En=function(){try{return Qr&&Qr.require&&Qr.require("util").types||Bo&&Bo.binding&&Bo.binding("util")}catch(ht){}}(),lu=En&&En.isArrayBuffer,du=En&&En.isDate,pu=En&&En.isMap,gu=En&&En.isRegExp,vu=En&&En.isSet,yu=En&&En.isTypedArray;function Sn(V,ht,st){switch(st.length){case 0:return V.call(ht);case 1:return V.call(ht,st[0]);case 2:return V.call(ht,st[0],st[1]);case 3:return V.call(ht,st[0],st[1],st[2])}return V.apply(ht,st)}function ff(V,ht,st,Zt){for(var ie=-1,be=null==V?0:V.length;++ie<be;){var Be=V[ie];ht(Zt,Be,st(Be),V)}return Zt}function Dn(V,ht){for(var st=-1,Zt=null==V?0:V.length;++st<Zt&&!1!==ht(V[st],st,V););return V}function hf(V,ht){for(var st=null==V?0:V.length;st--&&!1!==ht(V[st],st,V););return V}function mu(V,ht){for(var st=-1,Zt=null==V?0:V.length;++st<Zt;)if(!ht(V[st],st,V))return!1;return!0}function Er(V,ht){for(var st=-1,Zt=null==V?0:V.length,ie=0,be=[];++st<Zt;){var Be=V[st];ht(Be,st,V)&&(be[ie++]=Be)}return be}function Fo(V,ht){return!(null==V||!V.length)&&Ei(V,ht,0)>-1}function js(V,ht,st){for(var Zt=-1,ie=null==V?0:V.length;++Zt<ie;)if(st(ht,V[Zt]))return!0;return!1}function De(V,ht){for(var st=-1,Zt=null==V?0:V.length,ie=Array(Zt);++st<Zt;)ie[st]=ht(V[st],st,V);return ie}function Sr(V,ht){for(var st=-1,Zt=ht.length,ie=V.length;++st<Zt;)V[ie+st]=ht[st];return V}function Ks(V,ht,st,Zt){var ie=-1,be=null==V?0:V.length;for(Zt&&be&&(st=V[++ie]);++ie<be;)st=ht(st,V[ie],ie,V);return st}function lf(V,ht,st,Zt){var ie=null==V?0:V.length;for(Zt&&ie&&(st=V[--ie]);ie--;)st=ht(st,V[ie],ie,V);return st}function to(V,ht){for(var st=-1,Zt=null==V?0:V.length;++st<Zt;)if(ht(V[st],st,V))return!0;return!1}var df=Vs("length");function wu(V,ht,st){var Zt;return st(V,function(ie,be,Be){if(ht(ie,be,Be))return Zt=be,!1}),Zt}function Zo(V,ht,st,Zt){for(var ie=V.length,be=st+(Zt?1:-1);Zt?be--:++be<ie;)if(ht(V[be],be,V))return be;return-1}function Ei(V,ht,st){return ht==ht?function Ho(V,ht,st){for(var Zt=st-1,ie=V.length;++Zt<ie;)if(V[Zt]===ht)return Zt;return-1}(V,ht,st):Zo(V,bu,st)}function vf(V,ht,st,Zt){for(var ie=st-1,be=V.length;++ie<be;)if(Zt(V[ie],ht))return ie;return-1}function bu(V){return V!=V}function xu(V,ht){var st=null==V?0:V.length;return st?Js(V,ht)/st:NaN}function Vs(V){return function(ht){return null==ht?S:ht[V]}}function qs(V){return function(ht){return null==V?S:V[ht]}}function _u(V,ht,st,Zt,ie){return ie(V,function(be,Be,ke){st=Zt?(Zt=!1,be):ht(st,be,Be,ke)}),st}function Js(V,ht){for(var st,Zt=-1,ie=V.length;++Zt<ie;){var be=ht(V[Zt]);be!==S&&(st=st===S?be:st+be)}return st}function $o(V,ht){for(var st=-1,Zt=Array(V);++st<V;)Zt[st]=ht(st);return Zt}function Au(V){return V&&V.slice(0,ro(V)+1).replace(_e,"")}function Cn(V){return function(ht){return V(ht)}}function Qs(V,ht){return De(ht,function(st){return V[st]})}function Si(V,ht){return V.has(ht)}function mn(V,ht){for(var st=-1,Zt=V.length;++st<Zt&&Ei(ht,V[st],0)>-1;);return st}function ta(V,ht){for(var st=V.length;st--&&Ei(ht,V[st],0)>-1;);return st}function wf(V,ht){for(var st=V.length,Zt=0;st--;)V[st]===ht&&++Zt;return Zt}var eo=qs({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),bf=qs({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Eu(V){return"\\"+af[V]}function Ci(V){return Qc.test(V)}function ki(V){var ht=-1,st=Array(V.size);return V.forEach(function(Zt,ie){st[++ht]=[ie,Zt]}),st}function ti(V,ht){return function(st){return V(ht(st))}}function Ln(V,ht){for(var st=-1,Zt=V.length,ie=0,be=[];++st<Zt;){var Be=V[st];(Be===ht||Be===E)&&(V[st]=E,be[ie++]=st)}return be}function Cr(V){var ht=-1,st=Array(V.size);return V.forEach(function(Zt){st[++ht]=Zt}),st}function sr(V){return Ci(V)?function ku(V){for(var ht=Ys.lastIndex=0;Ys.test(V);)++ht;return ht}(V):df(V)}function qe(V){return Ci(V)?function ea(V){return V.match(Ys)||[]}(V):function pf(V){return V.split("")}(V)}function ro(V){for(var ht=V.length;ht--&&qi.test(V.charAt(ht)););return ht}var io=qs({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Mi=function V(ht){var t,st=(ht=null==ht?Ve:Mi.defaults(Ve.Object(),ht,Mi.pick(Ve,ef))).Array,Zt=ht.Date,ie=ht.Error,be=ht.Function,Be=ht.Math,ke=ht.Object,jo=ht.RegExp,Mu=ht.String,wn=ht.TypeError,ei=st.prototype,kr=ke.prototype,ni=ht["__core-js_shared__"],ri=be.prototype.toString,xe=kr.hasOwnProperty,Jn=0,Tn=(t=/[^.]+$/.exec(ni&&ni.keys&&ni.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"",Ko=kr.toString,Vo=ri.call(ke),Af=Ve._,Bn=jo("^"+ri.call(xe).replace(jr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oo=Xs?ht.Buffer:S,Qn=ht.Symbol,so=ht.Uint8Array,ao=oo?oo.allocUnsafe:S,qo=ti(ke.getPrototypeOf,ke),Nu=ke.create,na=kr.propertyIsEnumerable,Jo=ei.splice,Du=Qn?Qn.isConcatSpreadable:S,uo=Qn?Qn.iterator:S,ii=Qn?Qn.toStringTag:S,Qo=function(){try{var t=Fr(ke,"defineProperty");return t({},"",{}),t}catch(n){}}(),ra=ht.clearTimeout!==Ve.clearTimeout&&ht.clearTimeout,ia=Zt&&Zt.now!==Ve.Date.now&&Zt.now,Lu=ht.setTimeout!==Ve.setTimeout&&ht.setTimeout,Mr=Be.ceil,Ir=Be.floor,Ii=ke.getOwnPropertySymbols,Ni=oo?oo.isBuffer:S,Di=ht.isFinite,tr=ei.join,Ef=ti(ke.keys,ke),Fe=Be.max,en=Be.min,Sf=Zt.now,Cf=ht.parseInt,Tu=Be.random,kf=ei.reverse,ts=Fr(ht,"DataView"),Li=Fr(ht,"Map"),oa=Fr(ht,"Promise"),Ti=Fr(ht,"Set"),Ri=Fr(ht,"WeakMap"),Fn=Fr(ke,"create"),co=Ri&&new Ri,ar={},Mf=hi(ts),es=hi(Li),bn=hi(oa),Ru=hi(Ti),If=hi(Ri),fo=Qn?Qn.prototype:S,Nr=fo?fo.valueOf:S,Dr=fo?fo.toString:S;function A(t){if(It(t)&&!nt(t)&&!(t instanceof oe)){if(t instanceof Rn)return t;if(xe.call(t,"__wrapped__"))return bc(t)}return new Rn(t)}var oi=function(){function t(){}return function(n){if(!Ot(n))return{};if(Nu)return Nu(n);t.prototype=n;var o=new t;return t.prototype=S,o}}();function ho(){}function Rn(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=S}function oe(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function Lr(t){var n=-1,o=null==t?0:t.length;for(this.clear();++n<o;){var f=t[n];this.set(f[0],f[1])}}function Tr(t){var n=-1,o=null==t?0:t.length;for(this.clear();++n<o;){var f=t[n];this.set(f[0],f[1])}}function Rr(t){var n=-1,o=null==t?0:t.length;for(this.clear();++n<o;){var f=t[n];this.set(f[0],f[1])}}function zr(t){var n=-1,o=null==t?0:t.length;for(this.__data__=new Rr;++n<o;)this.add(t[n])}function Zn(t){var n=this.__data__=new Tr(t);this.size=n.size}function Uu(t,n){var o=nt(t),f=!o&&X(t),y=!o&&!f&&Ft(t),M=!o&&!f&&!y&&di(t),W=o||f||y||M,Y=W?$o(t.length,Mu):[],Q=Y.length;for(var mt in t)(n||xe.call(t,mt))&&(!W||!("length"==mt||y&&("offset"==mt||"parent"==mt)||M&&("buffer"==mt||"byteLength"==mt||"byteOffset"==mt)||dr(mt,Q)))&&Y.push(mt);return Y}function Bu(t){var n=t.length;return n?t[cs(0,n-1)]:S}function Zf(t,n){return ks(xn(t),si(n,0,t.length))}function $f(t){return ks(xn(t))}function fa(t,n,o){(o!==S&&!lt(t[n],o)||o===S&&!(n in t))&&ur(t,n,o)}function lo(t,n,o){var f=t[n];(!xe.call(t,n)||!lt(f,o)||o===S&&!(n in t))&&ur(t,n,o)}function is(t,n){for(var o=t.length;o--;)if(lt(t[o][0],n))return o;return-1}function Yf(t,n,o,f){return Gr(t,function(y,M,W){n(f,y,o(y),W)}),f}function Fu(t,n){return t&&nr(n,sn(n),t)}function ur(t,n,o){"__proto__"==n&&Qo?Qo(t,n,{configurable:!0,enumerable:!0,value:o,writable:!0}):t[n]=o}function ha(t,n){for(var o=-1,f=n.length,y=st(f),M=null==t;++o<f;)y[o]=M?S:Ll(t,n[o]);return y}function si(t,n,o){return t==t&&(o!==S&&(t=t<=o?t:o),n!==S&&(t=t>=n?t:n)),t}function zn(t,n,o,f,y,M){var W,Y=1&n,Q=2&n,mt=4&n;if(o&&(W=y?o(t,f,y,M):o(t)),W!==S)return W;if(!Ot(t))return t;var bt=nt(t);if(bt){if(W=function bh(t){var n=t.length,o=new t.constructor(n);return n&&"string"==typeof t[0]&&xe.call(t,"index")&&(o.index=t.index,o.input=t.input),o}(t),!Y)return xn(t,W)}else{var St=rn(t),Wt=St==Ie||St==Kn;if(Ft(t))return tc(t,Y);if(St==Ue||St==kt||Wt&&!y){if(W=Q||Wt?{}:xh(t),!Y)return Q?function gh(t,n){return nr(t,Da(t),n)}(t,function Hf(t,n){return t&&nr(n,Gn(n),t)}(W,t)):function ph(t,n){return nr(t,xs(t),n)}(t,Fu(W,t))}else{if(!Ce[St])return y?t:{};W=function gc(t,n,o){var f=t.constructor;switch(n){case wr:return Sa(t);case Te:case Ke:return new f(+t);case Vn:return function ec(t,n){var o=n?Sa(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.byteLength)}(t,o);case yi:case mi:case br:case Ki:case Xr:case qn:case Wn:case Un:case In:return nc(t,o);case Ge:return new f;case vn:case vi:return new f(t);case Pn:return function lh(t){var n=new t.constructor(t.source,g.exec(t));return n.lastIndex=t.lastIndex,n}(t);case un:return new f;case mr:return function dh(t){return Nr?ke(Nr.call(t)):{}}(t)}}(t,St,Y)}}M||(M=new Zn);var Xt=M.get(t);if(Xt)return Xt;M.set(t,W),Va(t)?t.forEach(function(ne){W.add(zn(ne,n,o,ne,t,M))}):Ht(t)&&t.forEach(function(ne,pe){W.set(pe,zn(ne,n,o,pe,t,M))});var de=bt?S:(mt?Q?Na:Ia:Q?Gn:sn)(t);return Dn(de||t,function(ne,pe){de&&(ne=t[pe=ne]),lo(W,pe,zn(ne,n,o,pe,t,M))}),W}function Zu(t,n,o){var f=o.length;if(null==t)return!f;for(t=ke(t);f--;){var y=o[f],W=t[y];if(W===S&&!(y in t)||!(0,n[y])(W))return!1}return!0}function $u(t,n,o){if("function"!=typeof t)throw new wn(D);return So(function(){t.apply(S,o)},n)}function po(t,n,o,f){var y=-1,M=Fo,W=!0,Y=t.length,Q=[],mt=n.length;if(!Y)return Q;o&&(n=De(n,Cn(o))),f?(M=js,W=!1):n.length>=200&&(M=Si,W=!1,n=new zr(n));t:for(;++y<Y;){var bt=t[y],St=null==o?bt:o(bt);if(bt=f||0!==bt?bt:0,W&&St==St){for(var Wt=mt;Wt--;)if(n[Wt]===St)continue t;Q.push(bt)}else M(n,St,f)||Q.push(bt)}return Q}A.templateSettings={escape:Us,evaluate:qa,interpolate:zo,variable:"",imports:{_:A}},(A.prototype=ho.prototype).constructor=A,(Rn.prototype=oi(ho.prototype)).constructor=Rn,(oe.prototype=oi(ho.prototype)).constructor=oe,Lr.prototype.clear=function Nf(){this.__data__=Fn?Fn(null):{},this.size=0},Lr.prototype.delete=function Df(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},Lr.prototype.get=function aa(t){var n=this.__data__;if(Fn){var o=n[t];return o===x?S:o}return xe.call(n,t)?n[t]:S},Lr.prototype.has=function Gu(t){var n=this.__data__;return Fn?n[t]!==S:xe.call(n,t)},Lr.prototype.set=function Lf(t,n){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=Fn&&n===S?x:n,this},Tr.prototype.clear=function Tf(){this.__data__=[],this.size=0},Tr.prototype.delete=function Ou(t){var n=this.__data__,o=is(n,t);return!(o<0||(o==n.length-1?n.pop():Jo.call(n,o,1),--this.size,0))},Tr.prototype.get=function rs(t){var n=this.__data__,o=is(n,t);return o<0?S:n[o][1]},Tr.prototype.has=function Pu(t){return is(this.__data__,t)>-1},Tr.prototype.set=function Bl(t,n){var o=this.__data__,f=is(o,t);return f<0?(++this.size,o.push([t,n])):o[f][1]=n,this},Rr.prototype.clear=function ua(){this.size=0,this.__data__={hash:new Lr,map:new(Li||Tr),string:new Lr}},Rr.prototype.delete=function ca(t){var n=ws(this,t).delete(t);return this.size-=n?1:0,n},Rr.prototype.get=function Rf(t){return ws(this,t).get(t)},Rr.prototype.has=function zf(t){return ws(this,t).has(t)},Rr.prototype.set=function Wu(t,n){var o=ws(this,t),f=o.size;return o.set(t,n),this.size+=o.size==f?0:1,this},zr.prototype.add=zr.prototype.push=function Gf(t){return this.__data__.set(t,x),this},zr.prototype.has=function Of(t){return this.__data__.has(t)},Zn.prototype.clear=function Pf(){this.__data__=new Tr,this.size=0},Zn.prototype.delete=function Wf(t){var n=this.__data__,o=n.delete(t);return this.size=n.size,o},Zn.prototype.get=function Uf(t){return this.__data__.get(t)},Zn.prototype.has=function Bf(t){return this.__data__.has(t)},Zn.prototype.set=function Ff(t,n){var o=this.__data__;if(o instanceof Tr){var f=o.__data__;if(!Li||f.length<199)return f.push([t,n]),this.size=++o.size,this;o=this.__data__=new Rr(f)}return o.set(t,n),this.size=o.size,this};var Gr=sc(er),Yu=sc(pa,!0);function jf(t,n){var o=!0;return Gr(t,function(f,y,M){return o=!!n(f,y,M)}),o}function os(t,n,o){for(var f=-1,y=t.length;++f<y;){var M=t[f],W=n(M);if(null!=W&&(Y===S?W==W&&!He(W):o(W,Y)))var Y=W,Q=M}return Q}function Hu(t,n){var o=[];return Gr(t,function(f,y,M){n(f,y,M)&&o.push(f)}),o}function Je(t,n,o,f,y){var M=-1,W=t.length;for(o||(o=Ah),y||(y=[]);++M<W;){var Y=t[M];n>0&&o(Y)?n>1?Je(Y,n-1,o,f,y):Sr(y,Y):f||(y[y.length]=Y)}return y}var la=ac(),da=ac(!0);function er(t,n){return t&&la(t,n,sn)}function pa(t,n){return t&&da(t,n,sn)}function ss(t,n){return Er(n,function(o){return Gt(t[o])})}function ai(t,n){for(var o=0,f=(n=Pr(n,t)).length;null!=t&&o<f;)t=t[pr(n[o++])];return o&&o==f?t:S}function Xu(t,n,o){var f=n(t);return nt(t)?f:Sr(f,o(t))}function hn(t){return null==t?t===S?"[object Undefined]":"[object Null]":ii&&ii in ke(t)?function pc(t){var n=xe.call(t,ii),o=t[ii];try{t[ii]=S;var f=!0}catch(M){}var y=Ko.call(t);return f&&(n?t[ii]=o:delete t[ii]),y}(t):function Ch(t){return Ko.call(t)}(t)}function ga(t,n){return t>n}function Vf(t,n){return null!=t&&xe.call(t,n)}function qf(t,n){return null!=t&&n in ke(t)}function va(t,n,o){for(var f=o?js:Fo,y=t[0].length,M=t.length,W=M,Y=st(M),Q=1/0,mt=[];W--;){var bt=t[W];W&&n&&(bt=De(bt,Cn(n))),Q=en(bt.length,Q),Y[W]=!o&&(n||y>=120&&bt.length>=120)?new zr(W&&bt):S}bt=t[0];var St=-1,Wt=Y[0];t:for(;++St<y&&mt.length<Q;){var Xt=bt[St],ee=n?n(Xt):Xt;if(Xt=o||0!==Xt?Xt:0,!(Wt?Si(Wt,ee):f(mt,ee,o))){for(W=M;--W;){var de=Y[W];if(!(de?Si(de,ee):f(t[W],ee,o)))continue t}Wt&&Wt.push(ee),mt.push(Xt)}}return mt}function go(t,n,o){var f=null==(t=Ao(t,n=Pr(n,t)))?t:t[pr(gn(n))];return null==f?S:Sn(f,t,o)}function ju(t){return It(t)&&hn(t)==kt}function kn(t,n,o,f,y){return t===n||(null==t||null==n||!It(t)&&!It(n)?t!=t&&n!=n:function nh(t,n,o,f,y,M){var W=nt(t),Y=nt(n),Q=W?Mt:rn(t),mt=Y?Mt:rn(n),bt=(Q=Q==kt?Ue:Q)==Ue,St=(mt=mt==kt?Ue:mt)==Ue,Wt=Q==mt;if(Wt&&Ft(t)){if(!Ft(n))return!1;W=!0,bt=!1}if(Wt&&!bt)return M||(M=new Zn),W||di(t)?dc(t,n,o,f,y,M):function ms(t,n,o,f,y,M,W){switch(o){case Vn:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case wr:return!(t.byteLength!=n.byteLength||!M(new so(t),new so(n)));case Te:case Ke:case vn:return lt(+t,+n);case We:return t.name==n.name&&t.message==n.message;case Pn:case vi:return t==n+"";case Ge:var Y=ki;case un:if(Y||(Y=Cr),t.size!=n.size&&!(1&f))return!1;var mt=W.get(t);if(mt)return mt==n;f|=2,W.set(t,n);var bt=dc(Y(t),Y(n),f,y,M,W);return W.delete(t),bt;case mr:if(Nr)return Nr.call(t)==Nr.call(n)}return!1}(t,n,Q,o,f,y,M);if(!(1&o)){var Xt=bt&&xe.call(t,"__wrapped__"),ee=St&&xe.call(n,"__wrapped__");if(Xt||ee){var de=Xt?t.value():t,ne=ee?n.value():n;return M||(M=new Zn),y(de,ne,o,f,M)}}return!!Wt&&(M||(M=new Zn),function Oi(t,n,o,f,y,M){var W=1&o,Y=Ia(t),Q=Y.length;if(Q!=Ia(n).length&&!W)return!1;for(var St=Q;St--;){var Wt=Y[St];if(!(W?Wt in n:xe.call(n,Wt)))return!1}var Xt=M.get(t),ee=M.get(n);if(Xt&&ee)return Xt==n&&ee==t;var de=!0;M.set(t,n),M.set(n,t);for(var ne=W;++St<Q;){var pe=t[Wt=Y[St]],we=n[Wt];if(f)var Xn=W?f(we,pe,Wt,n,t,M):f(pe,we,Wt,t,n,M);if(!(Xn===S?pe===we||y(pe,we,o,f,M):Xn)){de=!1;break}ne||(ne="constructor"==Wt)}if(de&&!ne){var Mn=t.constructor,jn=n.constructor;Mn!=jn&&"constructor"in t&&"constructor"in n&&!("function"==typeof Mn&&Mn instanceof Mn&&"function"==typeof jn&&jn instanceof jn)&&(de=!1)}return M.delete(t),M.delete(n),de}(t,n,o,f,y,M))}(t,n,o,f,kn,y))}function $n(t,n,o,f){var y=o.length,M=y,W=!f;if(null==t)return!M;for(t=ke(t);y--;){var Y=o[y];if(W&&Y[2]?Y[1]!==t[Y[0]]:!(Y[0]in t))return!1}for(;++y<M;){var Q=(Y=o[y])[0],mt=t[Q],bt=Y[1];if(W&&Y[2]){if(mt===S&&!(Q in t))return!1}else{var St=new Zn;if(f)var Wt=f(mt,bt,Q,t,n,St);if(!(Wt===S?kn(bt,mt,3,f,St):Wt))return!1}}return!0}function rh(t){return!(!Ot(t)||function Ra(t){return!!Tn&&Tn in t}(t))&&(Gt(t)?Bn:v).test(hi(t))}function Vu(t){return"function"==typeof t?t:null==t?On:"object"==typeof t?nt(t)?ma(t[0],t[1]):ci(t):ud(t)}function ya(t){if(!Bi(t))return Ef(t);var n=[];for(var o in ke(t))xe.call(t,o)&&"constructor"!=o&&n.push(o);return n}function vo(t,n){return t<n}function ui(t,n){var o=-1,f=J(t)?st(t.length):[];return Gr(t,function(y,M,W){f[++o]=n(y,M,W)}),f}function ci(t){var n=bs(t);return 1==n.length&&n[0][2]?Fi(n[0][0],n[0][1]):function(o){return o===t||$n(o,t,n)}}function ma(t,n){return Zr(t)&&Ss(n)?Fi(pr(t),n):function(o){var f=Ll(o,t);return f===S&&f===n?Tl(o,t):kn(n,f,3)}}function Ze(t,n,o,f,y){t!==n&&la(n,function(M,W){if(y||(y=new Zn),Ot(M))!function nn(t,n,o,f,y,M,W){var Y=Eo(t,o),Q=Eo(n,o),mt=W.get(Q);if(mt)fa(t,o,mt);else{var bt=M?M(Y,Q,o+"",t,n,W):S,St=bt===S;if(St){var Wt=nt(Q),Xt=!Wt&&Ft(Q),ee=!Wt&&!Xt&&di(Q);bt=Q,Wt||Xt||ee?nt(Y)?bt=Y:dt(Y)?bt=xn(Y):Xt?(St=!1,bt=tc(Q,!0)):ee?(St=!1,bt=nc(Q,!0)):bt=[]:Ye(Q)||X(Q)?(bt=Y,X(Y)?bt=Jl(Y):(!Ot(Y)||Gt(Y))&&(bt=xh(Q))):St=!1}St&&(W.set(Q,bt),y(bt,Q,f,M,W),W.delete(Q)),fa(t,o,bt)}}(t,n,W,o,Ze,f,y);else{var Y=f?f(Eo(t,W),M,W+"",t,n,y):S;Y===S&&(Y=M),fa(t,W,Y)}},Gn)}function wa(t,n){var o=t.length;if(o)return dr(n+=n<0?o:0,o)?t[n]:S}function as(t,n,o){n=n.length?De(n,function(M){return nt(M)?function(W){return ai(W,1===M.length?M[0]:M)}:M}):[On];var f=-1;return n=De(n,Cn(Vt())),function yf(V,ht){var st=V.length;for(V.sort(ht);st--;)V[st]=V[st].value;return V}(ui(t,function(M,W,Y){return{criteria:De(n,function(mt){return mt(M)}),index:++f,value:M}}),function(M,W){return function ln(t,n,o){for(var f=-1,y=t.criteria,M=n.criteria,W=y.length,Y=o.length;++f<W;){var Q=rc(y[f],M[f]);if(Q)return f>=Y?Q:Q*("desc"==o[f]?-1:1)}return t.index-n.index}(M,W,o)})}function yo(t,n,o){for(var f=-1,y=n.length,M={};++f<y;){var W=n[f],Y=ai(t,W);o(Y,W)&&mo(M,Pr(W,t),Y)}return M}function Yn(t,n,o,f){var y=f?vf:Ei,M=-1,W=n.length,Y=t;for(t===n&&(n=xn(n)),o&&(Y=De(t,Cn(o)));++M<W;)for(var Q=0,mt=n[M],bt=o?o(mt):mt;(Q=y(Y,bt,Q,f))>-1;)Y!==t&&Jo.call(Y,Q,1),Jo.call(t,Q,1);return t}function ba(t,n){for(var o=t?n.length:0,f=o-1;o--;){var y=n[o];if(o==f||y!==M){var M=y;dr(y)?Jo.call(t,y,1):fi(t,y)}}return t}function cs(t,n){return t+Ir(Tu()*(n-t+1))}function xa(t,n){var o="";if(!t||n<1||n>ge)return o;do{n%2&&(o+=t),(n=Ir(n/2))&&(t+=t)}while(n);return o}function ue(t,n){return Cs(yc(t,n,On),t+"")}function uh(t){return Bu(Os(t))}function ch(t,n){var o=Os(t);return ks(o,si(n,0,o.length))}function mo(t,n,o,f){if(!Ot(t))return t;for(var y=-1,M=(n=Pr(n,t)).length,W=M-1,Y=t;null!=Y&&++y<M;){var Q=pr(n[y]),mt=o;if("__proto__"===Q||"constructor"===Q||"prototype"===Q)return t;if(y!=W){var bt=Y[Q];(mt=f?f(bt,Q,Y):S)===S&&(mt=Ot(bt)?bt:dr(n[y+1])?[]:{})}lo(Y,Q,mt),Y=Y[Q]}return t}var fs=co?function(t,n){return co.set(t,n),t}:On,fh=Qo?function(t,n){return Qo(t,"toString",{configurable:!0,enumerable:!1,value:zl(n),writable:!0})}:On;function Zl(t){return ks(Os(t))}function Hn(t,n,o){var f=-1,y=t.length;n<0&&(n=-n>y?0:y+n),(o=o>y?y:o)<0&&(o+=y),y=n>o?0:o-n>>>0,n>>>=0;for(var M=st(y);++f<y;)M[f]=t[f+n];return M}function $l(t,n){var o;return Gr(t,function(f,y,M){return!(o=n(f,y,M))}),!!o}function _a(t,n,o){var f=0,y=null==t?f:t.length;if("number"==typeof n&&n==n&&y<=2147483647){for(;f<y;){var M=f+y>>>1,W=t[M];null!==W&&!He(W)&&(o?W<=n:W<n)?f=M+1:y=M}return y}return wo(t,n,On,o)}function wo(t,n,o,f){var y=0,M=null==t?0:t.length;if(0===M)return 0;for(var W=(n=o(n))!=n,Y=null===n,Q=He(n),mt=n===S;y<M;){var bt=Ir((y+M)/2),St=o(t[bt]),Wt=St!==S,Xt=null===St,ee=St==St,de=He(St);if(W)var ne=f||ee;else ne=mt?ee&&(f||Wt):Y?ee&&Wt&&(f||!Xt):Q?ee&&Wt&&!Xt&&(f||!de):!Xt&&!de&&(f?St<=n:St<n);ne?y=bt+1:M=bt}return en(M,4294967294)}function $e(t,n){for(var o=-1,f=t.length,y=0,M=[];++o<f;){var W=t[o],Y=n?n(W):W;if(!o||!lt(Y,Q)){var Q=Y;M[y++]=0===W?0:W}}return M}function Ju(t){return"number"==typeof t?t:He(t)?NaN:+t}function ze(t){if("string"==typeof t)return t;if(nt(t))return De(t,ze)+"";if(He(t))return Dr?Dr.call(t):"";var n=t+"";return"0"==n&&1/t==-Qt?"-0":n}function Or(t,n,o){var f=-1,y=Fo,M=t.length,W=!0,Y=[],Q=Y;if(o)W=!1,y=js;else if(M>=200){var mt=n?null:mh(t);if(mt)return Cr(mt);W=!1,y=Si,Q=new zr}else Q=n?[]:Y;t:for(;++f<M;){var bt=t[f],St=n?n(bt):bt;if(bt=o||0!==bt?bt:0,W&&St==St){for(var Wt=Q.length;Wt--;)if(Q[Wt]===St)continue t;n&&Q.push(St),Y.push(bt)}else y(Q,St,o)||(Q!==Y&&Q.push(St),Y.push(bt))}return Y}function fi(t,n){return null==(t=Ao(t,n=Pr(n,t)))||delete t[pr(gn(n))]}function hs(t,n,o,f){return mo(t,n,o(ai(t,n)),f)}function cr(t,n,o,f){for(var y=t.length,M=f?y:-1;(f?M--:++M<y)&&n(t[M],M,t););return o?Hn(t,f?0:M,f?M+1:y):Hn(t,f?M+1:0,f?y:M)}function Aa(t,n){var o=t;return o instanceof oe&&(o=o.value()),Ks(n,function(f,y){return y.func.apply(y.thisArg,Sr([f],y.args))},o)}function ls(t,n,o){var f=t.length;if(f<2)return f?Or(t[0]):[];for(var y=-1,M=st(f);++y<f;)for(var W=t[y],Y=-1;++Y<f;)Y!=y&&(M[y]=po(M[y]||W,t[Y],n,o));return Or(Je(M,1),n,o)}function bo(t,n,o){for(var f=-1,y=t.length,M=n.length,W={};++f<y;)o(W,t[f],f<M?n[f]:S);return W}function xo(t){return dt(t)?t:[]}function Ea(t){return"function"==typeof t?t:On}function Pr(t,n){return nt(t)?t:Zr(t,n)?[t]:Mh(Ee(t))}var hh=ue;function Wr(t,n,o){var f=t.length;return o=o===S?f:o,!n&&o>=f?t:Hn(t,n,o)}var Qu=ra||function(t){return Ve.clearTimeout(t)};function tc(t,n){if(n)return t.slice();var o=t.length,f=ao?ao(o):new t.constructor(o);return t.copy(f),f}function Sa(t){var n=new t.constructor(t.byteLength);return new so(n).set(new so(t)),n}function nc(t,n){var o=n?Sa(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)}function rc(t,n){if(t!==n){var o=t!==S,f=null===t,y=t==t,M=He(t),W=n!==S,Y=null===n,Q=n==n,mt=He(n);if(!Y&&!mt&&!M&&t>n||M&&W&&Q&&!Y&&!mt||f&&W&&Q||!o&&Q||!y)return 1;if(!f&&!M&&!mt&&t<n||mt&&o&&y&&!f&&!M||Y&&o&&y||!W&&y||!Q)return-1}return 0}function ic(t,n,o,f){for(var y=-1,M=t.length,W=o.length,Y=-1,Q=n.length,mt=Fe(M-W,0),bt=st(Q+mt),St=!f;++Y<Q;)bt[Y]=n[Y];for(;++y<W;)(St||y<M)&&(bt[o[y]]=t[y]);for(;mt--;)bt[Y++]=t[y++];return bt}function oc(t,n,o,f){for(var y=-1,M=t.length,W=-1,Y=o.length,Q=-1,mt=n.length,bt=Fe(M-Y,0),St=st(bt+mt),Wt=!f;++y<bt;)St[y]=t[y];for(var Xt=y;++Q<mt;)St[Xt+Q]=n[Q];for(;++W<Y;)(Wt||y<M)&&(St[Xt+o[W]]=t[y++]);return St}function xn(t,n){var o=-1,f=t.length;for(n||(n=st(f));++o<f;)n[o]=t[o];return n}function nr(t,n,o,f){var y=!o;o||(o={});for(var M=-1,W=n.length;++M<W;){var Y=n[M],Q=f?f(o[Y],t[Y],Y,o,t):S;Q===S&&(Q=t[Y]),y?ur(o,Y,Q):lo(o,Y,Q)}return o}function ds(t,n){return function(o,f){var y=nt(o)?ff:Yf,M=n?n():{};return y(o,t,Vt(f,2),M)}}function zi(t){return ue(function(n,o){var f=-1,y=o.length,M=y>1?o[y-1]:S,W=y>2?o[2]:S;for(M=t.length>3&&"function"==typeof M?(y--,M):S,W&&pn(o[0],o[1],W)&&(M=y<3?S:M,y=1),n=ke(n);++f<y;){var Y=o[f];Y&&t(n,Y,f,M)}return n})}function sc(t,n){return function(o,f){if(null==o)return o;if(!J(o))return t(o,f);for(var y=o.length,M=n?y:-1,W=ke(o);(n?M--:++M<y)&&!1!==f(W[M],M,W););return o}}function ac(t){return function(n,o,f){for(var y=-1,M=ke(n),W=f(n),Y=W.length;Y--;){var Q=W[t?Y:++y];if(!1===o(M[Q],Q,M))break}return n}}function ps(t){return function(n){var o=Ci(n=Ee(n))?qe(n):S,f=o?o[0]:n.charAt(0),y=o?Wr(o,1).join(""):n.slice(1);return f[t]()+y}}function Ur(t){return function(n){return Ks(sd(od(n).replace(fu,"")),t,"")}}function Gi(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var o=oi(t.prototype),f=t.apply(o,n);return Ot(f)?f:o}}function Br(t){return function(n,o,f){var y=ke(n);if(!J(n)){var M=Vt(o,3);n=sn(n),o=function(Y){return M(y[Y],Y,y)}}var W=t(n,o,f);return W>-1?y[M?n[W]:W]:S}}function fr(t){return lr(function(n){var o=n.length,f=o,y=Rn.prototype.thru;for(t&&n.reverse();f--;){var M=n[f];if("function"!=typeof M)throw new wn(D);if(y&&!W&&"wrapper"==Wi(M))var W=new Rn([],!0)}for(f=W?f:o;++f<o;){var Y=Wi(M=n[f]),Q="wrapper"==Y?Pi(M):S;W=Q&&Es(Q[0])&&424==Q[1]&&!Q[4].length&&1==Q[9]?W[Wi(Q[0])].apply(W,Q[3]):1==M.length&&Es(M)?W[Y]():W.thru(M)}return function(){var mt=arguments,bt=mt[0];if(W&&1==mt.length&&nt(bt))return W.plant(bt).value();for(var St=0,Wt=o?n[St].apply(this,mt):bt;++St<o;)Wt=n[St].call(this,Wt);return Wt}})}function gs(t,n,o,f,y,M,W,Y,Q,mt){var bt=128&n,St=1&n,Wt=2&n,Xt=24&n,ee=512&n,de=Wt?S:Gi(t);return function ne(){for(var pe=arguments.length,we=st(pe),Xn=pe;Xn--;)we[Xn]=arguments[Xn];if(Xt)var Mn=Ui(ne),jn=wf(we,Mn);if(f&&(we=ic(we,f,y,Xt)),M&&(we=oc(we,M,W,Xt)),pe-=jn,Xt&&pe<mt){var je=Ln(we,Mn);return ka(t,n,gs,ne.placeholder,o,we,je,Y,Q,mt-pe)}var yr=St?o:this,gi=Wt?yr[t]:t;return pe=we.length,Y?we=kh(we,Y):ee&&pe>1&&we.reverse(),bt&&Q<pe&&(we.length=Q),this&&this!==Ve&&this instanceof ne&&(gi=de||Gi(gi)),gi.apply(yr,we)}}function uc(t,n){return function(o,f){return function Qf(t,n,o,f){return er(t,function(y,M,W){n(f,o(y),M,W)}),f}(o,t,n(f),{})}}function vs(t,n){return function(o,f){var y;if(o===S&&f===S)return n;if(o!==S&&(y=o),f!==S){if(y===S)return f;"string"==typeof o||"string"==typeof f?(o=ze(o),f=ze(f)):(o=Ju(o),f=Ju(f)),y=t(o,f)}return y}}function Ca(t){return lr(function(n){return n=De(n,Cn(Vt())),ue(function(o){var f=this;return t(n,function(y){return Sn(y,f,o)})})})}function _o(t,n){var o=(n=n===S?" ":ze(n)).length;if(o<2)return o?xa(n,t):n;var f=xa(n,Mr(t/sr(n)));return Ci(n)?Wr(qe(f),0,t).join(""):f.slice(0,t)}function cc(t){return function(n,o,f){return f&&"number"!=typeof f&&pn(n,o,f)&&(o=f=S),n=pi(n),o===S?(o=n,n=0):o=pi(o),function ah(t,n,o,f){for(var y=-1,M=Fe(Mr((n-t)/(o||1)),0),W=st(M);M--;)W[f?M:++y]=t,t+=o;return W}(n,o,f=f===S?n<o?1:-1:pi(f),t)}}function ys(t){return function(n,o){return"string"==typeof n&&"string"==typeof o||(n=rr(n),o=rr(o)),t(n,o)}}function ka(t,n,o,f,y,M,W,Y,Q,mt){var bt=8&n;n|=bt?T:64,4&(n&=~(bt?64:T))||(n&=-4);var de=[t,n,y,bt?M:S,bt?W:S,bt?S:M,bt?S:W,Y,Q,mt],ne=o.apply(S,de);return Es(t)&&mc(ne,de),ne.placeholder=f,wc(ne,t,n)}function Ma(t){var n=Be[t];return function(o,f){if(o=rr(o),(f=null==f?0:en(le(f),292))&&Di(o)){var y=(Ee(o)+"e").split("e");return+((y=(Ee(n(y[0]+"e"+(+y[1]+f)))+"e").split("e"))[0]+"e"+(+y[1]-f))}return n(o)}}var mh=Ti&&1/Cr(new Ti([,-0]))[1]==Qt?function(t){return new Ti(t)}:Pl;function fc(t){return function(n){var o=rn(n);return o==Ge?ki(n):o==un?function Cu(V){var ht=-1,st=Array(V.size);return V.forEach(function(Zt){st[++ht]=[Zt,Zt]}),st}(n):function mf(V,ht){return De(ht,function(st){return[st,V[st]]})}(n,t(n))}}function hr(t,n,o,f,y,M,W,Y){var Q=2&n;if(!Q&&"function"!=typeof t)throw new wn(D);var mt=f?f.length:0;if(mt||(n&=-97,f=y=S),W=W===S?W:Fe(le(W),0),Y=Y===S?Y:le(Y),mt-=y?y.length:0,64&n){var bt=f,St=y;f=y=S}var Wt=Q?S:Pi(t),Xt=[t,n,o,f,y,bt,St,M,W,Y];if(Wt&&function Yl(t,n){var o=t[1],f=n[1],y=o|f;if(!(y<131||(128==f&&8==o||128==f&&256==o&&t[7].length<=n[8]||384==f&&n[7].length<=n[8]&&8==o)))return t;1&f&&(t[2]=n[2],y|=1&o?0:4);var Y=n[3];if(Y){var Q=t[3];t[3]=Q?ic(Q,Y,n[4]):Y,t[4]=Q?Ln(t[3],E):n[4]}(Y=n[5])&&(t[5]=(Q=t[5])?oc(Q,Y,n[6]):Y,t[6]=Q?Ln(t[5],E):n[6]),(Y=n[7])&&(t[7]=Y),128&f&&(t[8]=null==t[8]?n[8]:en(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=y}(Xt,Wt),t=Xt[0],n=Xt[1],o=Xt[2],f=Xt[3],y=Xt[4],!(Y=Xt[9]=Xt[9]===S?Q?0:t.length:Fe(Xt[9]-mt,0))&&24&n&&(n&=-25),n&&1!=n)ee=8==n||16==n?function dn(t,n,o){var f=Gi(t);return function y(){for(var M=arguments.length,W=st(M),Y=M,Q=Ui(y);Y--;)W[Y]=arguments[Y];var mt=M<3&&W[0]!==Q&&W[M-1]!==Q?[]:Ln(W,Q);return(M-=mt.length)<o?ka(t,n,gs,y.placeholder,S,W,mt,S,S,o-M):Sn(this&&this!==Ve&&this instanceof y?f:t,this,W)}}(t,n,Y):n!=T&&33!=n||y.length?gs.apply(S,Xt):function yh(t,n,o,f){var y=1&n,M=Gi(t);return function W(){for(var Y=-1,Q=arguments.length,mt=-1,bt=f.length,St=st(bt+Q),Wt=this&&this!==Ve&&this instanceof W?M:t;++mt<bt;)St[mt]=f[mt];for(;Q--;)St[mt++]=arguments[++Y];return Sn(Wt,y?o:this,St)}}(t,n,o,f);else var ee=function vh(t,n,o){var f=1&n,y=Gi(t);return function M(){return(this&&this!==Ve&&this instanceof M?y:t).apply(f?o:this,arguments)}}(t,n,o);return wc((Wt?fs:mc)(ee,Xt),t,n)}function hc(t,n,o,f){return t===S||lt(t,kr[o])&&!xe.call(f,o)?n:t}function lc(t,n,o,f,y,M){return Ot(t)&&Ot(n)&&(M.set(n,t),Ze(t,n,S,lc,M),M.delete(n)),t}function wh(t){return Ye(t)?S:t}function dc(t,n,o,f,y,M){var W=1&o,Y=t.length,Q=n.length;if(Y!=Q&&!(W&&Q>Y))return!1;var mt=M.get(t),bt=M.get(n);if(mt&&bt)return mt==n&&bt==t;var St=-1,Wt=!0,Xt=2&o?new zr:S;for(M.set(t,n),M.set(n,t);++St<Y;){var ee=t[St],de=n[St];if(f)var ne=W?f(de,ee,St,n,t,M):f(ee,de,St,t,n,M);if(ne!==S){if(ne)continue;Wt=!1;break}if(Xt){if(!to(n,function(pe,we){if(!Si(Xt,we)&&(ee===pe||y(ee,pe,o,f,M)))return Xt.push(we)})){Wt=!1;break}}else if(ee!==de&&!y(ee,de,o,f,M)){Wt=!1;break}}return M.delete(t),M.delete(n),Wt}function lr(t){return Cs(yc(t,S,Oa),t+"")}function Ia(t){return Xu(t,sn,xs)}function Na(t){return Xu(t,Gn,Da)}var Pi=co?function(t){return co.get(t)}:Pl;function Wi(t){for(var n=t.name+"",o=ar[n],f=xe.call(ar,n)?o.length:0;f--;){var y=o[f],M=y.func;if(null==M||M==t)return y.name}return n}function Ui(t){return(xe.call(A,"placeholder")?A:t).placeholder}function Vt(){var t=A.iteratee||Gl;return t=t===Gl?Vu:t,arguments.length?t(arguments[0],arguments[1]):t}function ws(t,n){var o=t.__data__;return function Ta(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}(n)?o["string"==typeof n?"string":"hash"]:o.map}function bs(t){for(var n=sn(t),o=n.length;o--;){var f=n[o],y=t[f];n[o]=[f,y,Ss(y)]}return n}function Fr(t,n){var o=function Yo(V,ht){return null==V?S:V[ht]}(t,n);return rh(o)?o:S}var xs=Ii?function(t){return null==t?[]:(t=ke(t),Er(Ii(t),function(n){return na.call(t,n)}))}:Wl,Da=Ii?function(t){for(var n=[];t;)Sr(n,xs(t)),t=qo(t);return n}:Wl,rn=hn;function La(t,n,o){for(var f=-1,y=(n=Pr(n,t)).length,M=!1;++f<y;){var W=pr(n[f]);if(!(M=null!=t&&o(t,W)))break;t=t[W]}return M||++f!=y?M:!!(y=null==t?0:t.length)&&Tt(y)&&dr(W,y)&&(nt(t)||X(t))}function xh(t){return"function"!=typeof t.constructor||Bi(t)?{}:oi(qo(t))}function Ah(t){return nt(t)||X(t)||!!(Du&&t&&t[Du])}function dr(t,n){var o=typeof t;return!!(n=null==n?ge:n)&&("number"==o||"symbol"!=o&&z.test(t))&&t>-1&&t%1==0&&t<n}function pn(t,n,o){if(!Ot(o))return!1;var f=typeof n;return!!("number"==f?J(o)&&dr(n,o.length):"string"==f&&n in o)&&lt(o[n],t)}function Zr(t,n){if(nt(t))return!1;var o=typeof t;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=t&&!He(t))||Vi.test(t)||!Ar.test(t)||null!=n&&t in ke(n)}function Es(t){var n=Wi(t),o=A[n];if("function"!=typeof o||!(n in oe.prototype))return!1;if(t===o)return!0;var f=Pi(o);return!!f&&t===f[0]}(ts&&rn(new ts(new ArrayBuffer(1)))!=Vn||Li&&rn(new Li)!=Ge||oa&&rn(oa.resolve())!=ji||Ti&&rn(new Ti)!=un||Ri&&rn(new Ri)!=Hr)&&(rn=function(t){var n=hn(t),o=n==Ue?t.constructor:S,f=o?hi(o):"";if(f)switch(f){case Mf:return Vn;case es:return Ge;case bn:return ji;case Ru:return un;case If:return Hr}return n});var Eh=ni?Gt:Ul;function Bi(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||kr)}function Ss(t){return t==t&&!Ot(t)}function Fi(t,n){return function(o){return null!=o&&o[t]===n&&(n!==S||t in ke(o))}}function yc(t,n,o){return n=Fe(n===S?t.length-1:n,0),function(){for(var f=arguments,y=-1,M=Fe(f.length-n,0),W=st(M);++y<M;)W[y]=f[n+y];y=-1;for(var Y=st(n+1);++y<n;)Y[y]=f[y];return Y[n]=o(W),Sn(t,this,Y)}}function Ao(t,n){return n.length<2?t:ai(t,Hn(n,0,-1))}function kh(t,n){for(var o=t.length,f=en(n.length,o),y=xn(t);f--;){var M=n[f];t[f]=dr(M,o)?y[M]:S}return t}function Eo(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]}var mc=za(fs),So=Lu||function(t,n){return Ve.setTimeout(t,n)},Cs=za(fh);function wc(t,n,o){var f=n+"";return Cs(t,function _h(t,n){var o=n.length;if(!o)return t;var f=o-1;return n[f]=(o>1?"& ":"")+n[f],n=n.join(o>2?", ":" "),t.replace(Oo,"{\n/* [wrapped with "+n+"] */\n")}(f,function Ih(t,n){return Dn(ve,function(o){var f="_."+o[0];n&o[1]&&!Fo(t,f)&&t.push(f)}),t.sort()}(function As(t){var n=t.match(Kr);return n?n[1].split(Vr):[]}(f),o)))}function za(t){var n=0,o=0;return function(){var f=Sf(),y=16-(f-o);if(o=f,y>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(S,arguments)}}function ks(t,n){var o=-1,f=t.length,y=f-1;for(n=n===S?f:n;++o<n;){var M=cs(o,y),W=t[M];t[M]=t[o],t[o]=W}return t.length=n,t}var Mh=function vc(t){var n=zs(t,function(f){return 500===o.size&&o.clear(),f}),o=n.cache;return n}(function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(Go,function(o,f,y,M){n.push(y?M.replace(p,"$1"):f||o)}),n});function pr(t){if("string"==typeof t||He(t))return t;var n=t+"";return"0"==n&&1/t==-Qt?"-0":n}function hi(t){if(null!=t){try{return ri.call(t)}catch(n){}try{return t+""}catch(n){}}return""}function bc(t){if(t instanceof oe)return t.clone();var n=new Rn(t.__wrapped__,t.__chain__);return n.__actions__=xn(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}var Nh=ue(function(t,n){return dt(t)?po(t,Je(n,1,dt,!0)):[]}),Dh=ue(function(t,n){var o=gn(n);return dt(o)&&(o=S),dt(t)?po(t,Je(n,1,dt,!0),Vt(o,2)):[]}),Lh=ue(function(t,n){var o=gn(n);return dt(o)&&(o=S),dt(t)?po(t,Je(n,1,dt,!0),S,o):[]});function _c(t,n,o){var f=null==t?0:t.length;if(!f)return-1;var y=null==o?0:le(o);return y<0&&(y=Fe(f+y,0)),Zo(t,Vt(n,3),y)}function Ac(t,n,o){var f=null==t?0:t.length;if(!f)return-1;var y=f-1;return o!==S&&(y=le(o),y=o<0?Fe(f+y,0):en(y,f-1)),Zo(t,Vt(n,3),y,!0)}function Oa(t){return null!=t&&t.length?Je(t,1):[]}function Pa(t){return t&&t.length?t[0]:S}var Ec=ue(function(t){var n=De(t,xo);return n.length&&n[0]===t[0]?va(n):[]}),Hl=ue(function(t){var n=gn(t),o=De(t,xo);return n===gn(o)?n=S:o.pop(),o.length&&o[0]===t[0]?va(o,Vt(n,2)):[]}),Co=ue(function(t){var n=gn(t),o=De(t,xo);return(n="function"==typeof n?n:S)&&o.pop(),o.length&&o[0]===t[0]?va(o,S,n):[]});function gn(t){var n=null==t?0:t.length;return n?t[n-1]:S}var jl=ue(Fh);function Fh(t,n){return t&&t.length&&n&&n.length?Yn(t,n):t}var Cc=lr(function(t,n){var o=null==t?0:t.length,f=ha(t,n);return ba(t,De(n,function(y){return dr(y,o)?+y:y}).sort(rc)),f});function Wa(t){return null==t?t:kf.call(t)}var Qh=ue(function(t){return Or(Je(t,1,dt,!0))}),tl=ue(function(t){var n=gn(t);return dt(n)&&(n=S),Or(Je(t,1,dt,!0),Vt(n,2))}),Mc=ue(function(t){var n=gn(t);return n="function"==typeof n?n:S,Or(Je(t,1,dt,!0),S,n)});function Za(t){if(!t||!t.length)return[];var n=0;return t=Er(t,function(o){if(dt(o))return n=Fe(o.length,n),!0}),$o(n,function(o){return De(t,Vs(o))})}function nl(t,n){if(!t||!t.length)return[];var o=Za(t);return null==n?o:De(o,function(f){return Sn(n,S,f)})}var rl=ue(function(t,n){return dt(t)?po(t,n):[]}),il=ue(function(t){return ls(Er(t,dt))}),Ds=ue(function(t){var n=gn(t);return dt(n)&&(n=S),ls(Er(t,dt),Vt(n,2))}),Nc=ue(function(t){var n=gn(t);return n="function"==typeof n?n:S,ls(Er(t,dt),S,n)}),Ls=ue(Za),ol=ue(function(t){var n=t.length,o=n>1?t[n-1]:S;return o="function"==typeof o?(t.pop(),o):S,nl(t,o)});function Dc(t){var n=A(t);return n.__chain__=!0,n}function Mo(t,n){return n(t)}var sl=lr(function(t){var n=t.length,o=n?t[0]:0,f=this.__wrapped__,y=function(M){return ha(M,t)};return!(n>1||this.__actions__.length)&&f instanceof oe&&dr(o)?((f=f.slice(o,+o+(n?1:0))).__actions__.push({func:Mo,args:[y],thisArg:S}),new Rn(f,this.__chain__).thru(function(M){return n&&!M.length&&M.push(S),M})):this.thru(y)}),ul=ds(function(t,n,o){xe.call(t,o)?++t[o]:ur(t,o,1)}),Xa=Br(_c),Pc=Br(Ac);function ja(t,n){return(nt(t)?Dn:Gr)(t,Vt(n,3))}function Wc(t,n){return(nt(t)?hf:Yu)(t,Vt(n,3))}var Uc=ds(function(t,n,o){xe.call(t,o)?t[o].push(n):ur(t,o,[n])}),dl=ue(function(t,n,o){var f=-1,y="function"==typeof n,M=J(t)?st(t.length):[];return Gr(t,function(W){M[++f]=y?Sn(n,W,o):go(W,n,o)}),M}),pl=ds(function(t,n,o){ur(t,o,n)});function Ts(t,n){return(nt(t)?De:ui)(t,Vt(n,3))}var gl=ds(function(t,n,o){t[o?0:1].push(n)},function(){return[[],[]]}),El=ue(function(t,n){if(null==t)return[];var o=n.length;return o>1&&pn(t,n[0],n[1])?n=[]:o>2&&pn(n[0],n[1],n[2])&&(n=[n[0]]),as(t,Je(n,1),[])}),Rs=ia||function(){return Ve.Date.now()};function Bc(t,n,o){return n=o?S:n,hr(t,128,S,S,S,S,n=t&&null==n?t.length:n)}function Yi(t,n){var o;if("function"!=typeof n)throw new wn(D);return t=le(t),function(){return--t>0&&(o=n.apply(this,arguments)),t<=1&&(n=S),o}}var Hi=ue(function(t,n,o){var f=1;if(o.length){var y=Ln(o,Ui(Hi));f|=T}return hr(t,f,n,o,y)}),Fc=ue(function(t,n,o){var f=3;if(o.length){var y=Ln(o,Ui(Fc));f|=T}return hr(n,f,t,o,y)});function Ka(t,n,o){var f,y,M,W,Y,Q,mt=0,bt=!1,St=!1,Wt=!0;if("function"!=typeof t)throw new wn(D);function Xt(je){var yr=f,gi=y;return f=y=S,mt=je,W=t.apply(gi,yr)}function ee(je){return mt=je,Y=So(pe,n),bt?Xt(je):W}function ne(je){var yr=je-Q;return Q===S||yr>=n||yr<0||St&&je-mt>=M}function pe(){var je=Rs();if(ne(je))return we(je);Y=So(pe,function de(je){var cd=n-(je-Q);return St?en(cd,M-(je-mt)):cd}(je))}function we(je){return Y=S,Wt&&f?Xt(je):(f=y=S,W)}function jn(){var je=Rs(),yr=ne(je);if(f=arguments,y=this,Q=je,yr){if(Y===S)return ee(Q);if(St)return Qu(Y),Y=So(pe,n),Xt(Q)}return Y===S&&(Y=So(pe,n)),W}return n=rr(n)||0,Ot(o)&&(bt=!!o.leading,M=(St="maxWait"in o)?Fe(rr(o.maxWait)||0,n):M,Wt="trailing"in o?!!o.trailing:Wt),jn.cancel=function Xn(){Y!==S&&Qu(Y),mt=0,f=Q=y=Y=S},jn.flush=function Mn(){return Y===S?W:we(Rs())},jn}var Cl=ue(function(t,n){return $u(t,1,n)}),kl=ue(function(t,n,o){return $u(t,rr(n)||0,o)});function zs(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new wn(D);var o=function(){var f=arguments,y=n?n.apply(this,f):f[0],M=o.cache;if(M.has(y))return M.get(y);var W=t.apply(this,f);return o.cache=M.set(y,W)||M,W};return o.cache=new(zs.Cache||Rr),o}function Gs(t){if("function"!=typeof t)throw new wn(D);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}zs.Cache=Rr;var Il=hh(function(t,n){var o=(n=1==n.length&&nt(n[0])?De(n[0],Cn(Vt())):De(Je(n,1),Cn(Vt()))).length;return ue(function(f){for(var y=-1,M=en(f.length,o);++y<M;)f[y]=n[y].call(this,f[y]);return Sn(t,this,f)})}),e=ue(function(t,n){var o=Ln(n,Ui(e));return hr(t,T,S,n,o)}),i=ue(function(t,n){var o=Ln(n,Ui(i));return hr(t,64,S,n,o)}),r=lr(function(t,n){return hr(t,256,S,S,S,n)});function lt(t,n){return t===n||t!=t&&n!=n}var at=ys(ga),j=ys(function(t,n){return t>=n}),X=ju(function(){return arguments}())?ju:function(t){return It(t)&&xe.call(t,"callee")&&!na.call(t,"callee")},nt=st.isArray,wt=lu?Cn(lu):function th(t){return It(t)&&hn(t)==wr};function J(t){return null!=t&&Tt(t.length)&&!Gt(t)}function dt(t){return It(t)&&J(t)}var Ft=Ni||Ul,$t=du?Cn(du):function eh(t){return It(t)&&hn(t)==Ke};function qt(t){if(!It(t))return!1;var n=hn(t);return n==We||"[object DOMException]"==n||"string"==typeof t.message&&"string"==typeof t.name&&!Ye(t)}function Gt(t){if(!Ot(t))return!1;var n=hn(t);return n==Ie||n==Kn||"[object AsyncFunction]"==n||"[object Proxy]"==n}function yt(t){return"number"==typeof t&&t==le(t)}function Tt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=ge}function Ot(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function It(t){return null!=t&&"object"==typeof t}var Ht=pu?Cn(pu):function Ku(t){return It(t)&&rn(t)==Ge};function Me(t){return"number"==typeof t||It(t)&&hn(t)==vn}function Ye(t){if(!It(t)||hn(t)!=Ue)return!1;var n=qo(t);if(null===n)return!0;var o=xe.call(n,"constructor")&&n.constructor;return"function"==typeof o&&o instanceof o&&ri.call(o)==Vo}var Yr=gu?Cn(gu):function Fl(t){return It(t)&&hn(t)==Pn},Va=vu?Cn(vu):function ih(t){return It(t)&&rn(t)==un};function No(t){return"string"==typeof t||!nt(t)&&It(t)&&hn(t)==vi}function He(t){return"symbol"==typeof t||It(t)&&hn(t)==mr}var di=yu?Cn(yu):function oh(t){return It(t)&&Tt(t.length)&&!!Ne[hn(t)]},Xe=ys(vo),Do=ys(function(t,n){return t<=n});function vr(t){if(!t)return[];if(J(t))return No(t)?qe(t):xn(t);if(uo&&t[uo])return function Su(V){for(var ht,st=[];!(ht=V.next()).done;)st.push(ht.value);return st}(t[uo]());var n=rn(t);return(n==Ge?ki:n==un?Cr:Os)(t)}function pi(t){return t?(t=rr(t))===Qt||t===-Qt?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function le(t){var n=pi(t),o=n%1;return n==n?o?n-o:n:0}function ql(t){return t?si(le(t),0,re):0}function rr(t){if("number"==typeof t)return t;if(He(t))return NaN;if(Ot(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=Ot(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=Au(t);var o=c.test(t);return o||k.test(t)?uf(t.slice(2),o?2:8):u.test(t)?NaN:+t}function Jl(t){return nr(t,Gn(t))}function Ee(t){return null==t?"":ze(t)}var hd=zi(function(t,n){if(Bi(n)||J(n))nr(n,sn(n),t);else for(var o in n)xe.call(n,o)&&lo(t,o,n[o])}),Ql=zi(function(t,n){nr(n,Gn(n),t)}),Yc=zi(function(t,n,o,f){nr(n,Gn(n),t,f)}),ld=zi(function(t,n,o,f){nr(n,sn(n),t,f)}),dd=lr(ha),gd=ue(function(t,n){t=ke(t);var o=-1,f=n.length,y=f>2?n[2]:S;for(y&&pn(n[0],n[1],y)&&(f=1);++o<f;)for(var M=n[o],W=Gn(M),Y=-1,Q=W.length;++Y<Q;){var mt=W[Y],bt=t[mt];(bt===S||lt(bt,kr[mt])&&!xe.call(t,mt))&&(t[mt]=M[mt])}return t}),vd=ue(function(t){return t.push(S,lc),Sn(td,S,t)});function Ll(t,n,o){var f=null==t?S:ai(t,n);return f===S?o:f}function Tl(t,n){return null!=t&&La(t,n,qf)}var Cd=uc(function(t,n,o){null!=n&&"function"!=typeof n.toString&&(n=Ko.call(n)),t[n]=o},zl(On)),kd=uc(function(t,n,o){null!=n&&"function"!=typeof n.toString&&(n=Ko.call(n)),xe.call(t,n)?t[n].push(o):t[n]=[o]},Vt),Md=ue(go);function sn(t){return J(t)?Uu(t):ya(t)}function Gn(t){return J(t)?Uu(t,!0):function qu(t){if(!Ot(t))return function Sh(t){var n=[];if(null!=t)for(var o in ke(t))n.push(o);return n}(t);var n=Bi(t),o=[];for(var f in t)"constructor"==f&&(n||!xe.call(t,f))||o.push(f);return o}(t)}var Dd=zi(function(t,n,o){Ze(t,n,o)}),td=zi(function(t,n,o,f){Ze(t,n,o,f)}),Ld=lr(function(t,n){var o={};if(null==t)return o;var f=!1;n=De(n,function(M){return M=Pr(M,t),f||(f=M.length>1),M}),nr(t,Na(t),o),f&&(o=zn(o,7,wh));for(var y=n.length;y--;)fi(o,n[y]);return o}),Rd=lr(function(t,n){return null==t?{}:function us(t,n){return yo(t,n,function(o,f){return Tl(t,f)})}(t,n)});function ed(t,n){if(null==t)return{};var o=De(Na(t),function(f){return[f]});return n=Vt(n),yo(t,o,function(f,y){return n(f,y[0])})}var nd=fc(sn),rd=fc(Gn);function Os(t){return null==t?[]:Qs(t,sn(t))}var Hd=Ur(function(t,n,o){return n=n.toLowerCase(),t+(o?id(n):n)});function id(t){return Rl(Ee(t).toLowerCase())}function od(t){return(t=Ee(t))&&t.replace(tt,eo).replace(Uo,"")}var Vd=Ur(function(t,n,o){return t+(o?"-":"")+n.toLowerCase()}),qd=Ur(function(t,n,o){return t+(o?" ":"")+n.toLowerCase()}),Jd=ps("toLowerCase"),op=Ur(function(t,n,o){return t+(o?"_":"")+n.toLowerCase()}),ap=Ur(function(t,n,o){return t+(o?" ":"")+Rl(n)}),yp=Ur(function(t,n,o){return t+(o?" ":"")+n.toUpperCase()}),Rl=ps("toUpperCase");function sd(t,n,o){return t=Ee(t),(n=o?S:n)===S?function xf(V){return tf.test(V)}(t)?function _f(V){return V.match(Jc)||[]}(t):function gf(V){return V.match(xi)||[]}(t):t.match(n)||[]}var ad=ue(function(t,n){try{return Sn(t,S,n)}catch(o){return qt(o)?o:new ie(o)}}),mp=lr(function(t,n){return Dn(n,function(o){o=pr(o),ur(t,o,Hi(t[o],t))}),t});function zl(t){return function(){return t}}var _p=fr(),Ap=fr(!0);function On(t){return t}function Gl(t){return Vu("function"==typeof t?t:zn(t,1))}var Cp=ue(function(t,n){return function(o){return go(o,t,n)}}),kp=ue(function(t,n){return function(o){return go(t,o,n)}});function Ol(t,n,o){var f=sn(n),y=ss(n,f);null==o&&(!Ot(n)||!y.length&&f.length)&&(o=n,n=t,t=this,y=ss(n,sn(n)));var M=!(Ot(o)&&"chain"in o&&!o.chain),W=Gt(t);return Dn(y,function(Y){var Q=n[Y];t[Y]=Q,W&&(t.prototype[Y]=function(){var mt=this.__chain__;if(M||mt){var bt=t(this.__wrapped__),St=bt.__actions__=xn(this.__actions__);return St.push({func:Q,args:arguments,thisArg:t}),bt.__chain__=mt,bt}return Q.apply(t,Sr([this.value()],arguments))})}),t}function Pl(){}var Np=Ca(De),Dp=Ca(mu),Lp=Ca(to);function ud(t){return Zr(t)?Vs(pr(t)):function sh(t){return function(n){return ai(n,t)}}(t)}var Rp=cc(),zp=cc(!0);function Wl(){return[]}function Ul(){return!1}var Fp=vs(function(t,n){return t+n},0),Zp=Ma("ceil"),$p=vs(function(t,n){return t/n},1),Yp=Ma("floor"),Jp=vs(function(t,n){return t*n},1),Qp=Ma("round"),tg=vs(function(t,n){return t-n},0);return A.after=function Sl(t,n){if("function"!=typeof n)throw new wn(D);return t=le(t),function(){if(--t<1)return n.apply(this,arguments)}},A.ary=Bc,A.assign=hd,A.assignIn=Ql,A.assignInWith=Yc,A.assignWith=ld,A.at=dd,A.before=Yi,A.bind=Hi,A.bindAll=mp,A.bindKey=Fc,A.castArray=function C(){if(!arguments.length)return[];var t=arguments[0];return nt(t)?t:[t]},A.chain=Dc,A.chunk=function xc(t,n,o){n=(o?pn(t,n,o):n===S)?1:Fe(le(n),0);var f=null==t?0:t.length;if(!f||n<1)return[];for(var y=0,M=0,W=st(Mr(f/n));y<f;)W[M++]=Hn(t,y,y+=n);return W},A.compact=function $r(t){for(var n=-1,o=null==t?0:t.length,f=0,y=[];++n<o;){var M=t[n];M&&(y[f++]=M)}return y},A.concat=function Ga(){var t=arguments.length;if(!t)return[];for(var n=st(t-1),o=arguments[0],f=t;f--;)n[f-1]=arguments[f];return Sr(nt(o)?xn(o):[o],Je(n,1))},A.cond=function wp(t){var n=null==t?0:t.length,o=Vt();return t=n?De(t,function(f){if("function"!=typeof f[1])throw new wn(D);return[o(f[0]),f[1]]}):[],ue(function(f){for(var y=-1;++y<n;){var M=t[y];if(Sn(M[0],this,f))return Sn(M[1],this,f)}})},A.conforms=function bp(t){return function Xf(t){var n=sn(t);return function(o){return Zu(o,t,n)}}(zn(t,1))},A.constant=zl,A.countBy=ul,A.create=function pd(t,n){var o=oi(t);return null==n?o:Fu(o,n)},A.curry=function Zc(t,n,o){var f=hr(t,8,S,S,S,S,S,n=o?S:n);return f.placeholder=Zc.placeholder,f},A.curryRight=function $c(t,n,o){var f=hr(t,16,S,S,S,S,S,n=o?S:n);return f.placeholder=$c.placeholder,f},A.debounce=Ka,A.defaults=gd,A.defaultsDeep=vd,A.defer=Cl,A.delay=kl,A.difference=Nh,A.differenceBy=Dh,A.differenceWith=Lh,A.drop=function Th(t,n,o){var f=null==t?0:t.length;return f?Hn(t,(n=o||n===S?1:le(n))<0?0:n,f):[]},A.dropRight=function Rh(t,n,o){var f=null==t?0:t.length;return f?Hn(t,0,(n=f-(n=o||n===S?1:le(n)))<0?0:n):[]},A.dropRightWhile=function zh(t,n){return t&&t.length?cr(t,Vt(n,3),!0,!0):[]},A.dropWhile=function Gh(t,n){return t&&t.length?cr(t,Vt(n,3),!0):[]},A.fill=function Oh(t,n,o,f){var y=null==t?0:t.length;return y?(o&&"number"!=typeof o&&pn(t,n,o)&&(o=0,f=y),function Kf(t,n,o,f){var y=t.length;for((o=le(o))<0&&(o=-o>y?0:y+o),(f=f===S||f>y?y:le(f))<0&&(f+=y),f=o>f?0:ql(f);o<f;)t[o++]=n;return t}(t,n,o,f)):[]},A.filter=function Oc(t,n){return(nt(t)?Er:Hu)(t,Vt(n,3))},A.flatMap=function cl(t,n){return Je(Ts(t,n),1)},A.flatMapDeep=function fl(t,n){return Je(Ts(t,n),Qt)},A.flatMapDepth=function hl(t,n,o){return o=o===S?1:le(o),Je(Ts(t,n),o)},A.flatten=Oa,A.flattenDeep=function Zi(t){return null!=t&&t.length?Je(t,Qt):[]},A.flattenDepth=function Ms(t,n){return null!=t&&t.length?Je(t,n=n===S?1:le(n)):[]},A.flip=function Vl(t){return hr(t,512)},A.flow=_p,A.flowRight=Ap,A.fromPairs=function Is(t){for(var n=-1,o=null==t?0:t.length,f={};++n<o;){var y=t[n];f[y[0]]=y[1]}return f},A.functions=function Ad(t){return null==t?[]:ss(t,sn(t))},A.functionsIn=function Ed(t){return null==t?[]:ss(t,Gn(t))},A.groupBy=Uc,A.initial=function Wh(t){return null!=t&&t.length?Hn(t,0,-1):[]},A.intersection=Ec,A.intersectionBy=Hl,A.intersectionWith=Co,A.invert=Cd,A.invertBy=kd,A.invokeMap=dl,A.iteratee=Gl,A.keyBy=pl,A.keys=sn,A.keysIn=Gn,A.map=Ts,A.mapKeys=function Id(t,n){var o={};return n=Vt(n,3),er(t,function(f,y,M){ur(o,n(f,y,M),f)}),o},A.mapValues=function Nd(t,n){var o={};return n=Vt(n,3),er(t,function(f,y,M){ur(o,y,n(f,y,M))}),o},A.matches=function Ep(t){return ci(zn(t,1))},A.matchesProperty=function Sp(t,n){return ma(t,zn(n,1))},A.memoize=zs,A.merge=Dd,A.mergeWith=td,A.method=Cp,A.methodOf=kp,A.mixin=Ol,A.negate=Gs,A.nthArg=function Ip(t){return t=le(t),ue(function(n){return wa(n,t)})},A.omit=Ld,A.omitBy=function Td(t,n){return ed(t,Gs(Vt(n)))},A.once=function Ml(t){return Yi(2,t)},A.orderBy=function Kl(t,n,o,f){return null==t?[]:(nt(n)||(n=null==n?[]:[n]),nt(o=f?S:o)||(o=null==o?[]:[o]),as(t,n,o))},A.over=Np,A.overArgs=Il,A.overEvery=Dp,A.overSome=Lp,A.partial=e,A.partialRight=i,A.partition=gl,A.pick=Rd,A.pickBy=ed,A.property=ud,A.propertyOf=function Tp(t){return function(n){return null==t?S:ai(t,n)}},A.pull=jl,A.pullAll=Fh,A.pullAllBy=function Sc(t,n,o){return t&&t.length&&n&&n.length?Yn(t,n,Vt(o,2)):t},A.pullAllWith=function Zh(t,n,o){return t&&t.length&&n&&n.length?Yn(t,n,S,o):t},A.pullAt=Cc,A.range=Rp,A.rangeRight=zp,A.rearg=r,A.reject=function ml(t,n){return(nt(t)?Er:Hu)(t,Gs(Vt(n,3)))},A.remove=function $h(t,n){var o=[];if(!t||!t.length)return o;var f=-1,y=[],M=t.length;for(n=Vt(n,3);++f<M;){var W=t[f];n(W,f,t)&&(o.push(W),y.push(f))}return ba(t,y),o},A.rest=function s(t,n){if("function"!=typeof t)throw new wn(D);return ue(t,n=n===S?n:le(n))},A.reverse=Wa,A.sampleSize=function bl(t,n,o){return n=(o?pn(t,n,o):n===S)?1:le(n),(nt(t)?Zf:ch)(t,n)},A.set=function Gd(t,n,o){return null==t?t:mo(t,n,o)},A.setWith=function Od(t,n,o,f){return f="function"==typeof f?f:S,null==t?t:mo(t,n,o,f)},A.shuffle=function xl(t){return(nt(t)?$f:Zl)(t)},A.slice=function Yh(t,n,o){var f=null==t?0:t.length;return f?(o&&"number"!=typeof o&&pn(t,n,o)?(n=0,o=f):(n=null==n?0:le(n),o=o===S?f:le(o)),Hn(t,n,o)):[]},A.sortBy=El,A.sortedUniq=function ko(t){return t&&t.length?$e(t):[]},A.sortedUniqBy=function jh(t,n){return t&&t.length?$e(t,Vt(n,2)):[]},A.split=function sp(t,n,o){return o&&"number"!=typeof o&&pn(t,n,o)&&(n=o=S),(o=o===S?re:o>>>0)?(t=Ee(t))&&("string"==typeof n||null!=n&&!Yr(n))&&!(n=ze(n))&&Ci(t)?Wr(qe(t),0,o):t.split(n,o):[]},A.spread=function a(t,n){if("function"!=typeof t)throw new wn(D);return n=null==n?0:Fe(le(n),0),ue(function(o){var f=o[n],y=Wr(o,0,n);return f&&Sr(y,f),Sn(t,this,y)})},A.tail=function Kh(t){var n=null==t?0:t.length;return n?Hn(t,1,n):[]},A.take=function kc(t,n,o){return t&&t.length?Hn(t,0,(n=o||n===S?1:le(n))<0?0:n):[]},A.takeRight=function Vh(t,n,o){var f=null==t?0:t.length;return f?Hn(t,(n=f-(n=o||n===S?1:le(n)))<0?0:n,f):[]},A.takeRightWhile=function qh(t,n){return t&&t.length?cr(t,Vt(n,3),!1,!0):[]},A.takeWhile=function Jh(t,n){return t&&t.length?cr(t,Vt(n,3)):[]},A.tap=function Lc(t,n){return n(t),t},A.throttle=function h(t,n,o){var f=!0,y=!0;if("function"!=typeof t)throw new wn(D);return Ot(o)&&(f="leading"in o?!!o.leading:f,y="trailing"in o?!!o.trailing:y),Ka(t,n,{leading:f,maxWait:n,trailing:y})},A.thru=Mo,A.toArray=vr,A.toPairs=nd,A.toPairsIn=rd,A.toPath=function Up(t){return nt(t)?De(t,pr):He(t)?[t]:xn(Mh(Ee(t)))},A.toPlainObject=Jl,A.transform=function Pd(t,n,o){var f=nt(t),y=f||Ft(t)||di(t);if(n=Vt(n,4),null==o){var M=t&&t.constructor;o=y?f?new M:[]:Ot(t)&&Gt(M)?oi(qo(t)):{}}return(y?Dn:er)(t,function(W,Y,Q){return n(o,W,Y,Q)}),o},A.unary=function d(t){return Bc(t,1)},A.union=Qh,A.unionBy=tl,A.unionWith=Mc,A.uniq=function Fa(t){return t&&t.length?Or(t):[]},A.uniqBy=function Ic(t,n){return t&&t.length?Or(t,Vt(n,2)):[]},A.uniqWith=function el(t,n){return n="function"==typeof n?n:S,t&&t.length?Or(t,S,n):[]},A.unset=function Wd(t,n){return null==t||fi(t,n)},A.unzip=Za,A.unzipWith=nl,A.update=function Ud(t,n,o){return null==t?t:hs(t,n,Ea(o))},A.updateWith=function Bd(t,n,o,f){return f="function"==typeof f?f:S,null==t?t:hs(t,n,Ea(o),f)},A.values=Os,A.valuesIn=function Fd(t){return null==t?[]:Qs(t,Gn(t))},A.without=rl,A.words=sd,A.wrap=function m(t,n){return e(Ea(n),t)},A.xor=il,A.xorBy=Ds,A.xorWith=Nc,A.zip=Ls,A.zipObject=function $a(t,n){return bo(t||[],n||[],lo)},A.zipObjectDeep=function Ya(t,n){return bo(t||[],n||[],mo)},A.zipWith=ol,A.entries=nd,A.entriesIn=rd,A.extend=Ql,A.extendWith=Yc,Ol(A,A),A.add=Fp,A.attempt=ad,A.camelCase=Hd,A.capitalize=id,A.ceil=Zp,A.clamp=function Zd(t,n,o){return o===S&&(o=n,n=S),o!==S&&(o=(o=rr(o))==o?o:0),n!==S&&(n=(n=rr(n))==n?n:0),si(rr(t),n,o)},A.clone=function _(t){return zn(t,4)},A.cloneDeep=function B(t){return zn(t,5)},A.cloneDeepWith=function U(t,n){return zn(t,5,n="function"==typeof n?n:S)},A.cloneWith=function R(t,n){return zn(t,4,n="function"==typeof n?n:S)},A.conformsTo=function K(t,n){return null==n||Zu(t,n,sn(n))},A.deburr=od,A.defaultTo=function xp(t,n){return null==t||t!=t?n:t},A.divide=$p,A.endsWith=function Xd(t,n,o){t=Ee(t),n=ze(n);var f=t.length,y=o=o===S?f:si(le(o),0,f);return(o-=n.length)>=0&&t.slice(o,y)==n},A.eq=lt,A.escape=function jd(t){return(t=Ee(t))&&Ro.test(t)?t.replace(_r,bf):t},A.escapeRegExp=function Kd(t){return(t=Ee(t))&&or.test(t)?t.replace(jr,"\\$&"):t},A.every=function $i(t,n,o){var f=nt(t)?mu:jf;return o&&pn(t,n,o)&&(n=S),f(t,Vt(n,3))},A.find=Xa,A.findIndex=_c,A.findKey=function yd(t,n){return wu(t,Vt(n,3),er)},A.findLast=Pc,A.findLastIndex=Ac,A.findLastKey=function md(t,n){return wu(t,Vt(n,3),pa)},A.floor=Yp,A.forEach=ja,A.forEachRight=Wc,A.forIn=function wd(t,n){return null==t?t:la(t,Vt(n,3),Gn)},A.forInRight=function bd(t,n){return null==t?t:da(t,Vt(n,3),Gn)},A.forOwn=function xd(t,n){return t&&er(t,Vt(n,3))},A.forOwnRight=function _d(t,n){return t&&pa(t,Vt(n,3))},A.get=Ll,A.gt=at,A.gte=j,A.has=function Sd(t,n){return null!=t&&La(t,n,Vf)},A.hasIn=Tl,A.head=Pa,A.identity=On,A.includes=function ll(t,n,o,f){t=J(t)?t:Os(t),o=o&&!f?le(o):0;var y=t.length;return o<0&&(o=Fe(y+o,0)),No(t)?o<=y&&t.indexOf(n,o)>-1:!!y&&Ei(t,n,o)>-1},A.indexOf=function Ph(t,n,o){var f=null==t?0:t.length;if(!f)return-1;var y=null==o?0:le(o);return y<0&&(y=Fe(f+y,0)),Ei(t,n,y)},A.inRange=function $d(t,n,o){return n=pi(n),o===S?(o=n,n=0):o=pi(o),function Jf(t,n,o){return t>=en(n,o)&&t<Fe(n,o)}(t=rr(t),n,o)},A.invoke=Md,A.isArguments=X,A.isArray=nt,A.isArrayBuffer=wt,A.isArrayLike=J,A.isArrayLikeObject=dt,A.isBoolean=function Bt(t){return!0===t||!1===t||It(t)&&hn(t)==Te},A.isBuffer=Ft,A.isDate=$t,A.isElement=function ae(t){return It(t)&&1===t.nodeType&&!Ye(t)},A.isEmpty=function Yt(t){if(null==t)return!0;if(J(t)&&(nt(t)||"string"==typeof t||"function"==typeof t.splice||Ft(t)||di(t)||X(t)))return!t.length;var n=rn(t);if(n==Ge||n==un)return!t.size;if(Bi(t))return!ya(t).length;for(var o in t)if(xe.call(t,o))return!1;return!0},A.isEqual=function zt(t,n){return kn(t,n)},A.isEqualWith=function he(t,n,o){var f=(o="function"==typeof o?o:S)?o(t,n):S;return f===S?kn(t,n,S,o):!!f},A.isError=qt,A.isFinite=function it(t){return"number"==typeof t&&Di(t)},A.isFunction=Gt,A.isInteger=yt,A.isLength=Tt,A.isMap=Ht,A.isMatch=function se(t,n){return t===n||$n(t,n,bs(n))},A.isMatchWith=function ce(t,n,o){return o="function"==typeof o?o:S,$n(t,n,bs(n),o)},A.isNaN=function _n(t){return Me(t)&&t!=+t},A.isNative=function Re(t){if(Eh(t))throw new ie("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return rh(t)},A.isNil=function An(t){return null==t},A.isNull=function on(t){return null===t},A.isNumber=Me,A.isObject=Ot,A.isObjectLike=It,A.isPlainObject=Ye,A.isRegExp=Yr,A.isSafeInteger=function Io(t){return yt(t)&&t>=-ge&&t<=ge},A.isSet=Va,A.isString=No,A.isSymbol=He,A.isTypedArray=di,A.isUndefined=function Nl(t){return t===S},A.isWeakMap=function Dl(t){return It(t)&&rn(t)==Hr},A.isWeakSet=function fe(t){return It(t)&&"[object WeakSet]"==hn(t)},A.join=function Uh(t,n){return null==t?"":tr.call(t,n)},A.kebabCase=Vd,A.last=gn,A.lastIndexOf=function Bh(t,n,o){var f=null==t?0:t.length;if(!f)return-1;var y=f;return o!==S&&(y=(y=le(o))<0?Fe(f+y,0):en(y,f-1)),n==n?function no(V,ht,st){for(var Zt=st+1;Zt--;)if(V[Zt]===ht)return Zt;return Zt}(t,n,y):Zo(t,bu,y,!0)},A.lowerCase=qd,A.lowerFirst=Jd,A.lt=Xe,A.lte=Do,A.max=function Hp(t){return t&&t.length?os(t,On,ga):S},A.maxBy=function Xp(t,n){return t&&t.length?os(t,Vt(n,2),ga):S},A.mean=function jp(t){return xu(t,On)},A.meanBy=function Kp(t,n){return xu(t,Vt(n,2))},A.min=function Vp(t){return t&&t.length?os(t,On,vo):S},A.minBy=function qp(t,n){return t&&t.length?os(t,Vt(n,2),vo):S},A.stubArray=Wl,A.stubFalse=Ul,A.stubObject=function Gp(){return{}},A.stubString=function Op(){return""},A.stubTrue=function Pp(){return!0},A.multiply=Jp,A.nth=function Xl(t,n){return t&&t.length?wa(t,le(n)):S},A.noConflict=function Mp(){return Ve._===this&&(Ve._=Af),this},A.noop=Pl,A.now=Rs,A.pad=function Qd(t,n,o){t=Ee(t);var f=(n=le(n))?sr(t):0;if(!n||f>=n)return t;var y=(n-f)/2;return _o(Ir(y),o)+t+_o(Mr(y),o)},A.padEnd=function tp(t,n,o){t=Ee(t);var f=(n=le(n))?sr(t):0;return n&&f<n?t+_o(n-f,o):t},A.padStart=function ep(t,n,o){t=Ee(t);var f=(n=le(n))?sr(t):0;return n&&f<n?_o(n-f,o)+t:t},A.parseInt=function np(t,n,o){return o||null==n?n=0:n&&(n=+n),Cf(Ee(t).replace(_e,""),n||0)},A.random=function Yd(t,n,o){if(o&&"boolean"!=typeof o&&pn(t,n,o)&&(n=o=S),o===S&&("boolean"==typeof n?(o=n,n=S):"boolean"==typeof t&&(o=t,t=S)),t===S&&n===S?(t=0,n=1):(t=pi(t),n===S?(n=t,t=0):n=pi(n)),t>n){var f=t;t=n,n=f}if(o||t%1||n%1){var y=Tu();return en(t+y*(n-t+Ai("1e-"+((y+"").length-1))),n)}return cs(t,n)},A.reduce=function vl(t,n,o){var f=nt(t)?Ks:_u,y=arguments.length<3;return f(t,Vt(n,4),o,y,Gr)},A.reduceRight=function yl(t,n,o){var f=nt(t)?lf:_u,y=arguments.length<3;return f(t,Vt(n,4),o,y,Yu)},A.repeat=function rp(t,n,o){return n=(o?pn(t,n,o):n===S)?1:le(n),xa(Ee(t),n)},A.replace=function ip(){var t=arguments,n=Ee(t[0]);return t.length<3?n:n.replace(t[1],t[2])},A.result=function zd(t,n,o){var f=-1,y=(n=Pr(n,t)).length;for(y||(y=1,t=S);++f<y;){var M=null==t?S:t[pr(n[f])];M===S&&(f=y,M=o),t=Gt(M)?M.call(t):M}return t},A.round=Qp,A.runInContext=V,A.sample=function wl(t){return(nt(t)?Bu:uh)(t)},A.size=function _l(t){if(null==t)return 0;if(J(t))return No(t)?sr(t):t.length;var n=rn(t);return n==Ge||n==un?t.size:ya(t).length},A.snakeCase=op,A.some=function Al(t,n,o){var f=nt(t)?to:$l;return o&&pn(t,n,o)&&(n=S),f(t,Vt(n,3))},A.sortedIndex=function Ns(t,n){return _a(t,n)},A.sortedIndexBy=function Hh(t,n,o){return wo(t,n,Vt(o,2))},A.sortedIndexOf=function gr(t,n){var o=null==t?0:t.length;if(o){var f=_a(t,n);if(f<o&&lt(t[f],n))return f}return-1},A.sortedLastIndex=function Ua(t,n){return _a(t,n,!0)},A.sortedLastIndexBy=function Xh(t,n,o){return wo(t,n,Vt(o,2),!0)},A.sortedLastIndexOf=function Ba(t,n){if(null!=t&&t.length){var f=_a(t,n,!0)-1;if(lt(t[f],n))return f}return-1},A.startCase=ap,A.startsWith=function up(t,n,o){return t=Ee(t),o=null==o?0:si(le(o),0,t.length),n=ze(n),t.slice(o,o+n.length)==n},A.subtract=tg,A.sum=function eg(t){return t&&t.length?Js(t,On):0},A.sumBy=function ng(t,n){return t&&t.length?Js(t,Vt(n,2)):0},A.template=function cp(t,n,o){var f=A.templateSettings;o&&pn(t,n,o)&&(n=S),t=Ee(t),n=Yc({},n,f,hc);var Y,Q,y=Yc({},n.imports,f.imports,hc),M=sn(y),W=Qs(y,M),mt=0,bt=n.interpolate||_t,St="__p += '",Wt=jo((n.escape||_t).source+"|"+bt.source+"|"+(bt===zo?b:_t).source+"|"+(n.evaluate||_t).source+"|$","g"),Xt="//# sourceURL="+(xe.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nf+"]")+"\n";t.replace(Wt,function(ne,pe,we,Xn,Mn,jn){return we||(we=Xn),St+=t.slice(mt,jn).replace(At,Eu),pe&&(Y=!0,St+="' +\n__e("+pe+") +\n'"),Mn&&(Q=!0,St+="';\n"+Mn+";\n__p += '"),we&&(St+="' +\n((__t = ("+we+")) == null ? '' : __t) +\n'"),mt=jn+ne.length,ne}),St+="';\n";var ee=xe.call(n,"variable")&&n.variable;if(ee){if(Nn.test(ee))throw new ie("Invalid `variable` option passed into `_.template`")}else St="with (obj) {\n"+St+"\n}\n";St=(Q?St.replace(wi,""):St).replace(To,"$1").replace(bi,"$1;"),St="function("+(ee||"obj")+") {\n"+(ee?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(Y?", __e = _.escape":"")+(Q?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+St+"return __p\n}";var de=ad(function(){return be(M,Xt+"return "+St).apply(S,W)});if(de.source=St,qt(de))throw de;return de},A.times=function Wp(t,n){if((t=le(t))<1||t>ge)return[];var o=re,f=en(t,re);n=Vt(n),t-=re;for(var y=$o(f,n);++o<t;)n(o);return y},A.toFinite=pi,A.toInteger=le,A.toLength=ql,A.toLower=function fp(t){return Ee(t).toLowerCase()},A.toNumber=rr,A.toSafeInteger=function fd(t){return t?si(le(t),-ge,ge):0===t?t:0},A.toString=Ee,A.toUpper=function hp(t){return Ee(t).toUpperCase()},A.trim=function lp(t,n,o){if((t=Ee(t))&&(o||n===S))return Au(t);if(!t||!(n=ze(n)))return t;var f=qe(t),y=qe(n);return Wr(f,mn(f,y),ta(f,y)+1).join("")},A.trimEnd=function dp(t,n,o){if((t=Ee(t))&&(o||n===S))return t.slice(0,ro(t)+1);if(!t||!(n=ze(n)))return t;var f=qe(t);return Wr(f,0,ta(f,qe(n))+1).join("")},A.trimStart=function pp(t,n,o){if((t=Ee(t))&&(o||n===S))return t.replace(_e,"");if(!t||!(n=ze(n)))return t;var f=qe(t);return Wr(f,mn(f,qe(n))).join("")},A.truncate=function gp(t,n){var o=30,f="...";if(Ot(n)){var y="separator"in n?n.separator:y;o="length"in n?le(n.length):o,f="omission"in n?ze(n.omission):f}var M=(t=Ee(t)).length;if(Ci(t)){var W=qe(t);M=W.length}if(o>=M)return t;var Y=o-sr(f);if(Y<1)return f;var Q=W?Wr(W,0,Y).join(""):t.slice(0,Y);if(y===S)return Q+f;if(W&&(Y+=Q.length-Y),Yr(y)){if(t.slice(Y).search(y)){var mt,bt=Q;for(y.global||(y=jo(y.source,Ee(g.exec(y))+"g")),y.lastIndex=0;mt=y.exec(bt);)var St=mt.index;Q=Q.slice(0,St===S?Y:St)}}else if(t.indexOf(ze(y),Y)!=Y){var Wt=Q.lastIndexOf(y);Wt>-1&&(Q=Q.slice(0,Wt))}return Q+f},A.unescape=function vp(t){return(t=Ee(t))&&Ws.test(t)?t.replace(xr,io):t},A.uniqueId=function Bp(t){var n=++Jn;return Ee(t)+n},A.upperCase=yp,A.upperFirst=Rl,A.each=ja,A.eachRight=Wc,A.first=Pa,Ol(A,function(){var t={};return er(A,function(n,o){xe.call(A.prototype,o)||(t[o]=n)}),t}(),{chain:!1}),A.VERSION="4.17.21",Dn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){A[t].placeholder=A}),Dn(["drop","take"],function(t,n){oe.prototype[t]=function(o){o=o===S?1:Fe(le(o),0);var f=this.__filtered__&&!n?new oe(this):this.clone();return f.__filtered__?f.__takeCount__=en(o,f.__takeCount__):f.__views__.push({size:en(o,re),type:t+(f.__dir__<0?"Right":"")}),f},oe.prototype[t+"Right"]=function(o){return this.reverse()[t](o).reverse()}}),Dn(["filter","map","takeWhile"],function(t,n){var o=n+1,f=1==o||3==o;oe.prototype[t]=function(y){var M=this.clone();return M.__iteratees__.push({iteratee:Vt(y,3),type:o}),M.__filtered__=M.__filtered__||f,M}}),Dn(["head","last"],function(t,n){var o="take"+(n?"Right":"");oe.prototype[t]=function(){return this[o](1).value()[0]}}),Dn(["initial","tail"],function(t,n){var o="drop"+(n?"":"Right");oe.prototype[t]=function(){return this.__filtered__?new oe(this):this[o](1)}}),oe.prototype.compact=function(){return this.filter(On)},oe.prototype.find=function(t){return this.filter(t).head()},oe.prototype.findLast=function(t){return this.reverse().find(t)},oe.prototype.invokeMap=ue(function(t,n){return"function"==typeof t?new oe(this):this.map(function(o){return go(o,t,n)})}),oe.prototype.reject=function(t){return this.filter(Gs(Vt(t)))},oe.prototype.slice=function(t,n){t=le(t);var o=this;return o.__filtered__&&(t>0||n<0)?new oe(o):(t<0?o=o.takeRight(-t):t&&(o=o.drop(t)),n!==S&&(o=(n=le(n))<0?o.dropRight(-n):o.take(n-t)),o)},oe.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},oe.prototype.toArray=function(){return this.take(re)},er(oe.prototype,function(t,n){var o=/^(?:filter|find|map|reject)|While$/.test(n),f=/^(?:head|last)$/.test(n),y=A[f?"take"+("last"==n?"Right":""):n],M=f||/^find/.test(n);!y||(A.prototype[n]=function(){var W=this.__wrapped__,Y=f?[1]:arguments,Q=W instanceof oe,mt=Y[0],bt=Q||nt(W),St=function(pe){var we=y.apply(A,Sr([pe],Y));return f&&Wt?we[0]:we};bt&&o&&"function"==typeof mt&&1!=mt.length&&(Q=bt=!1);var Wt=this.__chain__,Xt=!!this.__actions__.length,ee=M&&!Wt,de=Q&&!Xt;if(!M&&bt){W=de?W:new oe(this);var ne=t.apply(W,Y);return ne.__actions__.push({func:Mo,args:[St],thisArg:S}),new Rn(ne,Wt)}return ee&&de?t.apply(this,Y):(ne=this.thru(St),ee?f?ne.value()[0]:ne.value():ne)})}),Dn(["pop","push","shift","sort","splice","unshift"],function(t){var n=ei[t],o=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",f=/^(?:pop|shift)$/.test(t);A.prototype[t]=function(){var y=arguments;if(f&&!this.__chain__){var M=this.value();return n.apply(nt(M)?M:[],y)}return this[o](function(W){return n.apply(nt(W)?W:[],y)})}}),er(oe.prototype,function(t,n){var o=A[n];if(o){var f=o.name+"";xe.call(ar,f)||(ar[f]=[]),ar[f].push({name:n,func:o})}}),ar[gs(S,2).name]=[{name:"wrapper",func:S}],oe.prototype.clone=function zu(){var t=new oe(this.__wrapped__);return t.__actions__=xn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=xn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=xn(this.__views__),t},oe.prototype.reverse=function ns(){if(this.__filtered__){var t=new oe(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},oe.prototype.value=function sa(){var t=this.__wrapped__.value(),n=this.__dir__,o=nt(t),f=n<0,y=o?t.length:0,M=function _s(t,n,o){for(var f=-1,y=o.length;++f<y;){var M=o[f],W=M.size;switch(M.type){case"drop":t+=W;break;case"dropRight":n-=W;break;case"take":n=en(n,t+W);break;case"takeRight":t=Fe(t,n-W)}}return{start:t,end:n}}(0,y,this.__views__),W=M.start,Y=M.end,Q=Y-W,mt=f?Y:W-1,bt=this.__iteratees__,St=bt.length,Wt=0,Xt=en(Q,this.__takeCount__);if(!o||!f&&y==Q&&Xt==Q)return Aa(t,this.__actions__);var ee=[];t:for(;Q--&&Wt<Xt;){for(var de=-1,ne=t[mt+=n];++de<St;){var pe=bt[de],Xn=pe.type,Mn=(0,pe.iteratee)(ne);if(2==Xn)ne=Mn;else if(!Mn){if(1==Xn)continue t;break t}}ee[Wt++]=ne}return ee},A.prototype.at=sl,A.prototype.chain=function Ha(){return Dc(this)},A.prototype.commit=function Tc(){return new Rn(this.value(),this.__chain__)},A.prototype.next=function li(){this.__values__===S&&(this.__values__=vr(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?S:this.__values__[this.__index__++]}},A.prototype.plant=function zc(t){for(var n,o=this;o instanceof ho;){var f=bc(o);f.__index__=0,f.__values__=S,n?y.__wrapped__=f:n=f;var y=f;o=o.__wrapped__}return y.__wrapped__=t,n},A.prototype.reverse=function al(){var t=this.__wrapped__;if(t instanceof oe){var n=t;return this.__actions__.length&&(n=new oe(this)),(n=n.reverse()).__actions__.push({func:Mo,args:[Wa],thisArg:S}),new Rn(n,this.__chain__)}return this.thru(Wa)},A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=function Gc(){return Aa(this.__wrapped__,this.__actions__)},A.prototype.first=A.prototype.head,uo&&(A.prototype[uo]=function Rc(){return this}),A}();Ve._=Mi,(ct=function(){return Mi}.call(Et,P,Et,Nt))!==S&&(Nt.exports=ct)}.call(this)},8740:(Nt,Et,P)=>{var ct=P(6009),S=P(5701);function H(l,G){if(arguments.length<2)throw new Error("mnemonist/fixed-deque: expecting an Array class and a capacity.");if("number"!=typeof G||G<=0)throw new Error("mnemonist/fixed-deque: `capacity` should be a positive number.");this.ArrayClass=l,this.capacity=G,this.items=new l(this.capacity),this.clear()}H.prototype.clear=function(){this.start=0,this.size=0},H.prototype.push=function(l){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.push: deque capacity ("+this.capacity+") exceeded!");return this.items[(this.start+this.size)%this.capacity]=l,++this.size},H.prototype.unshift=function(l){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.unshift: deque capacity ("+this.capacity+") exceeded!");var G=this.start-1;return 0===this.start&&(G=this.capacity-1),this.items[G]=l,this.start=G,++this.size},H.prototype.pop=function(){if(0===this.size)return;const l=(this.start+this.size-1)%this.capacity;return this.size--,this.items[l]},H.prototype.shift=function(){if(0!==this.size){var l=this.start;return this.size--,this.start++,this.start===this.capacity&&(this.start=0),this.items[l]}},H.prototype.peekFirst=function(){if(0!==this.size)return this.items[this.start]},H.prototype.peekLast=function(){if(0!==this.size){var l=this.start+this.size-1;return l>this.capacity&&(l-=this.capacity),this.items[l]}},H.prototype.get=function(l){if(0!==this.size)return(l=this.start+l)>this.capacity&&(l-=this.capacity),this.items[l]},H.prototype.forEach=function(l,G){G=arguments.length>1?G:this;for(var D=this.capacity,O=this.size,x=this.start,w=0;w<O;)l.call(G,this.items[x],w,this),w++,++x===D&&(x=0)},H.prototype.toArray=function(){var l=this.start+this.size;if(l<this.capacity)return this.items.slice(this.start,l);for(var G=new this.ArrayClass(this.size),D=this.capacity,O=this.size,x=this.start,w=0;w<O;)G[w]=this.items[x],w++,++x===D&&(x=0);return G},H.prototype.values=function(){var l=this.items,G=this.capacity,D=this.size,O=this.start,x=0;return new S(function(){if(x>=D)return{done:!0};var w=l[O];return O++,x++,O===G&&(O=0),{value:w,done:!1}})},H.prototype.entries=function(){var l=this.items,G=this.capacity,D=this.size,O=this.start,x=0;return new S(function(){if(x>=D)return{done:!0};var w=l[O];return++O===G&&(O=0),{value:[x++,w],done:!1}})},"undefined"!=typeof Symbol&&(H.prototype[Symbol.iterator]=H.prototype.values),H.prototype.inspect=function(){var l=this.toArray();return l.type=this.ArrayClass.name,l.capacity=this.capacity,Object.defineProperty(l,"constructor",{value:H,enumerable:!1}),l},"undefined"!=typeof Symbol&&(H.prototype[Symbol.for("nodejs.util.inspect.custom")]=H.prototype.inspect),H.from=function(l,G,D){if(arguments.length<3&&"number"!=typeof(D=ct.guessLength(l)))throw new Error("mnemonist/fixed-deque.from: could not guess iterable length. Please provide desired capacity as last argument.");var O=new H(G,D);if(ct.isArrayLike(l)){var x,w;for(x=0,w=l.length;x<w;x++)O.items[x]=l[x];return O.size=w,O}return ct.forEach(l,function(E){O.push(E)}),O},Nt.exports=H},7451:(Nt,Et,P)=>{var ct=P(5701),S=P(6009);function H(l,G){if(arguments.length<2)throw new Error("mnemonist/fixed-stack: expecting an Array class and a capacity.");if("number"!=typeof G||G<=0)throw new Error("mnemonist/fixed-stack: `capacity` should be a positive number.");this.capacity=G,this.ArrayClass=l,this.items=new this.ArrayClass(this.capacity),this.clear()}H.prototype.clear=function(){this.size=0},H.prototype.push=function(l){if(this.size===this.capacity)throw new Error("mnemonist/fixed-stack.push: stack capacity ("+this.capacity+") exceeded!");return this.items[this.size++]=l,this.size},H.prototype.pop=function(){if(0!==this.size)return this.items[--this.size]},H.prototype.peek=function(){return this.items[this.size-1]},H.prototype.forEach=function(l,G){G=arguments.length>1?G:this;for(var D=0,O=this.items.length;D<O;D++)l.call(G,this.items[O-D-1],D,this)},H.prototype.toArray=function(){for(var l=new this.ArrayClass(this.size),G=this.size-1,D=this.size;D--;)l[D]=this.items[G-D];return l},H.prototype.values=function(){var l=this.items,G=this.size,D=0;return new ct(function(){if(D>=G)return{done:!0};var O=l[G-D-1];return D++,{value:O,done:!1}})},H.prototype.entries=function(){var l=this.items,G=this.size,D=0;return new ct(function(){if(D>=G)return{done:!0};var O=l[G-D-1];return{value:[D++,O],done:!1}})},"undefined"!=typeof Symbol&&(H.prototype[Symbol.iterator]=H.prototype.values),H.prototype.toString=function(){return this.toArray().join(",")},H.prototype.toJSON=function(){return this.toArray()},H.prototype.inspect=function(){var l=this.toArray();return l.type=this.ArrayClass.name,l.capacity=this.capacity,Object.defineProperty(l,"constructor",{value:H,enumerable:!1}),l},"undefined"!=typeof Symbol&&(H.prototype[Symbol.for("nodejs.util.inspect.custom")]=H.prototype.inspect),H.from=function(l,G,D){if(arguments.length<3&&"number"!=typeof(D=S.guessLength(l)))throw new Error("mnemonist/fixed-stack.from: could not guess iterable length. Please provide desired capacity as last argument.");var O=new H(G,D);if(S.isArrayLike(l)){var x,w;for(x=0,w=l.length;x<w;x++)O.items[x]=l[x];return O.size=w,O}return S.forEach(l,function(E){O.push(E)}),O},Nt.exports=H},4547:(Nt,Et,P)=>{var ct=P(4467),S=P(2062),H=P(6009),l=S.DEFAULT_COMPARATOR,G=S.reverseComparator;function D(Z,$,F,T){for(var vt,xt,ot=$[T];T>F&&Z(ot,xt=$[vt=T-1>>1])<0;)$[T]=xt,T=vt;$[T]=ot}function O(Z,$,F){for(var ft,T=$.length,ot=F,vt=$[F],xt=2*F+1;xt<T;)(ft=xt+1)<T&&Z($[xt],$[ft])>=0&&(xt=ft),$[F]=$[xt],xt=2*(F=xt)+1;$[F]=vt,D(Z,$,ot,F)}function x(Z,$,F){$.push(F),D(Z,$,0,$.length-1)}function w(Z,$){var F=$.pop();if(0!==$.length){var T=$[0];return $[0]=F,O(Z,$,0),T}return F}function E(Z,$,F){if(0===$.length)throw new Error("mnemonist/heap.replace: cannot pop an empty heap.");var T=$[0];return $[0]=F,O(Z,$,0),T}function I(Z,$,F){var T;return 0!==$.length&&Z($[0],F)<0&&(T=$[0],$[0]=F,F=T,O(Z,$,0)),F}function N(Z,$){for(var ot=$.length>>1;--ot>=0;)O(Z,$,ot)}function L(Z,$){for(var F=$.length,T=0,ot=new Array(F);T<F;)ot[T++]=w(Z,$);return ot}function rt(Z){if(this.clear(),this.comparator=Z||l,"function"!=typeof this.comparator)throw new Error("mnemonist/Heap.constructor: given comparator should be a function.")}function ut(Z){if(this.clear(),this.comparator=Z||l,"function"!=typeof this.comparator)throw new Error("mnemonist/MaxHeap.constructor: given comparator should be a function.");this.comparator=G(this.comparator)}rt.prototype.clear=function(){this.items=[],this.size=0},rt.prototype.push=function(Z){return x(this.comparator,this.items,Z),++this.size},rt.prototype.peek=function(){return this.items[0]},rt.prototype.pop=function(){return 0!==this.size&&this.size--,w(this.comparator,this.items)},rt.prototype.replace=function(Z){return E(this.comparator,this.items,Z)},rt.prototype.pushpop=function(Z){return I(this.comparator,this.items,Z)},rt.prototype.consume=function(){return this.size=0,L(this.comparator,this.items)},rt.prototype.toArray=function(){return L(this.comparator,this.items.slice())},rt.prototype.inspect=function(){var Z=this.toArray();return Object.defineProperty(Z,"constructor",{value:rt,enumerable:!1}),Z},"undefined"!=typeof Symbol&&(rt.prototype[Symbol.for("nodejs.util.inspect.custom")]=rt.prototype.inspect),ut.prototype=rt.prototype,rt.from=function(Z,$){var T,F=new rt($);return T=H.isArrayLike(Z)?Z.slice():H.toArray(Z),N(F.comparator,T),F.items=T,F.size=T.length,F},ut.from=function(Z,$){var T,F=new ut($);return T=H.isArrayLike(Z)?Z.slice():H.toArray(Z),N(F.comparator,T),F.items=T,F.size=T.length,F},rt.siftUp=O,rt.siftDown=D,rt.push=x,rt.pop=w,rt.replace=E,rt.pushpop=I,rt.heapify=N,rt.consume=L,rt.nsmallest=function et(Z,$,F){2===arguments.length&&(F=$,$=Z,Z=l);var ot,vt,xt,pt,T=G(Z),ft=1/0;if(1===$){if(H.isArrayLike(F)){for(ot=0,vt=F.length;ot<vt;ot++)xt=F[ot],(ft===1/0||Z(xt,ft)<0)&&(ft=xt);return(pt=new F.constructor(1))[0]=ft,pt}return ct(F,function(Dt){(ft===1/0||Z(Dt,ft)<0)&&(ft=Dt)}),[ft]}if(H.isArrayLike(F)){if($>=F.length)return F.slice().sort(Z);for(pt=F.slice(0,$),N(T,pt),ot=$,vt=F.length;ot<vt;ot++)T(F[ot],pt[0])>0&&E(T,pt,F[ot]);return pt.sort(Z)}var Ct=H.guessLength(F);return null!==Ct&&Ct<$&&($=Ct),pt=new Array($),ot=0,ct(F,function(Dt){ot<$?pt[ot]=Dt:(ot===$&&N(T,pt),T(Dt,pt[0])>0&&E(T,pt,Dt)),ot++}),pt.length>ot&&(pt.length=ot),pt.sort(Z)},rt.nlargest=function q(Z,$,F){2===arguments.length&&(F=$,$=Z,Z=l);var ot,vt,xt,pt,T=G(Z),ft=-1/0;if(1===$){if(H.isArrayLike(F)){for(ot=0,vt=F.length;ot<vt;ot++)xt=F[ot],(ft===-1/0||Z(xt,ft)>0)&&(ft=xt);return(pt=new F.constructor(1))[0]=ft,pt}return ct(F,function(Dt){(ft===-1/0||Z(Dt,ft)>0)&&(ft=Dt)}),[ft]}if(H.isArrayLike(F)){if($>=F.length)return F.slice().sort(T);for(pt=F.slice(0,$),N(Z,pt),ot=$,vt=F.length;ot<vt;ot++)Z(F[ot],pt[0])>0&&E(Z,pt,F[ot]);return pt.sort(T)}var Ct=H.guessLength(F);return null!==Ct&&Ct<$&&($=Ct),pt=new Array($),ot=0,ct(F,function(Dt){ot<$?pt[ot]=Dt:(ot===$&&N(Z,pt),Z(Dt,pt[0])>0&&E(Z,pt,Dt)),ot++}),pt.length>ot&&(pt.length=ot),pt.sort(T)},rt.MinHeap=rt,rt.MaxHeap=ut,Nt.exports=rt},8090:(Nt,Et,P)=>{var ct=P(5701),S=P(6116).getPointerArray;function H(l,G){arguments.length<2&&(G=l,l=Array);var D=S(G);this.size=0,this.length=G,this.dense=new D(G),this.sparse=new D(G),this.vals=new l(G)}H.prototype.clear=function(){this.size=0},H.prototype.has=function(l){var G=this.sparse[l];return G<this.size&&this.dense[G]===l},H.prototype.get=function(l){var G=this.sparse[l];if(G<this.size&&this.dense[G]===l)return this.vals[G]},H.prototype.set=function(l,G){var D=this.sparse[l];return D<this.size&&this.dense[D]===l?(this.vals[D]=G,this):(this.dense[this.size]=l,this.sparse[l]=this.size,this.vals[this.size]=G,this.size++,this)},H.prototype.delete=function(l){var G=this.sparse[l];return!(G>=this.size||this.dense[G]!==l||(this.dense[this.sparse[l]]=G=this.dense[this.size-1],this.sparse[G]=this.sparse[l],this.size--,0))},H.prototype.forEach=function(l,G){G=arguments.length>1?G:this;for(var D=0;D<this.size;D++)l.call(G,this.vals[D],this.dense[D])},H.prototype.keys=function(){var l=this.size,G=this.dense,D=0;return new ct(function(){if(D<l){var O=G[D];return D++,{value:O}}return{done:!0}})},H.prototype.values=function(){var l=this.size,G=this.vals,D=0;return new ct(function(){if(D<l){var O=G[D];return D++,{value:O}}return{done:!0}})},H.prototype.entries=function(){var l=this.size,G=this.dense,D=this.vals,O=0;return new ct(function(){if(O<l){var x=[G[O],D[O]];return O++,{value:x}}return{done:!0}})},"undefined"!=typeof Symbol&&(H.prototype[Symbol.iterator]=H.prototype.entries),H.prototype.inspect=function(){for(var l=new Map,G=0;G<this.size;G++)l.set(this.dense[G],this.vals[G]);return Object.defineProperty(l,"constructor",{value:H,enumerable:!1}),l.length=this.length,this.vals.constructor!==Array&&(l.type=this.vals.constructor.name),l},"undefined"!=typeof Symbol&&(H.prototype[Symbol.for("nodejs.util.inspect.custom")]=H.prototype.inspect),Nt.exports=H},5766:(Nt,Et,P)=>{var ct=P(5701),S=P(6116).getPointerArray;function H(l){var G=S(l);this.start=0,this.size=0,this.capacity=l,this.dense=new G(l),this.sparse=new G(l)}H.prototype.clear=function(){this.start=0,this.size=0},H.prototype.has=function(l){if(0===this.size)return!1;var G=this.sparse[l];return(G<this.capacity&&G>=this.start&&G<this.start+this.size||G<(this.start+this.size)%this.capacity)&&this.dense[G]===l},H.prototype.enqueue=function(l){var G=this.sparse[l];return 0!==this.size&&(G<this.capacity&&G>=this.start&&G<this.start+this.size||G<(this.start+this.size)%this.capacity)&&this.dense[G]===l||(this.dense[G=(this.start+this.size)%this.capacity]=l,this.sparse[l]=G,this.size++),this},H.prototype.dequeue=function(){if(0!==this.size){var l=this.start;this.size--,this.start++,this.start===this.capacity&&(this.start=0);var G=this.dense[l];return this.sparse[G]=this.capacity,G}},H.prototype.forEach=function(l,G){G=arguments.length>1?G:this;for(var D=this.capacity,O=this.size,x=this.start,w=0;w<O;)l.call(G,this.dense[x],w,this),w++,++x===D&&(x=0)},H.prototype.values=function(){var l=this.dense,G=this.capacity,D=this.size,O=this.start,x=0;return new ct(function(){if(x>=D)return{done:!0};var w=l[O];return O++,x++,O===G&&(O=0),{value:w,done:!1}})},"undefined"!=typeof Symbol&&(H.prototype[Symbol.iterator]=H.prototype.values),H.prototype.inspect=function(){var l=[];return this.forEach(function(G){l.push(G)}),Object.defineProperty(l,"constructor",{value:H,enumerable:!1}),l.capacity=this.capacity,l},"undefined"!=typeof Symbol&&(H.prototype[Symbol.for("nodejs.util.inspect.custom")]=H.prototype.inspect),Nt.exports=H},4268:(Nt,Et,P)=>{var ct=P(5701),S=P(6116).getPointerArray;function H(l){var G=S(l);this.size=0,this.length=l,this.dense=new G(l),this.sparse=new G(l)}H.prototype.clear=function(){this.size=0},H.prototype.has=function(l){var G=this.sparse[l];return G<this.size&&this.dense[G]===l},H.prototype.add=function(l){var G=this.sparse[l];return G<this.size&&this.dense[G]===l||(this.dense[this.size]=l,this.sparse[l]=this.size,this.size++),this},H.prototype.delete=function(l){var G=this.sparse[l];return!(G>=this.size||this.dense[G]!==l||(this.dense[this.sparse[l]]=G=this.dense[this.size-1],this.sparse[G]=this.sparse[l],this.size--,0))},H.prototype.forEach=function(l,G){G=arguments.length>1?G:this;for(var D,O=0;O<this.size;O++)l.call(G,D=this.dense[O],D)},H.prototype.values=function(){var l=this.size,G=this.dense,D=0;return new ct(function(){if(D<l){var O=G[D];return D++,{value:O}}return{done:!0}})},"undefined"!=typeof Symbol&&(H.prototype[Symbol.iterator]=H.prototype.values),H.prototype.inspect=function(){for(var l=new Set,G=0;G<this.size;G++)l.add(this.dense[G]);return Object.defineProperty(l,"constructor",{value:H,enumerable:!1}),l.length=this.length,l},"undefined"!=typeof Symbol&&(H.prototype[Symbol.for("nodejs.util.inspect.custom")]=H.prototype.inspect),Nt.exports=H},2062:(Nt,Et)=>{Et.DEFAULT_COMPARATOR=function(l,G){return l<G?-1:l>G?1:0},Et.DEFAULT_REVERSE_COMPARATOR=function(l,G){return l<G?1:l>G?-1:0},Et.reverseComparator=function S(l){return function(G,D){return l(D,G)}},Et.createTupleComparator=function H(l){return 2===l?function(G,D){return G[0]<D[0]?-1:G[0]>D[0]?1:G[1]<D[1]?-1:G[1]>D[1]?1:0}:function(G,D){for(var O=0;O<l;){if(G[O]<D[O])return-1;if(G[O]>D[O])return 1;O++}return 0}}},6009:(Nt,Et,P)=>{var ct=P(4467),S=P(6116);function l(O){return"number"==typeof O.length?O.length:"number"==typeof O.size?O.size:void 0}Et.isArrayLike=function H(O){return Array.isArray(O)||S.isTypedArray(O)},Et.guessLength=l,Et.toArray=function G(O){var x=l(O),w="number"==typeof x?new Array(x):[],E=0;return ct(O,function(I){w[E++]=I}),w},Et.toArrayWithIndices=function D(O){var x=l(O),w="number"==typeof x?S.getPointerArray(x):Array,E="number"==typeof x?new Array(x):[],I="number"==typeof x?new w(x):[],N=0;return ct(O,function(L){E[N]=L,I[N]=N++}),[E,I]}},6116:(Nt,Et)=>{var P=Math.pow(2,8)-1,ct=Math.pow(2,16)-1,S=Math.pow(2,32)-1,H=Math.pow(2,7)-1,l=Math.pow(2,15)-1,G=Math.pow(2,31)-1;Et.getPointerArray=function(O){var x=O-1;if(x<=P)return Uint8Array;if(x<=ct)return Uint16Array;if(x<=S)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},Et.getSignedPointerArray=function(O){var x=O-1;return x<=H?Int8Array:x<=l?Int16Array:x<=G?Int32Array:Float64Array},Et.getNumberType=function(O){return O===(0|O)?-1===Math.sign(O)?O<=127&&O>=-128?Int8Array:O<=32767&&O>=-32768?Int16Array:Int32Array:O<=255?Uint8Array:O<=65535?Uint16Array:Uint32Array:Float64Array};var D={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};Et.getMinimalRepresentation=function(O,x){var I,N,L,et,q,w=null,E=0;for(et=0,q=O.length;et<q;et++)L=x?x(O[et]):O[et],N=Et.getNumberType(L),(I=D[N.name])>E&&(E=I,w=N);return w},Et.isTypedArray=function(O){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(O)},Et.concat=function(){var x,w,E,O=0;for(x=0,E=arguments.length;x<E;x++)O+=arguments[x].length;var I=new arguments[0].constructor(O);for(x=0,w=0;x<E;x++)I.set(arguments[x],w),w+=arguments[x].length;return I},Et.indices=function(O){for(var w=new(Et.getPointerArray(O))(O),E=0;E<O;E++)w[E]=E;return w}},4467:(Nt,Et,P)=>{var ct=P(8123),S=ct.ARRAY_BUFFER_SUPPORT,H=ct.SYMBOL_SUPPORT;Nt.exports=function(G,D){var O,x,w,E,I;if(!G)throw new Error("obliterator/forEach: invalid iterable.");if("function"!=typeof D)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(G)||S&&ArrayBuffer.isView(G)||"string"==typeof G||"[object Arguments]"===G.toString())for(w=0,E=G.length;w<E;w++)D(G[w],w);else if("function"!=typeof G.forEach)if(H&&Symbol.iterator in G&&"function"!=typeof G.next&&(G=G[Symbol.iterator]()),"function"!=typeof G.next)for(x in G)G.hasOwnProperty(x)&&D(G[x],x);else for(O=G,w=0;!0!==(I=O.next()).done;)D(I.value,w),w++;else G.forEach(D)}},5701:Nt=>{function Et(P){if("function"!=typeof P)throw new Error("obliterator/iterator: expecting a function!");this.next=P}"undefined"!=typeof Symbol&&(Et.prototype[Symbol.iterator]=function(){return this}),Et.of=function(){var P=arguments,ct=P.length,S=0;return new Et(function(){return S>=ct?{done:!0}:{done:!1,value:P[S++]}})},Et.empty=function(){return new Et(function(){return{done:!0}})},Et.fromSequence=function(P){var ct=0,S=P.length;return new Et(function(){return ct>=S?{done:!0}:{done:!1,value:P[ct++]}})},Et.is=function(P){return P instanceof Et||"object"==typeof P&&null!==P&&"function"==typeof P.next},Nt.exports=Et},8123:(Nt,Et)=>{Et.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,Et.SYMBOL_SUPPORT="undefined"!=typeof Symbol},8859:Nt=>{function Et(ct){return function(S){return"number"!=typeof S&&(S=S.length),Math.floor(ct()*S)}}var P=Et(Math.random);P.createRandomIndex=Et,Nt.exports=P},340:(Nt,Et,P)=>{var ct=P(9471),S=P(2992),H=P(7657),l=P(5583),G=P(1929),D=P(8083),O=P(3818);O.alea=ct,O.xor128=S,O.xorwow=H,O.xorshift7=l,O.xor4096=G,O.tychei=D,Nt.exports=O},9471:function(Nt,Et,P){var ct;!function(S,H,l){function G(w){var E=this,I=function x(){var w=4022871197;return function(I){I=String(I);for(var N=0;N<I.length;N++){var L=.02519603282416938*(w+=I.charCodeAt(N));L-=w=L>>>0,w=(L*=w)>>>0,w+=4294967296*(L-=w)}return 2.3283064365386963e-10*(w>>>0)}}();E.next=function(){var N=2091639*E.s0+2.3283064365386963e-10*E.c;return E.s0=E.s1,E.s1=E.s2,E.s2=N-(E.c=0|N)},E.c=1,E.s0=I(" "),E.s1=I(" "),E.s2=I(" "),E.s0-=I(w),E.s0<0&&(E.s0+=1),E.s1-=I(w),E.s1<0&&(E.s1+=1),E.s2-=I(w),E.s2<0&&(E.s2+=1),I=null}function D(w,E){return E.c=w.c,E.s0=w.s0,E.s1=w.s1,E.s2=w.s2,E}function O(w,E){var I=new G(w),N=E&&E.state,L=I.next;return L.int32=function(){return 4294967296*I.next()|0},L.double=function(){return L()+11102230246251565e-32*(2097152*L()|0)},L.quick=L,N&&("object"==typeof N&&D(N,I),L.state=function(){return D(I,{})}),L}H&&H.exports?H.exports=O:P.amdD&&P.amdO?void 0!==(ct=function(){return O}.call(Et,P,Et,H))&&(H.exports=ct):this.alea=O}(0,Nt=P.nmd(Nt))},8083:function(Nt,Et,P){var ct;!function(S,H,l){function G(x){var w=this,E="";w.next=function(){var N=w.b,L=w.c,et=w.d,q=w.a;return N=N<<25^N>>>7^L,L=L-et|0,et=et<<24^et>>>8^q,q=q-N|0,w.b=N=N<<20^N>>>12^L,w.c=L=L-et|0,w.d=et<<16^L>>>16^q,w.a=q-N|0},w.a=0,w.b=0,w.c=-1640531527,w.d=1367130551,x===Math.floor(x)?(w.a=x/4294967296|0,w.b=0|x):E+=x;for(var I=0;I<E.length+20;I++)w.b^=0|E.charCodeAt(I),w.next()}function D(x,w){return w.a=x.a,w.b=x.b,w.c=x.c,w.d=x.d,w}function O(x,w){var E=new G(x),I=w&&w.state,N=function(){return(E.next()>>>0)/4294967296};return N.double=function(){do{var q=((E.next()>>>11)+(E.next()>>>0)/4294967296)/(1<<21)}while(0===q);return q},N.int32=E.next,N.quick=N,I&&("object"==typeof I&&D(I,E),N.state=function(){return D(E,{})}),N}H&&H.exports?H.exports=O:P.amdD&&P.amdO?void 0!==(ct=function(){return O}.call(Et,P,Et,H))&&(H.exports=ct):this.tychei=O}(0,Nt=P.nmd(Nt))},2992:function(Nt,Et,P){var ct;!function(S,H,l){function G(x){var w=this,E="";w.x=0,w.y=0,w.z=0,w.w=0,w.next=function(){var N=w.x^w.x<<11;return w.x=w.y,w.y=w.z,w.z=w.w,w.w^=w.w>>>19^N^N>>>8},x===(0|x)?w.x=x:E+=x;for(var I=0;I<E.length+64;I++)w.x^=0|E.charCodeAt(I),w.next()}function D(x,w){return w.x=x.x,w.y=x.y,w.z=x.z,w.w=x.w,w}function O(x,w){var E=new G(x),I=w&&w.state,N=function(){return(E.next()>>>0)/4294967296};return N.double=function(){do{var q=((E.next()>>>11)+(E.next()>>>0)/4294967296)/(1<<21)}while(0===q);return q},N.int32=E.next,N.quick=N,I&&("object"==typeof I&&D(I,E),N.state=function(){return D(E,{})}),N}H&&H.exports?H.exports=O:P.amdD&&P.amdO?void 0!==(ct=function(){return O}.call(Et,P,Et,H))&&(H.exports=ct):this.xor128=O}(0,Nt=P.nmd(Nt))},1929:function(Nt,Et,P){var ct;!function(S,H,l){function G(x){var w=this;w.next=function(){var et,q,I=w.w,N=w.X,L=w.i;return w.w=I=I+1640531527|0,q=N[L+34&127],et=N[L=L+1&127],q^=q<<13,et^=et<<17,q=N[L]=(q^=q>>>15)^(et^=et>>>12),w.i=L,q+(I^I>>>16)|0},function E(I,N){var L,et,q,rt,ut,Z=[],$=128;for(N===(0|N)?(et=N,N=null):(N+="\0",et=0,$=Math.max($,N.length)),q=0,rt=-32;rt<$;++rt)N&&(et^=N.charCodeAt((rt+32)%N.length)),0===rt&&(ut=et),et^=et<<10,et^=et>>>15,et^=et<<4,et^=et>>>13,rt>=0&&(q=0==(L=Z[127&rt]^=et+(ut=ut+1640531527|0))?q+1:0);for(q>=128&&(Z[127&(N&&N.length||0)]=-1),q=127,rt=512;rt>0;--rt)et=Z[q+34&127],L=Z[q=q+1&127],et^=et<<13,L^=L<<17,Z[q]=(et^=et>>>15)^(L^=L>>>12);I.w=ut,I.X=Z,I.i=q}(w,x)}function D(x,w){return w.i=x.i,w.w=x.w,w.X=x.X.slice(),w}function O(x,w){null==x&&(x=+new Date);var E=new G(x),I=w&&w.state,N=function(){return(E.next()>>>0)/4294967296};return N.double=function(){do{var q=((E.next()>>>11)+(E.next()>>>0)/4294967296)/(1<<21)}while(0===q);return q},N.int32=E.next,N.quick=N,I&&(I.X&&D(I,E),N.state=function(){return D(E,{})}),N}H&&H.exports?H.exports=O:P.amdD&&P.amdO?void 0!==(ct=function(){return O}.call(Et,P,Et,H))&&(H.exports=ct):this.xor4096=O}(0,Nt=P.nmd(Nt))},5583:function(Nt,Et,P){var ct;!function(S,H,l){function G(x){var w=this;w.next=function(){var L,et,I=w.x,N=w.i;return L=I[N],et=(L^=L>>>7)^L<<24,et^=(L=I[N+1&7])^L>>>10,et^=(L=I[N+3&7])^L>>>3,et^=(L=I[N+4&7])^L<<7,L=I[N+7&7],I[N]=et^=(L^=L<<13)^L<<9,w.i=N+1&7,et},function E(I,N){var L,q=[];if(N===(0|N))q[0]=N;else for(N=""+N,L=0;L<N.length;++L)q[7&L]=q[7&L]<<15^N.charCodeAt(L)+q[L+1&7]<<13;for(;q.length<8;)q.push(0);for(L=0;L<8&&0===q[L];++L);for(8==L&&(q[7]=-1),I.x=q,I.i=0,L=256;L>0;--L)I.next()}(w,x)}function D(x,w){return w.x=x.x.slice(),w.i=x.i,w}function O(x,w){null==x&&(x=+new Date);var E=new G(x),I=w&&w.state,N=function(){return(E.next()>>>0)/4294967296};return N.double=function(){do{var q=((E.next()>>>11)+(E.next()>>>0)/4294967296)/(1<<21)}while(0===q);return q},N.int32=E.next,N.quick=N,I&&(I.x&&D(I,E),N.state=function(){return D(E,{})}),N}H&&H.exports?H.exports=O:P.amdD&&P.amdO?void 0!==(ct=function(){return O}.call(Et,P,Et,H))&&(H.exports=ct):this.xorshift7=O}(0,Nt=P.nmd(Nt))},7657:function(Nt,Et,P){var ct;!function(S,H,l){function G(x){var w=this,E="";w.next=function(){var N=w.x^w.x>>>2;return w.x=w.y,w.y=w.z,w.z=w.w,w.w=w.v,(w.d=w.d+362437|0)+(w.v=w.v^w.v<<4^N^N<<1)|0},w.x=0,w.y=0,w.z=0,w.w=0,w.v=0,x===(0|x)?w.x=x:E+=x;for(var I=0;I<E.length+64;I++)w.x^=0|E.charCodeAt(I),I==E.length&&(w.d=w.x<<10^w.x>>>4),w.next()}function D(x,w){return w.x=x.x,w.y=x.y,w.z=x.z,w.w=x.w,w.v=x.v,w.d=x.d,w}function O(x,w){var E=new G(x),I=w&&w.state,N=function(){return(E.next()>>>0)/4294967296};return N.double=function(){do{var q=((E.next()>>>11)+(E.next()>>>0)/4294967296)/(1<<21)}while(0===q);return q},N.int32=E.next,N.quick=N,I&&("object"==typeof I&&D(I,E),N.state=function(){return D(E,{})}),N}H&&H.exports?H.exports=O:P.amdD&&P.amdO?void 0!==(ct=function(){return O}.call(Et,P,Et,H))&&(H.exports=ct):this.xorwow=O}(0,Nt=P.nmd(Nt))},3818:function(Nt,Et,P){var ct;!function(S,H,l){var L,G=256,w=l.pow(G,6),E=l.pow(2,52),I=2*E,N=255;function et(T,ot,vt){var xt=[],ft=Z(ut((ot=1==ot?{entropy:!0}:ot||{}).entropy?[T,F(H)]:null==T?function $(){try{var T;return L&&(T=L.randomBytes)?T=T(G):(T=new Uint8Array(G),(S.crypto||S.msCrypto).getRandomValues(T)),F(T)}catch(xt){var ot=S.navigator,vt=ot&&ot.plugins;return[+new Date,S,vt,S.screen,F(H)]}}():T,3),xt),pt=new q(xt),Ct=function(){for(var Dt=pt.g(6),Ut=w,jt=0;Dt<E;)Dt=(Dt+jt)*G,Ut*=G,jt=pt.g(1);for(;Dt>=I;)Dt/=2,Ut/=2,jt>>>=1;return(Dt+jt)/Ut};return Ct.int32=function(){return 0|pt.g(4)},Ct.quick=function(){return pt.g(4)/4294967296},Ct.double=Ct,Z(F(pt.S),H),(ot.pass||vt||function(Dt,Ut,jt,te){return te&&(te.S&&rt(te,pt),Dt.state=function(){return rt(pt,{})}),jt?(l.random=Dt,Ut):Dt})(Ct,ft,"global"in ot?ot.global:this==l,ot.state)}function q(T){var ot,vt=T.length,xt=this,ft=0,pt=xt.i=xt.j=0,Ct=xt.S=[];for(vt||(T=[vt++]);ft<G;)Ct[ft]=ft++;for(ft=0;ft<G;ft++)Ct[ft]=Ct[pt=N&pt+T[ft%vt]+(ot=Ct[ft])],Ct[pt]=ot;(xt.g=function(Dt){for(var Ut,jt=0,te=xt.i,Kt=xt.j,Qt=xt.S;Dt--;)Ut=Qt[te=N&te+1],jt=jt*G+Qt[N&(Qt[te]=Qt[Kt=N&Kt+Ut])+(Qt[Kt]=Ut)];return xt.i=te,xt.j=Kt,jt})(G)}function rt(T,ot){return ot.i=T.i,ot.j=T.j,ot.S=T.S.slice(),ot}function ut(T,ot){var ft,vt=[],xt=typeof T;if(ot&&"object"==xt)for(ft in T)try{vt.push(ut(T[ft],ot-1))}catch(pt){}return vt.length?vt:"string"==xt?T:T+"\0"}function Z(T,ot){for(var xt,vt=T+"",ft=0;ft<vt.length;)ot[N&ft]=N&(xt^=19*ot[N&ft])+vt.charCodeAt(ft++);return F(ot)}function F(T){return String.fromCharCode.apply(0,T)}if(Z(l.random(),H),Nt.exports){Nt.exports=et;try{L=P(5042)}catch(T){}}else void 0!==(ct=function(){return et}.call(Et,P,Et,Nt))&&(Nt.exports=ct)}("undefined"!=typeof self?self:this,[],Math)},5042:()=>{}}]);