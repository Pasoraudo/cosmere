"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8592],{5062:(C,d,t)=>{t.d(d,{i:()=>a});const a=o=>o&&""!==o.dir?"rtl"===o.dir.toLowerCase():"rtl"===(null==document?void 0:document.dir.toLowerCase())},4560:(C,d,t)=>{t.r(d),t.d(d,{startFocusVisible:()=>f});const a="ion-focused",p=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],f=h=>{let w=[],c=!0;const i=h?h.shadowRoot:document,r=h||document.body,e=v=>{w.forEach(m=>m.classList.remove(a)),v.forEach(m=>m.classList.add(a)),w=v},n=()=>{c=!1,e([])},g=v=>{c=p.includes(v.key),c||e([])},s=v=>{if(c&&v.composedPath){const m=v.composedPath().filter(M=>!!M.classList&&M.classList.contains("ion-focusable"));e(m)}},l=()=>{i.activeElement===r&&e([])};return i.addEventListener("keydown",g),i.addEventListener("focusin",s),i.addEventListener("focusout",l),i.addEventListener("touchstart",n),i.addEventListener("mousedown",n),{destroy:()=>{i.removeEventListener("keydown",g),i.removeEventListener("focusin",s),i.removeEventListener("focusout",l),i.removeEventListener("touchstart",n),i.removeEventListener("mousedown",n)},setFocus:e}}},8117:(C,d,t)=>{t.d(d,{a:()=>a,b:()=>n,c:()=>w,d:()=>g,e:()=>L,f:()=>p,g:()=>o,h:()=>m,i:()=>c,j:()=>r,k:()=>s,l:()=>i,m:()=>h,n:()=>f,o:()=>e,p:()=>l,q:()=>x,r:()=>v,s:()=>M});const a="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Back</title><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",o="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 268l144 144 144-144M256 392V100' class='ionicon-fill-none'/></svg>",p="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Back</title><path d='M368 64L144 256l224 192V64z'/></svg>",f="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Down</title><path d='M64 144l192 224 192-224H64z'/></svg>",h="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Up</title><path d='M448 368L256 144 64 368h384z'/></svg>",w="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Back</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",c="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",i="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",r="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",e="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close Circle</title><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",g="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",s="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Ellipsis Horizontal</title><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>",l="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Menu</title><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",x="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Menu</title><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>",v="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Reorder Three</title><path stroke-linecap='round' stroke-linejoin='round' d='M96 256h320M96 176h320M96 336h320' class='ionicon-fill-none ionicon-stroke-width'/></svg>",m="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Reorder Two</title><path stroke-linecap='square' stroke-linejoin='round' stroke-width='44' d='M118 304h276M118 208h276' class='ionicon-fill-none'/></svg>",M="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",L="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M464 428L339.92 303.9a160.48 160.48 0 0030.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0094.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 11110.37-110.37 110.5 110.5 0 01-110.37 110.37z'/></svg>"},2846:(C,d,t)=>{t.d(d,{B:()=>O});var a=t(5861),o=t(5e3),p=t(9976),f=t(7489),w=t(2285),c=t(5171),i=t(175),r=t(7423),e=t(96),n=t(9808),g=t(9602),s=t(3075),l=t(7322),x=t(4107),v=t(508),m=t(2108);function M(_,B){if(1&_&&(o.TgZ(0,"mat-option",11),o._uU(1),o.ALo(2,"uppercase"),o.ALo(3,"trans"),o.qZA()),2&_){const u=B.$implicit;o.Q6J("value",u.id),o.xp6(1),o.hij(" ",o.lcZ(2,2,o.lcZ(3,4,u.title))," ")}}function L(_,B){if(1&_&&(o.TgZ(0,"div",5),o.TgZ(1,"fuse-card",6),o.TgZ(2,"form",7),o.TgZ(3,"mat-form-field",8),o.TgZ(4,"mat-label"),o._uU(5),o.ALo(6,"titlecase"),o.ALo(7,"trans"),o.qZA(),o.TgZ(8,"mat-select",9),o.YNc(9,M,4,6,"mat-option",10),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&_){const u=o.oxw();o.xp6(2),o.Q6J("formGroup",u.configurationForm),o.xp6(3),o.Oqu(o.lcZ(6,3,o.lcZ(7,5,"books"))),o.xp6(4),o.Q6J("ngForOf",u.data.books)}}let O=(()=>{class _ extends p.H{constructor(u,E,A){super(),this.configurationApi=u,this.formBuilder=E,this.bookApi=A,this.configurationChanges=new o.vpe,this.showCard=!1,this.data={books:[]}}ngOnInit(){var u=this;this.subscribe(this.bookApi.allBooks(),E=>this.data.books=E),this.subscribe(this.configurationApi.configuration(),E=>this.setConfiguration(E)),(0,f.defer)((0,a.Z)(function*(){yield u.bookApi.fetchAllBooks()})),this.buildForm()}buildForm(){this.configurationForm=this.formBuilder.build(this.configuration),this.configurationForm.get("books").valueChanges.subscribe(u=>{this.configuration.books=u,this.saveConfiguration()})}toggle(){this.showCard=!this.showCard}setConfiguration(u){this.configuration=Object.assign({},u),this.configurationForm&&this.configurationForm.patchValue(u)}saveConfiguration(){this.configurationApi.saveConfiguration(this.configuration)}}return _.\u0275fac=function(u){return new(u||_)(o.Y36(w.h),o.Y36(c.c),o.Y36(i.f))},_.\u0275cmp=o.Xpm({type:_,selectors:[["configuration"]],outputs:{configurationChanges:"configurationChanges"},features:[o.qOj],decls:5,vars:1,consts:[[1,"absolute","top-0","right-0","z-50"],[1,"flex","flex-col","items-end","pr-6"],["mat-icon-button","",3,"click"],["icon","settings","size","10"],["class","z-50",4,"ngIf"],[1,"z-50"],[1,"flex","flex-col","h-full","p-6","gap-5","w-100"],[1,"w-full",3,"formGroup"],["floatLabel","always",1,"w-full"],["multiple","","formControlName","books","placeholder","Libros: Todos"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(u,E){1&u&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"button",2),o.NdJ("click",function(){return E.toggle()}),o._UZ(3,"app-icon",3),o.qZA(),o.YNc(4,L,10,7,"div",4),o.qZA(),o.qZA()),2&u&&(o.xp6(4),o.Q6J("ngIf",E.showCard))},directives:[r.lW,e.o,n.O5,g.y,s._Y,s.JL,s.sg,l.KE,l.hX,x.gD,s.JJ,s.u,n.sg,v.ey],pipes:[n.rS,m.u,n.gd],encapsulation:2,changeDetection:0}),_})()},1101:(C,d,t)=>{t.d(d,{h:()=>o});var a=t(9268);const o=()=>({id:(0,a.V)(),books:[]})},175:(C,d,t)=>{t.d(d,{f:()=>e});var a=t(5861),o=t(5e3),p=t(6579),f=t(9175),h=t(7327),w=t(7489),c=t(9909);let r=(()=>{class n extends f.m1{constructor(){super({books:[]}),this.books$=this.select(s=>s.books)}saveAllBooks(s){(0,w.isEqual)(this.get().books,s)||this.patchState(l=>({books:(0,c.eG)(l.books,s)}))}syncState(){return this.get()}syncBook(s){return(0,h.L)(s,this.get().books)}reset(){this.patchState({books:[]})}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),e=(()=>{class n{constructor(s,l){this.api=s,this.store=l}fetchAllBooks(){var s=this;return(0,a.Z)(function*(){const l=yield s.api.get("books");s.store.saveAllBooks(l)})()}syncAllBooks(){return this.store.syncState().books}allBooks(){return this.store.books$}}return n.\u0275fac=function(s){return new(s||n)(o.LFG(p.S),o.LFG(r))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},2285:(C,d,t)=>{t.d(d,{h:()=>c});var a=t(5e3),o=t(9175),p=t(7489),f=t(1101);const h=()=>({configuration:(0,f.h)()});let w=(()=>{class i extends o.m1{constructor(){super(h()),this.configuration$=this.select(e=>e.configuration)}saveConfiguration(e){(0,p.isEqual)(this.get().configuration,e)||this.patchState(n=>({configuration:e}))}syncState(){return this.get()}syncConfiguration(){return this.get().configuration}reset(){this.patchState(h())}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),c=(()=>{class i{constructor(e){this.store=e}syncConfiguration(){return this.store.syncState().configuration}configuration(){return this.store.configuration$}saveConfiguration(e){this.store.saveConfiguration(e)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(w))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},5171:(C,d,t)=>{t.d(d,{c:()=>w});var a=t(7489),p=t(1999),f=t(5e3),h=t(3075);let w=(()=>{class c{constructor(r){this.formBuilder=r}build(r,e=[],n=[]){const g={};return Object.keys(r).forEach(s=>{const l=r[s],x=this.getValidator(s,e);if(g[s]=[l,x],n.includes(s)&&(0,a.isArray)(l)){const v=[];l.forEach(m=>{v.push((0,p.Z)(m)?this.build(m,e):m)}),g[s]=this.formBuilder.array(v)}if(!n.includes(s)&&!(0,a.isArray)(l)&&(0,p.Z)(l)){const v=this.extractSubValidator(s,e);g[s]=this.build(l,v)}}),this.formBuilder.group(g)}extractSubValidator(r,e){return e.filter(n=>n.key.startsWith(r)).map(n=>({key:n.key.replace(r+".",""),validators:n.validators}))}getValidator(r,e){const n=e.find(g=>g.key===r);return n?n.validators:[]}}return c.\u0275fac=function(r){return new(r||c)(f.LFG(h.qu))},c.\u0275prov=f.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()}}]);