(self.webpackChunkapp=self.webpackChunkapp||[]).push([[405],{405:(Mt,At,O)=>{"use strict";O.r(At),O.d(At,{WikiModule:()=>vt});var ft=O(4521),C=O(5861),j=O(9268),d=O(5e3);let z=(()=>{class t{constructor(){this.subscriptionsData=[]}ngOnDestroy(){this.allSubscriptions().forEach(i=>{i.unsubscribe()})}subscribe(i,o,a,c){const l=(0,j.V)();return this.subscriptionsData.push({id:l,subscription:i.subscribe(o,a,c)}),l}unsubscribe(i){const o=this.subscriptionById(i);!o||o.closed||o.unsubscribe()}unsubscribeAll(){this.subscriptionsData.forEach(i=>i.subscription.unsubscribe())}allSubscriptions(){return this.subscriptionsData.map(i=>i.subscription)}subscriptionById(i){const o=this.subscriptionsData.find(a=>a.id===i);return null==o?void 0:o.subscription}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["ng-component"]],decls:0,vars:0,template:function(i,o){},encapsulation:2}),t})();const A=(t,r)=>{if(0===t.length)return[];if(0===r.length)return[];const i=T(t,r);return t.map(o=>({id:o.id,label:o.name,group:o.planet,score:i[o.id]}))},w=t=>{const r={};for(const o of t){const a=`${o.characterId1}-${o.characterId2}`;r[a]?r[a]+=1:r[a]=1}let i=[];for(const o in r){const[a,c]=o.split("-");i.push({source:a,target:c,weight:r[o],group:"undefined"})}return i},S=t=>{const r=new Set;return t.forEach(i=>{r.add(i.characterId1),r.add(i.characterId2)}),Array.from(r)},T=(t,r)=>{const a={};r.forEach(k=>{var B,L,F,at;null!==(B=a[F=k.characterId1])&&void 0!==B||(a[F]=0),null!==(L=a[at=k.characterId2])&&void 0!==L||(a[at]=0),a[k.characterId1]+=1,a[k.characterId2]+=1});const c=Object.values(a);let l=Math.min(...c);const b=Math.max(...c)-l,_={};for(const[k,B]of Object.entries(a))_[k]=(B-l)/b*55+5;return _};var N=O(7489),R=O.n(N),tt=O(9557),V=O(5595),nt=O(7749),ut=O.n(nt),$=O(4004),Z=O(520),G=O(3905),ot=O(2843),gt=O(262),wt=O(2340);let dt=(()=>{class t{generate(i){let o=i;return o.startsWith("/")||(o="/"+o),"assets/db"+o+".json"}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),lt=(()=>{class t{constructor(i,o){this.http=i,this.router=o,this.requestCache={},setInterval(()=>{this.clearCache()},300)}get(i){var o=this;const a=this.router.generate(i);return new Promise(function(){var c=(0,C.Z)(function*(l,p){try{l(yield(0,G.z)(o.http.get(a).pipe((0,gt.K)(_=>(0,ot._)(_)))))}catch(b){p(b)}});return function(l,p){return c.apply(this,arguments)}}())}headers(){return{headers:(new Z.WM).set("app-version",wt.N.appVersion).set("Access-Control-Allow-Origin","*")}}clearCache(){const i=(0,N.keys)(this.requestCache),o=(new Date).getTime();for(const a of i){const c=this.requestCache[a];if(!c)continue;const l=o-c.timestamp;!c.response&&l<2e4||c.response&&l<200||(this.requestCache[a]=null,delete this.requestCache[a])}}}return t.\u0275fac=function(i){return new(i||t)(d.LFG(Z.eN),d.LFG(dt))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Et=O(8306),It=O(727),Ot=O(3101),Zt=O(4707),jt=O(576);function Yt(t){return!!t&&(t instanceof Et.y||(0,jt.m)(t.lift)&&(0,jt.m)(t.subscribe))}var Kt=O(9646),ue=O(9975),ce=O(4408),Vt=O(7565);const Be=new class me extends Vt.v{}(class Ce extends ce.o{constructor(r,i){super(r,i),this.scheduler=r,this.work=i}schedule(r,i=0){return i>0?super.schedule(r,i):(this.delay=i,this.state=r,this.scheduler.flush(this),this)}execute(r,i){return i>0||this.closed?super.execute(r,i):this._execute(r,i)}requestAsyncId(r,i,o=0){return null!=o&&o>0||null==o&&this.delay>0?super.requestAsyncId(r,i,o):r.flush(this)}});var St=O(9841),Ct=O(7579),Lt=O(4351),Ne=O(4482),Fe=O(5403),en=O(8421),Ge=O(4671),xe=O(5032),Wn=O(3269),Ye=O(2722),Ii=O(5698),Pe=O(1884),Go=O(4782);function Po(){return t=>new Et.y(r=>{let i,o;const a=new It.w0;return a.add(t.subscribe({complete:()=>{i&&r.next(o),r.complete()},error:c=>{r.error(c)},next:c=>{o=c,i||(i=Ot.E.schedule(()=>{r.next(o),i=void 0}),a.add(i))}})),a})}const Dr=new d.OlP("@ngrx/component-store Initial State");let ze=(()=>{class t{constructor(i){this.destroySubject$=new Zt.t(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new Zt.t(1),this.isInitialized=!1,this.notInitializedErrorMessage=`${this.constructor.name} has not been initialized yet. Please make sure it is initialized before updating/getting.`,this.state$=this.select(o=>o),i&&this.initState(i)}ngOnDestroy(){this.stateSubject$.complete(),this.destroySubject$.next()}updater(i){return o=>{let a;const l=(Yt(o)?o:(0,Kt.of)(o)).pipe((0,Lt.b)(p=>this.isInitialized?(0,ue.x)([p],Be).pipe(function $e(...t){const r=(0,Wn.jO)(t);return(0,Ne.e)((i,o)=>{const a=t.length,c=new Array(a);let l=t.map(()=>!1),p=!1;for(let b=0;b<a;b++)(0,en.Xf)(t[b]).subscribe(new Fe.Q(o,_=>{c[b]=_,!p&&!l[b]&&(l[b]=!0,(p=l.every(Ge.y))&&(l=null))},xe.Z));i.subscribe(new Fe.Q(o,b=>{if(p){const _=[b,...c];o.next(r?r(..._):_)}}))})}(this.stateSubject$)):(0,ot._)(new Error(this.notInitializedErrorMessage))),(0,Ye.R)(this.destroy$)).subscribe({next:([p,b])=>{this.stateSubject$.next(i(b,p))},error:p=>{a=p,this.stateSubject$.error(p)}});if(a)throw a;return l}}initState(i){(0,ue.x)([i],Be).subscribe(o=>{this.isInitialized=!0,this.stateSubject$.next(o)})}setState(i){"function"!=typeof i?this.initState(i):this.updater(i)()}patchState(i){const o="function"==typeof i?i(this.get()):i;this.updater((a,c)=>Object.assign(Object.assign({},a),c))(o)}get(i){if(!this.isInitialized)throw new Error(this.notInitializedErrorMessage);let o;return this.stateSubject$.pipe((0,Ii.q)(1)).subscribe(a=>{o=i?i(a):a}),o}select(...i){const{observables:o,projector:a,config:c}=function Lr(t){const r=Array.from(t);let o,i={debounce:!1};const a=r.pop();return"function"!=typeof a?(i=Object.assign(Object.assign({},i),a),o=r.pop()):o=a,{observables:r,projector:o,config:i}}(i);let l;return l=0===o.length?this.stateSubject$.pipe(c.debounce?Po():p=>p,(0,$.U)(a)):(0,St.a)(o).pipe(c.debounce?Po():p=>p,(0,$.U)(p=>a(...p))),l.pipe((0,Pe.x)(),(0,Go.d)({refCount:!0,bufferSize:1}),(0,Ye.R)(this.destroy$))}effect(i){const o=new Ct.x;return i(o).pipe((0,Ye.R)(this.destroy$)).subscribe(),a=>(Yt(a)?a:(0,Kt.of)(a)).pipe((0,Ye.R)(this.destroy$)).subscribe(l=>{o.next(l)})}}return t.\u0275fac=function(i){return new(i||t)(d.LFG(Dr,8))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),t})();const Or=(t,r)=>r.find(i=>i.id===t),Ni=function Rr(t,r){for(var i=-1,o=null==t?0:t.length;++i<o;)if(r(t[i],i,t))return!0;return!1};var Un=O(5343),Sn=O(3639);function pr(t){var r=-1,i=null==t?0:t.length;for(this.__data__=new Sn.Z;++r<i;)this.add(t[r])}pr.prototype.add=pr.prototype.push=function Di(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},pr.prototype.has=function Li(t){return this.__data__.has(t)};const gr=pr,Pr=function Vn(t,r){return t.has(r)},vr=function ia(t,r,i,o,a,c){var l=1&i,p=t.length,b=r.length;if(p!=b&&!(l&&b>p))return!1;var _=c.get(t),k=c.get(r);if(_&&k)return _==r&&k==t;var B=-1,L=!0,F=2&i?new gr:void 0;for(c.set(t,r),c.set(r,t);++B<p;){var at=t[B],it=r[B];if(o)var X=l?o(it,at,B,r,t,c):o(at,it,B,t,r,c);if(void 0!==X){if(X)continue;L=!1;break}if(F){if(!Ni(r,function(K,ct){if(!Pr(F,ct)&&(at===K||a(at,K,i,o,c)))return F.push(ct)})){L=!1;break}}else if(at!==it&&!a(at,it,i,o,c)){L=!1;break}}return c.delete(t),c.delete(r),L};var Wr=O(8492),zo=O(1630),Wo=O(3093);const sa=function oa(t){var r=-1,i=Array(t.size);return t.forEach(function(o,a){i[++r]=[a,o]}),i},aa=function Ri(t){var r=-1,i=Array(t.size);return t.forEach(function(o){i[++r]=o}),i};var v=Wr.Z?Wr.Z.prototype:void 0,u=v?v.valueOf:void 0;var q=O(4177);var ve=Object.prototype.propertyIsEnumerable,ke=Object.getOwnPropertySymbols;const nn=ke?function(t){return null==t?[]:(t=Object(t),function pt(t,r){for(var i=-1,o=null==t?0:t.length,a=0,c=[];++i<o;){var l=t[i];r(l,i,t)&&(c[a++]=l)}return c}(ke(t),function(r){return ve.call(t,r)}))}:function Nt(){return[]};var hn=O(3487),rn=O(1986);const Br=(0,O(5820).Z)(Object.keys,Object);var Yu=Object.prototype.hasOwnProperty;var ua=O(8706);const jo=function oh(t){return(0,ua.Z)(t)?(0,hn.Z)(t):function Pi(t){if(!(0,rn.Z)(t))return Br(t);var r=[];for(var i in Object(t))Yu.call(t,i)&&"constructor"!=i&&r.push(i);return r}(t)},Jo=function Hu(t){return function bt(t,r,i){var o=r(t);return(0,q.Z)(t)?o:function M(t,r){for(var i=-1,o=r.length,a=t.length;++i<o;)t[a+i]=r[i];return t}(o,i(t))}(t,jo,nn)};var ca=Object.prototype.hasOwnProperty;var zi=O(3858),Wi=O(5946);const Vo=(0,zi.Z)(Wi.Z,"DataView");var qo=O(9329);const Qo=(0,zi.Z)(Wi.Z,"Promise"),ha=(0,zi.Z)(Wi.Z,"Set"),ts=(0,zi.Z)(Wi.Z,"WeakMap");var la=O(7079),ri=O(4407),ju="[object Map]",es="[object Promise]",Ju="[object Set]",Vu="[object WeakMap]",qu="[object DataView]",hh=(0,ri.Z)(Vo),lh=(0,ri.Z)(qo.Z),_e=(0,ri.Z)(Qo),we=(0,ri.Z)(ha),dh=(0,ri.Z)(ts),Fr=la.Z;(Vo&&Fr(new Vo(new ArrayBuffer(1)))!=qu||qo.Z&&Fr(new qo.Z)!=ju||Qo&&Fr(Qo.resolve())!=es||ha&&Fr(new ha)!=Ju||ts&&Fr(new ts)!=Vu)&&(Fr=function(t){var r=(0,la.Z)(t),i="[object Object]"==r?t.constructor:void 0,o=i?(0,ri.Z)(i):"";if(o)switch(o){case hh:return qu;case lh:return ju;case _e:return es;case we:return Ju;case dh:return Vu}return r});const Qu=Fr;var tc=O(5202),ph=O(4711),da="[object Arguments]",ec="[object Array]",Le="[object Object]",ii=Object.prototype.hasOwnProperty;const pa=function rc(t,r,i,o,a,c){var l=(0,q.Z)(t),p=(0,q.Z)(r),b=l?ec:Qu(t),_=p?ec:Qu(r),k=(b=b==da?Le:b)==Le,B=(_=_==da?Le:_)==Le,L=b==_;if(L&&(0,tc.Z)(t)){if(!(0,tc.Z)(r))return!1;l=!0,k=!1}if(L&&!k)return c||(c=new Un.Z),l||(0,ph.Z)(t)?vr(t,r,i,o,a,c):function f(t,r,i,o,a,c,l){switch(i){case"[object DataView]":if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)return!1;t=t.buffer,r=r.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=r.byteLength||!c(new zo.Z(t),new zo.Z(r)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,Wo.Z)(+t,+r);case"[object Error]":return t.name==r.name&&t.message==r.message;case"[object RegExp]":case"[object String]":return t==r+"";case"[object Map]":var p=sa;case"[object Set]":if(p||(p=aa),t.size!=r.size&&!(1&o))return!1;var _=l.get(t);if(_)return _==r;o|=2,l.set(t,r);var k=vr(p(t),p(r),o,a,c,l);return l.delete(t),k;case"[object Symbol]":if(u)return u.call(t)==u.call(r)}return!1}(t,r,b,i,o,a,c);if(!(1&i)){var F=k&&ii.call(t,"__wrapped__"),at=B&&ii.call(r,"__wrapped__");if(F||at){var it=F?t.value():t,X=at?r.value():r;return c||(c=new Un.Z),a(it,X,i,o,c)}}return!!L&&(c||(c=new Un.Z),function fa(t,r,i,o,a,c){var l=1&i,p=Jo(t),b=p.length;if(b!=Jo(r).length&&!l)return!1;for(var B=b;B--;){var L=p[B];if(!(l?L in r:ca.call(r,L)))return!1}var F=c.get(t),at=c.get(r);if(F&&at)return F==r&&at==t;var it=!0;c.set(t,r),c.set(r,t);for(var X=l;++B<b;){var K=t[L=p[B]],ct=r[L];if(o)var yt=l?o(ct,K,L,r,t,c):o(K,ct,L,t,r,c);if(!(void 0===yt?K===ct||a(K,ct,i,o,c):yt)){it=!1;break}X||(X="constructor"==L)}if(it&&!X){var et=t.constructor,_t=r.constructor;et!=_t&&"constructor"in t&&"constructor"in r&&!("function"==typeof et&&et instanceof et&&"function"==typeof _t&&_t instanceof _t)&&(it=!1)}return c.delete(t),c.delete(r),it}(t,r,i,o,a,c))};var dn=O(214);const va=function ga(t,r,i,o,a){return t===r||(null==t||null==r||!(0,dn.Z)(t)&&!(0,dn.Z)(r)?t!=t&&r!=r:pa(t,r,i,o,ga,a))};var on=O(1999);const wn=function vh(t){return t==t&&!(0,on.Z)(t)},Ui=function wr(t,r){return function(i){return null!=i&&i[t]===r&&(void 0!==r||t in Object(i))}},Ae=function ya(t){var r=function yh(t){for(var r=jo(t),i=r.length;i--;){var o=r[i],a=t[o];r[i]=[o,a,wn(a)]}return r}(t);return 1==r.length&&r[0][2]?Ui(r[0][0],r[0][1]):function(i){return i===t||function sc(t,r,i,o){var a=i.length,c=a,l=!o;if(null==t)return!c;for(t=Object(t);a--;){var p=i[a];if(l&&p[2]?p[1]!==t[p[0]]:!(p[0]in t))return!1}for(;++a<c;){var b=(p=i[a])[0],_=t[b],k=p[1];if(l&&p[2]){if(void 0===_&&!(b in t))return!1}else{var B=new Un.Z;if(o)var L=o(_,k,b,t,r,B);if(!(void 0===L?va(k,_,3,o,B):L))return!1}}return!0}(i,t,r)}},wa=function ma(t){return"symbol"==typeof t||(0,dn.Z)(t)&&"[object Symbol]"==(0,la.Z)(t)};var ba=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mh=/^\w*$/;const xa=function wh(t,r){if((0,q.Z)(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!wa(t))||mh.test(t)||!ba.test(t)||null!=r&&t in Object(r)};function oi(t,r){if("function"!=typeof t||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var i=function(){var o=arguments,a=r?r.apply(this,o):o[0],c=i.cache;if(c.has(a))return c.get(a);var l=t.apply(this,o);return i.cache=c.set(a,l)||c,l};return i.cache=new(oi.Cache||Sn.Z),i}oi.Cache=Sn.Z;const si=oi;var _a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Aa=/\\(\\)?/g;const xh=function fc(t){var r=si(t,function(o){return 500===i.size&&i.clear(),o}),i=r.cache;return r}(function(t){var r=[];return 46===t.charCodeAt(0)&&r.push(""),t.replace(_a,function(i,o,a,c){r.push(a?c.replace(Aa,"$1"):o||i)}),r});var Ca=Wr.Z?Wr.Z.prototype:void 0,pn=Ca?Ca.toString:void 0;const Bi=function ns(t){if("string"==typeof t)return t;if((0,q.Z)(t))return function Ea(t,r){for(var i=-1,o=null==t?0:t.length,a=Array(o);++i<o;)a[i]=r(t[i],i,t);return a}(t,ns)+"";if(wa(t))return pn?pn.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r},gc=function Ah(t,r){return(0,q.Z)(t)?t:xa(t,r)?[t]:xh(function dc(t){return null==t?"":Bi(t)}(t))},rs=function Sh(t){if("string"==typeof t||wa(t))return t;var r=t+"";return"0"==r&&1/t==-1/0?"-0":r},vc=function ai(t,r){for(var i=0,o=(r=gc(r,t)).length;null!=t&&i<o;)t=t[rs(r[i++])];return i&&i==o?t:void 0},xr=function yc(t,r){return null!=t&&r in Object(t)};var is=O(4825),Mh=O(6667),Ih=O(8696);const mc=function On(t,r){return null!=t&&function Th(t,r,i){for(var o=-1,a=(r=gc(r,t)).length,c=!1;++o<a;){var l=rs(r[o]);if(!(c=null!=t&&i(t,l)))break;t=t[l]}return c||++o!=a?c:!!(a=null==t?0:t.length)&&(0,Ih.Z)(a)&&(0,Mh.Z)(l,a)&&((0,q.Z)(t)||(0,is.Z)(t))}(t,r,xr)},Lh=function Dh(t,r){return xa(t)&&wn(r)?Ui(rs(t),r):function(i){var o=function Ch(t,r,i){var o=null==t?void 0:vc(t,r);return void 0===o?i:o}(i,t);return void 0===o&&o===r?mc(i,t):va(r,o,3)}};var Oh=O(9940);const qt=function Pt(t){return xa(t)?function os(t){return function(r){return null==r?void 0:r[t]}}(rs(t)):function ht(t){return function(r){return vc(r,t)}}(t)};var ye=O(139);const ci=function Cn(t,r){return function(i,o){if(null==i)return i;if(!(0,ua.Z)(i))return t(i,o);for(var a=i.length,c=r?a:-1,l=Object(i);(r?c--:++c<a)&&!1!==o(l[c],c,l););return i}}(function Ia(t,r){return t&&(0,ye.Z)(t,r,jo)}),as=function ss(t,r){var i;return ci(t,function(o,a,c){return!(i=r(o,a,c))}),!!i};var ge=O(4810);const wc=function Ph(t,r,i){var o=(0,q.Z)(t)?Ni:as;return i&&(0,ge.Z)(t,r,i)&&(r=void 0),o(t,function le(t){return"function"==typeof t?t:null==t?Oh.Z:"object"==typeof t?(0,q.Z)(t)?Lh(t[0],t[1]):Ae(t):qt(t)}(r))},_r=(t,r)=>{t||(t=[]);let i=[...t];return r.forEach(o=>{i=zh(i,o)}),i},zh=(t,r)=>{const i=r;let o=[...t];return wc(o,a=>a.id===i.id)?o=o.map(a=>a.id===i.id?r:a):o.push(r),o};let us=(()=>{class t extends ze{constructor(){super({characters:[]}),this.characters$=this.select(i=>i.characters)}saveAllCharacters(i){(0,N.isEqual)(this.get().characters,i)||this.patchState(o=>({characters:_r(o.characters,i)}))}syncState(){return this.get()}syncCharacter(i){return Or(i,this.get().characters)}reset(){this.patchState({characters:[]})}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),qn=(()=>{class t{constructor(i,o){this.api=i,this.store=o}fetchAllCharacter(){var i=this;return(0,C.Z)(function*(){const o=yield i.api.get("characters");i.store.saveAllCharacters(o)})()}fetchAllCosmereCharacter(){var i=this;return(0,C.Z)(function*(){const a=(yield i.api.get("characters")).filter(c=>["Roshar","Yolen","Scadrial","Nalthis"].includes(c.planet));i.store.saveAllCharacters(a)})()}syncAllCharacters(){return this.store.syncState().characters}allCharacters(){return this.store.characters$}cosmereCharacters(){return this.store.characters$.pipe((0,$.U)(i=>i.filter(o=>["Roshar","Yolen","Scadrial","Nalthis"].includes(o.planet))))}}return t.\u0275fac=function(i){return new(i||t)(d.LFG(lt),d.LFG(us))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),cs=(()=>{class t extends ze{constructor(){super({relationships:[]}),this.relationships$=this.select(i=>i.relationships)}saveAllRelationship(i){(0,N.isEqual)(this.get().relationships,i)||this.patchState(o=>({relationships:_r(o.relationships,i)}))}syncState(){return this.get()}reset(){this.patchState({relationships:[]})}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),fs=(()=>{class t{constructor(i,o){this.api=i,this.store=o}fetchAllRelationship(){var i=this;return(0,C.Z)(function*(){const o=yield i.api.get("relationships");i.store.saveAllRelationship(o)})()}fetchAllRelationshipByBookId(i){var o=this;return(0,C.Z)(function*(){const a=yield o.api.get("relationships-"+i);o.store.saveAllRelationship(a)})()}fetchAllCosmereRelationship(){var i=this;return(0,C.Z)(function*(){let o=[];for(const a of["warbreaker","mistborn1","mistborn2","mistborn3","mistborn4","mistborn5","mistborn6","stormlight1","stormlight2","stormlight3","stormlight4"])try{o=_r(o,yield i.api.get("relationships-"+a))}catch(c){}i.store.saveAllRelationship(o)})()}syncAllRelationship(){return this.store.syncState().relationships}allRelationship(){return this.store.relationships$}cosmereRelationships(){return this.store.relationships$.pipe((0,$.U)(i=>i.filter(o=>["warbreaker","mistborn1","mistborn2","mistborn3","mistborn4","mistborn5","mistborn6","stormlight1","stormlight2","stormlight3","stormlight4"].includes(o.bookId))))}relationshipsByBook(i){return this.store.relationships$.pipe((0,$.U)(o=>o.filter(a=>(null==a?void 0:a.bookId)===i)))}}return t.\u0275fac=function(i){return new(i||t)(d.LFG(lt),d.LFG(cs))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var fi=O(9976);function hi(t,r){let i;if(void 0===r)for(const o of t)null!=o&&(i<o||void 0===i&&o>=o)&&(i=o);else{let o=-1;for(let a of t)null!=(a=r(a,++o,t))&&(i<a||void 0===i&&a>=a)&&(i=a)}return i}function hs(t,r){let i;if(void 0===r)for(const o of t)null!=o&&(i>o||void 0===i&&o>=o)&&(i=o);else{let o=-1;for(let a of t)null!=(a=r(a,++o,t))&&(i>a||void 0===i&&a>=a)&&(i=a)}return i}function Bn(t,r){return null==t||null==r?NaN:t<r?-1:t>r?1:t>=r?0:NaN}function ls(t,r){return(null==t||!(t>=t))-(null==r||!(r>=r))||(t<r?-1:t>r?1:0)}function xc(t,r,i=0,o=1/0,a){if(r=Math.floor(r),i=Math.floor(Math.max(0,i)),o=Math.floor(Math.min(t.length-1,o)),!(i<=r&&r<=o))return t;for(a=void 0===a?ls:function Zi(t=Bn){if(t===Bn)return ls;if("function"!=typeof t)throw new TypeError("compare is not a function");return(r,i)=>{const o=t(r,i);return o||0===o?o:(0===t(i,i))-(0===t(r,r))}}(a);o>i;){if(o-i>600){const b=o-i+1,_=r-i+1,k=Math.log(b),B=.5*Math.exp(2*k/3),L=.5*Math.sqrt(k*B*(b-B)/b)*(_-b/2<0?-1:1);xc(t,r,Math.max(i,Math.floor(r-_*B/b+L)),Math.min(o,Math.floor(r+(b-_)*B/b+L)),a)}const c=t[r];let l=i,p=o;for($i(t,i,r),a(t[o],c)>0&&$i(t,i,o);l<p;){for($i(t,l,p),++l,--p;a(t[l],c)<0;)++l;for(;a(t[p],c)>0;)--p}0===a(t[i],c)?$i(t,i,p):(++p,$i(t,p,o)),p<=r&&(i=p+1),r<=p&&(o=p-1)}return t}function $i(t,r,i){const o=t[r];t[r]=t[i],t[i]=o}function Yi(t,r,i){t=+t,r=+r,i=(a=arguments.length)<2?(r=t,t=0,1):a<3?1:+i;for(var o=-1,a=0|Math.max(0,Math.ceil((r-t)/i)),c=new Array(a);++o<a;)c[o]=t+o*i;return c}function Bh(t){return t}function Fh(t){return"translate("+t+",0)"}function Oa(t){return"translate(0,"+t+")"}function Xi(t){return r=>+t(r)}function Ra(t,r){return r=Math.max(0,t.bandwidth()-2*r)/2,t.round()&&(r=Math.round(r)),i=>+t(i)+r}function di(){return!this.__axis}function Ar(t,r){var i=[],o=null,a=null,c=6,l=6,p=3,b="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,_=1===t||4===t?-1:1,k=4===t||2===t?"x":"y",B=1===t||3===t?Fh:Oa;function L(F){var at=null==o?r.ticks?r.ticks.apply(r,i):r.domain():o,it=null==a?r.tickFormat?r.tickFormat.apply(r,i):Bh:a,X=Math.max(c,0)+p,K=r.range(),ct=+K[0]+b,yt=+K[K.length-1]+b,et=(r.bandwidth?Ra:Xi)(r.copy(),b),_t=F.selection?F.selection():F,Rt=_t.selectAll(".domain").data([null]),Ut=_t.selectAll(".tick").data(at,r).order(),Wt=Ut.exit(),ne=Ut.enter().append("g").attr("class","tick"),Bt=Ut.select("line"),Dt=Ut.select("text");Rt=Rt.merge(Rt.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Ut=Ut.merge(ne),Bt=Bt.merge(ne.append("line").attr("stroke","currentColor").attr(k+"2",_*c)),Dt=Dt.merge(ne.append("text").attr("fill","currentColor").attr(k,_*X).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),F!==_t&&(Rt=Rt.transition(F),Ut=Ut.transition(F),Bt=Bt.transition(F),Dt=Dt.transition(F),Wt=Wt.transition(F).attr("opacity",1e-6).attr("transform",function(se){return isFinite(se=et(se))?B(se+b):this.getAttribute("transform")}),ne.attr("opacity",1e-6).attr("transform",function(se){var Jt=this.parentNode.__axis;return B((Jt&&isFinite(Jt=Jt(se))?Jt:et(se))+b)})),Wt.remove(),Rt.attr("d",4===t||2===t?l?"M"+_*l+","+ct+"H"+b+"V"+yt+"H"+_*l:"M"+b+","+ct+"V"+yt:l?"M"+ct+","+_*l+"V"+b+"H"+yt+"V"+_*l:"M"+ct+","+b+"H"+yt),Ut.attr("opacity",1).attr("transform",function(se){return B(et(se)+b)}),Bt.attr(k+"2",_*c),Dt.attr(k,_*X).text(it),_t.filter(di).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),_t.each(function(){this.__axis=et})}return L.scale=function(F){return arguments.length?(r=F,L):r},L.ticks=function(){return i=Array.from(arguments),L},L.tickArguments=function(F){return arguments.length?(i=null==F?[]:Array.from(F),L):i.slice()},L.tickValues=function(F){return arguments.length?(o=null==F?null:Array.from(F),L):o&&o.slice()},L.tickFormat=function(F){return arguments.length?(a=F,L):a},L.tickSize=function(F){return arguments.length?(c=l=+F,L):c},L.tickSizeInner=function(F){return arguments.length?(c=+F,L):c},L.tickSizeOuter=function(F){return arguments.length?(l=+F,L):l},L.tickPadding=function(F){return arguments.length?(p=+F,L):p},L.offset=function(F){return arguments.length?(b=+F,L):b},L}function Zr(t){return Ar(3,t)}function _c(t){return Ar(4,t)}function Zh(){}function Ga(t){return null==t?Zh:function(){return this.querySelector(t)}}function Yh(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function ys(){return[]}function pi(t){return null==t?ys:function(){return this.querySelectorAll(t)}}function $r(t){return function(){return this.matches(t)}}function Ki(t){return function(r){return r.matches(t)}}var Mn=Array.prototype.find;function Hh(){return this.firstElementChild}var Kh=Array.prototype.filter;function Yr(){return Array.from(this.children)}function Ec(t){return new Array(t.length)}function In(t,r){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=r}function Qh(t){return function(){return t}}function tl(t,r,i,o,a,c){for(var p,l=0,b=r.length,_=c.length;l<_;++l)(p=r[l])?(p.__data__=c[l],o[l]=p):i[l]=new In(t,c[l]);for(;l<b;++l)(p=r[l])&&(a[l]=p)}function el(t,r,i,o,a,c,l){var p,b,F,_=new Map,k=r.length,B=c.length,L=new Array(k);for(p=0;p<k;++p)(b=r[p])&&(L[p]=F=l.call(b,b.__data__,p,r)+"",_.has(F)?a[p]=b:_.set(F,b));for(p=0;p<B;++p)F=l.call(t,c[p],p,c)+"",(b=_.get(F))?(o[p]=b,b.__data__=c[p],_.delete(F)):i[p]=new In(t,c[p]);for(p=0;p<k;++p)(b=r[p])&&_.get(L[p])===b&&(a[p]=b)}function nl(t){return t.__data__}function Qn(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Hr(t,r){return t<r?-1:t>r?1:t>=r?0:NaN}In.prototype={constructor:In,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,r){return this._parent.insertBefore(t,r)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Pa="http://www.w3.org/1999/xhtml";const Sc={svg:"http://www.w3.org/2000/svg",xhtml:Pa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ji(t){var r=t+="",i=r.indexOf(":");return i>=0&&"xmlns"!==(r=t.slice(0,i))&&(t=t.slice(i+1)),Sc.hasOwnProperty(r)?{space:Sc[r],local:t}:t}function Cc(t){return function(){this.removeAttribute(t)}}function pl(t){return function(){this.removeAttributeNS(t.space,t.local)}}function gl(t,r){return function(){this.setAttribute(t,r)}}function za(t,r){return function(){this.setAttributeNS(t.space,t.local,r)}}function Ji(t,r){return function(){var i=r.apply(this,arguments);null==i?this.removeAttribute(t):this.setAttribute(t,i)}}function ms(t,r){return function(){var i=r.apply(this,arguments);null==i?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function Wa(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function yl(t){return function(){this.style.removeProperty(t)}}function tr(t,r,i){return function(){this.style.setProperty(t,r,i)}}function Ua(t,r,i){return function(){var o=r.apply(this,arguments);null==o?this.style.removeProperty(t):this.style.setProperty(t,o,i)}}function He(t,r){return t.style.getPropertyValue(r)||Wa(t).getComputedStyle(t,null).getPropertyValue(r)}function ml(t){return function(){delete this[t]}}function Mc(t,r){return function(){this[t]=r}}function Ic(t,r){return function(){var i=r.apply(this,arguments);null==i?delete this[t]:this[t]=i}}function er(t){return t.trim().split(/^|\s+/)}function ws(t){return t.classList||new Tc(t)}function Tc(t){this._node=t,this._names=er(t.getAttribute("class")||"")}function qi(t,r){for(var i=ws(t),o=-1,a=r.length;++o<a;)i.add(r[o])}function Nc(t,r){for(var i=ws(t),o=-1,a=r.length;++o<a;)i.remove(r[o])}function kc(t){return function(){qi(this,t)}}function Xe(t){return function(){Nc(this,t)}}function Ba(t,r){return function(){(r.apply(this,arguments)?qi:Nc)(this,t)}}function Fn(){this.textContent=""}function Fa(t){return function(){this.textContent=t}}function bs(t){return function(){var r=t.apply(this,arguments);this.textContent=null==r?"":r}}function Lc(){this.innerHTML=""}function sn(t){return function(){this.innerHTML=t}}function Za(t){return function(){var r=t.apply(this,arguments);this.innerHTML=null==r?"":r}}function bl(){this.nextSibling&&this.parentNode.appendChild(this)}function $a(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Qi(t){return function(){var r=this.ownerDocument,i=this.namespaceURI;return i===Pa&&r.documentElement.namespaceURI===Pa?r.createElement(t):r.createElementNS(i,t)}}function Oc(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ya(t){var r=ji(t);return(r.local?Oc:Qi)(r)}function to(){return null}function Sl(){var t=this.parentNode;t&&t.removeChild(this)}function Rc(){var t=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function Cl(){var t=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function Xa(t){return t.trim().split(/^|\s+/).map(function(r){var i="",o=r.indexOf(".");return o>=0&&(i=r.slice(o+1),r=r.slice(0,o)),{type:r,name:i}})}function Tl(t){return function(){var r=this.__on;if(r){for(var c,i=0,o=-1,a=r.length;i<a;++i)c=r[i],t.type&&c.type!==t.type||c.name!==t.name?r[++o]=c:this.removeEventListener(c.type,c.listener,c.options);++o?r.length=o:delete this.__on}}}function Ka(t,r,i){return function(){var a,o=this.__on,c=function Gc(t){return function(r){t.call(this,r,this.__data__)}}(r);if(o)for(var l=0,p=o.length;l<p;++l)if((a=o[l]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=c,a.options=i),void(a.value=r);this.addEventListener(t.type,c,i),a={type:t.type,name:t.name,value:r,listener:c,options:i},o?o.push(a):this.__on=[a]}}function ja(t,r,i){var o=Wa(t),a=o.CustomEvent;"function"==typeof a?a=new a(r,i):(a=o.document.createEvent("Event"),i?(a.initEvent(r,i.bubbles,i.cancelable),a.detail=i.detail):a.initEvent(r,!1,!1)),t.dispatchEvent(a)}function zc(t,r){return function(){return ja(this,t,r)}}function xs(t,r){return function(){return ja(this,t,r.apply(this,arguments))}}Tc.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var r=this._names.indexOf(t);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ja=[null];function bn(t,r){this._groups=t,this._parents=r}function Va(){return new bn([[document.documentElement]],Ja)}bn.prototype=Va.prototype={constructor:bn,select:function $h(t){"function"!=typeof t&&(t=Ga(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var b,_,c=r[a],l=c.length,p=o[a]=new Array(l),k=0;k<l;++k)(b=c[k])&&(_=t.call(b,b.__data__,k,c))&&("__data__"in b&&(_.__data__=b.__data__),p[k]=_);return new bn(o,this._parents)},selectAll:function E(t){t="function"==typeof t?function Ac(t){return function(){return Yh(t.apply(this,arguments))}}(t):pi(t);for(var r=this._groups,i=r.length,o=[],a=[],c=0;c<i;++c)for(var b,l=r[c],p=l.length,_=0;_<p;++_)(b=l[_])&&(o.push(t.call(b,b.__data__,_,l)),a.push(b));return new bn(o,a)},selectChild:function Xh(t){return this.select(null==t?Hh:function ae(t){return function(){return Mn.call(this.children,t)}}("function"==typeof t?t:Ki(t)))},selectChildren:function Jh(t){return this.selectAll(null==t?Yr:function jh(t){return function(){return Kh.call(this.children,t)}}("function"==typeof t?t:Ki(t)))},filter:function Vh(t){"function"!=typeof t&&(t=$r(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var b,c=r[a],l=c.length,p=o[a]=[],_=0;_<l;++_)(b=c[_])&&t.call(b,b.__data__,_,c)&&p.push(b);return new bn(o,this._parents)},data:function rl(t,r){if(!arguments.length)return Array.from(this,nl);var i=r?el:tl,o=this._parents,a=this._groups;"function"!=typeof t&&(t=Qh(t));for(var c=a.length,l=new Array(c),p=new Array(c),b=new Array(c),_=0;_<c;++_){var k=o[_],B=a[_],L=B.length,F=Qn(t.call(k,k&&k.__data__,_,o)),at=F.length,it=p[_]=new Array(at),X=l[_]=new Array(at),K=b[_]=new Array(L);i(k,B,it,X,K,F,r);for(var et,_t,ct=0,yt=0;ct<at;++ct)if(et=it[ct]){for(ct>=yt&&(yt=ct+1);!(_t=X[yt])&&++yt<at;);et._next=_t||null}}return(l=new bn(l,o))._enter=p,l._exit=b,l},enter:function qh(){return new bn(this._enter||this._groups.map(Ec),this._parents)},exit:function il(){return new bn(this._exit||this._groups.map(Ec),this._parents)},join:function ol(t,r,i){var o=this.enter(),a=this,c=this.exit();return"function"==typeof t?(o=t(o))&&(o=o.selection()):o=o.append(t+""),null!=r&&(a=r(a))&&(a=a.selection()),null==i?c.remove():i(c),o&&a?o.merge(a).order():a},merge:function sl(t){for(var r=t.selection?t.selection():t,i=this._groups,o=r._groups,a=i.length,l=Math.min(a,o.length),p=new Array(a),b=0;b<l;++b)for(var F,_=i[b],k=o[b],B=_.length,L=p[b]=new Array(B),at=0;at<B;++at)(F=_[at]||k[at])&&(L[at]=F);for(;b<a;++b)p[b]=i[b];return new bn(p,this._parents)},selection:function kl(){return this},order:function al(){for(var t=this._groups,r=-1,i=t.length;++r<i;)for(var l,o=t[r],a=o.length-1,c=o[a];--a>=0;)(l=o[a])&&(c&&4^l.compareDocumentPosition(c)&&c.parentNode.insertBefore(l,c),c=l);return this},sort:function ul(t){function r(B,L){return B&&L?t(B.__data__,L.__data__):!B-!L}t||(t=Hr);for(var i=this._groups,o=i.length,a=new Array(o),c=0;c<o;++c){for(var _,l=i[c],p=l.length,b=a[c]=new Array(p),k=0;k<p;++k)(_=l[k])&&(b[k]=_);b.sort(r)}return new bn(a,this._parents).order()},call:function cl(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function fl(){return Array.from(this)},node:function Rn(){for(var t=this._groups,r=0,i=t.length;r<i;++r)for(var o=t[r],a=0,c=o.length;a<c;++a){var l=o[a];if(l)return l}return null},size:function hl(){let t=0;for(const r of this)++t;return t},empty:function ll(){return!this.node()},each:function dl(t){for(var r=this._groups,i=0,o=r.length;i<o;++i)for(var p,a=r[i],c=0,l=a.length;c<l;++c)(p=a[c])&&t.call(p,p.__data__,c,a);return this},attr:function vl(t,r){var i=ji(t);if(arguments.length<2){var o=this.node();return i.local?o.getAttributeNS(i.space,i.local):o.getAttribute(i)}return this.each((null==r?i.local?pl:Cc:"function"==typeof r?i.local?ms:Ji:i.local?za:gl)(i,r))},style:function Xr(t,r,i){return arguments.length>1?this.each((null==r?yl:"function"==typeof r?Ua:tr)(t,r,null==i?"":i)):He(this.node(),t)},property:function Vi(t,r){return arguments.length>1?this.each((null==r?ml:"function"==typeof r?Ic:Mc)(t,r)):this.node()[t]},classed:function Dc(t,r){var i=er(t+"");if(arguments.length<2){for(var o=ws(this.node()),a=-1,c=i.length;++a<c;)if(!o.contains(i[a]))return!1;return!0}return this.each(("function"==typeof r?Ba:r?kc:Xe)(i,r))},text:function Kr(t){return arguments.length?this.each(null==t?Fn:("function"==typeof t?bs:Fa)(t)):this.node().textContent},html:function wl(t){return arguments.length?this.each(null==t?Lc:("function"==typeof t?Za:sn)(t)):this.node().innerHTML},raise:function xl(){return this.each(bl)},lower:function _l(){return this.each($a)},append:function Al(t){var r="function"==typeof t?t:Ya(t);return this.select(function(){return this.appendChild(r.apply(this,arguments))})},insert:function El(t,r){var i="function"==typeof t?t:Ya(t),o=null==r?to:"function"==typeof r?r:Ga(r);return this.select(function(){return this.insertBefore(i.apply(this,arguments),o.apply(this,arguments)||null)})},remove:function Ha(){return this.each(Sl)},clone:function Ml(t){return this.select(t?Cl:Rc)},datum:function Il(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function Pc(t,r,i){var a,l,o=Xa(t+""),c=o.length;if(!(arguments.length<2)){for(p=r?Ka:Tl,a=0;a<c;++a)this.each(p(o[a],r,i));return this}var p=this.node().__on;if(p)for(var k,b=0,_=p.length;b<_;++b)for(a=0,k=p[b];a<c;++a)if((l=o[a]).type===k.type&&l.name===k.name)return k.value},dispatch:function Nl(t,r){return this.each(("function"==typeof r?xs:zc)(t,r))},[Symbol.iterator]:function*Wc(){for(var t=this._groups,r=0,i=t.length;r<i;++r)for(var l,o=t[r],a=0,c=o.length;a<c;++a)(l=o[a])&&(yield l)}};const jr=Va;var Uc={value:()=>{}};function _s(){for(var o,t=0,r=arguments.length,i={};t<r;++t){if(!(o=arguments[t]+"")||o in i||/[\s.]/.test(o))throw new Error("illegal type: "+o);i[o]=[]}return new As(i)}function As(t){this._=t}function qa(t,r){return t.trim().split(/^|\s+/).map(function(i){var o="",a=i.indexOf(".");if(a>=0&&(o=i.slice(a+1),i=i.slice(0,a)),i&&!r.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:o}})}function re(t,r){for(var a,i=0,o=t.length;i<o;++i)if((a=t[i]).name===r)return a.value}function Bc(t,r,i){for(var o=0,a=t.length;o<a;++o)if(t[o].name===r){t[o]=Uc,t=t.slice(0,o).concat(t.slice(o+1));break}return null!=i&&t.push({name:r,value:i}),t}As.prototype=_s.prototype={constructor:As,on:function(t,r){var a,i=this._,o=qa(t+"",i),c=-1,l=o.length;if(!(arguments.length<2)){if(null!=r&&"function"!=typeof r)throw new Error("invalid callback: "+r);for(;++c<l;)if(a=(t=o[c]).type)i[a]=Bc(i[a],t.name,r);else if(null==r)for(a in i)i[a]=Bc(i[a],t.name,null);return this}for(;++c<l;)if((a=(t=o[c]).type)&&(a=re(i[a],t.name)))return a},copy:function(){var t={},r=this._;for(var i in r)t[i]=r[i].slice();return new As(t)},call:function(t,r){if((a=arguments.length-2)>0)for(var a,c,i=new Array(a),o=0;o<a;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,a=(c=this._[t]).length;o<a;++o)c[o].value.apply(r,i)},apply:function(t,r,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],a=0,c=o.length;a<c;++a)o[a].value.apply(r,i)}};const Es=_s;var an,no,Zn=0,gi=0,eo=0,Jr=0,nr=0,ro=0,vi="object"==typeof performance&&performance.now?performance:Date,gn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function $n(){return nr||(gn(Qa),nr=vi.now()+ro)}function Qa(){nr=0}function io(){this._call=this._time=this._next=null}function yi(t,r,i){var o=new io;return o.restart(t,r,i),o}function Ss(){nr=(Jr=vi.now())+ro,Zn=gi=0;try{!function Zc(){$n(),++Zn;for(var r,t=an;t;)(r=nr-t._time)>=0&&t._call.call(void 0,r),t=t._next;--Zn}()}finally{Zn=0,function tu(){for(var t,i,r=an,o=1/0;r;)r._call?(o>r._time&&(o=r._time),t=r,r=r._next):(i=r._next,r._next=null,r=t?t._next=i:an=i);no=t,oo(o)}(),nr=0}}function $c(){var t=vi.now(),r=t-Jr;r>1e3&&(ro-=r,Jr=t)}function oo(t){Zn||(gi&&(gi=clearTimeout(gi)),t-nr>24?(t<1/0&&(gi=setTimeout(Ss,t-vi.now()-ro)),eo&&(eo=clearInterval(eo))):(eo||(Jr=vi.now(),eo=setInterval($c,1e3)),Zn=1,gn(Ss)))}function rr(t,r,i){var o=new io;return o.restart(a=>{o.stop(),t(a+r)},r=null==r?0:+r,i),o}io.prototype=yi.prototype={constructor:io,restart:function(t,r,i){if("function"!=typeof t)throw new TypeError("callback is not a function");i=(null==i?$n():+i)+(null==r?0:+r),!this._next&&no!==this&&(no?no._next=this:an=this,no=this),this._call=t,this._time=i,oo()},stop:function(){this._call&&(this._call=null,this._time=1/0,oo())}};var Dl=Es("start","end","cancel","interrupt"),Er=[];function uo(t,r,i,o,a,c){var l=t.__transition;if(l){if(i in l)return}else t.__transition={};!function vn(t,r,i){var a,o=t.__transition;function l(_){var k,B,L,F;if(1!==i.state)return b();for(k in o)if((F=o[k]).name===i.name){if(3===F.state)return rr(l);4===F.state?(F.state=6,F.timer.stop(),F.on.call("interrupt",t,t.__data__,F.index,F.group),delete o[k]):+k<r&&(F.state=6,F.timer.stop(),F.on.call("cancel",t,t.__data__,F.index,F.group),delete o[k])}if(rr(function(){3===i.state&&(i.state=4,i.timer.restart(p,i.delay,i.time),p(_))}),i.state=2,i.on.call("start",t,t.__data__,i.index,i.group),2===i.state){for(i.state=3,a=new Array(L=i.tween.length),k=0,B=-1;k<L;++k)(F=i.tween[k].value.call(t,t.__data__,i.index,i.group))&&(a[++B]=F);a.length=B+1}}function p(_){for(var k=_<i.duration?i.ease.call(null,_/i.duration):(i.timer.restart(b),i.state=5,1),B=-1,L=a.length;++B<L;)a[B].call(t,k);5===i.state&&(i.on.call("end",t,t.__data__,i.index,i.group),b())}function b(){for(var _ in i.state=6,i.timer.stop(),delete o[r],o)return;delete t.__transition}o[r]=i,i.timer=yi(function c(_){i.state=1,i.timer.restart(l,i.delay,i.time),i.delay<=_&&l(_-i.delay)},0,i.time)}(t,i,{name:r,index:o,group:a,on:Dl,tween:Er,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:0})}function iu(t,r){var i=Tn(t,r);if(i.state>0)throw new Error("too late; already scheduled");return i}function Gn(t,r){var i=Tn(t,r);if(i.state>3)throw new Error("too late; already running");return i}function Tn(t,r){var i=t.__transition;if(!i||!(i=i[r]))throw new Error("transition not found");return i}function xn(t,r){var o,a,l,i=t.__transition,c=!0;if(i){for(l in r=null==r?null:r+"",i)(o=i[l]).name===r?(a=o.state>2&&o.state<5,o.state=6,o.timer.stop(),o.on.call(a?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete i[l]):c=!1;c&&delete t.__transition}}function Pn(t,r){return t=+t,r=+r,function(i){return t*(1-i)+r*i}}var fo,co=180/Math.PI,Sr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ou(t,r,i,o,a,c){var l,p,b;return(l=Math.sqrt(t*t+r*r))&&(t/=l,r/=l),(b=t*i+r*o)&&(i-=t*b,o-=r*b),(p=Math.sqrt(i*i+o*o))&&(i/=p,o/=p,b/=p),t*o<r*i&&(t=-t,r=-r,b=-b,l=-l),{translateX:a,translateY:c,rotate:Math.atan2(r,t)*co,skewX:Math.atan(b)*co,scaleX:l,scaleY:p}}function Vr(t,r,i,o){function a(_){return _.length?_.pop()+" ":""}return function(_,k){var B=[],L=[];return _=t(_),k=t(k),function c(_,k,B,L,F,at){if(_!==B||k!==L){var it=F.push("translate(",null,r,null,i);at.push({i:it-4,x:Pn(_,B)},{i:it-2,x:Pn(k,L)})}else(B||L)&&F.push("translate("+B+r+L+i)}(_.translateX,_.translateY,k.translateX,k.translateY,B,L),function l(_,k,B,L){_!==k?(_-k>180?k+=360:k-_>180&&(_+=360),L.push({i:B.push(a(B)+"rotate(",null,o)-2,x:Pn(_,k)})):k&&B.push(a(B)+"rotate("+k+o)}(_.rotate,k.rotate,B,L),function p(_,k,B,L){_!==k?L.push({i:B.push(a(B)+"skewX(",null,o)-2,x:Pn(_,k)}):k&&B.push(a(B)+"skewX("+k+o)}(_.skewX,k.skewX,B,L),function b(_,k,B,L,F,at){if(_!==B||k!==L){var it=F.push(a(F)+"scale(",null,",",null,")");at.push({i:it-4,x:Pn(_,B)},{i:it-2,x:Pn(k,L)})}else(1!==B||1!==L)&&F.push(a(F)+"scale("+B+","+L+")")}(_.scaleX,_.scaleY,k.scaleX,k.scaleY,B,L),_=k=null,function(F){for(var X,at=-1,it=L.length;++at<it;)B[(X=L[at]).i]=X.x(F);return B.join("")}}}var ho=Vr(function Ol(t){const r=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return r.isIdentity?Sr:ou(r.a,r.b,r.c,r.d,r.e,r.f)},"px, ","px)","deg)"),Rl=Vr(function Hc(t){return null!=t&&(fo||(fo=document.createElementNS("http://www.w3.org/2000/svg","g")),fo.setAttribute("transform",t),t=fo.transform.baseVal.consolidate())?ou((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Sr},", ",")",")");function Xc(t,r){var i,o;return function(){var a=Gn(this,t),c=a.tween;if(c!==i)for(var l=0,p=(o=i=c).length;l<p;++l)if(o[l].name===r){(o=o.slice()).splice(l,1);break}a.tween=o}}function Kc(t,r,i){var o,a;if("function"!=typeof i)throw new Error;return function(){var c=Gn(this,t),l=c.tween;if(l!==o){a=(o=l).slice();for(var p={name:r,value:i},b=0,_=a.length;b<_;++b)if(a[b].name===r){a[b]=p;break}b===_&&a.push(p)}c.tween=a}}function Is(t,r,i){var o=t._id;return t.each(function(){var a=Gn(this,o);(a.value||(a.value={}))[r]=i.apply(this,arguments)}),function(a){return Tn(a,o).value[r]}}function mi(t,r,i){t.prototype=r.prototype=i,i.constructor=t}function Ts(t,r){var i=Object.create(t.prototype);for(var o in r)i[o]=r[o];return i}function Cr(){}var po=1/.7,ir="\\s*([+-]?\\d+)\\s*",wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Nn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gl=/^#([0-9a-f]{3,8})$/,jc=new RegExp(`^rgb\\(${ir},${ir},${ir}\\)$`),or=new RegExp(`^rgb\\(${Nn},${Nn},${Nn}\\)$`),Jc=new RegExp(`^rgba\\(${ir},${ir},${ir},${wi}\\)$`),Vc=new RegExp(`^rgba\\(${Nn},${Nn},${Nn},${wi}\\)$`),Pl=new RegExp(`^hsl\\(${wi},${Nn},${Nn}\\)$`),qc=new RegExp(`^hsla\\(${wi},${Nn},${Nn},${wi}\\)$`),Qc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function tf(){return this.rgb().formatHex()}function Ns(){return this.rgb().formatRgb()}function ar(t){var r,i;return t=(t+"").trim().toLowerCase(),(r=Gl.exec(t))?(i=r[1].length,r=parseInt(r[1],16),6===i?go(r):3===i?new Ve(r>>8&15|r>>4&240,r>>4&15|240&r,(15&r)<<4|15&r,1):8===i?ur(r>>24&255,r>>16&255,r>>8&255,(255&r)/255):4===i?ur(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|240&r,((15&r)<<4|15&r)/255):null):(r=jc.exec(t))?new Ve(r[1],r[2],r[3],1):(r=or.exec(t))?new Ve(255*r[1]/100,255*r[2]/100,255*r[3]/100,1):(r=Jc.exec(t))?ur(r[1],r[2],r[3],r[4]):(r=Vc.exec(t))?ur(255*r[1]/100,255*r[2]/100,255*r[3]/100,r[4]):(r=Pl.exec(t))?ef(r[1],r[2]/100,r[3]/100,1):(r=qc.exec(t))?ef(r[1],r[2]/100,r[3]/100,r[4]):Qc.hasOwnProperty(t)?go(Qc[t]):"transparent"===t?new Ve(NaN,NaN,NaN,0):null}function go(t){return new Ve(t>>16&255,t>>8&255,255&t,1)}function ur(t,r,i,o){return o<=0&&(t=r=i=NaN),new Ve(t,r,i,o)}function Xt(t){return t instanceof Cr||(t=ar(t)),t?new Ve((t=t.rgb()).r,t.g,t.b,t.opacity):new Ve}function qr(t,r,i,o){return 1===arguments.length?Xt(t):new Ve(t,r,i,null==o?1:o)}function Ve(t,r,i,o){this.r=+t,this.g=+r,this.b=+i,this.opacity=+o}function Mr(){return`#${Qr(this.r)}${Qr(this.g)}${Qr(this.b)}`}function ks(){const t=vo(this.opacity);return`${1===t?"rgb(":"rgba("}${Ie(this.r)}, ${Ie(this.g)}, ${Ie(this.b)}${1===t?")":`, ${t})`}`}function vo(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ie(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Qr(t){return((t=Ie(t))<16?"0":"")+t.toString(16)}function ef(t,r,i,o){return o<=0?t=r=i=NaN:i<=0||i>=1?t=r=NaN:r<=0&&(t=NaN),new kn(t,r,i,o)}function au(t){if(t instanceof kn)return new kn(t.h,t.s,t.l,t.opacity);if(t instanceof Cr||(t=ar(t)),!t)return new kn;if(t instanceof kn)return t;var r=(t=t.rgb()).r/255,i=t.g/255,o=t.b/255,a=Math.min(r,i,o),c=Math.max(r,i,o),l=NaN,p=c-a,b=(c+a)/2;return p?(l=r===c?(i-o)/p+6*(i<o):i===c?(o-r)/p+2:(r-i)/p+4,p/=b<.5?c+a:2-c-a,l*=60):p=b>0&&b<1?0:l,new kn(l,p,b,t.opacity)}function kn(t,r,i,o){this.h=+t,this.s=+r,this.l=+i,this.opacity=+o}function nf(t){return(t=(t||0)%360)<0?t+360:t}function Ds(t){return Math.max(0,Math.min(1,t||0))}function uu(t,r,i){return 255*(t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r)}function Yn(t,r,i,o,a){var c=t*t,l=c*t;return((1-3*t+3*c-l)*r+(4-6*c+3*l)*i+(1+3*t+3*c-3*l)*o+l*a)/6}mi(Cr,ar,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tf,formatHex:tf,formatHex8:function sr(){return this.rgb().formatHex8()},formatHsl:function su(){return au(this).formatHsl()},formatRgb:Ns,toString:Ns}),mi(Ve,qr,Ts(Cr,{brighter(t){return t=null==t?po:Math.pow(po,t),new Ve(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new Ve(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ve(Ie(this.r),Ie(this.g),Ie(this.b),vo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Mr,formatHex:Mr,formatHex8:function zl(){return`#${Qr(this.r)}${Qr(this.g)}${Qr(this.b)}${Qr(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ks,toString:ks})),mi(kn,function Wl(t,r,i,o){return 1===arguments.length?au(t):new kn(t,r,i,null==o?1:o)},Ts(Cr,{brighter(t){return t=null==t?po:Math.pow(po,t),new kn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new kn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),r=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,o=i+(i<.5?i:1-i)*r,a=2*i-o;return new Ve(uu(t>=240?t-240:t+120,a,o),uu(t,a,o),uu(t<120?t+240:t-120,a,o),this.opacity)},clamp(){return new kn(nf(this.h),Ds(this.s),Ds(this.l),vo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=vo(this.opacity);return`${1===t?"hsl(":"hsla("}${nf(this.h)}, ${100*Ds(this.s)}%, ${100*Ds(this.l)}%${1===t?")":`, ${t})`}`}}));const fu=t=>()=>t;function hu(t,r){var i=r-t;return i?function Ls(t,r){return function(i){return t+i*r}}(t,i):fu(isNaN(t)?r:t)}const mo=function t(r){var i=function yo(t){return 1==(t=+t)?hu:function(r,i){return i-r?function Ul(t,r,i){return t=Math.pow(t,i),r=Math.pow(r,i)-t,i=1/i,function(o){return Math.pow(t+o*r,i)}}(r,i,t):fu(isNaN(r)?i:r)}}(r);function o(a,c){var l=i((a=qr(a)).r,(c=qr(c)).r),p=i(a.g,c.g),b=i(a.b,c.b),_=hu(a.opacity,c.opacity);return function(k){return a.r=l(k),a.g=p(k),a.b=b(k),a.opacity=_(k),a+""}}return o.gamma=t,o}(1);function rf(t){return function(r){var l,p,i=r.length,o=new Array(i),a=new Array(i),c=new Array(i);for(l=0;l<i;++l)p=qr(r[l]),o[l]=p.r||0,a[l]=p.g||0,c[l]=p.b||0;return o=t(o),a=t(a),c=t(c),p.opacity=1,function(b){return p.r=o(b),p.g=a(b),p.b=c(b),p+""}}}rf(function un(t){var r=t.length-1;return function(i){var o=i<=0?i=0:i>=1?(i=1,r-1):Math.floor(i*r),a=t[o],c=t[o+1];return Yn((i-o/r)*r,o>0?t[o-1]:2*a-c,a,c,o<r-1?t[o+2]:2*c-a)}}),rf(function cu(t){var r=t.length;return function(i){var o=Math.floor(((i%=1)<0?++i:i)*r);return Yn((i-o/r)*r,t[(o+r-1)%r],t[o%r],t[(o+1)%r],t[(o+2)%r])}});var lu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Os=new RegExp(lu.source,"g");function Rs(t,r){var o,a,c,i=lu.lastIndex=Os.lastIndex=0,l=-1,p=[],b=[];for(t+="",r+="";(o=lu.exec(t))&&(a=Os.exec(r));)(c=a.index)>i&&(c=r.slice(i,c),p[l]?p[l]+=c:p[++l]=c),(o=o[0])===(a=a[0])?p[l]?p[l]+=a:p[++l]=a:(p[++l]=null,b.push({i:l,x:Pn(o,a)})),i=Os.lastIndex;return i<r.length&&(c=r.slice(i),p[l]?p[l]+=c:p[++l]=c),p.length<2?b[0]?function Bl(t){return function(r){return t(r)+""}}(b[0].x):function of(t){return function(){return t}}(r):(r=b.length,function(_){for(var B,k=0;k<r;++k)p[(B=b[k]).i]=B.x(_);return p.join("")})}function du(t,r){var i;return("number"==typeof r?Pn:r instanceof ar?mo:(i=ar(r))?(r=i,mo):Rs)(t,r)}function wo(t){return function(){this.removeAttribute(t)}}function pu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sf(t,r,i){var o,c,a=i+"";return function(){var l=this.getAttribute(t);return l===a?null:l===o?c:c=r(o=l,i)}}function af(t,r,i){var o,c,a=i+"";return function(){var l=this.getAttributeNS(t.space,t.local);return l===a?null:l===o?c:c=r(o=l,i)}}function Gs(t,r,i){var o,a,c;return function(){var l,b,p=i(this);return null==p?void this.removeAttribute(t):(l=this.getAttribute(t))===(b=p+"")?null:l===o&&b===a?c:(a=b,c=r(o=l,p))}}function uf(t,r,i){var o,a,c;return function(){var l,b,p=i(this);return null==p?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local))===(b=p+"")?null:l===o&&b===a?c:(a=b,c=r(o=l,p))}}function ti(t,r){return function(i){this.setAttribute(t,r.call(this,i))}}function Fl(t,r){return function(i){this.setAttributeNS(t.space,t.local,r.call(this,i))}}function cf(t,r){var i,o;function a(){var c=r.apply(this,arguments);return c!==o&&(i=(o=c)&&Fl(t,c)),i}return a._value=r,a}function Zl(t,r){var i,o;function a(){var c=r.apply(this,arguments);return c!==o&&(i=(o=c)&&ti(t,c)),i}return a._value=r,a}function Yl(t,r){return function(){iu(this,t).delay=+r.apply(this,arguments)}}function Hl(t,r){return r=+r,function(){iu(this,t).delay=r}}function Kl(t,r){return function(){Gn(this,t).duration=+r.apply(this,arguments)}}function jl(t,r){return r=+r,function(){Gn(this,t).duration=r}}function Vl(t,r){if("function"!=typeof r)throw new Error;return function(){Gn(this,t).ease=r}}function ed(t,r,i){var o,a,c=function td(t){return(t+"").trim().split(/^|\s+/).every(function(r){var i=r.indexOf(".");return i>=0&&(r=r.slice(0,i)),!r||"start"===r})}(r)?iu:Gn;return function(){var l=c(this,t),p=l.on;p!==o&&(a=(o=p).copy()).on(r,i),l.on=a}}var sd=jr.prototype.constructor;function _n(t){return function(){this.style.removeProperty(t)}}function ld(t,r,i){return function(o){this.style.setProperty(t,r.call(this,o),i)}}function dd(t,r,i){var o,a;function c(){var l=r.apply(this,arguments);return l!==a&&(o=(a=l)&&ld(t,l,i)),o}return c._value=r,c}function yd(t){return function(r){this.textContent=t.call(this,r)}}function md(t){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&yd(a)),r}return o._value=t,o}var _d=0;function cr(t,r,i,o){this._groups=t,this._parents=r,this._name=i,this._id=o}function gf(){return++_d}var fr=jr.prototype;cr.prototype=function Ad(t){return jr().transition(t)}.prototype={constructor:cr,select:function id(t){var r=this._name,i=this._id;"function"!=typeof t&&(t=Ga(t));for(var o=this._groups,a=o.length,c=new Array(a),l=0;l<a;++l)for(var k,B,p=o[l],b=p.length,_=c[l]=new Array(b),L=0;L<b;++L)(k=p[L])&&(B=t.call(k,k.__data__,L,p))&&("__data__"in k&&(B.__data__=k.__data__),_[L]=B,uo(_[L],r,i,L,_,Tn(k,i)));return new cr(c,this._parents,r,i)},selectAll:function od(t){var r=this._name,i=this._id;"function"!=typeof t&&(t=pi(t));for(var o=this._groups,a=o.length,c=[],l=[],p=0;p<a;++p)for(var k,b=o[p],_=b.length,B=0;B<_;++B)if(k=b[B]){for(var F,L=t.call(k,k.__data__,B,b),at=Tn(k,i),it=0,X=L.length;it<X;++it)(F=L[it])&&uo(F,r,i,it,L,at);c.push(L),l.push(k)}return new cr(c,l,r,i)},selectChild:fr.selectChild,selectChildren:fr.selectChildren,filter:function hf(t){"function"!=typeof t&&(t=$r(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var b,c=r[a],l=c.length,p=o[a]=[],_=0;_<l;++_)(b=c[_])&&t.call(b,b.__data__,_,c)&&p.push(b);return new cr(o,this._parents,this._name,this._id)},merge:function lf(t){if(t._id!==this._id)throw new Error;for(var r=this._groups,i=t._groups,o=r.length,c=Math.min(o,i.length),l=new Array(o),p=0;p<c;++p)for(var L,b=r[p],_=i[p],k=b.length,B=l[p]=new Array(k),F=0;F<k;++F)(L=b[F]||_[F])&&(B[F]=L);for(;p<o;++p)l[p]=r[p];return new cr(l,this._parents,this._name,this._id)},selection:function ad(){return new sd(this._groups,this._parents)},transition:function bd(){for(var t=this._name,r=this._id,i=gf(),o=this._groups,a=o.length,c=0;c<a;++c)for(var b,l=o[c],p=l.length,_=0;_<p;++_)if(b=l[_]){var k=Tn(b,r);uo(b,t,i,_,l,{time:k.time+k.delay+k.duration,delay:0,duration:k.duration,ease:k.ease})}return new cr(o,this._parents,t,i)},call:fr.call,nodes:fr.nodes,node:fr.node,size:fr.size,empty:fr.empty,each:fr.each,on:function nd(t,r){var i=this._id;return arguments.length<2?Tn(this.node(),i).on.on(t):this.each(ed(i,t,r))},attr:function Hn(t,r){var i=ji(t),o="transform"===i?Rl:du;return this.attrTween(t,"function"==typeof r?(i.local?uf:Gs)(i,o,Is(this,"attr."+t,r)):null==r?(i.local?pu:wo)(i):(i.local?af:sf)(i,o,r))},attrTween:function $l(t,r){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==r)return this.tween(i,null);if("function"!=typeof r)throw new Error;var o=ji(t);return this.tween(i,(o.local?cf:Zl)(o,r))},style:function pf(t,r,i){var o="transform"==(t+="")?ho:du;return null==r?this.styleTween(t,function ud(t,r){var i,o,a;return function(){var c=He(this,t),l=(this.style.removeProperty(t),He(this,t));return c===l?null:c===i&&l===o?a:a=r(i=c,o=l)}}(t,o)).on("end.style."+t,_n(t)):"function"==typeof r?this.styleTween(t,function fd(t,r,i){var o,a,c;return function(){var l=He(this,t),p=i(this),b=p+"";return null==p&&(this.style.removeProperty(t),b=p=He(this,t)),l===b?null:l===o&&b===a?c:(a=b,c=r(o=l,p))}}(t,o,Is(this,"style."+t,r))).each(function hd(t,r){var i,o,a,p,c="style."+r,l="end."+c;return function(){var b=Gn(this,t),_=b.on,k=null==b.value[c]?p||(p=_n(r)):void 0;(_!==i||a!==k)&&(o=(i=_).copy()).on(l,a=k),b.on=o}}(this._id,t)):this.styleTween(t,function cd(t,r,i){var o,c,a=i+"";return function(){var l=He(this,t);return l===a?null:l===o?c:c=r(o=l,i)}}(t,o,r),i).on("end.style."+t,null)},styleTween:function pd(t,r,i){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==r)return this.tween(o,null);if("function"!=typeof r)throw new Error;return this.tween(o,dd(t,r,null==i?"":i))},text:function vd(t){return this.tween("text","function"==typeof t?function gu(t){return function(){var r=t(this);this.textContent=null==r?"":r}}(Is(this,"text",t)):function gd(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function wd(t){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,md(t))},remove:function rd(){return this.on("end.remove",function df(t){return function(){var r=this.parentNode;for(var i in this.__transition)if(+i!==t)return;r&&r.removeChild(this)}}(this._id))},tween:function Ms(t,r){var i=this._id;if(t+="",arguments.length<2){for(var l,o=Tn(this.node(),i).tween,a=0,c=o.length;a<c;++a)if((l=o[a]).name===t)return l.value;return null}return this.each((null==r?Xc:Kc)(i,t,r))},delay:function Xl(t){var r=this._id;return arguments.length?this.each(("function"==typeof t?Yl:Hl)(r,t)):Tn(this.node(),r).delay},duration:function Jl(t){var r=this._id;return arguments.length?this.each(("function"==typeof t?Kl:jl)(r,t)):Tn(this.node(),r).duration},ease:function ql(t){var r=this._id;return arguments.length?this.each(Vl(r,t)):Tn(this.node(),r).ease},easeVarying:function ff(t){if("function"!=typeof t)throw new Error;return this.each(function Ql(t,r){return function(){var i=r.apply(this,arguments);if("function"!=typeof i)throw new Error;Gn(this,t).ease=i}}(this._id,t))},end:function xd(){var t,r,i=this,o=i._id,a=i.size();return new Promise(function(c,l){var p={value:l},b={value:function(){0==--a&&c()}};i.each(function(){var _=Gn(this,o),k=_.on;k!==t&&((r=(t=k).copy())._.cancel.push(p),r._.interrupt.push(p),r._.end.push(b)),_.on=r}),0===a&&c()})},[Symbol.iterator]:fr[Symbol.iterator]};var Sd={time:null,delay:0,duration:250,ease:function Ed(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Cd(t,r){for(var i;!(i=t.__transition)||!(i=i[r]);)if(!(t=t.parentNode))throw new Error(`transition ${r} not found`);return i}jr.prototype.interrupt=function Ll(t){return this.each(function(){xn(this,t)})},jr.prototype.transition=function Md(t){var r,i;t instanceof cr?(r=t._id,t=t._name):(r=gf(),(i=Sd).time=$n(),t=null==t?null:t+"");for(var o=this._groups,a=o.length,c=0;c<a;++c)for(var b,l=o[c],p=l.length,_=0;_<p;++_)(b=l[_])&&uo(b,t,r,_,l,i||Cd(b,r));return new cr(o,this._parents,t,r)};Math;function bo(t){return{type:t}}function tn(t){return"string"==typeof t?new bn([[document.querySelector(t)]],[document.documentElement]):new bn([[t]],Ja)}function lr(t,r){if(t=function Od(t){let r;for(;r=t.sourceEvent;)t=r;return t}(t),void 0===r&&(r=t.currentTarget),r){var i=r.ownerSVGElement||r;if(i.createSVGPoint){var o=i.createSVGPoint();return o.x=t.clientX,o.y=t.clientY,[(o=o.matrixTransform(r.getScreenCTM().inverse())).x,o.y]}if(r.getBoundingClientRect){var a=r.getBoundingClientRect();return[t.clientX-a.left-r.clientLeft,t.clientY-a.top-r.clientTop]}}return[t.pageX,t.pageY]}["w","e"].map(bo),["n","s"].map(bo),["n","w","e","s","nw","ne","sw","se"].map(bo);const Rd={passive:!1},xi={capture:!0,passive:!1};function Us(t){t.stopImmediatePropagation()}function _i(t){t.preventDefault(),t.stopImmediatePropagation()}function wf(t){var r=t.document.documentElement,i=tn(t).on("dragstart.drag",_i,xi);"onselectstart"in r?i.on("selectstart.drag",_i,xi):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function bf(t,r){var i=t.document.documentElement,o=tn(t).on("dragstart.drag",null);r&&(o.on("click.drag",_i,xi),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in i?o.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const Bs=t=>()=>t;function Ai(t,{sourceEvent:r,subject:i,target:o,identifier:a,active:c,x:l,y:p,dx:b,dy:_,dispatch:k}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:p,enumerable:!0,configurable:!0},dx:{value:b,enumerable:!0,configurable:!0},dy:{value:_,enumerable:!0,configurable:!0},_:{value:k}})}function Gd(t){return!t.ctrlKey&&!t.button}function Pd(){return this.parentNode}function zd(t,r){return null==r?{x:t.x,y:t.y}:r}function Wd(){return navigator.maxTouchPoints||"ontouchstart"in this}function xf(t,r,i,o){if(isNaN(r)||isNaN(i))return t;var a,B,L,F,at,it,X,K,ct,c=t._root,l={data:o},p=t._x0,b=t._y0,_=t._x1,k=t._y1;if(!c)return t._root=l,t;for(;c.length;)if((it=r>=(B=(p+_)/2))?p=B:_=B,(X=i>=(L=(b+k)/2))?b=L:k=L,a=c,!(c=c[K=X<<1|it]))return a[K]=l,t;if(F=+t._x.call(null,c.data),at=+t._y.call(null,c.data),r===F&&i===at)return l.next=c,a?a[K]=l:t._root=l,t;do{a=a?a[K]=new Array(4):t._root=new Array(4),(it=r>=(B=(p+_)/2))?p=B:_=B,(X=i>=(L=(b+k)/2))?b=L:k=L}while((K=X<<1|it)==(ct=(at>=L)<<1|F>=B));return a[ct]=c,a[K]=l,t}function cn(t,r,i,o,a){this.node=t,this.x0=r,this.y0=i,this.x1=o,this.y1=a}function Hd(t){return t[0]}function Kd(t){return t[1]}function Ei(t,r,i){var o=new Au(null==r?Hd:r,null==i?Kd:i,NaN,NaN,NaN,NaN);return null==t?o:o.addAll(t)}function Au(t,r,i,o,a,c){this._x=t,this._y=r,this._x0=i,this._y0=o,this._x1=a,this._y1=c,this._root=void 0}function If(t){for(var r={data:t.data},i=r;t=t.next;)i=i.next={data:t.data};return r}Ai.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Ke=Ei.prototype=Au.prototype;function Tr(t){return function(){return t}}function Nr(t){return 1e-6*(t()-.5)}function jd(t){return t.x+t.vx}function Jd(t){return t.y+t.vy}function qd(t){return t.index}function Tf(t,r){var i=t.get(r);if(!i)throw new Error("node not found: "+r);return i}Ke.copy=function(){var i,o,t=new Au(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return t;if(!r.length)return t._root=If(r),t;for(i=[{source:r,target:t._root=new Array(4)}];r=i.pop();)for(var a=0;a<4;++a)(o=r.source[a])&&(o.length?i.push({source:o,target:r.target[a]=new Array(4)}):r.target[a]=If(o));return t},Ke.add=function Fd(t){const r=+this._x.call(null,t),i=+this._y.call(null,t);return xf(this.cover(r,i),r,i,t)},Ke.addAll=function Zd(t){var r,i,a,c,o=t.length,l=new Array(o),p=new Array(o),b=1/0,_=1/0,k=-1/0,B=-1/0;for(i=0;i<o;++i)isNaN(a=+this._x.call(null,r=t[i]))||isNaN(c=+this._y.call(null,r))||(l[i]=a,p[i]=c,a<b&&(b=a),a>k&&(k=a),c<_&&(_=c),c>B&&(B=c));if(b>k||_>B)return this;for(this.cover(b,_).cover(k,B),i=0;i<o;++i)xf(this,l[i],p[i],t[i]);return this},Ke.cover=function $d(t,r){if(isNaN(t=+t)||isNaN(r=+r))return this;var i=this._x0,o=this._y0,a=this._x1,c=this._y1;if(isNaN(i))a=(i=Math.floor(t))+1,c=(o=Math.floor(r))+1;else{for(var b,_,l=a-i||1,p=this._root;i>t||t>=a||o>r||r>=c;)switch(_=(r<o)<<1|t<i,b=new Array(4),b[_]=p,p=b,l*=2,_){case 0:a=i+l,c=o+l;break;case 1:i=a-l,c=o+l;break;case 2:a=i+l,o=c-l;break;case 3:i=a-l,o=c-l}this._root&&this._root.length&&(this._root=p)}return this._x0=i,this._y0=o,this._x1=a,this._y1=c,this},Ke.data=function Yd(){var t=[];return this.visit(function(r){if(!r.length)do{t.push(r.data)}while(r=r.next)}),t},Ke.extent=function Fs(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ke.find=function _f(t,r,i){var o,l,p,b,_,at,it,a=this._x0,c=this._y0,k=this._x1,B=this._y1,L=[],F=this._root;for(F&&L.push(new cn(F,a,c,k,B)),null==i?i=1/0:(a=t-i,c=r-i,k=t+i,B=r+i,i*=i);at=L.pop();)if(!(!(F=at.node)||(l=at.x0)>k||(p=at.y0)>B||(b=at.x1)<a||(_=at.y1)<c))if(F.length){var X=(l+b)/2,K=(p+_)/2;L.push(new cn(F[3],X,K,b,_),new cn(F[2],l,K,X,_),new cn(F[1],X,p,b,K),new cn(F[0],l,p,X,K)),(it=(r>=K)<<1|t>=X)&&(at=L[L.length-1],L[L.length-1]=L[L.length-1-it],L[L.length-1-it]=at)}else{var ct=t-+this._x.call(null,F.data),yt=r-+this._y.call(null,F.data),et=ct*ct+yt*yt;if(et<i){var _t=Math.sqrt(i=et);a=t-_t,c=r-_t,k=t+_t,B=r+_t,o=F.data}}return o},Ke.remove=function Af(t){if(isNaN(k=+this._x.call(null,t))||isNaN(B=+this._y.call(null,t)))return this;var r,o,a,c,k,B,L,F,at,it,X,K,i=this._root,l=this._x0,p=this._y0,b=this._x1,_=this._y1;if(!i)return this;if(i.length)for(;;){if((at=k>=(L=(l+b)/2))?l=L:b=L,(it=B>=(F=(p+_)/2))?p=F:_=F,r=i,!(i=i[X=it<<1|at]))return this;if(!i.length)break;(r[X+1&3]||r[X+2&3]||r[X+3&3])&&(o=r,K=X)}for(;i.data!==t;)if(a=i,!(i=i.next))return this;return(c=i.next)&&delete i.next,a?(c?a.next=c:delete a.next,this):r?(c?r[X]=c:delete r[X],(i=r[0]||r[1]||r[2]||r[3])&&i===(r[3]||r[2]||r[1]||r[0])&&!i.length&&(o?o[K]=i:this._root=i),this):(this._root=c,this)},Ke.removeAll=function _u(t){for(var r=0,i=t.length;r<i;++r)this.remove(t[r]);return this},Ke.root=function Ef(){return this._root},Ke.size=function Sf(){var t=0;return this.visit(function(r){if(!r.length)do{++t}while(r=r.next)}),t},Ke.visit=function Cf(t){var i,a,c,l,p,b,r=[],o=this._root;for(o&&r.push(new cn(o,this._x0,this._y0,this._x1,this._y1));i=r.pop();)if(!t(o=i.node,c=i.x0,l=i.y0,p=i.x1,b=i.y1)&&o.length){var _=(c+p)/2,k=(l+b)/2;(a=o[3])&&r.push(new cn(a,_,k,p,b)),(a=o[2])&&r.push(new cn(a,c,k,_,b)),(a=o[1])&&r.push(new cn(a,_,l,p,k)),(a=o[0])&&r.push(new cn(a,c,l,_,k))}return this},Ke.visitAfter=function Mf(t){var o,r=[],i=[];for(this._root&&r.push(new cn(this._root,this._x0,this._y0,this._x1,this._y1));o=r.pop();){var a=o.node;if(a.length){var c,l=o.x0,p=o.y0,b=o.x1,_=o.y1,k=(l+b)/2,B=(p+_)/2;(c=a[0])&&r.push(new cn(c,l,p,k,B)),(c=a[1])&&r.push(new cn(c,k,p,b,B)),(c=a[2])&&r.push(new cn(c,l,B,k,_)),(c=a[3])&&r.push(new cn(c,k,B,b,_))}i.push(o)}for(;o=i.pop();)t(o.node,o.x0,o.y0,o.x1,o.y1);return this},Ke.x=function Xd(t){return arguments.length?(this._x=t,this):this._x},Ke.y=function Zs(t){return arguments.length?(this._y=t,this):this._y};const Nf=4294967296;function rp(t){return t.x}function zn(t){return t.y}var op=Math.PI*(3-Math.sqrt(5));function je(t,r){if((i=(t=r?t.toExponential(r-1):t.toExponential()).indexOf("e"))<0)return null;var i,o=t.slice(0,i);return[o.length>1?o[0]+o.slice(2):o,+t.slice(i+1)]}function be(t){return(t=je(Math.abs(t)))?t[1]:NaN}var kf,up=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $s(t){if(!(r=up.exec(t)))throw new Error("invalid format: "+t);var r;return new Eu({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}function Eu(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Df(t,r){var i=je(t,r);if(!i)return t+"";var o=i[0],a=i[1];return a<0?"0."+new Array(-a).join("0")+o:o.length>a+1?o.slice(0,a+1)+"."+o.slice(a+1):o+new Array(a-o.length+2).join("0")}$s.prototype=Eu.prototype,Eu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Xn={"%":(t,r)=>(100*t).toFixed(r),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function sp(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,r)=>t.toExponential(r),f:(t,r)=>t.toFixed(r),g:(t,r)=>t.toPrecision(r),o:t=>Math.round(t).toString(8),p:(t,r)=>Df(100*t,r),r:Df,s:function Su(t,r){var i=je(t,r);if(!i)return t+"";var o=i[0],a=i[1],c=a-(kf=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,l=o.length;return c===l?o:c>l?o+new Array(c-l+1).join("0"):c>0?o.slice(0,c)+"."+o.slice(c):"0."+new Array(1-c).join("0")+je(t,Math.max(0,r+c-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Cu(t){return t}var _o,Ys,Lf,xo=Array.prototype.map,Ee=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Of(t,r){var l,i=r?r.length:0,o=t?Math.min(i,t.length):0,a=new Array(o),c=new Array(i);for(l=0;l<o;++l)a[l]=Si(t[l],r[l]);for(;l<i;++l)c[l]=r[l];return function(p){for(l=0;l<o;++l)c[l]=a[l](p);return c}}function hp(t,r){var i=new Date;return t=+t,r=+r,function(o){return i.setTime(t*(1-o)+r*o),i}}function Rf(t,r){var a,i={},o={};for(a in(null===t||"object"!=typeof t)&&(t={}),(null===r||"object"!=typeof r)&&(r={}),r)a in t?i[a]=Si(t[a],r[a]):o[a]=r[a];return function(c){for(a in i)o[a]=i[a](c);return o}}function Ao(t,r){r||(r=[]);var a,i=t?Math.min(r.length,t.length):0,o=r.slice();return function(c){for(a=0;a<i;++a)o[a]=t[a]*(1-c)+r[a]*c;return o}}function Si(t,r){var o,i=typeof r;return null==r||"boolean"===i?fu(r):("number"===i?Pn:"string"===i?(o=ar(r))?(r=o,mo):Rs:r instanceof ar?mo:r instanceof Date?hp:function Mu(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(r)?Ao:Array.isArray(r)?Of:"function"!=typeof r.valueOf&&"function"!=typeof r.toString||isNaN(r)?Rf:Pn)(t,r)}function Hs(t,r){return t=+t,r=+r,function(i){return Math.round(t*(1-i)+r*i)}}function Eo(t,r){for(var i=new Array(r),o=0;o<r;++o)i[o]=t(o/(r-1));return i}function fn(t,r){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(r).domain(t)}return this}function Ci(t,r){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof r?this.interpolator(r):this.range(r)}return this}!function fp(t){_o=function Te(t){var r=void 0===t.grouping||void 0===t.thousands?Cu:function ap(t,r){return function(i,o){for(var a=i.length,c=[],l=0,p=t[0],b=0;a>0&&p>0&&(b+p+1>o&&(p=Math.max(1,o-b)),c.push(i.substring(a-=p,a+p)),!((b+=p+1)>o));)p=t[l=(l+1)%t.length];return c.reverse().join(r)}}(xo.call(t.grouping,Number),t.thousands+""),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",c=void 0===t.numerals?Cu:function kr(t){return function(r){return r.replace(/[0-9]/g,function(i){return t[+i]})}}(xo.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",p=void 0===t.minus?"\u2212":t.minus+"",b=void 0===t.nan?"NaN":t.nan+"";function _(B){var L=(B=$s(B)).fill,F=B.align,at=B.sign,it=B.symbol,X=B.zero,K=B.width,ct=B.comma,yt=B.precision,et=B.trim,_t=B.type;"n"===_t?(ct=!0,_t="g"):Xn[_t]||(void 0===yt&&(yt=12),et=!0,_t="g"),(X||"0"===L&&"="===F)&&(X=!0,L="0",F="=");var Rt="$"===it?i:"#"===it&&/[boxX]/.test(_t)?"0"+_t.toLowerCase():"",Ut="$"===it?o:/[%p]/.test(_t)?l:"",Wt=Xn[_t],ne=/[defgprs%]/.test(_t);function Bt(Dt){var rt,Gt,mt,se=Rt,Jt=Ut;if("c"===_t)Jt=Wt(Dt)+Jt,Dt="";else{var kt=(Dt=+Dt)<0||1/Dt<0;if(Dt=isNaN(Dt)?b:Wt(Math.abs(Dt),yt),et&&(Dt=function cp(t){t:for(var a,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=a=i;break;case"0":0===o&&(o=i),a=i;break;default:if(!+t[i])break t;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(a+1):t}(Dt)),kt&&0==+Dt&&"+"!==at&&(kt=!1),se=(kt?"("===at?at:p:"-"===at||"("===at?"":at)+se,Jt=("s"===_t?Ee[8+kf/3]:"")+Jt+(kt&&"("===at?")":""),ne)for(rt=-1,Gt=Dt.length;++rt<Gt;)if(48>(mt=Dt.charCodeAt(rt))||mt>57){Jt=(46===mt?a+Dt.slice(rt+1):Dt.slice(rt))+Jt,Dt=Dt.slice(0,rt);break}}ct&&!X&&(Dt=r(Dt,1/0));var $t=se.length+Dt.length+Jt.length,zt=$t<K?new Array(K-$t+1).join(L):"";switch(ct&&X&&(Dt=r(zt+Dt,zt.length?K-Jt.length:1/0),zt=""),F){case"<":Dt=se+Dt+Jt+zt;break;case"=":Dt=se+zt+Dt+Jt;break;case"^":Dt=zt.slice(0,$t=zt.length>>1)+se+Dt+Jt+zt.slice($t);break;default:Dt=zt+se+Dt+Jt}return c(Dt)}return yt=void 0===yt?6:/[gprs]/.test(_t)?Math.max(1,Math.min(21,yt)):Math.max(0,Math.min(20,yt)),Bt.toString=function(){return B+""},Bt}return{format:_,formatPrefix:function k(B,L){var F=_(((B=$s(B)).type="f",B)),at=3*Math.max(-8,Math.min(8,Math.floor(be(L)/3))),it=Math.pow(10,-at),X=Ee[8+at/3];return function(K){return F(it*K)+X}}}}(t),Ys=_o.format,Lf=_o.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});class Gf extends Map{constructor(r,i=Tu){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),null!=r)for(const[o,a]of r)this.set(o,a)}get(r){return super.get(Iu(this,r))}has(r){return super.has(Iu(this,r))}set(r,i){return super.set(function Pf({_intern:t,_key:r},i){const o=r(i);return t.has(o)?t.get(o):(t.set(o,i),i)}(this,r),i)}delete(r){return super.delete(function zf({_intern:t,_key:r},i){const o=r(i);return t.has(o)&&(i=t.get(o),t.delete(o)),i}(this,r))}}function Iu({_intern:t,_key:r},i){const o=r(i);return t.has(o)?t.get(o):i}function Tu(t){return null!==t&&"object"==typeof t?t.valueOf():t}Set;const Kn=Symbol("implicit");function ee(){var t=new Gf,r=[],i=[],o=Kn;function a(c){let l=t.get(c);if(void 0===l){if(o!==Kn)return o;t.set(c,l=r.push(c)-1)}return i[l%i.length]}return a.domain=function(c){if(!arguments.length)return r.slice();r=[],t=new Gf;for(const l of c)t.has(l)||t.set(l,r.push(l)-1);return a},a.range=function(c){return arguments.length?(i=Array.from(c),a):i.slice()},a.unknown=function(c){return arguments.length?(o=c,a):o},a.copy=function(){return ee(r,i).unknown(o)},fn.apply(a,arguments),a}function So(){var c,l,t=ee().unknown(void 0),r=t.domain,i=t.range,o=0,a=1,p=!1,b=0,_=0,k=.5;function B(){var L=r().length,F=a<o,at=F?a:o,it=F?o:a;c=(it-at)/Math.max(1,L-b+2*_),p&&(c=Math.floor(c)),at+=(it-at-c*(L-b))*k,l=c*(1-b),p&&(at=Math.round(at),l=Math.round(l));var X=Yi(L).map(function(K){return at+c*K});return i(F?X.reverse():X)}return delete t.unknown,t.domain=function(L){return arguments.length?(r(L),B()):r()},t.range=function(L){return arguments.length?([o,a]=L,o=+o,a=+a,B()):[o,a]},t.rangeRound=function(L){return[o,a]=L,o=+o,a=+a,p=!0,B()},t.bandwidth=function(){return l},t.step=function(){return c},t.round=function(L){return arguments.length?(p=!!L,B()):p},t.padding=function(L){return arguments.length?(b=Math.min(1,_=+L),B()):b},t.paddingInner=function(L){return arguments.length?(b=Math.min(1,L),B()):b},t.paddingOuter=function(L){return arguments.length?(_=+L,B()):_},t.align=function(L){return arguments.length?(k=Math.max(0,Math.min(1,L)),B()):k},t.copy=function(){return So(r(),[o,a]).round(p).paddingInner(b).paddingOuter(_).align(k)},fn.apply(B(),arguments)}const dp=Math.sqrt(50),de=Math.sqrt(10),pp=Math.sqrt(2);function Co(t,r,i){const o=(r-t)/Math.max(0,i),a=Math.floor(Math.log10(o)),c=o/Math.pow(10,a),l=c>=dp?10:c>=de?5:c>=pp?2:1;let p,b,_;return a<0?(_=Math.pow(10,-a)/l,p=Math.round(t*_),b=Math.round(r*_),p/_<t&&++p,b/_>r&&--b,_=-_):(_=Math.pow(10,a)*l,p=Math.round(t/_),b=Math.round(r/_),p*_<t&&++p,b*_>r&&--b),b<p&&.5<=i&&i<2?Co(t,r,2*i):[p,b,_]}function Nu(t,r,i){return Co(t=+t,r=+r,i=+i)[2]}function vp(t,r){return null==t||null==r?NaN:r<t?-1:r>t?1:r>=t?0:NaN}function Wf(t){let r,i,o;function a(p,b,_=0,k=p.length){if(_<k){if(0!==r(b,b))return k;do{const B=_+k>>>1;i(p[B],b)<0?_=B+1:k=B}while(_<k)}return _}return 2!==t.length?(r=Bn,i=(p,b)=>Bn(t(p),b),o=(p,b)=>t(p)-b):(r=t===Bn||t===vp?t:yp,i=t,o=t),{left:a,center:function l(p,b,_=0,k=p.length){const B=a(p,b,_,k-1);return B>_&&o(p[B-1],b)>-o(p[B],b)?B-1:B},right:function c(p,b,_=0,k=p.length){if(_<k){if(0!==r(b,b))return k;do{const B=_+k>>>1;i(p[B],b)<=0?_=B+1:k=B}while(_<k)}return _}}}function yp(){return 0}const mp=Wf(Bn).right,wp=(Wf(function ds(t){return null===t?NaN:+t}),mp);function xp(t){return+t}var Bf=[0,1];function jn(t){return t}function ku(t,r){return(r-=t=+t)?function(i){return(i-t)/r}:function bp(t){return function(){return t}}(isNaN(r)?NaN:.5)}function _p(t,r,i){var o=t[0],a=t[1],c=r[0],l=r[1];return a<o?(o=ku(a,o),c=i(l,c)):(o=ku(o,a),c=i(c,l)),function(p){return c(o(p))}}function Ap(t,r,i){var o=Math.min(t.length,r.length)-1,a=new Array(o),c=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++l<o;)a[l]=ku(t[l],t[l+1]),c[l]=i(r[l],r[l+1]);return function(p){var b=wp(t,p,1,o)-1;return c[b](a[b](p))}}function Ep(t,r){return r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function yn(){return function Ze(){var o,a,c,p,b,_,t=Bf,r=Bf,i=Si,l=jn;function k(){var L=Math.min(t.length,r.length);return l!==jn&&(l=function Du(t,r){var i;return t>r&&(i=t,t=r,r=i),function(o){return Math.max(t,Math.min(r,o))}}(t[0],t[L-1])),p=L>2?Ap:_p,b=_=null,B}function B(L){return null==L||isNaN(L=+L)?c:(b||(b=p(t.map(o),r,i)))(o(l(L)))}return B.invert=function(L){return l(a((_||(_=p(r,t.map(o),Pn)))(L)))},B.domain=function(L){return arguments.length?(t=Array.from(L,xp),k()):t.slice()},B.range=function(L){return arguments.length?(r=Array.from(L),k()):r.slice()},B.rangeRound=function(L){return r=Array.from(L),i=Hs,k()},B.clamp=function(L){return arguments.length?(l=!!L||jn,k()):l!==jn},B.interpolate=function(L){return arguments.length?(i=L,k()):i},B.unknown=function(L){return arguments.length?(c=L,B):c},function(L,F){return o=L,a=F,k()}}()(jn,jn)}function Zf(t){var r=t.domain;return t.ticks=function(i){var o=r();return function Xs(t,r,i){if(!((i=+i)>0))return[];if((t=+t)==(r=+r))return[t];const o=r<t,[a,c,l]=o?Co(r,t,i):Co(t,r,i);if(!(c>=a))return[];const p=c-a+1,b=new Array(p);if(o)if(l<0)for(let _=0;_<p;++_)b[_]=(c-_)/-l;else for(let _=0;_<p;++_)b[_]=(c-_)*l;else if(l<0)for(let _=0;_<p;++_)b[_]=(a+_)/-l;else for(let _=0;_<p;++_)b[_]=(a+_)*l;return b}(o[0],o[o.length-1],null==i?10:i)},t.tickFormat=function(i,o){var a=r();return function Ff(t,r,i,o){var c,a=function gp(t,r,i){i=+i;const o=(r=+r)<(t=+t),a=o?Nu(r,t,i):Nu(t,r,i);return(o?-1:1)*(a<0?1/-a:a)}(t,r,i);switch((o=$s(null==o?",f":o)).type){case"s":var l=Math.max(Math.abs(t),Math.abs(r));return null==o.precision&&!isNaN(c=function Sp(t,r){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(be(r)/3)))-be(Math.abs(t)))}(a,l))&&(o.precision=c),Lf(o,l);case"":case"e":case"g":case"p":case"r":null==o.precision&&!isNaN(c=function Cp(t,r){return t=Math.abs(t),r=Math.abs(r)-t,Math.max(0,be(r)-be(t))+1}(a,Math.max(Math.abs(t),Math.abs(r))))&&(o.precision=c-("e"===o.type));break;case"f":case"%":null==o.precision&&!isNaN(c=function Mp(t){return Math.max(0,-be(Math.abs(t)))}(a))&&(o.precision=c-2*("%"===o.type))}return Ys(o)}(a[0],a[a.length-1],null==i?10:i,o)},t.nice=function(i){null==i&&(i=10);var b,_,o=r(),a=0,c=o.length-1,l=o[a],p=o[c],k=10;for(p<l&&(_=l,l=p,p=_,_=a,a=c,c=_);k-- >0;){if((_=Nu(l,p,i))===b)return o[a]=l,o[c]=p,r(o);if(_>0)l=Math.floor(l/_)*_,p=Math.ceil(p/_)*_;else{if(!(_<0))break;l=Math.ceil(l*_)/_,p=Math.floor(p*_)/_}b=_}return t},t}function Mo(){var t=yn();return t.copy=function(){return Ep(t,Mo())},fn.apply(t,arguments),Zf(t)}function Ks(){var i,o,a,c,b,t=0,r=1,l=jn,p=!1;function _(B){return null==B||isNaN(B=+B)?b:l(0===a?.5:(B=(c(B)-i)*a,p?Math.max(0,Math.min(1,B)):B))}function k(B){return function(L){var F,at;return arguments.length?([F,at]=L,l=B(F,at),_):[l(0),l(1)]}}return _.domain=function(B){return arguments.length?([t,r]=B,i=c(t=+t),o=c(r=+r),a=i===o?0:1/(o-i),_):[t,r]},_.clamp=function(B){return arguments.length?(p=!!B,_):p},_.interpolator=function(B){return arguments.length?(l=B,_):l},_.range=k(Si),_.rangeRound=k(Hs),_.unknown=function(B){return arguments.length?(b=B,_):b},function(B){return c=B,i=B(t),o=B(r),a=i===o?0:1/(o-i),_}}function Io(t,r){return r.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function $f(){var t=Zf(Ks()(jn));return t.copy=function(){return Io(t,$f())},Ci.apply(t,arguments)}function To(t){for(var r=t.length/6|0,i=new Array(r),o=0;o<r;)i[o]="#"+t.slice(6*o,6*++o);return i}const kp=To("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function js(t){var r=t.length;return function(i){return t[Math.max(0,Math.min(r-1,Math.floor(i*r)))]}}const Dp=js(To("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));function Yf(t){return tn(Ya(t).call(document.documentElement))}function Hf(t){return((t=Math.exp(t))+1/t)/2}js(To("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),js(To("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),js(To("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const Op=function t(r,i,o){function a(c,l){var X,K,p=c[0],b=c[1],_=c[2],L=l[2],F=l[0]-p,at=l[1]-b,it=F*F+at*at;if(it<1e-12)K=Math.log(L/_)/r,X=function(Ut){return[p+Ut*F,b+Ut*at,_*Math.exp(r*Ut*K)]};else{var ct=Math.sqrt(it),yt=(L*L-_*_+o*it)/(2*_*i*ct),et=(L*L-_*_-o*it)/(2*L*i*ct),_t=Math.log(Math.sqrt(yt*yt+1)-yt),Rt=Math.log(Math.sqrt(et*et+1)-et);K=(Rt-_t)/r,X=function(Ut){var Wt=Ut*K,ne=Hf(_t),Bt=_/(i*ct)*(ne*function Kf(t){return((t=Math.exp(2*t))-1)/(t+1)}(r*Wt+_t)-function Xf(t){return((t=Math.exp(t))-1/t)/2}(_t));return[p+Bt*F,b+Bt*at,_*ne/Hf(r*Wt+_t)]}}return X.duration=1e3*K*r/Math.SQRT2,X}return a.rho=function(c){var l=Math.max(.001,+c),p=l*l;return t(l,p,p*p)},a}(Math.SQRT2,2,4),Js=t=>()=>t;function Rp(t,{sourceEvent:r,target:i,transform:o,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:a}})}function dr(t,r,i){this.k=t,this.x=r,this.y=i}dr.prototype={constructor:dr,scale:function(t){return 1===t?this:new dr(this.k*t,this.x,this.y)},translate:function(t,r){return 0===t&0===r?this:new dr(this.k,this.x+this.k*t,this.y+this.k*r)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ou=new dr(1,0,0);function Ru(t){t.stopImmediatePropagation()}function ko(t){t.preventDefault(),t.stopImmediatePropagation()}function Pp(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function zp(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function jf(){return this.__zoom||Ou}function Wp(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Up(){return navigator.maxTouchPoints||"ontouchstart"in this}function Bp(t,r,i){var o=t.invertX(r[0][0])-i[0][0],a=t.invertX(r[1][0])-i[1][0],c=t.invertY(r[0][1])-i[0][1],l=t.invertY(r[1][1])-i[1][1];return t.translate(a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a),l>c?(c+l)/2:Math.min(0,c)||Math.max(0,l))}var Zp=O(1512);let Jf=(()=>{class t extends fi.H{constructor(){super(),this.nodes=[],this.links=[],this.width=window.screen.availWidth,this.height=window.screen.availHeight,this.characterLinks=[],this.defaultOptions={zoom:!0},this.id=(0,j.V)(),this.groups=[]}ngOnChanges(i){this.nodes.length>0&&this.links.length>0&&this.create()}ngAfterViewInit(){this.nodes.length>0&&this.links.length>0&&this.create()}create(){this.options=Object.assign(Object.assign({},this.defaultOptions),this.options),this.element=document.getElementById(this.id+"-network"),tn(this.element).selectChildren().remove(),this.createCharacterLinks(),this.initializeColor(),this.createSvg(),this.createLink(),this.createSimulation(),this.createNode()}initializeColor(){this.groups=Array.from(new Set(this.characterLinks.map(i=>i.group))),this.color=ee(this.groups,kp)}createCharacterLinks(){const i=this.nodes.map(o=>o.id);this.characterLinks=this.links.filter(o=>i.includes(o.source)&&i.includes(o.target))}createSimulation(){this.simulation=function ei(t){var r,i=1,o=.001,a=1-Math.pow(o,1/300),c=0,l=.6,p=new Map,b=yi(B),_=Es("tick","end"),k=function np(){let t=1;return()=>(t=(1664525*t+1013904223)%Nf)/Nf}();function B(){L(),_.call("tick",r),i<o&&(b.stop(),_.call("end",r))}function L(it){var X,ct,K=t.length;void 0===it&&(it=1);for(var yt=0;yt<it;++yt)for(i+=(c-i)*a,p.forEach(function(et){et(i)}),X=0;X<K;++X)null==(ct=t[X]).fx?ct.x+=ct.vx*=l:(ct.x=ct.fx,ct.vx=0),null==ct.fy?ct.y+=ct.vy*=l:(ct.y=ct.fy,ct.vy=0);return r}function F(){for(var K,it=0,X=t.length;it<X;++it){if((K=t[it]).index=it,null!=K.fx&&(K.x=K.fx),null!=K.fy&&(K.y=K.fy),isNaN(K.x)||isNaN(K.y)){var ct=10*Math.sqrt(.5+it),yt=it*op;K.x=ct*Math.cos(yt),K.y=ct*Math.sin(yt)}(isNaN(K.vx)||isNaN(K.vy))&&(K.vx=K.vy=0)}}function at(it){return it.initialize&&it.initialize(t,k),it}return null==t&&(t=[]),F(),r={tick:L,restart:function(){return b.restart(B),r},stop:function(){return b.stop(),r},nodes:function(it){return arguments.length?(t=it,F(),p.forEach(at),r):t},alpha:function(it){return arguments.length?(i=+it,r):i},alphaMin:function(it){return arguments.length?(o=+it,r):o},alphaDecay:function(it){return arguments.length?(a=+it,r):+a},alphaTarget:function(it){return arguments.length?(c=+it,r):c},velocityDecay:function(it){return arguments.length?(l=1-it,r):1-l},randomSource:function(it){return arguments.length?(k=it,p.forEach(at),r):k},force:function(it,X){return arguments.length>1?(null==X?p.delete(it):p.set(it,at(X)),r):p.get(it)},find:function(it,X,K){var et,_t,Rt,Ut,Wt,ct=0,yt=t.length;for(null==K?K=1/0:K*=K,ct=0;ct<yt;++ct)(Rt=(et=it-(Ut=t[ct]).x)*et+(_t=X-Ut.y)*_t)<K&&(Wt=Ut,K=Rt);return Wt},on:function(it,X){return arguments.length>1?(_.on(it,X),r):_.on(it)}}}(this.nodes).force("link",function Qd(t){var o,c,l,p,b,_,r=qd,i=function B(X){return 1/Math.min(p[X.source.index],p[X.target.index])},a=Tr(30),k=1;function L(X){for(var K=0,ct=t.length;K<k;++K)for(var et,_t,Rt,Ut,Wt,ne,Bt,yt=0;yt<ct;++yt)Ut=(Rt=(et=t[yt]).target).x+Rt.vx-(_t=et.source).x-_t.vx||Nr(_),Wt=Rt.y+Rt.vy-_t.y-_t.vy||Nr(_),Wt*=ne=((ne=Math.sqrt(Ut*Ut+Wt*Wt))-c[yt])/ne*X*o[yt],Rt.vx-=(Ut*=ne)*(Bt=b[yt]),Rt.vy-=Wt*Bt,_t.vx+=Ut*(Bt=1-Bt),_t.vy+=Wt*Bt}function F(){if(l){var X,et,K=l.length,ct=t.length,yt=new Map(l.map((_t,Rt)=>[r(_t,Rt,l),_t]));for(X=0,p=new Array(K);X<ct;++X)(et=t[X]).index=X,"object"!=typeof et.source&&(et.source=Tf(yt,et.source)),"object"!=typeof et.target&&(et.target=Tf(yt,et.target)),p[et.source.index]=(p[et.source.index]||0)+1,p[et.target.index]=(p[et.target.index]||0)+1;for(X=0,b=new Array(ct);X<ct;++X)b[X]=p[(et=t[X]).source.index]/(p[et.source.index]+p[et.target.index]);o=new Array(ct),at(),c=new Array(ct),it()}}function at(){if(l)for(var X=0,K=t.length;X<K;++X)o[X]=+i(t[X],X,t)}function it(){if(l)for(var X=0,K=t.length;X<K;++X)c[X]=+a(t[X],X,t)}return null==t&&(t=[]),L.initialize=function(X,K){l=X,_=K,F()},L.links=function(X){return arguments.length?(t=X,F(),L):t},L.id=function(X){return arguments.length?(r=X,L):r},L.iterations=function(X){return arguments.length?(k=+X,L):k},L.strength=function(X){return arguments.length?(i="function"==typeof X?X:Tr(+X),at(),L):i},L.distance=function(X){return arguments.length?(a="function"==typeof X?X:Tr(+X),it(),L):a},L}(this.characterLinks).distance(20).id(this.getId)).force("charge",function te(){var t,r,i,o,c,a=Tr(-30),l=1,p=1/0,b=.81;function _(F){var at,it=t.length,X=Ei(t,rp,zn).visitAfter(B);for(o=F,at=0;at<it;++at)r=t[at],X.visit(L)}function k(){if(t){var F,it,at=t.length;for(c=new Array(at),F=0;F<at;++F)c[(it=t[F]).index]=+a(it,F,t)}}function B(F){var it,X,ct,yt,et,at=0,K=0;if(F.length){for(ct=yt=et=0;et<4;++et)(it=F[et])&&(X=Math.abs(it.value))&&(at+=it.value,K+=X,ct+=X*it.x,yt+=X*it.y);F.x=ct/K,F.y=yt/K}else{(it=F).x=it.data.x,it.y=it.data.y;do{at+=c[it.data.index]}while(it=it.next)}F.value=at}function L(F,at,it,X){if(!F.value)return!0;var K=F.x-r.x,ct=F.y-r.y,yt=X-at,et=K*K+ct*ct;if(yt*yt/b<et)return et<p&&(0===K&&(et+=(K=Nr(i))*K),0===ct&&(et+=(ct=Nr(i))*ct),et<l&&(et=Math.sqrt(l*et)),r.vx+=K*F.value*o/et,r.vy+=ct*F.value*o/et),!0;if(!(F.length||et>=p)){(F.data!==r||F.next)&&(0===K&&(et+=(K=Nr(i))*K),0===ct&&(et+=(ct=Nr(i))*ct),et<l&&(et=Math.sqrt(l*et)));do{F.data!==r&&(r.vx+=K*(yt=c[F.data.index]*o/et),r.vy+=ct*yt)}while(F=F.next)}}return _.initialize=function(F,at){t=F,i=at,k()},_.strength=function(F){return arguments.length?(a="function"==typeof F?F:Tr(+F),k(),_):a},_.distanceMin=function(F){return arguments.length?(l=F*F,_):Math.sqrt(l)},_.distanceMax=function(F){return arguments.length?(p=F*F,_):Math.sqrt(p)},_.theta=function(F){return arguments.length?(b=F*F,_):Math.sqrt(b)},_}().strength(i=>-100*i.score)).force("center",function Bd(t,r){var i,o=1;function a(){var c,p,l=i.length,b=0,_=0;for(c=0;c<l;++c)b+=(p=i[c]).x,_+=p.y;for(b=(b/l-t)*o,_=(_/l-r)*o,c=0;c<l;++c)(p=i[c]).x-=b,p.y-=_}return null==t&&(t=0),null==r&&(r=0),a.initialize=function(c){i=c},a.x=function(c){return arguments.length?(t=+c,a):t},a.y=function(c){return arguments.length?(r=+c,a):r},a.strength=function(c){return arguments.length?(o=+c,a):o},a}(this.width/2,this.height/2)).force("radius",function Vd(t){var r,i,o,a=1,c=1;function l(){for(var _,B,L,F,at,it,X,k=r.length,K=0;K<c;++K)for(B=Ei(r,jd,Jd).visitAfter(p),_=0;_<k;++_)X=(it=i[(L=r[_]).index])*it,F=L.x+L.vx,at=L.y+L.vy,B.visit(ct);function ct(yt,et,_t,Rt,Ut){var Wt=yt.data,ne=yt.r,Bt=it+ne;if(!Wt)return et>F+Bt||Rt<F-Bt||_t>at+Bt||Ut<at-Bt;if(Wt.index>L.index){var Dt=F-Wt.x-Wt.vx,se=at-Wt.y-Wt.vy,Jt=Dt*Dt+se*se;Jt<Bt*Bt&&(0===Dt&&(Jt+=(Dt=Nr(o))*Dt),0===se&&(Jt+=(se=Nr(o))*se),Jt=(Bt-(Jt=Math.sqrt(Jt)))/Jt*a,L.vx+=(Dt*=Jt)*(Bt=(ne*=ne)/(X+ne)),L.vy+=(se*=Jt)*Bt,Wt.vx-=Dt*(Bt=1-Bt),Wt.vy-=se*Bt)}}}function p(_){if(_.data)return _.r=i[_.data.index];for(var k=_.r=0;k<4;++k)_[k]&&_[k].r>_.r&&(_.r=_[k].r)}function b(){if(r){var _,B,k=r.length;for(i=new Array(k),_=0;_<k;++_)i[(B=r[_]).index]=+t(B,_,r)}}return"function"!=typeof t&&(t=Tr(null==t?1:+t)),l.initialize=function(_,k){r=_,o=k,b()},l.iterations=function(_){return arguments.length?(c=+_,l):c},l.strength=function(_){return arguments.length?(a=+_,l):a},l.radius=function(_){return arguments.length?(t="function"==typeof _?_:Tr(+_),b(),l):t},l}(i=>i.score+20)).force("cluster",this.cluster(this.nodes)).on("tick",()=>{this.link.attr("d",this.linkArc),this.node.attr("transform",i=>`translate(${i.x}, ${i.y})`),(0,Zp.g)(1e4)}),setTimeout(()=>{this.simulation.stop()},1e4)}createSvg(){const i=this;this.svg=Yf("svg").attr("viewBox",[0,0,this.width,this.height]).style("font","12px sans-serif"),this.g=this.svg.append("g"),this.options.zoom&&this.svg.call(function Fp(){var k,B,L,t=Pp,r=zp,i=Bp,o=Wp,a=Up,c=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],p=250,b=Op,_=Es("start","zoom","end"),F=500,it=0,X=10;function K(rt){rt.property("__zoom",jf).on("wheel.zoom",Wt,{passive:!1}).on("mousedown.zoom",ne).on("dblclick.zoom",Bt).filter(a).on("touchstart.zoom",Dt).on("touchmove.zoom",se).on("touchend.zoom touchcancel.zoom",Jt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function ct(rt,Gt){return(Gt=Math.max(c[0],Math.min(c[1],Gt)))===rt.k?rt:new dr(Gt,rt.x,rt.y)}function yt(rt,Gt,mt){var kt=Gt[0]-mt[0]*rt.k,$t=Gt[1]-mt[1]*rt.k;return kt===rt.x&&$t===rt.y?rt:new dr(rt.k,kt,$t)}function et(rt){return[(+rt[0][0]+ +rt[1][0])/2,(+rt[0][1]+ +rt[1][1])/2]}function _t(rt,Gt,mt,kt){rt.on("start.zoom",function(){Rt(this,arguments).event(kt).start()}).on("interrupt.zoom end.zoom",function(){Rt(this,arguments).event(kt).end()}).tween("zoom",function(){var $t=this,zt=arguments,Ft=Rt($t,zt).event(kt),Qt=r.apply($t,zt),ie=null==mt?et(Qt):"function"==typeof mt?mt.apply($t,zt):mt,Dn=Math.max(Qt[1][0]-Qt[0][0],Qt[1][1]-Qt[0][1]),Re=$t.__zoom,mn="function"==typeof Gt?Gt.apply($t,zt):Gt,Ln=b(Re.invert(ie).concat(Dn/Re.k),mn.invert(ie).concat(Dn/mn.k));return function(Se){if(1===Se)Se=mn;else{var En=Ln(Se),na=Dn/En[2];Se=new dr(na,ie[0]-En[0]*na,ie[1]-En[1]*na)}Ft.zoom(null,Se)}})}function Rt(rt,Gt,mt){return!mt&&rt.__zooming||new Ut(rt,Gt)}function Ut(rt,Gt){this.that=rt,this.args=Gt,this.active=0,this.sourceEvent=null,this.extent=r.apply(rt,Gt),this.taps=0}function Wt(rt,...Gt){if(t.apply(this,arguments)){var mt=Rt(this,Gt).event(rt),kt=this.__zoom,$t=Math.max(c[0],Math.min(c[1],kt.k*Math.pow(2,o.apply(this,arguments)))),zt=lr(rt);if(mt.wheel)(mt.mouse[0][0]!==zt[0]||mt.mouse[0][1]!==zt[1])&&(mt.mouse[1]=kt.invert(mt.mouse[0]=zt)),clearTimeout(mt.wheel);else{if(kt.k===$t)return;mt.mouse=[zt,kt.invert(zt)],xn(this),mt.start()}ko(rt),mt.wheel=setTimeout(Ft,150),mt.zoom("mouse",i(yt(ct(kt,$t),mt.mouse[0],mt.mouse[1]),mt.extent,l))}function Ft(){mt.wheel=null,mt.end()}}function ne(rt,...Gt){if(!L&&t.apply(this,arguments)){var mt=rt.currentTarget,kt=Rt(this,Gt,!0).event(rt),$t=tn(rt.view).on("mousemove.zoom",ie,!0).on("mouseup.zoom",Dn,!0),zt=lr(rt,mt),Ft=rt.clientX,Qt=rt.clientY;wf(rt.view),Ru(rt),kt.mouse=[zt,this.__zoom.invert(zt)],xn(this),kt.start()}function ie(Re){if(ko(Re),!kt.moved){var mn=Re.clientX-Ft,Ln=Re.clientY-Qt;kt.moved=mn*mn+Ln*Ln>it}kt.event(Re).zoom("mouse",i(yt(kt.that.__zoom,kt.mouse[0]=lr(Re,mt),kt.mouse[1]),kt.extent,l))}function Dn(Re){$t.on("mousemove.zoom mouseup.zoom",null),bf(Re.view,kt.moved),ko(Re),kt.event(Re).end()}}function Bt(rt,...Gt){if(t.apply(this,arguments)){var mt=this.__zoom,kt=lr(rt.changedTouches?rt.changedTouches[0]:rt,this),$t=mt.invert(kt),Ft=i(yt(ct(mt,mt.k*(rt.shiftKey?.5:2)),kt,$t),r.apply(this,Gt),l);ko(rt),p>0?tn(this).transition().duration(p).call(_t,Ft,kt,rt):tn(this).call(K.transform,Ft,kt,rt)}}function Dt(rt,...Gt){if(t.apply(this,arguments)){var zt,Ft,Qt,ie,mt=rt.touches,kt=mt.length,$t=Rt(this,Gt,rt.changedTouches.length===kt).event(rt);for(Ru(rt),Ft=0;Ft<kt;++Ft)ie=[ie=lr(Qt=mt[Ft],this),this.__zoom.invert(ie),Qt.identifier],$t.touch0?!$t.touch1&&$t.touch0[2]!==ie[2]&&($t.touch1=ie,$t.taps=0):($t.touch0=ie,zt=!0,$t.taps=1+!!k);k&&(k=clearTimeout(k)),zt&&($t.taps<2&&(B=ie[0],k=setTimeout(function(){k=null},F)),xn(this),$t.start())}}function se(rt,...Gt){if(this.__zooming){var zt,Ft,Qt,ie,mt=Rt(this,Gt).event(rt),kt=rt.changedTouches,$t=kt.length;for(ko(rt),zt=0;zt<$t;++zt)Qt=lr(Ft=kt[zt],this),mt.touch0&&mt.touch0[2]===Ft.identifier?mt.touch0[0]=Qt:mt.touch1&&mt.touch1[2]===Ft.identifier&&(mt.touch1[0]=Qt);if(Ft=mt.that.__zoom,mt.touch1){var Dn=mt.touch0[0],Re=mt.touch0[1],mn=mt.touch1[0],Ln=mt.touch1[1],Se=(Se=mn[0]-Dn[0])*Se+(Se=mn[1]-Dn[1])*Se,En=(En=Ln[0]-Re[0])*En+(En=Ln[1]-Re[1])*En;Ft=ct(Ft,Math.sqrt(Se/En)),Qt=[(Dn[0]+mn[0])/2,(Dn[1]+mn[1])/2],ie=[(Re[0]+Ln[0])/2,(Re[1]+Ln[1])/2]}else{if(!mt.touch0)return;Qt=mt.touch0[0],ie=mt.touch0[1]}mt.zoom("touch",i(yt(Ft,Qt,ie),mt.extent,l))}}function Jt(rt,...Gt){if(this.__zooming){var zt,Ft,mt=Rt(this,Gt).event(rt),kt=rt.changedTouches,$t=kt.length;for(Ru(rt),L&&clearTimeout(L),L=setTimeout(function(){L=null},F),zt=0;zt<$t;++zt)Ft=kt[zt],mt.touch0&&mt.touch0[2]===Ft.identifier?delete mt.touch0:mt.touch1&&mt.touch1[2]===Ft.identifier&&delete mt.touch1;if(mt.touch1&&!mt.touch0&&(mt.touch0=mt.touch1,delete mt.touch1),mt.touch0)mt.touch0[1]=this.__zoom.invert(mt.touch0[0]);else if(mt.end(),2===mt.taps&&(Ft=lr(Ft,this),Math.hypot(B[0]-Ft[0],B[1]-Ft[1])<X)){var Qt=tn(this).on("dblclick.zoom");Qt&&Qt.apply(this,arguments)}}}return K.transform=function(rt,Gt,mt,kt){var $t=rt.selection?rt.selection():rt;$t.property("__zoom",jf),rt!==$t?_t(rt,Gt,mt,kt):$t.interrupt().each(function(){Rt(this,arguments).event(kt).start().zoom(null,"function"==typeof Gt?Gt.apply(this,arguments):Gt).end()})},K.scaleBy=function(rt,Gt,mt,kt){K.scaleTo(rt,function(){return this.__zoom.k*("function"==typeof Gt?Gt.apply(this,arguments):Gt)},mt,kt)},K.scaleTo=function(rt,Gt,mt,kt){K.transform(rt,function(){var $t=r.apply(this,arguments),zt=this.__zoom,Ft=null==mt?et($t):"function"==typeof mt?mt.apply(this,arguments):mt,Qt=zt.invert(Ft),ie="function"==typeof Gt?Gt.apply(this,arguments):Gt;return i(yt(ct(zt,ie),Ft,Qt),$t,l)},mt,kt)},K.translateBy=function(rt,Gt,mt,kt){K.transform(rt,function(){return i(this.__zoom.translate("function"==typeof Gt?Gt.apply(this,arguments):Gt,"function"==typeof mt?mt.apply(this,arguments):mt),r.apply(this,arguments),l)},null,kt)},K.translateTo=function(rt,Gt,mt,kt,$t){K.transform(rt,function(){var zt=r.apply(this,arguments),Ft=this.__zoom,Qt=null==kt?et(zt):"function"==typeof kt?kt.apply(this,arguments):kt;return i(Ou.translate(Qt[0],Qt[1]).scale(Ft.k).translate("function"==typeof Gt?-Gt.apply(this,arguments):-Gt,"function"==typeof mt?-mt.apply(this,arguments):-mt),zt,l)},kt,$t)},Ut.prototype={event:function(rt){return rt&&(this.sourceEvent=rt),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(rt,Gt){return this.mouse&&"mouse"!==rt&&(this.mouse[1]=Gt.invert(this.mouse[0])),this.touch0&&"touch"!==rt&&(this.touch0[1]=Gt.invert(this.touch0[0])),this.touch1&&"touch"!==rt&&(this.touch1[1]=Gt.invert(this.touch1[0])),this.that.__zoom=Gt,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(rt){var Gt=tn(this.that).datum();_.call(rt,this.that,new Rp(rt,{sourceEvent:this.sourceEvent,target:K,type:rt,transform:this.that.__zoom,dispatch:_}),Gt)}},K.wheelDelta=function(rt){return arguments.length?(o="function"==typeof rt?rt:Js(+rt),K):o},K.filter=function(rt){return arguments.length?(t="function"==typeof rt?rt:Js(!!rt),K):t},K.touchable=function(rt){return arguments.length?(a="function"==typeof rt?rt:Js(!!rt),K):a},K.extent=function(rt){return arguments.length?(r="function"==typeof rt?rt:Js([[+rt[0][0],+rt[0][1]],[+rt[1][0],+rt[1][1]]]),K):r},K.scaleExtent=function(rt){return arguments.length?(c[0]=+rt[0],c[1]=+rt[1],K):[c[0],c[1]]},K.translateExtent=function(rt){return arguments.length?(l[0][0]=+rt[0][0],l[1][0]=+rt[1][0],l[0][1]=+rt[0][1],l[1][1]=+rt[1][1],K):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},K.constrain=function(rt){return arguments.length?(i=rt,K):i},K.duration=function(rt){return arguments.length?(p=+rt,K):p},K.interpolate=function(rt){return arguments.length?(b=rt,K):b},K.on=function(){var rt=_.on.apply(_,arguments);return rt===_?K:rt},K.clickDistance=function(rt){return arguments.length?(it=(rt=+rt)*rt,K):Math.sqrt(it)},K.tapDistance=function(rt){return arguments.length?(X=+rt,K):X},K}().extent([[0,0],[this.width,this.height]]).on("zoom",function o({transform:a}){i.g.attr("transform",a)})),this.element.append(this.svg.node()),this.svg.attr("width",this.width).attr("height",this.height),this.svg.append("defs").selectAll("marker").data(this.groups).join("marker").attr("id",a=>`arrow-${a}`).attr("viewBox","0 -5 10 10").attr("refX",15).attr("refY",-.5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("fill",this.color).attr("d","M0,-5L10,0L0,5")}createLink(){this.link=this.g.append("g").attr("fill","none").attr("stroke-width",1.5).selectAll("path").data(this.characterLinks).join("path").attr("stroke",i=>this.color(i.group))}createNode(){this.node=this.g.append("g").attr("fill","currentColor").attr("stroke-linecap","round").attr("stroke-linejoin","round").selectAll("g").data(this.nodes).join("g"),this.node.append("circle").attr("stroke","black").attr("stroke-width",1).attr("r",i=>i.score).style("fill",i=>this.color(i.group)),this.node.append("text").text(i=>i.label).style("font-size","1rem").style("color","white").style("text-anchor","middle").style("dominant-baseline","central")}getId(i){return i.id}linkArc(i){return`\n    M${i.source.x},${i.source.y}\n    A0,0 0 0,1 ${i.target.x},${i.target.y}\n  `}drag(i){return function Ud(){var p,b,_,k,t=Gd,r=Pd,i=zd,o=Wd,a={},c=Es("start","drag","end"),l=0,B=0;function L(et){et.on("mousedown.drag",F).filter(o).on("touchstart.drag",X).on("touchmove.drag",K,Rd).on("touchend.drag touchcancel.drag",ct).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function F(et,_t){if(!k&&t.call(this,et,_t)){var Rt=yt(this,r.call(this,et,_t),et,_t,"mouse");!Rt||(tn(et.view).on("mousemove.drag",at,xi).on("mouseup.drag",it,xi),wf(et.view),Us(et),_=!1,p=et.clientX,b=et.clientY,Rt("start",et))}}function at(et){if(_i(et),!_){var _t=et.clientX-p,Rt=et.clientY-b;_=_t*_t+Rt*Rt>B}a.mouse("drag",et)}function it(et){tn(et.view).on("mousemove.drag mouseup.drag",null),bf(et.view,_),_i(et),a.mouse("end",et)}function X(et,_t){if(t.call(this,et,_t)){var ne,Bt,Rt=et.changedTouches,Ut=r.call(this,et,_t),Wt=Rt.length;for(ne=0;ne<Wt;++ne)(Bt=yt(this,Ut,et,_t,Rt[ne].identifier,Rt[ne]))&&(Us(et),Bt("start",et,Rt[ne]))}}function K(et){var Ut,Wt,_t=et.changedTouches,Rt=_t.length;for(Ut=0;Ut<Rt;++Ut)(Wt=a[_t[Ut].identifier])&&(_i(et),Wt("drag",et,_t[Ut]))}function ct(et){var Ut,Wt,_t=et.changedTouches,Rt=_t.length;for(k&&clearTimeout(k),k=setTimeout(function(){k=null},500),Ut=0;Ut<Rt;++Ut)(Wt=a[_t[Ut].identifier])&&(Us(et),Wt("end",et,_t[Ut]))}function yt(et,_t,Rt,Ut,Wt,ne){var se,Jt,rt,Bt=c.copy(),Dt=lr(ne||Rt,_t);if(null!=(rt=i.call(et,new Ai("beforestart",{sourceEvent:Rt,target:L,identifier:Wt,active:l,x:Dt[0],y:Dt[1],dx:0,dy:0,dispatch:Bt}),Ut)))return se=rt.x-Dt[0]||0,Jt=rt.y-Dt[1]||0,function Gt(mt,kt,$t){var Ft,zt=Dt;switch(mt){case"start":a[Wt]=Gt,Ft=l++;break;case"end":delete a[Wt],--l;case"drag":Dt=lr($t||kt,_t),Ft=l}Bt.call(mt,et,new Ai(mt,{sourceEvent:kt,subject:rt,target:L,identifier:Wt,active:Ft,x:Dt[0]+se,y:Dt[1]+Jt,dx:Dt[0]-zt[0],dy:Dt[1]-zt[1],dispatch:Bt}),Ut)}}return L.filter=function(et){return arguments.length?(t="function"==typeof et?et:Bs(!!et),L):t},L.container=function(et){return arguments.length?(r="function"==typeof et?et:Bs(et),L):r},L.subject=function(et){return arguments.length?(i="function"==typeof et?et:Bs(et),L):i},L.touchable=function(et){return arguments.length?(o="function"==typeof et?et:Bs(!!et),L):o},L.on=function(){var et=c.on.apply(c,arguments);return et===c?L:et},L.clickDistance=function(et){return arguments.length?(B=(et=+et)*et,L):Math.sqrt(B)},L}().on("start",function o(l,p){l.active||i.alphaTarget(.3).restart(),p.fx=p.x,p.fy=p.y}).on("drag",function a(l,p){p.fx=l.x,p.fy=l.y}).on("end",function c(l,p){l.active||i.alphaTarget(0),p.fx=null,p.fy=null})}cluster(i){return function a(c){for(const l of i){const p=i.filter(k=>k.group===l.group),b=p.reduce((k,B)=>k+B.x,0)/p.length,_=p.reduce((k,B)=>k+B.y,0)/p.length;l.vx+=(b-l.x)*c*.2,l.vy+=(_-l.y)*c*.2}}}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["d3-network"]],inputs:{nodes:"nodes",links:"links",options:"options",width:"width",height:"height"},features:[d.qOj,d.TTD],decls:1,vars:1,consts:[[1,"flex","flex-1",3,"id"]],template:function(i,o){1&i&&d._UZ(0,"div",0),2&i&&d.MGl("id","",o.id,"-network")},encapsulation:2}),t})();var Gu=O(7423),Vf=O(2108);const $p=function(){return["/wiki/network"]},Yp=function(){return["/wiki/analysis"]},Hp=[{path:"",component:(()=>{class t extends z{constructor(i,o){super(),this.characterApi=i,this.relationshipApi=o,this.navigation=tt.o,this.nodes=[],this.edges=[],this.characters=[],this.relationships=[],this.networkOptions={zoom:!1}}ngOnInit(){var i=this;this.subscribe(this.characterApi.cosmereCharacters(),o=>this.onCharactersChanges(o)),this.subscribe(this.relationshipApi.relationshipsByBook("mistborn1"),o=>this.onRelationshipsChanges(o)),(0,N.defer)((0,C.Z)(function*(){yield i.characterApi.fetchAllCosmereCharacter(),yield i.relationshipApi.fetchAllCosmereRelationship()}))}generateNetworkParameters(){this.edges=w(this.relationships);const i=new V.UndirectedGraph;S(this.relationships).forEach(c=>i.addNode(c)),this.relationships.forEach(c=>i.addEdge(c.characterId1,c.characterId2));const a=ut()(i);this.nodes=A(this.characters,this.relationships).filter(c=>this.edges.map(l=>l.source).includes(c.id)||this.edges.map(l=>l.target).includes(c.id)),this.nodes=this.nodes.map(c=>Object.assign(Object.assign({},c),{group:a[c.id]}))}onCharactersChanges(i){this.characters=i,this.generateNetworkParameters()}onRelationshipsChanges(i){this.relationships=i,this.generateNetworkParameters()}}return t.\u0275fac=function(i){return new(i||t)(d.Y36(qn),d.Y36(fs))},t.\u0275cmp=d.Xpm({type:t,selectors:[["home"]],features:[d.qOj],decls:24,vars:20,consts:[[1,"inset-0","flex","flex-col","min-w-0","w-full"],[1,"flex","flex-col","mx-100","text-center","p-6","gap-5"],[1,"font-black","mt-3","text-7xl","text-center","mb-7"],[3,"nodes","links","height","options"],[1,"flex","flex-col"],[1,"font-black","mt-3","text-2xl","text-center","mb-3"],["mat-button","",1,"bg-primary","text-lg",3,"routerLink"],[1,"font-black","mt-3","text-2xl","text-center","mb-7"]],template:function(i,o){1&i&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d._uU(3),d.ALo(4,"trans"),d.qZA(),d._UZ(5,"d3-network",3),d.TgZ(6,"div",4),d.TgZ(7,"div",5),d._uU(8),d.ALo(9,"trans"),d.qZA(),d.TgZ(10,"div"),d.TgZ(11,"button",6),d._uU(12," Conexiones "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(13,"div",4),d.TgZ(14,"div",5),d._uU(15),d.ALo(16,"trans"),d.qZA(),d.TgZ(17,"div"),d.TgZ(18,"button",6),d._uU(19," An\xe1lisis "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(20,"div",4),d.TgZ(21,"div",7),d._uU(22),d.ALo(23,"trans"),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&i&&(d.xp6(3),d.hij(" ",d.lcZ(4,10,"home.title")," "),d.xp6(2),d.Q6J("nodes",o.nodes)("links",o.edges)("height",600)("options",o.networkOptions),d.xp6(3),d.hij(" ",d.lcZ(9,12,"home.network.1")," "),d.xp6(3),d.Q6J("routerLink",d.DdM(18,$p)),d.xp6(4),d.hij(" ",d.lcZ(16,14,"home.analysis.1")," "),d.xp6(3),d.Q6J("routerLink",d.DdM(19,Yp)),d.xp6(4),d.hij(" ",d.lcZ(23,16,"home.me.1")," "))},directives:[Jf,Gu.lW,ft.rH],pipes:[Vf.u],encapsulation:2}),t})()}];var Xp=O(5245),Vs=O(4613),qs=O(6767),Do=O(393);let Qs=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[]]}),t})();var Pu=O(3564),Kp=O(3812);let jp=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[ft.Bz.forChild(Hp),Gu.ot,Xp.Ps,Vs.m,Pu.J,qs.d,Do.ZD,Do.Cl,Qs,Kp.P]]}),t})();const ta=()=>({id:(0,j.V)(),books:[]}),qf=()=>({configuration:ta()});let Jp=(()=>{class t extends ze{constructor(){super(qf()),this.configuration$=this.select(i=>i.configuration)}saveConfiguration(i){(0,N.isEqual)(this.get().configuration,i)||this.patchState(o=>({configuration:i}))}syncState(){return this.get()}syncConfiguration(){return this.get().configuration}reset(){this.patchState(qf())}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zu=(()=>{class t{constructor(i){this.store=i}syncConfiguration(){return this.store.syncState().configuration}configuration(){return this.store.configuration$}saveConfiguration(i){this.store.saveConfiguration(i)}}return t.\u0275fac=function(i){return new(i||t)(d.LFG(Jp))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Oe=O(3075);let ea=(()=>{class t{constructor(i){this.formBuilder=i}build(i,o=[],a=[]){const c={};return Object.keys(i).forEach(l=>{const p=i[l],b=this.getValidator(l,o);if(c[l]=[p,b],a.includes(l)&&(0,N.isArray)(p)){const _=[];p.forEach(k=>{_.push((0,on.Z)(k)?this.build(k,o):k)}),c[l]=this.formBuilder.array(_)}if(!a.includes(l)&&!(0,N.isArray)(p)&&(0,on.Z)(p)){const _=this.extractSubValidator(l,o);c[l]=this.build(p,_)}}),this.formBuilder.group(c)}extractSubValidator(i,o){return o.filter(a=>a.key.startsWith(i)).map(a=>({key:a.key.replace(i+".",""),validators:a.validators}))}getValidator(i,o){const a=o.find(c=>c.key===i);return a?a.validators:[]}}return t.\u0275fac=function(i){return new(i||t)(d.LFG(Oe.qu))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Vp=(()=>{class t extends ze{constructor(){super({books:[]}),this.books$=this.select(i=>i.books)}saveAllBooks(i){(0,N.isEqual)(this.get().books,i)||this.patchState(o=>({books:_r(o.books,i)}))}syncState(){return this.get()}syncBook(i){return Or(i,this.get().books)}reset(){this.patchState({books:[]})}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),th=(()=>{class t{constructor(i,o){this.api=i,this.store=o}fetchAllBooks(){var i=this;return(0,C.Z)(function*(){const o=yield i.api.get("books");i.store.saveAllBooks(o)})()}syncAllBooks(){return this.store.syncState().books}allBooks(){return this.store.books$}}return t.\u0275fac=function(i){return new(i||t)(d.LFG(lt),d.LFG(Vp))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var qp=O(96),Jn=O(9808),eh=O(9602),Lo=O(7322),nh=O(4107),Qp=O(508);function tg(t,r){if(1&t&&(d.TgZ(0,"mat-option",11),d._uU(1),d.ALo(2,"uppercase"),d.ALo(3,"trans"),d.qZA()),2&t){const i=r.$implicit;d.Q6J("value",i.id),d.xp6(1),d.hij(" ",d.lcZ(2,2,d.lcZ(3,4,i.title))," ")}}function eg(t,r){if(1&t&&(d.TgZ(0,"div",5),d.TgZ(1,"fuse-card",6),d.TgZ(2,"form",7),d.TgZ(3,"mat-form-field",8),d.TgZ(4,"mat-label"),d._uU(5),d.ALo(6,"titlecase"),d.ALo(7,"trans"),d.qZA(),d.TgZ(8,"mat-select",9),d.YNc(9,tg,4,6,"mat-option",10),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){const i=d.oxw();d.xp6(2),d.Q6J("formGroup",i.configurationForm),d.xp6(3),d.Oqu(d.lcZ(6,3,d.lcZ(7,5,"books"))),d.xp6(4),d.Q6J("ngForOf",i.data.books)}}let Wu=(()=>{class t extends fi.H{constructor(i,o,a){super(),this.configurationApi=i,this.formBuilder=o,this.bookApi=a,this.configurationChanges=new d.vpe,this.showCard=!1,this.data={books:[]}}ngOnInit(){var i=this;this.subscribe(this.bookApi.allBooks(),o=>this.data.books=o),this.subscribe(this.configurationApi.configuration(),o=>this.setConfiguration(o)),(0,N.defer)((0,C.Z)(function*(){yield i.bookApi.fetchAllBooks()})),this.buildForm()}buildForm(){this.configurationForm=this.formBuilder.build(this.configuration),this.configurationForm.get("books").valueChanges.subscribe(i=>{this.configuration.books=i,this.saveConfiguration()})}toggle(){this.showCard=!this.showCard}setConfiguration(i){this.configuration=Object.assign({},i),this.configurationForm&&this.configurationForm.patchValue(i)}saveConfiguration(){this.configurationApi.saveConfiguration(this.configuration)}}return t.\u0275fac=function(i){return new(i||t)(d.Y36(zu),d.Y36(ea),d.Y36(th))},t.\u0275cmp=d.Xpm({type:t,selectors:[["configuration"]],outputs:{configurationChanges:"configurationChanges"},features:[d.qOj],decls:5,vars:1,consts:[[1,"absolute","top-0","right-0","z-50"],[1,"flex","flex-col","items-end","pr-6"],["mat-icon-button","",3,"click"],["icon","settings","size","10"],["class","z-50",4,"ngIf"],[1,"z-50"],[1,"flex","flex-col","h-full","p-6","gap-5","w-100"],[1,"w-full",3,"formGroup"],["floatLabel","always",1,"w-full"],["multiple","","formControlName","books","placeholder","Libros: Todos"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,o){1&i&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"button",2),d.NdJ("click",function(){return o.toggle()}),d._UZ(3,"app-icon",3),d.qZA(),d.YNc(4,eg,10,7,"div",4),d.qZA(),d.qZA()),2&i&&(d.xp6(4),d.Q6J("ngIf",o.showCard))},directives:[Gu.lW,qp.o,Jn.O5,eh.y,Oe._Y,Oe.JL,Oe.sg,Lo.KE,Lo.hX,nh.gD,Oe.JJ,Oe.u,Jn.sg,Qp.ey],pipes:[Jn.rS,Vf.u,Jn.gd],encapsulation:2,changeDetection:0}),t})();var ng=O(340);let rg=(()=>{class t extends ze{constructor(){super({planets:[]}),this.planets$=this.select(i=>i.planets)}saveAllPlanets(i){(0,N.isEqual)(this.get().planets,i)||this.patchState(o=>({planets:_r(o.planets,i)}))}syncState(){return this.get()}syncPlanet(i){return Or(i,this.get().planets)}reset(){this.patchState({planets:[]})}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Uu=(()=>{class t{constructor(i,o){this.api=i,this.store=o}fetchAllPlanets(){var i=this;return(0,C.Z)(function*(){const o=yield i.api.get("planets");i.store.saveAllPlanets(o)})()}syncAllPlanets(){return this.store.syncState().planets}allPlanets(){return this.store.planets$}}return t.\u0275fac=function(i){return new(i||t)(d.LFG(lt),d.LFG(rg))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Bu=O(4344);let ig=(()=>{class t extends fi.H{constructor(i,o,a,c,l,p,b){super(),this.characterApi=i,this.relationshipApi=o,this.formBuilder=a,this.bookApi=c,this.planetApi=l,this.modal=p,this.configurationApi=b,this.nodes=[],this.edges=[],this.characters=[],this.relationships=[]}ngOnInit(){var i=this;return(0,C.Z)(function*(){i.subscribe(i.characterApi.cosmereCharacters(),o=>{i.onCharactersChanges(o)}),i.subscribe(i.relationshipApi.cosmereRelationships(),o=>{i.onRelationshipsChanges(o)}),i.subscribe(i.configurationApi.configuration(),o=>i.onConfigurationChanges(o)),(0,N.defer)(()=>{i.characterApi.fetchAllCosmereCharacter(),i.relationshipApi.fetchAllCosmereRelationship()})})()}regenerateNetworkParameters(){this.edges=w(this.filterRelationships(this.relationships));const i=new V.UndirectedGraph;S(this.relationships).forEach(c=>i.addNode(c)),this.filterRelationships(this.relationships).forEach(c=>i.addEdge(c.characterId1,c.characterId2));const a=ut()(i,{rng:ng("1231312"),resolution:2});this.nodes=A(this.filterCharacters(this.characters),this.filterRelationships(this.relationships)).filter(c=>this.edges.map(l=>l.source).includes(c.id)||this.edges.map(l=>l.target).includes(c.id)),this.nodes=this.nodes.map(c=>Object.assign(Object.assign({},c),{group:a[c.id]})),this.edges=this.edges.map(c=>{const l=this.nodes.find(_=>_.id===c.target),p=this.nodes.find(_=>_.id===c.source);if(void 0===l||void 0===p)return c;const b=l.score>p.score?a[l.id]:a[p.id];return Object.assign(Object.assign({},c),{group:b})})}filterCharacters(i){return i}filterRelationships(i){if(!this.configuration)return i;let o=i;return this.configuration.books.length>0&&(o=o.filter(a=>this.configuration.books.includes(a.bookId))),o}onCharactersChanges(i){this.characters=i,this.regenerateNetworkParameters()}onRelationshipsChanges(i){this.relationships=i,this.regenerateNetworkParameters()}onConfigurationChanges(i){this.configuration=i,this.regenerateNetworkParameters()}}return t.\u0275fac=function(i){return new(i||t)(d.Y36(qn),d.Y36(fs),d.Y36(ea),d.Y36(th),d.Y36(Uu),d.Y36(Bu.u),d.Y36(zu))},t.\u0275cmp=d.Xpm({type:t,selectors:[["characters-relationships-graph"]],features:[d.qOj],decls:2,vars:2,consts:[[1,"relative","w-full","h-full","justify-center"],[3,"nodes","links"]],template:function(i,o){1&i&&(d.TgZ(0,"div",0),d._UZ(1,"d3-network",1),d.qZA()),2&i&&(d.xp6(1),d.Q6J("nodes",o.nodes)("links",o.edges))},directives:[Jf],encapsulation:2}),t})();const og=[{path:"",component:(()=>{class t extends z{constructor(){super()}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["network"]],features:[d.qOj],decls:4,vars:0,consts:[[1,"inset-0","flex","flex-col","min-w-0","w-full","overflow-hidden"],[1,"flex","flex-row","h-full","grow","justify-center"],[1,"w-full"]],template:function(i,o){1&i&&(d.TgZ(0,"div",0),d._UZ(1,"configuration"),d.TgZ(2,"div",1),d._UZ(3,"characters-relationships-graph",2),d.qZA(),d.qZA())},directives:[Wu,ig],encapsulation:2}),t})()}];var sg=O(5836);let ag=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[]]}),t})(),ug=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[sg.J,Lo.lN,nh.LD,Jn.ez,qs.d,Oe.UX,Vs.m,ag,Qs]]}),t})(),cg=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[ft.Bz.forChild(og),ug,Do.ZD,Pu.J,Vs.m]]}),t})();var fg=O(5547),hg=O(3378),lg=O.n(hg),dg=O(5894),pg=O.n(dg),gg=O(1063),vg=O.n(gg);const Oo=t=>(t=>t.map(([r,i])=>({label:r,value:i})))(R().map((t=>R().fromPairs(R().sortBy(R().toPairs(t),1).reverse()))(t),(r,i)=>[i,r])),Fu=t=>{const r=Math.min(...t.map(o=>o.value)),i=Math.max(...t.map(o=>o.value));return t.map(o=>Object.assign(Object.assign({},o),{value:(o.value-r)/(i-r)}))};var mg=O(5408);let wg=(()=>{class t extends fi.H{constructor(){super(),this.options={colors:{highlight:"#b11adc",highlightLight:"#d975f6",text:"#777",xAxis:"#eee",yAxis:"#999"},height:200,width:600,margin:{top:10,left:40,right:10,bottom:20},animationDuration:300,ticksInterval:10},this.id=(0,j.V)()}ngOnChanges(i){this.create()}ngAfterViewInit(){this.create()}create(){!this.data||0===this.data.length||(this.data=this.data.splice(0,10),this.element=document.getElementById(this.id+"-barchart"),this.initValues(),this.initScales(),this.initChart(),this.createAxis(),this.createBars())}initChart(){tn(this.element).select("svg").remove(),this.svg=tn(this.element).append("svg").attr("viewBox",`0 0 ${this.options.width} ${this.options.height+100}`)}initValues(){const i=Number(hs(this.data.map(a=>a.value))),o=Number(hi(this.data.map(a=>a.value)));this.minValue=i<0?i-this.options.ticksInterval:0,this.maxValue=o}initScales(){this.yScale=Mo().domain([this.minValue,this.maxValue]).range([this.options.height-this.options.margin.bottom,this.options.margin.top]),this.xScale=So().domain(Yi(this.data.length)).range([this.options.margin.left+this.options.margin.right,this.options.width-this.options.margin.right]).paddingInner(this.calculatePadding(this.data.length))}getBarMaxWidth(){const i=window.innerWidth;return i<=768?i<=480?10:15:20}getBarColor(i,o=0){return`rgb(${(210+o).toString()}, ${(10+20*i+o).toString()}, ${(220-20*i+o).toString()})`}createBars(){this.svg.selectAll(".bar").data(this.data).enter().append("rect").classed("bar",!0).style("fill","transparent").style("display",o=>"number"==typeof o.value?"initial":"none").attr("x",(o,a)=>this.xScale(a)).attr("y",this.yScale(0)).attr("width",this.xScale.bandwidth()).attr("height",0).transition().style("fill",(o,a)=>this.getBarColor(a)).duration(this.options.animationDuration).delay((o,a)=>a*this.options.animationDuration/3).attr("x",(o,a)=>this.xScale(a)).attr("y",(o,a)=>this.yScale(o.value<0?0:o.value)).attr("width",this.xScale.bandwidth()).attr("height",(o,a)=>o.value<0?this.yScale(o.value)-this.yScale(0):this.yScale(0)-this.yScale(o.value))}createAxis(){const i=Zr(this.xScale).tickSize(-this.options.width).tickFormat((a,c)=>this.data[c].label.toUpperCase()),o=_c(this.yScale).tickSize(-this.options.width).tickFormat(a=>`${a}`).ticks(this.options.ticksInterval);this.svg.append("g").attr("class","axis x-axis").attr("transform",`translate(0, ${this.options.height-15})`).call(i).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end"),this.svg.append("g").attr("class","axis y-axis").attr("transform",`translate(${+this.options.margin.left}, 0)`).call(o),this.svg.selectAll(".axis .domain").remove(),this.svg.selectAll(".axis .tick text").style("fill",this.options.colors.text),this.svg.selectAll(".y-axis .tick line").style("stroke",this.options.colors.yAxis),this.svg.selectAll(".x-axis .tick line").style("stroke",this.options.colors.xAxis)}calculatePadding(i){return 1-i*this.getBarMaxWidth()/this.options.width}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["bar-chart"]],inputs:{data:"data",options:"options"},features:[d.qOj,d.TTD],decls:1,vars:1,consts:[[1,"flex","flex-1",3,"id"]],template:function(i,o){1&i&&d._UZ(0,"div",0),2&i&&d.MGl("id","",o.id,"-barchart")},encapsulation:2}),t})();const bg=({color:t,title:r,tickSize:i=6,width:o=36+i,height:a=320,marginTop:c=20,marginRight:l=10+i,marginBottom:p=20,marginLeft:b=5,ticks:_=a/64,tickFormat:k,tickValues:B}={})=>{const L=Yf("svg").attr("width",o).attr("height",a).attr("viewBox",[0,0,o,a]).style("overflow","visible").style("display","block");let at,F=it=>it.selectAll(".tick line").attr("x1",b-o+l);if(t.interpolate){const it=Math.min(t.domain().length,t.range().length);at=t.copy().rangeRound(Eo(Si(a-p,c),it)),L.append("image").attr("x",b).attr("y",c).attr("width",o-b-l).attr("height",a-c-p).attr("preserveAspectRatio","none").attr("xlink:href",ih(t.copy().domain(Eo(Si(0,1),it))).toDataURL())}else if(t.interpolator){if(at=Object.assign(t.copy().interpolator(Hs(a-p,c)),{range:()=>[a-p,c]}),L.append("image").attr("x",b).attr("y",c).attr("width",o-b-l).attr("height",a-c-p).attr("preserveAspectRatio","none").attr("xlink:href",ih(t.interpolator()).toDataURL()),!at.ticks){if(void 0===B){const it=Math.round(_+1);B=Yi(it).map(X=>function ka(t,r,i){if(t=Float64Array.from(function*ps(t,r){if(void 0===r)for(let i of t)null!=i&&(i=+i)>=i&&(yield i);else{let i=-1;for(let o of t)null!=(o=r(o,++i,t))&&(o=+o)>=o&&(yield o)}}(t,i)),(o=t.length)&&!isNaN(r=+r)){if(r<=0||o<2)return hs(t);if(r>=1)return hi(t);var o,a=(o-1)*r,c=Math.floor(a),l=hi(xc(t,c).subarray(0,c+1));return l+(hs(t.subarray(c+1))-l)*(a-c)}}(t.domain(),X/(it-1)))}"function"!=typeof k&&(k=Ys(void 0===k?",f":k))}}else if(t.invertExtent){const it=t.thresholds?t.thresholds():t.quantiles?t.quantiles():t.domain(),X=void 0===k?K=>K:"string"==typeof k?Ys(k):k;at=Mo().domain([-1,t.range().length-1]).rangeRound([a-p,c]),L.append("g").selectAll("rect").data(t.range()).join("rect").attr("y",(K,ct)=>at(ct)).attr("x",b).attr("height",(K,ct)=>at(ct-1)-at(ct)).attr("width",o-l-b).attr("fill",K=>K),B=Yi(it.length),k=K=>X(it[K],K)}else at=So().domain(t.domain()).rangeRound([a-p,c]),L.append("g").selectAll("rect").data(t.domain()).join("rect").attr("y",at).attr("x",b).attr("height",Math.max(0,at.bandwidth()-1)).attr("width",o-b-l).attr("fill",t),F=()=>{};return L.append("g").attr("transform",`translate(${o-l},0)`).call(function vs(t){return Ar(2,t)}(at).ticks(_,"string"==typeof k?k:void 0).tickFormat("function"==typeof k?k:void 0).tickSize(i).tickValues(B)).call(F).call(it=>it.select(".domain").remove()).call(it=>it.append("text").attr("x",b-o+l).attr("y",0).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").attr("class","title").text(r)),L.node()};function ih(t,r=256){const i=document.createElement("canvas");i.width=1,i.height=r;const o=i.getContext("2d");for(let a=0;a<r;++a)o.fillStyle=t(a/(r-1)),o.fillRect(0,r-a,1,1);return i}let e=(()=>{class t extends fi.H{constructor(){super(),this.xLabel="",this.yLabel="",this.config={height:500,width:500,margin:{top:20,left:40,right:30,bottom:30},inset:{top:6,right:6,bottom:6,left:6},dot:{radius:20,strokeWidth:0,strokeColor:"white"},domain:{x:[0,1],y:[0,1]},padding:10,animationDuration:300,ticksInterval:10,color:Dp},this.id=(0,j.V)()}ngOnChanges(i){this.create()}ngAfterViewInit(){this.create()}create(){!this.data||0===this.data.length||(this.element=document.getElementById(this.id+"-chart-3d"),this.initValues(),this.createColorBar(),this.initScales(),this.createAxis(),this.createSvg())}createColorBar(){const i=bg({color:$f([0,1],this.color),title:"Degree"});this.legendElement=document.getElementById(this.id+"-legend-bar"),this.legendElement&&(tn(this.legendElement).select("svg").remove(),this.legendElement.append(i))}initValues(){this.color=this.config.color,this.X=this.data.map(i=>i.x),this.Y=this.data.map(i=>i.y),this.Z=this.data.map(i=>i.z),this.labels=this.data.map(i=>i.label)}initScales(){const o=[this.config.height-this.config.margin.bottom-this.config.inset.bottom,this.config.margin.top+this.config.inset.top];this.xScale=Mo(this.config.domain.x,[this.config.margin.left+this.config.inset.left,this.config.width-this.config.margin.right-this.config.inset.right]),this.yScale=Mo(this.config.domain.y,o)}createAxis(){this.xAxis=Zr(this.xScale).ticks(this.config.width/80),this.yAxis=_c(this.yScale).ticks(this.config.height/50)}createSvg(){tn(this.element).select("svg").remove(),this.svg=tn(this.element).append("svg").attr("width",this.config.width).attr("height",this.config.height).attr("viewBox",[0,0,this.config.width,this.config.height]).attr("style","max-width: 100%; this.options.height: auto; height: intrinsic;"),this.svg.append("g").attr("transform",`translate(0,${this.config.height-this.config.margin.bottom})`).call(this.xAxis).call(a=>a.select(".domain").remove()).call(a=>a.selectAll(".tick line").clone().attr("y2",this.config.margin.top+this.config.margin.bottom-this.config.height).attr("stroke-opacity",.1)).call(a=>a.append("text").attr("x",this.config.width).attr("y",this.config.margin.bottom-4).attr("fill","currentColor").attr("text-anchor","end").text(this.xLabel)),this.svg.append("g").attr("transform",`translate(${this.config.margin.left},0)`).call(this.yAxis).call(a=>a.select(".domain").remove()).call(a=>a.selectAll(".tick line").clone().attr("x2",this.config.width-this.config.margin.left-this.config.margin.right).attr("stroke-opacity",.1)).call(a=>a.append("text").attr("x",-this.config.margin.left).attr("y",10).attr("fill","currentColor").attr("text-anchor","start").text(this.yLabel));const o=Yi(this.X.length).filter(a=>!isNaN(this.X[a])&&!isNaN(this.Y[a]));this.svg.append("g").attr("stroke",this.config.dot.strokeColor).attr("stroke-width",this.config.dot.strokeWidth).selectAll("circle").data(o).join("circle").attr("cx",a=>this.xScale(this.X[a])).attr("cy",a=>this.yScale(this.Y[a])).attr("fill",a=>this.color(this.Z[a])).attr("r",this.config.dot.radius),this.svg.append("g").attr("font-family","sans-serif").attr("font-size",20).attr("stroke-linejoin","round").attr("stroke-linecap","round").selectAll("text").data(o).join("text").attr("x",a=>this.xScale(this.X[a])).attr("y",a=>this.yScale(this.Y[a])).text(a=>this.labels[a]).style("fill","white").style("text-anchor","middle").style("dominant-baseline","central")}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["chart-3d"]],inputs:{data:"data",xLabel:"xLabel",yLabel:"yLabel",config:"config"},features:[d.qOj,d.TTD],decls:3,vars:2,consts:[[1,"flex","flex-row"],[3,"id"],[1,"flex","flex-1","items-end","pb-10",3,"id"]],template:function(i,o){1&i&&(d.TgZ(0,"div",0),d._UZ(1,"div",1),d._UZ(2,"div",2),d.qZA()),2&i&&(d.xp6(1),d.MGl("id","",o.id,"-chart-3d"),d.xp6(1),d.MGl("id","",o.id,"-legend-bar"))},encapsulation:2}),t})();function n(t,r){if(1&t&&(d.TgZ(0,"div",16),d._uU(1),d.qZA()),2&t){const i=d.oxw(),o=i.index,a=i.$implicit;d.xp6(1),d.AsE("",o+1," \xba ",a.label,"")}}function s(t,r){if(1&t&&(d.TgZ(0,"div"),d.YNc(1,n,2,2,"div",15),d.qZA()),2&t){const i=r.index,o=d.oxw().$implicit;d.xp6(1),d.Q6J("ngIf",i>=10*o&&i<10*o+10)}}function h(t,r){if(1&t&&(d.TgZ(0,"div"),d.TgZ(1,"div",13),d.YNc(2,s,2,1,"div",6),d.qZA(),d.qZA()),2&t){const i=d.oxw();d.xp6(2),d.Q6J("ngForOf",i.pagerankCosmere)}}const m=function(){return[0,1,2,3,4,5,6,7,8]},U=[{path:"",component:(()=>{class t extends z{constructor(i,o){super(),this.relationshipApi=i,this.configurationApi=o,this.pagerankEigenvectorAndDegreeCentrality=[],this.configuration=ta()}ngOnInit(){var i=this;this.subscribe(this.relationshipApi.cosmereRelationships(),o=>this.onRelationshipsChanges(o)),this.subscribe(this.configurationApi.configuration(),o=>this.onConfigurationChanges(o)),(0,N.defer)((0,C.Z)(function*(){return yield i.relationshipApi.fetchAllCosmereRelationship()}))}analyseNetwork(i){const o=i.nodes(),a=(0,fg.pagerank)(i,{getEdgeWeight:void 0,maxIterations:300});this.pagerankCosmere=Oo(a);const c=vg()(i);this.betweennessCosmere=Oo(c);const l=lg()(i);this.closenessCosmere=Oo(l),this.closenessCosmere=(0,N.reject)(this.closenessCosmere,L=>1===L.value);const p=pg()(i,{maxIterations:200});this.eigenvectorCosmere=Oo(p);const b=(0,mg.degreeCentrality)(i);this.degreeCentralityCosmere=Oo(b);const _=Fu(this.pagerankCosmere),k=Fu(this.eigenvectorCosmere),B=Fu(this.degreeCentralityCosmere);this.pagerankEigenvectorAndDegreeCentrality=o.map(L=>({label:L,x:_.find(F=>F.label===L).value,y:k.find(F=>F.label===L).value,z:B.find(F=>F.label===L).value})).filter(L=>L.x>=.1&&L.y>.1)}onRelationshipsChanges(i){this.relationships=i,this.analyseNetwork(this.graph())}onConfigurationChanges(i){this.configuration=i,this.analyseNetwork(this.graph())}filterRelationships(i){if(!this.configuration)return i;let o=i;return this.configuration.books.length>0&&(o=o.filter(a=>this.configuration.books.includes(a.bookId))),o}graph(){const i=this.filterRelationships(this.relationships),o=new V.UndirectedGraph;return S(i).forEach(c=>o.addNode(c)),i.forEach(c=>o.addEdge(c.characterId1,c.characterId2)),o}}return t.\u0275fac=function(i){return new(i||t)(d.Y36(fs),d.Y36(zu))},t.\u0275cmp=d.Xpm({type:t,selectors:[["network"]],features:[d.qOj],decls:30,vars:6,consts:[[1,"inset-0","flex","flex-col","min-w-0","w-full","h-screen"],[1,"mr-6"],[1,"flex","flex-col","p-10"],[1,"flex","flex-col","p-10","grow"],[1,"text-xl","mb-5"],[1,"flex","flex-row","gap-10"],[4,"ngFor","ngForOf"],[1,"flex","flex-row","mt-5","gap-5"],[1,"flex","flex-auto","grow","p-6"],[1,"flex","flex-col","grow"],[1,"w-full",3,"data"],[1,"flex","flex-row","mt-5"],[1,"p-6"],[1,"flex","flex-col"],[1,"flex","flex-auto","w-full",3,"data"],["class","mb-3",4,"ngIf"],[1,"mb-3"]],template:function(i,o){1&i&&(d.TgZ(0,"div",0),d._UZ(1,"configuration",1),d.TgZ(2,"div",2),d.TgZ(3,"fuse-card",3),d.TgZ(4,"div",4),d._uU(5,"Lista de personajes m\xe1s relevantes por PageRank"),d.qZA(),d.TgZ(6,"div",5),d.YNc(7,h,3,1,"div",6),d.qZA(),d.qZA(),d.TgZ(8,"div",7),d.TgZ(9,"fuse-card",8),d.TgZ(10,"div",9),d.TgZ(11,"div",4),d._uU(12,"Eigenvector"),d.qZA(),d._UZ(13,"bar-chart",10),d.qZA(),d.qZA(),d.TgZ(14,"fuse-card",8),d.TgZ(15,"div",9),d.TgZ(16,"div",4),d._uU(17,"Betweenness"),d.qZA(),d._UZ(18,"bar-chart",10),d.qZA(),d.qZA(),d.TgZ(19,"fuse-card",8),d.TgZ(20,"div",9),d.TgZ(21,"div",4),d._uU(22,"Closeness"),d.qZA(),d._UZ(23,"bar-chart",10),d.qZA(),d.qZA(),d.qZA(),d.TgZ(24,"div",11),d.TgZ(25,"fuse-card",12),d.TgZ(26,"div",13),d.TgZ(27,"div",4),d._uU(28,"Protagonismo"),d.qZA(),d._UZ(29,"chart-3d",14),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&i&&(d.xp6(7),d.Q6J("ngForOf",d.DdM(5,m)),d.xp6(6),d.Q6J("data",o.eigenvectorCosmere),d.xp6(5),d.Q6J("data",o.betweennessCosmere),d.xp6(5),d.Q6J("data",o.closenessCosmere),d.xp6(6),d.Q6J("data",o.pagerankEigenvectorAndDegreeCentrality))},directives:[Wu,eh.y,Jn.sg,Jn.O5,wg,e],encapsulation:2}),t})()}];let H=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[ft.Bz.forChild(U),Do.ZD,Pu.J,Qs,Jn.ez,Vs.m]]}),t})();const Q=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>jp},{path:"network",loadChildren:()=>cg},{path:"analysis",loadChildren:()=>H}];let vt=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[ft.Bz.forChild(Q)]]}),t})()},7749:(Mt,At,O)=>{var ft=O(8487),C=O(6714),j=O(5568),d=O(8090),z=O(5766),D=O(8859).createRandomIndex,W=O(6956),A=W.UndirectedLouvainIndex,w=W.DirectedLouvainIndex,S={nodeCommunityAttribute:"community",getEdgeWeight:"weight",fastLocalMoves:!0,randomWalk:!0,resolution:1,rng:Math.random};function T($,Y,Z){var G=$.get(Y);void 0===G&&(G=0),$.set(Y,G+=Z)}function R($,Y,Z,G,ot){return Math.abs(G-ot)<1e-10?$!==Y&&Z>$:G>ot}function tt($,Y,Z){var dt,lt,It,Ot,Zt,jt,Yt,Kt,ue,ce,Ce,Vt,me,fe,St,Lt,Ge,xe,G=new A(Y,{getEdgeWeight:Z.getEdgeWeight,keepDendrogram:$,resolution:Z.resolution}),ot=D(Z.rng),gt=!0,wt=!0,Et=new d(Float64Array,G.C),Ne=0,Fe=0,en=[];for(Z.fastLocalMoves&&(It=new z(G.C));gt;){if(Vt=G.C,gt=!1,wt=!0,Z.fastLocalMoves){for(xe=0,Kt=Z.randomWalk?ot(Vt):0,ue=0;ue<Vt;ue++,Kt++)It.enqueue(ce=Kt%Vt);for(;0!==It.size;){for(ce=It.dequeue(),Fe++,me=0,Et.clear(),dt=G.belongings[ce],Ot=G.starts[ce],Zt=G.starts[ce+1];Ot<Zt;Ot++)me+=jt=G.weights[Ot],T(Et,lt=G.belongings[Ce=G.neighborhood[Ot]],jt);for(St=G.fastDeltaWithOwnCommunity(ce,me,Et.get(dt)||0,dt),fe=dt,Yt=0;Yt<Et.size;Yt++)(lt=Et.dense[Yt])!==dt&&(Ne++,R(fe,dt,lt,Lt=G.fastDelta(ce,me,Et.vals[Yt],lt),St)&&(St=Lt,fe=lt));if(St<0){if((fe=G.isolate(ce,me))===dt)continue}else{if(fe===dt)continue;G.move(ce,me,fe)}for(gt=!0,xe++,Ot=G.starts[ce],Zt=G.starts[ce+1];Ot<Zt;Ot++)(lt=G.belongings[Ce=G.neighborhood[Ot]])!==fe&&It.enqueue(Ce)}en.push(xe)}else for(en.push(Ge=[]);wt;){for(wt=!1,xe=0,Kt=Z.randomWalk?ot(Vt):0,ue=0;ue<Vt;ue++,Kt++){for(ce=Kt%Vt,Fe++,me=0,Et.clear(),dt=G.belongings[ce],Ot=G.starts[ce],Zt=G.starts[ce+1];Ot<Zt;Ot++)me+=jt=G.weights[Ot],T(Et,lt=G.belongings[Ce=G.neighborhood[Ot]],jt);for(St=G.fastDeltaWithOwnCommunity(ce,me,Et.get(dt)||0,dt),fe=dt,Yt=0;Yt<Et.size;Yt++)(lt=Et.dense[Yt])!==dt&&(Ne++,R(fe,dt,lt,Lt=G.fastDelta(ce,me,Et.vals[Yt],lt),St)&&(St=Lt,fe=lt));if(St<0){if((fe=G.isolate(ce,me))===dt)continue}else{if(fe===dt)continue;G.move(ce,me,fe)}wt=!0,xe++}Ge.push(xe),gt=wt||gt}gt&&G.zoomOut()}return{index:G,deltaComputations:Ne,nodesVisited:Fe,moves:en}}function V($,Y,Z){var dt,lt,It,Ot,Zt,jt,Kt,ue,ce,Ce,Vt,me,Be,fe,St,Lt,Ne,en,$e,Ye,G=new w(Y,{getEdgeWeight:Z.getEdgeWeight,keepDendrogram:$,resolution:Z.resolution}),ot=D(Z.rng),gt=!0,wt=!0,Et=new d(Float64Array,G.C),Ge=0,xe=0,Wn=[];for(Z.fastLocalMoves&&(It=new z(G.C));gt;){if(Be=G.C,gt=!1,wt=!0,Z.fastLocalMoves){for(Ye=0,ce=Z.randomWalk?ot(Be):0,Ce=0;Ce<Be;Ce++,ce++)It.enqueue(Vt=ce%Be);for(;0!==It.size;){for(Vt=It.dequeue(),xe++,fe=0,St=0,Et.clear(),dt=G.belongings[Vt],Ot=G.starts[Vt],Zt=G.starts[Vt+1],jt=G.offsets[Vt];Ot<Zt;Ot++)Kt=G.weights[Ot],Ot<jt?St+=Kt:fe+=Kt,T(Et,lt=G.belongings[me=G.neighborhood[Ot]],Kt);for(Ne=G.deltaWithOwnCommunity(Vt,fe,St,Et.get(dt)||0,dt),Lt=dt,ue=0;ue<Et.size;ue++)(lt=Et.dense[ue])!==dt&&(Ge++,R(Lt,dt,lt,en=G.delta(Vt,fe,St,Et.vals[ue],lt),Ne)&&(Ne=en,Lt=lt));if(Ne<0){if((Lt=G.isolate(Vt,fe,St))===dt)continue}else{if(Lt===dt)continue;G.move(Vt,fe,St,Lt)}for(gt=!0,Ye++,Ot=G.starts[Vt],Zt=G.starts[Vt+1];Ot<Zt;Ot++)(lt=G.belongings[me=G.neighborhood[Ot]])!==Lt&&It.enqueue(me)}Wn.push(Ye)}else for(Wn.push($e=[]);wt;){for(wt=!1,Ye=0,ce=Z.randomWalk?ot(Be):0,Ce=0;Ce<Be;Ce++,ce++){for(Vt=ce%Be,xe++,fe=0,St=0,Et.clear(),dt=G.belongings[Vt],Ot=G.starts[Vt],Zt=G.starts[Vt+1],jt=G.offsets[Vt];Ot<Zt;Ot++)Kt=G.weights[Ot],Ot<jt?St+=Kt:fe+=Kt,T(Et,lt=G.belongings[me=G.neighborhood[Ot]],Kt);for(Ne=G.deltaWithOwnCommunity(Vt,fe,St,Et.get(dt)||0,dt),Lt=dt,ue=0;ue<Et.size;ue++)(lt=Et.dense[ue])!==dt&&(Ge++,R(Lt,dt,lt,en=G.delta(Vt,fe,St,Et.vals[ue],lt),Ne)&&(Ne=en,Lt=lt));if(Ne<0){if((Lt=G.isolate(Vt,fe,St))===dt)continue}else{if(Lt===dt)continue;G.move(Vt,fe,St,Lt)}wt=!0,Ye++}$e.push(Ye),gt=wt||gt}gt&&G.zoomOut()}return{index:G,deltaComputations:Ge,nodesVisited:xe,moves:Wn}}function nt($,Y,Z,G){if(!C(Z))throw new Error("graphology-communities-louvain: the given graph is not a valid graphology instance.");var ot=j(Z);if("mixed"===ot)throw new Error("graphology-communities-louvain: cannot run the algorithm on a true mixed graph.");G=ft(G,S);var gt=0;if(0===Z.size){if($)return void Z.forEachNode(function(Ot){Z.setNodeAttribute(Ot,G.nodeCommunityAttribute,gt++)});var wt={};return Z.forEachNode(function(Ot){wt[Ot]=gt++}),Y?{communities:wt,count:Z.order,deltaComputations:0,dendrogram:null,level:0,modularity:NaN,moves:null,nodesVisited:0,resolution:G.resolution}:wt}var lt=("undirected"===ot?tt:V)(Y,Z,G),Et=lt.index;if(!Y)return $?void Et.assign(G.nodeCommunityAttribute):Et.collect();var It={count:Et.C,deltaComputations:lt.deltaComputations,dendrogram:Et.dendrogram,level:Et.level,modularity:Et.modularity(),moves:lt.moves,nodesVisited:lt.nodesVisited,resolution:G.resolution};return $?(Et.assign(G.nodeCommunityAttribute),It):(It.communities=Et.collect(),It)}var ut=nt.bind(null,!1,!1);ut.assign=nt.bind(null,!0,!1),ut.detailed=nt.bind(null,!1,!0),ut.defaults=S,Mt.exports=ut},6956:(Mt,At,O)=>{var ft=O(6116),C=O(8487),j=O(2954).Q6,d=Symbol.for("nodejs.util.inspect.custom"),z={getEdgeWeight:"weight",keepDendrogram:!1,resolution:1};function D(A,w){var S=(w=C(w,z)).resolution,T=j(w.getEdgeWeight).fromEntry,N=2*(A.size-A.selfLoopCount),R=ft.getPointerArray(N),tt=ft.getPointerArray(A.order+1),V=w.getEdgeWeight?Float64Array:ft.getPointerArray(2*A.size);this.C=A.order,this.M=0,this.E=N,this.U=0,this.resolution=S,this.level=0,this.graph=A,this.nodes=new Array(A.order),this.keepDendrogram=w.keepDendrogram,this.neighborhood=new tt(N),this.weights=new V(N),this.loops=new V(A.order),this.starts=new R(A.order+1),this.belongings=new tt(A.order),this.dendrogram=[],this.mapping=null,this.counts=new tt(A.order),this.unused=new tt(A.order),this.totalWeights=new V(A.order);var ut,nt={},$=0,Y=0,Z=this;A.forEachNode(function(G){Z.nodes[$]=G,nt[G]=$,Y+=A.undirectedDegreeWithoutSelfLoops(G),Z.starts[$]=Y,Z.belongings[$]=$,Z.counts[$]=1,$++}),A.forEachEdge(function(G,ot,gt,wt,dt,lt,Et){if(ut=T(G,ot,gt,wt,dt,lt,Et),gt=nt[gt],wt=nt[wt],Z.M+=ut,gt===wt)Z.totalWeights[gt]+=2*ut,Z.loops[gt]=2*ut;else{Z.totalWeights[gt]+=ut,Z.totalWeights[wt]+=ut;var It=--Z.starts[gt],Ot=--Z.starts[wt];Z.neighborhood[It]=wt,Z.neighborhood[Ot]=gt,Z.weights[It]=ut,Z.weights[Ot]=ut}}),this.starts[$]=this.E,this.keepDendrogram?this.dendrogram.push(this.belongings.slice()):this.mapping=this.belongings.slice()}function W(A,w){var S=(w=C(w,z)).resolution,T=j(w.getEdgeWeight).fromEntry,N=2*(A.size-A.selfLoopCount),R=ft.getPointerArray(N),tt=ft.getPointerArray(A.order+1),V=w.getEdgeWeight?Float64Array:ft.getPointerArray(2*A.size);this.C=A.order,this.M=0,this.E=N,this.U=0,this.resolution=S,this.level=0,this.graph=A,this.nodes=new Array(A.order),this.keepDendrogram=w.keepDendrogram,this.neighborhood=new tt(N),this.weights=new V(N),this.loops=new V(A.order),this.starts=new R(A.order+1),this.offsets=new R(A.order),this.belongings=new tt(A.order),this.dendrogram=[],this.counts=new tt(A.order),this.unused=new tt(A.order),this.totalInWeights=new V(A.order),this.totalOutWeights=new V(A.order);var ut,nt={},$=0,Y=0,Z=this;A.forEachNode(function(G){Z.nodes[$]=G,nt[G]=$,Y+=A.outDegreeWithoutSelfLoops(G),Z.starts[$]=Y,Y+=A.inDegreeWithoutSelfLoops(G),Z.offsets[$]=Y,Z.belongings[$]=$,Z.counts[$]=1,$++}),A.forEachEdge(function(G,ot,gt,wt,dt,lt,Et){if(ut=T(G,ot,gt,wt,dt,lt,Et),gt=nt[gt],wt=nt[wt],Z.M+=ut,gt===wt)Z.loops[gt]+=ut,Z.totalInWeights[gt]+=ut,Z.totalOutWeights[gt]+=ut;else{Z.totalOutWeights[gt]+=ut,Z.totalInWeights[wt]+=ut;var It=--Z.starts[gt],Ot=--Z.offsets[wt];Z.neighborhood[It]=wt,Z.neighborhood[Ot]=gt,Z.weights[It]=ut,Z.weights[Ot]=ut}}),this.starts[$]=this.E,this.keepDendrogram?this.dendrogram.push(this.belongings.slice()):this.mapping=this.belongings.slice()}D.prototype.isolate=function(A,w){var S=this.belongings[A];if(1===this.counts[S])return S;var T=this.unused[--this.U],N=this.loops[A];return this.totalWeights[S]-=w+N,this.totalWeights[T]+=w+N,this.belongings[A]=T,this.counts[S]--,this.counts[T]++,T},D.prototype.move=function(A,w,S){var T=this.belongings[A],N=this.loops[A];this.totalWeights[T]-=w+N,this.totalWeights[S]+=w+N,this.belongings[A]=S;var R=1==this.counts[T]--;this.counts[S]++,R&&(this.unused[this.U++]=T)},D.prototype.computeNodeDegree=function(A){var w,S,N=0;for(w=this.starts[A],S=this.starts[A+1];w<S;w++)N+=this.weights[w];return N},D.prototype.expensiveIsolate=function(A){var w=this.computeNodeDegree(A);return this.isolate(A,w)},D.prototype.expensiveMove=function(A,w){var S=this.computeNodeDegree(A);this.move(A,S,w)},D.prototype.zoomOut=function(){var R,tt,V,nt,ut,$,Y,Z,G,ot,gt,A=new Array(this.C-this.U),w={},S=this.nodes.length,T=0,N=0;for(R=0,V=this.C;R<V;R++)($=this.belongings[R])in w||(w[$]=T,A[T]={adj:{},totalWeights:this.totalWeights[$],internalWeights:0},T++),this.belongings[R]=w[$];if(this.keepDendrogram){for(ot=this.dendrogram[this.level],gt=new(ft.getPointerArray(T))(S),R=0;R<S;R++)gt[R]=this.belongings[ot[R]];this.dendrogram.push(gt)}else for(R=0;R<S;R++)this.mapping[R]=this.belongings[this.mapping[R]];for(R=0,V=this.C;R<V;R++)for(G=(Z=A[$=this.belongings[R]]).adj,Z.internalWeights+=this.loops[R],tt=this.starts[R],nt=this.starts[R+1];tt<nt;tt++)$!==(Y=this.belongings[ut=this.neighborhood[tt]])?(Y in G||(G[Y]=0),G[Y]+=this.weights[tt]):Z.internalWeights+=this.weights[tt];for(this.C=T,ut=0,$=0;$<T;$++)for(Y in G=(Z=A[$]).adj,this.totalWeights[$=+$]=Z.totalWeights,this.loops[$]=Z.internalWeights,this.counts[$]=1,this.starts[$]=ut,this.belongings[$]=$,G)this.neighborhood[ut]=+Y,this.weights[ut]=G[Y],N++,ut++;return this.starts[T]=N,this.E=N,this.U=0,this.level++,w},D.prototype.modularity=function(){var A,S,T,N,R=0,tt=2*this.M,V=new Float64Array(this.C);for(S=0;S<this.C;S++)for(V[A=this.belongings[S]]+=this.loops[S],T=this.starts[S],N=this.starts[S+1];T<N;T++)A===this.belongings[this.neighborhood[T]]&&(V[A]+=this.weights[T]);for(S=0;S<this.C;S++)R+=V[S]/tt-Math.pow(this.totalWeights[S]/tt,2)*this.resolution;return R},D.prototype.delta=function(A,w,S,T){var N=this.M;return S/N-this.totalWeights[T]*(w+=this.loops[A])*this.resolution/(2*N*N)},D.prototype.deltaWithOwnCommunity=function(A,w,S,T){var N=this.M;return S/N-(this.totalWeights[T]-(w+=this.loops[A]))*w*this.resolution/(2*N*N)},D.prototype.fastDelta=function(A,w,S,T){return S-(w+=this.loops[A])*this.totalWeights[T]*this.resolution/(2*this.M)},D.prototype.fastDeltaWithOwnCommunity=function(A,w,S,T){return S-(w+=this.loops[A])*(this.totalWeights[T]-w)*this.resolution/(2*this.M)},D.prototype.bounds=function(A){return[this.starts[A],this.starts[A+1]]},D.prototype.project=function(){var A=this,w={};return A.nodes.slice(0,this.C).forEach(function(S,T){w[S]=Array.from(A.neighborhood.slice(A.starts[T],A.starts[T+1])).map(function(N){return A.nodes[N]})}),w},D.prototype.collect=function(A){arguments.length<1&&(A=this.level);var T,N,w={},S=this.keepDendrogram?this.dendrogram[A]:this.mapping;for(T=0,N=S.length;T<N;T++)w[this.nodes[T]]=S[T];return w},D.prototype.assign=function(A,w){arguments.length<2&&(w=this.level);var T,N,S=this.keepDendrogram?this.dendrogram[w]:this.mapping;for(T=0,N=S.length;T<N;T++)this.graph.setNodeAttribute(this.nodes[T],A,S[T])},D.prototype[d]=function(){var A={};Object.defineProperty(A,"constructor",{value:D,enumerable:!1}),A.C=this.C,A.M=this.M,A.E=this.E,A.U=this.U,A.resolution=this.resolution,A.level=this.level,A.nodes=this.nodes,A.starts=this.starts.slice(0,A.C+1);var T=this;return["neighborhood","weights"].forEach(function(N){A[N]=T[N].slice(0,A.E)}),["counts","loops","belongings","totalWeights"].forEach(function(N){A[N]=T[N].slice(0,A.C)}),A.unused=this.unused.slice(0,this.U),this.keepDendrogram?A.dendrogram=this.dendrogram:A.mapping=this.mapping,A},W.prototype.bounds=D.prototype.bounds,W.prototype.inBounds=function(A){return[this.offsets[A],this.starts[A+1]]},W.prototype.outBounds=function(A){return[this.starts[A],this.offsets[A]]},W.prototype.project=D.prototype.project,W.prototype.projectIn=function(){var A=this,w={};return A.nodes.slice(0,this.C).forEach(function(S,T){w[S]=Array.from(A.neighborhood.slice(A.offsets[T],A.starts[T+1])).map(function(N){return A.nodes[N]})}),w},W.prototype.projectOut=function(){var A=this,w={};return A.nodes.slice(0,this.C).forEach(function(S,T){w[S]=Array.from(A.neighborhood.slice(A.starts[T],A.offsets[T])).map(function(N){return A.nodes[N]})}),w},W.prototype.isolate=function(A,w,S){var T=this.belongings[A];if(1===this.counts[T])return T;var N=this.unused[--this.U],R=this.loops[A];return this.totalInWeights[T]-=w+R,this.totalInWeights[N]+=w+R,this.totalOutWeights[T]-=S+R,this.totalOutWeights[N]+=S+R,this.belongings[A]=N,this.counts[T]--,this.counts[N]++,N},W.prototype.move=function(A,w,S,T){var N=this.belongings[A],R=this.loops[A];this.totalInWeights[N]-=w+R,this.totalInWeights[T]+=w+R,this.totalOutWeights[N]-=S+R,this.totalOutWeights[T]+=S+R,this.belongings[A]=T;var tt=1==this.counts[N]--;this.counts[T]++,tt&&(this.unused[this.U++]=N)},W.prototype.computeNodeInDegree=function(A){var w,S,N=0;for(w=this.offsets[A],S=this.starts[A+1];w<S;w++)N+=this.weights[w];return N},W.prototype.computeNodeOutDegree=function(A){var w,S,N=0;for(w=this.starts[A],S=this.offsets[A];w<S;w++)N+=this.weights[w];return N},W.prototype.expensiveMove=function(A,w){var S=this.computeNodeInDegree(A),T=this.computeNodeOutDegree(A);this.move(A,S,T,w)},W.prototype.zoomOut=function(){var R,tt,V,nt,ut,$,Y,Z,G,ot,gt,wt,dt,lt,Et,A=new Array(this.C-this.U),w={},S=this.nodes.length,T=0,N=0;for(R=0,V=this.C;R<V;R++)($=this.belongings[R])in w||(w[$]=T,A[T]={inAdj:{},outAdj:{},totalInWeights:this.totalInWeights[$],totalOutWeights:this.totalOutWeights[$],internalWeights:0},T++),this.belongings[R]=w[$];if(this.keepDendrogram){for(lt=this.dendrogram[this.level],Et=new(ft.getPointerArray(T))(S),R=0;R<S;R++)Et[R]=this.belongings[lt[R]];this.dendrogram.push(Et)}else for(R=0;R<S;R++)this.mapping[R]=this.belongings[this.mapping[R]];for(R=0,V=this.C;R<V;R++)for(G=this.offsets[R],wt=(Z=A[$=this.belongings[R]]).inAdj,dt=Z.outAdj,Z.internalWeights+=this.loops[R],tt=this.starts[R],nt=this.starts[R+1];tt<nt;tt++)gt=(ot=tt<G)?dt:wt,$!==(Y=this.belongings[ut=this.neighborhood[tt]])?(Y in gt||(gt[Y]=0),gt[Y]+=this.weights[tt]):ot&&(Z.internalWeights+=this.weights[tt]);for(this.C=T,ut=0,$=0;$<T;$++){for(Y in wt=(Z=A[$]).inAdj,dt=Z.outAdj,this.totalInWeights[$=+$]=Z.totalInWeights,this.totalOutWeights[$]=Z.totalOutWeights,this.loops[$]=Z.internalWeights,this.counts[$]=1,this.starts[$]=ut,this.belongings[$]=$,dt)this.neighborhood[ut]=+Y,this.weights[ut]=dt[Y],N++,ut++;for(Y in this.offsets[$]=ut,wt)this.neighborhood[ut]=+Y,this.weights[ut]=wt[Y],N++,ut++}return this.starts[T]=N,this.E=N,this.U=0,this.level++,w},W.prototype.modularity=function(){var A,S,T,N,R=0,tt=this.M,V=new Float64Array(this.C);for(S=0;S<this.C;S++)for(V[A=this.belongings[S]]+=this.loops[S],T=this.starts[S],N=this.offsets[S];T<N;T++)A===this.belongings[this.neighborhood[T]]&&(V[A]+=this.weights[T]);for(S=0;S<this.C;S++)R+=V[S]/tt-this.totalInWeights[S]*this.totalOutWeights[S]/Math.pow(tt,2)*this.resolution;return R},W.prototype.delta=function(A,w,S,T,N){var R=this.M,nt=this.loops[A];return T/R-((S+=nt)*this.totalInWeights[N]+(w+=nt)*this.totalOutWeights[N])*this.resolution/(R*R)},W.prototype.deltaWithOwnCommunity=function(A,w,S,T,N){var R=this.M,nt=this.loops[A];return T/R-((S+=nt)*(this.totalInWeights[N]-(w+=nt))+w*(this.totalOutWeights[N]-S))*this.resolution/(R*R)},W.prototype.collect=D.prototype.collect,W.prototype.assign=D.prototype.assign,W.prototype[d]=function(){var A={};Object.defineProperty(A,"constructor",{value:W,enumerable:!1}),A.C=this.C,A.M=this.M,A.E=this.E,A.U=this.U,A.resolution=this.resolution,A.level=this.level,A.nodes=this.nodes,A.starts=this.starts.slice(0,A.C+1);var T=this;return["neighborhood","weights"].forEach(function(N){A[N]=T[N].slice(0,A.E)}),["counts","offsets","loops","belongings","totalInWeights","totalOutWeights"].forEach(function(N){A[N]=T[N].slice(0,A.C)}),A.unused=this.unused.slice(0,this.U),this.keepDendrogram?A.dendrogram=this.dendrogram:A.mapping=this.mapping,A},At.UndirectedLouvainIndex=D,At.DirectedLouvainIndex=W},6078:(Mt,At,O)=>{var ft=O(6116),C=O(2954).Q6;function j(D,W){return"outbound"===D||"inbound"===D?W.directedSize+2*W.undirectedSize:"in"===D||"out"===D||"directed"===D?W.directedSize:2*W.undirectedSize}function d(D,W){var A=D[(W=W||"outbound")+"Neighbors"].bind(D),w=j(W,D),S=ft.getPointerArray(w),T=ft.getPointerArray(D.order);this.graph=D,this.neighborhood=new T(w),this.starts=new S(D.order+1),this.nodes=D.nodes();var R,tt,V,nt,$,N={},Y=0;for(R=0,tt=D.order;R<tt;R++)N[this.nodes[R]]=R;for(R=0,tt=D.order;R<tt;R++)for($=A(this.nodes[R]),this.starts[R]=Y,V=0,nt=$.length;V<nt;V++)this.neighborhood[Y++]=N[$[V]];this.starts[R]=w}function z(D,W,A){var w=D[(A=A||"outbound")+"Edges"].bind(D),S=j(A,D),T=ft.getPointerArray(S),N=ft.getPointerArray(D.order),R=C(W).fromMinimalEntry;this.graph=D,this.neighborhood=new N(S),this.weights=new Float64Array(S),this.outDegrees=new Float64Array(D.order),this.starts=new T(D.order+1),this.nodes=D.nodes();var V,nt,ut,$,Y,Z,G,ot,gt,tt={},wt=0;for(V=0,nt=D.order;V<nt;V++)tt[this.nodes[V]]=V;for(V=0,nt=D.order;V<nt;V++)for(G=w(Y=this.nodes[V]),this.starts[V]=wt,ut=0,$=G.length;ut<$;ut++)Z=D.opposite(Y,ot=G[ut]),gt=R(ot,D.getEdgeAttributes(ot)),this.neighborhood[wt]=tt[Z],this.weights[wt++]=gt,this.outDegrees[V]+=gt;this.starts[V]=S}d.prototype.bounds=function(D){return[this.starts[D],this.starts[D+1]]},d.prototype.project=function(){var D=this,W={};return D.nodes.forEach(function(A,w){W[A]=Array.from(D.neighborhood.slice(D.starts[w],D.starts[w+1])).map(function(S){return D.nodes[S]})}),W},d.prototype.collect=function(D){var W,A,w={};for(W=0,A=D.length;W<A;W++)w[this.nodes[W]]=D[W];return w},d.prototype.assign=function(D,W){var A=0;this.graph.updateEachNodeAttributes(function(w,S){return S[D]=W[A++],S},{attributes:[D]})},At.NeighborhoodIndex=d,z.prototype.bounds=d.prototype.bounds,z.prototype.project=d.prototype.project,z.prototype.collect=d.prototype.collect,z.prototype.assign=d.prototype.assign,At.WeightedNeighborhoodIndex=z},1063:(Mt,At,O)=>{var ft=O(6714),C=O(3933),j=O(8487),d=C.createUnweightedIndexedBrandes,z=C.createDijkstraIndexedBrandes,D={nodeCentralityAttribute:"betweennessCentrality",getEdgeWeight:"weight",normalized:!0};function W(w,S,T){if(!ft(S))throw new Error("graphology-centrality/beetweenness-centrality: the given graph is not a valid graphology instance.");var nt,ut,$,Y,Z,G,ot,gt,wt,dt,N=(T=j(T,D)).nodeCentralityAttribute,R=T.normalized,tt=T.getEdgeWeight?z(S,T.getEdgeWeight):d(S),V=S.order,lt=new Float64Array(V),Et=new Float64Array(V);for(G=0;G<V;G++){for($=(nt=tt(G))[1],Y=nt[2],ot=(ut=nt[0]).size;ot--;)lt[ut.items[ut.size-ot]]=0;for(;0!==ut.size;){for(Z=(1+lt[dt=ut.pop()])/Y[dt],ot=0,gt=$[dt].length;ot<gt;ot++)lt[wt=$[dt][ot]]+=Y[wt]*Z;dt!==G&&(Et[dt]+=lt[dt])}}var It;if(null!==(It=R?V<=2?null:1/((V-1)*(V-2)):"undirected"===S.type?.5:null))for(G=0;G<V;G++)Et[G]*=It;return w?tt.index.assign(N,Et):tt.index.collect(Et)}var A=W.bind(null,!1);A.assign=W.bind(null,!0),Mt.exports=A},3378:(Mt,At,O)=>{var ft=O(6714),C=O(8487),j=O(8740),d=O(4268),z=O(6078).NeighborhoodIndex,D={nodeCentralityAttribute:"closenessCentrality",wassermanFaust:!1};function W(S){this.index=new z(S,"inbound"),this.queue=new j(Array,S.order),this.seen=new d(S.order)}function A(S,T,N){if(!ft(T))throw new Error("graphology-metrics/centrality/closeness: the given graph is not a valid graphology instance.");var nt,ut,$,Y,Z,R=(N=C(N,D)).wassermanFaust,tt=new W(T),V=T.order,G=new Float64Array(V);for(nt=0;nt<V;nt++)$=(ut=tt.fromNode(nt))[0],Z=0,(Y=ut[1])>0&&V>1&&(Z=$/Y,R&&(Z*=$/(V-1))),G[nt]=Z;return S?tt.index.assign(N.nodeCentralityAttribute,G):tt.index.collect(G)}W.prototype.fromNode=function(S){var T=this.index,N=this.queue,R=this.seen;R.clear(),N.clear(),R.add(S),N.push([S,0]);for(var tt,V,nt,ut,$,Y,Z=0,G=0;0!==N.size;)for(0!==(nt=(tt=N.shift())[1])&&(Z+=nt,G+=1),$=T.starts[(V=tt[0])+1],ut=T.starts[V];ut<$;ut++)!R.has(Y=T.neighborhood[ut])&&(R.add(Y),N.push([Y,nt+1]));return[G,Z]};var w=A.bind(null,!1);w.assign=A.bind(null,!0),Mt.exports=w},5408:(Mt,At,O)=>{var ft=O(6714);function C(D,W,A,w){var S=W+"Centrality";if(!ft(A))throw new Error("graphology-centrality/"+S+": the given graph is not a valid graphology instance.");if("degree"!==W&&"undirected"===A.type)throw new Error("graphology-centrality/"+S+": cannot compute "+W+" centrality on an undirected graph.");var T=(w=w||{}).nodeCentralityAttribute||S,N=A.order-1,R=A[W].bind(A);if(!D){var tt={};return A.forEachNode(function(V){tt[V]=R(V)/N}),tt}A.updateEachNodeAttributes(function(V,nt){return nt[T]=R(V)/N,nt},{attributes:[T]})}var j=C.bind(null,!1,"degree"),d=C.bind(null,!1,"inDegree"),z=C.bind(null,!1,"outDegree");j.assign=C.bind(null,!0,"degree"),d.assign=C.bind(null,!0,"inDegree"),z.assign=C.bind(null,!0,"outDegree"),At.degreeCentrality=j,At.inDegreeCentrality=d,At.outDegreeCentrality=z},5894:(Mt,At,O)=>{var ft=O(6714),C=O(8487),j=O(6078).WeightedNeighborhoodIndex,d={nodeCentralityAttribute:"eigenvectorCentrality",getEdgeWeight:"weight",maxIterations:100,tolerance:1e-6};function z(A){for(var w=0,S=0,T=0,N=A.length;T<N;T++){var R=Math.abs(A[T]);R>w&&(S*=w/R*(w/R),w=R),S+=0===R&&0===w?0:R/w*(R/w)}return w===1/0?1:w*Math.sqrt(S)}function D(A,w,S){if(!ft(w))throw new Error("graphology-metrics/centrality/eigenvector: the given graph is not a valid graphology instance.");var V,nt,ut,T=(S=C(S,d)).maxIterations,N=S.tolerance,R=w.order,tt=new j(w,S.getEdgeWeight),Y=new Float64Array(w.order);for(V=0;V<R;V++)Y[V]=1/R;for(var gt,wt,Z=0,G=0,dt=!1;Z<T;){for(gt=Y,Y=new Float64Array(gt),V=0;V<R;V++)for(ut=tt.starts[V+1],nt=tt.starts[V];nt<ut;nt++)Y[tt.neighborhood[nt]]+=gt[V]*tt.weights[nt];for(wt=z(Y),V=0;V<R;V++)Y[V]/=wt;for(G=0,V=0;V<R;V++)G+=Math.abs(Y[V]-gt[V]);if(G<R*N){dt=!0;break}Z++}if(!dt)throw Error("graphology-metrics/centrality/eigenvector: failed to converge.");if(!A)return tt.collect(Y);tt.assign(S.nodeCentralityAttribute,Y)}var W=D.bind(null,!1);W.assign=D.bind(null,!0),Mt.exports=W},9850:(Mt,At,O)=>{var ft=O(8487),C=O(6714),j=O(2954).Q6,d={nodeAuthorityAttribute:"authority",nodeHubAttribute:"hub",getEdgeWeight:"weight",maxIterations:100,normalize:!0,tolerance:1e-8};function z(w,S){var N,R,T=Object.create(null);for(N=0,R=w.length;N<R;N++)T[w[N]]=S;return T}function D(w){var S=0;for(var T in w)S+=w[T];return S}function W(w,S,T){if(!C(S))throw new Error("graphology-hits: the given graph is not a valid graphology instance.");if(S.multi)throw new Error("graphology-hits: the HITS algorithm does not work with MultiGraphs.");T=ft(T,d);var V,Y,Z,G,ot,gt,wt,dt,lt,Et,It,Ot,Zt,jt,N=j(T.getEdgeWeight).fromEntry,R=S.order,tt=S.nodes(),nt=z(tt,1/R),ut={},$=!1;for(S.forEachEdge(function(Yt,Kt,ue,ce,Ce,Vt,me){ut[Yt]=N(Yt,Kt,ue,ce,Ce,Vt,me)}),wt=0;wt<T.maxIterations;wt++){for(Y=nt,nt=z(tt,0),Z=z(tt,0),lt=0,dt=0,Ot=0;Ot<R;Ot++)for(Zt=0,jt=(V=S.outboundEdges(G=tt[Ot])).length;Zt<jt;Zt++)ot=S.opposite(G,gt=V[Zt]),Z[ot]+=Y[G]*ut[gt],Z[ot]>dt&&(dt=Z[ot]);for(Ot=0;Ot<R;Ot++)for(Zt=0,jt=(V=S.outboundEdges(G=tt[Ot])).length;Zt<jt;Zt++)ot=S.opposite(G,gt=V[Zt]),nt[G]+=Z[ot]*ut[gt],nt[ot]>lt&&(lt=nt[ot]);for(G in It=1/lt,nt)nt[G]*=It;for(G in It=1/dt,Z)Z[G]*=It;for(G in Et=0,nt)Et+=Math.abs(nt[G]-Y[G]);if(Et<T.tolerance){$=!0;break}}if(!$)throw Error("graphology-metrics/centrality/hits: failed to converge.");if(T.normalize){for(G in It=1/D(Z),Z)Z[G]*=It;for(G in It=1/D(nt),nt)nt[G]*=It}if(!w)return{hubs:nt,authorities:Z};S.updateEachNodeAttributes(function(Yt,Kt){return Kt[T.nodeAuthorityAttribute]=Z[Yt],Kt[T.nodeHubAttribute]=nt[Yt],Kt},{attributes:[T.nodeAuthorityAttribute,T.nodeHubAttribute]})}var A=W.bind(null,!1);A.assign=W.bind(null,!0),Mt.exports=A},5547:(Mt,At,O)=>{O(5408);O(1063),O(3378),O(5894),O(9850),At.pagerank=O(593)},593:(Mt,At,O)=>{var ft=O(6714),C=O(8487),j=O(6078).WeightedNeighborhoodIndex,d={nodePagerankAttribute:"pagerank",getEdgeWeight:"weight",alpha:.85,maxIterations:100,tolerance:1e-6};function z(W,A,w){if(!ft(A))throw new Error("graphology-metrics/centrality/pagerank: the given graph is not a valid graphology instance.");var ut,$,Y,Z,S=(w=C(w,d)).alpha,T=w.maxIterations,N=w.tolerance,R=w.nodePagerankAttribute,tt=A.order,V=1/tt,nt=new j(A,w.getEdgeWeight),G=new Float64Array(A.order),ot=new Float64Array(nt.weights.length),gt=[];for(ut=0;ut<tt;ut++)for(G[ut]=V,Y=nt.starts[ut+1],0===(Z=nt.outDegrees[ut])&&gt.push(ut),$=nt.starts[ut];$<Y;$++)ot[$]=nt.weights[$]/Z;for(var lt,It,wt=0,dt=0,Ot=!1;wt<T;){for(It=G,G=new Float64Array(A.order),lt=0,ut=0,Y=gt.length;ut<Y;ut++)lt+=It[gt[ut]];for(lt*=S,ut=0;ut<tt;ut++){for(Y=nt.starts[ut+1],$=nt.starts[ut];$<Y;$++)G[nt.neighborhood[$]]+=S*It[ut]*ot[$];G[ut]+=lt*V+(1-S)*V}for(dt=0,ut=0;ut<tt;ut++)dt+=Math.abs(G[ut]-It[ut]);if(dt<tt*N){Ot=!0;break}wt++}if(!Ot)throw Error("graphology-metrics/centrality/pagerank: failed to converge.");if(!W)return nt.collect(G);nt.assign(R,G)}var D=z.bind(null,!1);D.assign=z.bind(null,!0),Mt.exports=D},3933:(Mt,At,O)=>{var ft=O(8740),C=O(7451),j=O(4547),d=O(6116),z=O(6078),D=z.NeighborhoodIndex,W=z.WeightedNeighborhoodIndex;function A(w,S){return w[0]>S[0]?1:w[0]<S[0]?-1:w[1]>S[1]?1:w[1]<S[1]?-1:w[2]>S[2]?1:w[2]<S[2]?-1:w[3]>S[3]?1:w[3]<S[3]?-1:0}At.createUnweightedIndexedBrandes=function(S){var T=new D(S),N=T.neighborhood,R=T.starts,tt=S.order,V=new C(d.getPointerArray(tt),tt),nt=new Uint32Array(tt),ut=new Array(tt),$=new Int32Array(tt),Y=new ft(Uint32Array,tt),Z=function(G){var ot,gt,dt,lt,Et,It;for(Et=0;Et<tt;Et++)ut[Et]=[],nt[Et]=0,$[Et]=-1;for(nt[G]=1,$[G]=0,Y.push(G);0!==Y.size;)for(Et=Y.shift(),V.push(Et),ot=$[Et],gt=nt[Et],dt=R[Et+1],lt=R[Et];lt<dt;lt++)-1===$[It=N[lt]]&&(Y.push(It),$[It]=ot+1),$[It]===ot+1&&(nt[It]+=gt,ut[It].push(Et));return[V,ut,nt]};return Z.index=T,Z},At.createDijkstraIndexedBrandes=function(S,T){var N=new W(S,T||"weight"),R=N.neighborhood,tt=N.weights,V=N.starts,nt=S.order,ut=new C(d.getPointerArray(nt),nt),$=new Uint32Array(nt),Y=new Array(nt),Z=new Float64Array(nt),G=new Float64Array(nt),ot=new j(A),gt=function(wt){var lt,Et,It,Ot,Zt,jt,Yt,Kt,ue=0;for(Yt=0;Yt<nt;Yt++)Y[Yt]=[],$[Yt]=0,Z[Yt]=-1,G[Yt]=-1;for($[wt]=1,G[wt]=0,ot.push([0,ue++,wt,wt]);0!==ot.size;)if(It=(Et=ot.pop())[0],Ot=Et[2],-1===Z[Yt=Et[3]])for(ut.push(Yt),Z[Yt]=It,$[Yt]+=$[Ot],lt=V[Yt+1],jt=V[Yt];jt<lt;jt++)Zt=It+tt[jt],-1===Z[Kt=R[jt]]&&(-1===G[Kt]||Zt<G[Kt])?(G[Kt]=Zt,ot.push([Zt,ue++,Yt,Kt]),$[Kt]=0,Y[Kt]=[Yt]):Zt===G[Kt]&&($[Kt]+=$[Yt],Y[Kt].push(Yt));return[ut,Y,$]};return gt.index=N,gt}},8487:Mt=>{function At(ft){return!ft||"object"!=typeof ft||"function"==typeof ft||Array.isArray(ft)||ft instanceof Set||ft instanceof Map||ft instanceof RegExp||ft instanceof Date}Mt.exports=function O(ft,C){ft=ft||{};var j={};for(var d in C){var z=ft[d],D=C[d];j[d]=At(D)?void 0===z?D:z:O(z,D)}return j}},2954:(Mt,At)=>{function ft(d){return"number"!=typeof d||isNaN(d)?1:d}At.Q6=function(d){return function j(d,z){var D={},W=function(S){return void 0===S?z:S};"function"==typeof z&&(W=z);var A=function(S){return W(S[d])},w=function(){return W(void 0)};return"string"==typeof d?(D.fromAttributes=A,D.fromGraph=function(S,T){return A(S.getEdgeAttributes(T))},D.fromEntry=function(S,T){return A(T)},D.fromPartialEntry=D.fromEntry,D.fromMinimalEntry=D.fromEntry):"function"==typeof d?(D.fromAttributes=function(){throw new Error("graphology-utils/getters/createEdgeValueGetter: irrelevant usage.")},D.fromGraph=function(S,T){var N=S.extremities(T);return W(d(T,S.getEdgeAttributes(T),N[0],N[1],S.getNodeAttributes(N[0]),S.getNodeAttributes(N[1]),S.isUndirected(T)))},D.fromEntry=function(S,T,N,R,tt,V,nt){return W(d(S,T,N,R,tt,V,nt))},D.fromPartialEntry=function(S,T,N,R){return W(d(S,T,N,R))},D.fromMinimalEntry=function(S,T){return W(d(S,T))}):(D.fromAttributes=w,D.fromGraph=w,D.fromEntry=w,D.fromMinimalEntry=w),D}(d,ft)}},5568:(Mt,At,O)=>{var ft=O(6714);Mt.exports=function(j){if(!ft(j))throw new Error("graphology-utils/infer-type: expecting a valid graphology instance.");var d=j.type;return"mixed"!==d?d:0===j.directedSize&&0===j.undirectedSize||j.directedSize>0&&j.undirectedSize>0?"mixed":j.directedSize>0?"directed":"undirected"}},6714:Mt=>{Mt.exports=function(O){return null!==O&&"object"==typeof O&&"function"==typeof O.addUndirectedEdgeWithKey&&"function"==typeof O.dropNode&&"boolean"==typeof O.multi}},5595:function(Mt){Mt.exports=function(){"use strict";function At(g){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(g)}function O(g,x){g.prototype=Object.create(x.prototype),g.prototype.constructor=g,C(g,x)}function ft(g){return(ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)})(g)}function C(g,x){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,u){return v.__proto__=u,v})(g,x)}function j(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}function d(g,x,v){return(d=j()?Reflect.construct.bind():function(u,f,y){var M=[null];M.push.apply(M,f);var P=new(Function.bind.apply(u,M));return y&&C(P,y.prototype),P}).apply(null,arguments)}function z(g){var x="function"==typeof Map?new Map:void 0;return z=function(v){if(null===v||-1===Function.toString.call(v).indexOf("[native code]"))return v;if("function"!=typeof v)throw new TypeError("Super expression must either be null or a function");if(void 0!==x){if(x.has(v))return x.get(v);x.set(v,f)}function f(){return d(v,arguments,ft(this).constructor)}return f.prototype=Object.create(v.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),C(f,v)},z(g)}function D(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}var W=function(){for(var g=arguments[0],x=1,v=arguments.length;x<v;x++)if(arguments[x])for(var u in arguments[x])g[u]=arguments[x][u];return g};function A(g,x,v,u){var f=g._nodes.get(x),y=null;return f?y="mixed"===u?f.out&&f.out[v]||f.undirected&&f.undirected[v]:"directed"===u?f.out&&f.out[v]:f.undirected&&f.undirected[v]:y}function w(g){return"object"===At(g)&&null!==g&&g.constructor===Object}function S(g){var x;for(x in g)return!1;return!0}function T(g,x,v){Object.defineProperty(g,x,{enumerable:!1,configurable:!1,writable:!0,value:v})}function N(g,x,v){var u={enumerable:!0,configurable:!0};"function"==typeof v?u.get=v:(u.value=v,u.writable=!1),Object.defineProperty(g,x,u)}function R(g){return!(!w(g)||g.attributes&&!Array.isArray(g.attributes))}"function"==typeof Object.assign&&(W=Object.assign);var tt,V={exports:{}},nt="object"==typeof Reflect?Reflect:null,ut=nt&&"function"==typeof nt.apply?nt.apply:function(g,x,v){return Function.prototype.apply.call(g,x,v)};tt=nt&&"function"==typeof nt.ownKeys?nt.ownKeys:Object.getOwnPropertySymbols?function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:function(g){return Object.getOwnPropertyNames(g)};var $=Number.isNaN||function(g){return g!=g};function Y(){Y.init.call(this)}V.exports=Y,V.exports.once=function(g,x){return new Promise(function(v,u){function f(M){g.removeListener(x,y),u(M)}function y(){"function"==typeof g.removeListener&&g.removeListener("error",f),v([].slice.call(arguments))}var M;Ot(g,x,y,{once:!0}),"error"!==x&&("function"==typeof(M=g).on&&Ot(M,"error",f,{once:!0}))})},Y.EventEmitter=Y,Y.prototype._events=void 0,Y.prototype._eventsCount=0,Y.prototype._maxListeners=void 0;var Z=10;function G(g){if("function"!=typeof g)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof g)}function ot(g){return void 0===g._maxListeners?Y.defaultMaxListeners:g._maxListeners}function gt(g,x,v,u){var f,y,M;if(G(v),void 0===(y=g._events)?(y=g._events=Object.create(null),g._eventsCount=0):(void 0!==y.newListener&&(g.emit("newListener",x,v.listener?v.listener:v),y=g._events),M=y[x]),void 0===M)M=y[x]=v,++g._eventsCount;else if("function"==typeof M?M=y[x]=u?[v,M]:[M,v]:u?M.unshift(v):M.push(v),(f=ot(g))>0&&M.length>f&&!M.warned){M.warned=!0;var q=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");q.name="MaxListenersExceededWarning",q.emitter=g,q.type=x,q.count=M.length,console&&console.warn&&console.warn(q)}return g}function wt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function dt(g,x,v){var u={fired:!1,wrapFn:void 0,target:g,type:x,listener:v},f=wt.bind(u);return f.listener=v,u.wrapFn=f,f}function lt(g,x,v){var u=g._events;if(void 0===u)return[];var f=u[x];return void 0===f?[]:"function"==typeof f?v?[f.listener||f]:[f]:v?function(y){for(var M=new Array(y.length),P=0;P<M.length;++P)M[P]=y[P].listener||y[P];return M}(f):It(f,f.length)}function Et(g){var x=this._events;if(void 0!==x){var v=x[g];if("function"==typeof v)return 1;if(void 0!==v)return v.length}return 0}function It(g,x){for(var v=new Array(x),u=0;u<x;++u)v[u]=g[u];return v}function Ot(g,x,v,u){if("function"==typeof g.on)u.once?g.once(x,v):g.on(x,v);else{if("function"!=typeof g.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof g);g.addEventListener(x,function f(y){u.once&&g.removeEventListener(x,f),v(y)})}}function Zt(g){if("function"!=typeof g)throw new Error("obliterator/iterator: expecting a function!");this.next=g}Object.defineProperty(Y,"defaultMaxListeners",{enumerable:!0,get:function(){return Z},set:function(g){if("number"!=typeof g||g<0||$(g))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+g+".");Z=g}}),Y.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Y.prototype.setMaxListeners=function(g){if("number"!=typeof g||g<0||$(g))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+g+".");return this._maxListeners=g,this},Y.prototype.getMaxListeners=function(){return ot(this)},Y.prototype.emit=function(g){for(var x=[],v=1;v<arguments.length;v++)x.push(arguments[v]);var u="error"===g,f=this._events;if(void 0!==f)u=u&&void 0===f.error;else if(!u)return!1;if(u){var y;if(x.length>0&&(y=x[0]),y instanceof Error)throw y;var M=new Error("Unhandled error."+(y?" ("+y.message+")":""));throw M.context=y,M}var P=f[g];if(void 0===P)return!1;if("function"==typeof P)ut(P,this,x);else{var q=P.length,bt=It(P,q);for(v=0;v<q;++v)ut(bt[v],this,x)}return!0},Y.prototype.on=Y.prototype.addListener=function(g,x){return gt(this,g,x,!1)},Y.prototype.prependListener=function(g,x){return gt(this,g,x,!0)},Y.prototype.once=function(g,x){return G(x),this.on(g,dt(this,g,x)),this},Y.prototype.prependOnceListener=function(g,x){return G(x),this.prependListener(g,dt(this,g,x)),this},Y.prototype.off=Y.prototype.removeListener=function(g,x){var v,u,f,y,M;if(G(x),void 0===(u=this._events))return this;if(void 0===(v=u[g]))return this;if(v===x||v.listener===x)0==--this._eventsCount?this._events=Object.create(null):(delete u[g],u.removeListener&&this.emit("removeListener",g,v.listener||x));else if("function"!=typeof v){for(f=-1,y=v.length-1;y>=0;y--)if(v[y]===x||v[y].listener===x){M=v[y].listener,f=y;break}if(f<0)return this;0===f?v.shift():function(P,q){for(;q+1<P.length;q++)P[q]=P[q+1];P.pop()}(v,f),1===v.length&&(u[g]=v[0]),void 0!==u.removeListener&&this.emit("removeListener",g,M||x)}return this},Y.prototype.removeAllListeners=function(g){var x,v,u;if(void 0===(v=this._events))return this;if(void 0===v.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==v[g]&&(0==--this._eventsCount?this._events=Object.create(null):delete v[g]),this;if(0===arguments.length){var f,y=Object.keys(v);for(u=0;u<y.length;++u)"removeListener"!==(f=y[u])&&this.removeAllListeners(f);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(x=v[g]))this.removeListener(g,x);else if(void 0!==x)for(u=x.length-1;u>=0;u--)this.removeListener(g,x[u]);return this},Y.prototype.listeners=function(g){return lt(this,g,!0)},Y.prototype.rawListeners=function(g){return lt(this,g,!1)},Y.listenerCount=function(g,x){return"function"==typeof g.listenerCount?g.listenerCount(x):Et.call(g,x)},Y.prototype.listenerCount=Et,Y.prototype.eventNames=function(){return this._eventsCount>0?tt(this._events):[]},"undefined"!=typeof Symbol&&(Zt.prototype[Symbol.iterator]=function(){return this}),Zt.of=function(){var g=arguments,x=g.length,v=0;return new Zt(function(){return v>=x?{done:!0}:{done:!1,value:g[v++]}})},Zt.empty=function(){return new Zt(function(){return{done:!0}})},Zt.fromSequence=function(g){var x=0,v=g.length;return new Zt(function(){return x>=v?{done:!0}:{done:!1,value:g[x++]}})},Zt.is=function(g){return g instanceof Zt||"object"==typeof g&&null!==g&&"function"==typeof g.next};var jt=Zt,Yt={};Yt.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,Yt.SYMBOL_SUPPORT="undefined"!=typeof Symbol;var Kt=jt,ce=Yt.ARRAY_BUFFER_SUPPORT,Ce=Yt.SYMBOL_SUPPORT,Vt=function(g){var v,x="string"==typeof(v=g)||Array.isArray(v)||ce&&ArrayBuffer.isView(v)?Kt.fromSequence(v):"object"!=typeof v||null===v?null:Ce&&"function"==typeof v[Symbol.iterator]?v[Symbol.iterator]():"function"==typeof v.next?v:null;if(!x)throw new Error("obliterator: target is not iterable nor a valid iterator.");return x},me=Vt,Be=function(g,x){for(var v,u=arguments.length>1?x:1/0,f=u!==1/0?new Array(u):[],y=0,M=me(g);;){if(y===u)return f;if((v=M.next()).done)return y!==x&&(f.length=y),f;f[y++]=v.value}},fe=function(g){function x(v){var u;return(u=g.call(this)||this).name="GraphError",u.message=v,u}return O(x,g),x}(z(Error)),St=function(g){function x(v){var u;return(u=g.call(this,v)||this).name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(D(u),x.prototype.constructor),u}return O(x,g),x}(fe),Ct=function(g){function x(v){var u;return(u=g.call(this,v)||this).name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(D(u),x.prototype.constructor),u}return O(x,g),x}(fe),Lt=function(g){function x(v){var u;return(u=g.call(this,v)||this).name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(D(u),x.prototype.constructor),u}return O(x,g),x}(fe);function Ne(g,x){this.key=g,this.attributes=x,this.clear()}function Fe(g,x){this.key=g,this.attributes=x,this.clear()}function en(g,x){this.key=g,this.attributes=x,this.clear()}function Ge(g,x,v,u,f){this.key=x,this.attributes=f,this.undirected=g,this.source=v,this.target=u}function xe(g,x,v,u,f,y,M){var P,q,bt,xt;if(u=""+u,0===v){if(!(P=g._nodes.get(u)))throw new Ct("Graph.".concat(x,': could not find the "').concat(u,'" node in the graph.'));bt=f,xt=y}else if(3===v){if(!(q=g._edges.get(f=""+f)))throw new Ct("Graph.".concat(x,': could not find the "').concat(f,'" edge in the graph.'));var pt=q.source.key,Tt=q.target.key;if(u===pt)P=q.target;else{if(u!==Tt)throw new Ct("Graph.".concat(x,': the "').concat(u,'" node is not attached to the "').concat(f,'" edge (').concat(pt,", ").concat(Tt,")."));P=q.source}bt=y,xt=M}else{if(!(q=g._edges.get(u)))throw new Ct("Graph.".concat(x,': could not find the "').concat(u,'" edge in the graph.'));P=1===v?q.source:q.target,bt=f,xt=y}return[P,bt,xt]}Ne.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}},Fe.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}},en.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}},Ge.prototype.attach=function(){var g="out",x="in";this.undirected&&(g=x="undirected");var v=this.source.key,u=this.target.key;this.source[g][u]=this,this.undirected&&v===u||(this.target[x][v]=this)},Ge.prototype.attachMulti=function(){var g="out",x="in",v=this.source.key,u=this.target.key;this.undirected&&(g=x="undirected");var f=this.source[g],y=f[u];if(void 0===y)return f[u]=this,void(this.undirected&&v===u||(this.target[x][v]=this));y.previous=this,this.next=y,f[u]=this,this.target[x][v]=this},Ge.prototype.detach=function(){var g=this.source.key,v="out",u="in";this.undirected&&(v=u="undirected"),delete this.source[v][this.target.key],delete this.target[u][g]},Ge.prototype.detachMulti=function(){var g=this.source.key,x=this.target.key,v="out",u="in";this.undirected&&(v=u="undirected"),void 0===this.previous?void 0===this.next?(delete this.source[v][x],delete this.target[u][g]):(this.next.previous=void 0,this.source[v][x]=this.next,this.target[u][g]=this.next):(this.previous.next=this.next,void 0!==this.next&&(this.next.previous=this.previous))};var Wn=[{name:function(g){return"get".concat(g,"Attribute")},attacher:function(g,x,v){g.prototype[x]=function(u,f,y){var M=xe(this,x,v,u,f,y);return M[0].attributes[M[1]]}}},{name:function(g){return"get".concat(g,"Attributes")},attacher:function(g,x,v){g.prototype[x]=function(u,f){return xe(this,x,v,u,f)[0].attributes}}},{name:function(g){return"has".concat(g,"Attribute")},attacher:function(g,x,v){g.prototype[x]=function(u,f,y){var M=xe(this,x,v,u,f,y);return M[0].attributes.hasOwnProperty(M[1])}}},{name:function(g){return"set".concat(g,"Attribute")},attacher:function(g,x,v){g.prototype[x]=function(u,f,y,M){var P=xe(this,x,v,u,f,y,M),q=P[0],bt=P[1];return q.attributes[bt]=P[2],this.emit("nodeAttributesUpdated",{key:q.key,type:"set",attributes:q.attributes,name:bt}),this}}},{name:function(g){return"update".concat(g,"Attribute")},attacher:function(g,x,v){g.prototype[x]=function(u,f,y,M){var P=xe(this,x,v,u,f,y,M),q=P[0],bt=P[1],xt=P[2];if("function"!=typeof xt)throw new St("Graph.".concat(x,": updater should be a function."));var pt=q.attributes,Tt=xt(pt[bt]);return pt[bt]=Tt,this.emit("nodeAttributesUpdated",{key:q.key,type:"set",attributes:q.attributes,name:bt}),this}}},{name:function(g){return"remove".concat(g,"Attribute")},attacher:function(g,x,v){g.prototype[x]=function(u,f,y){var M=xe(this,x,v,u,f,y),P=M[0],q=M[1];return delete P.attributes[q],this.emit("nodeAttributesUpdated",{key:P.key,type:"remove",attributes:P.attributes,name:q}),this}}},{name:function(g){return"replace".concat(g,"Attributes")},attacher:function(g,x,v){g.prototype[x]=function(u,f,y){var M=xe(this,x,v,u,f,y),P=M[0],q=M[1];if(!w(q))throw new St("Graph.".concat(x,": provided attributes are not a plain object."));return P.attributes=q,this.emit("nodeAttributesUpdated",{key:P.key,type:"replace",attributes:P.attributes}),this}}},{name:function(g){return"merge".concat(g,"Attributes")},attacher:function(g,x,v){g.prototype[x]=function(u,f,y){var M=xe(this,x,v,u,f,y),P=M[0],q=M[1];if(!w(q))throw new St("Graph.".concat(x,": provided attributes are not a plain object."));return W(P.attributes,q),this.emit("nodeAttributesUpdated",{key:P.key,type:"merge",attributes:P.attributes,data:q}),this}}},{name:function(g){return"update".concat(g,"Attributes")},attacher:function(g,x,v){g.prototype[x]=function(u,f,y){var M=xe(this,x,v,u,f,y),P=M[0],q=M[1];if("function"!=typeof q)throw new St("Graph.".concat(x,": provided updater is not a function."));return P.attributes=q(P.attributes),this.emit("nodeAttributesUpdated",{key:P.key,type:"update",attributes:P.attributes}),this}}}],$e=[{name:function(g){return"get".concat(g,"Attribute")},attacher:function(g,x,v){g.prototype[x]=function(u,f){var y;if("mixed"!==this.type&&"mixed"!==v&&v!==this.type)throw new Lt("Graph.".concat(x,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Lt("Graph.".concat(x,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var M=""+u,P=""+f;if(f=arguments[2],!(y=A(this,M,P,v)))throw new Ct("Graph.".concat(x,': could not find an edge for the given path ("').concat(M,'" - "').concat(P,'").'))}else{if("mixed"!==v)throw new Lt("Graph.".concat(x,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(y=this._edges.get(u=""+u)))throw new Ct("Graph.".concat(x,': could not find the "').concat(u,'" edge in the graph.'))}return y.attributes[f]}}},{name:function(g){return"get".concat(g,"Attributes")},attacher:function(g,x,v){g.prototype[x]=function(u){var f;if("mixed"!==this.type&&"mixed"!==v&&v!==this.type)throw new Lt("Graph.".concat(x,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new Lt("Graph.".concat(x,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var y=""+u,M=""+arguments[1];if(!(f=A(this,y,M,v)))throw new Ct("Graph.".concat(x,': could not find an edge for the given path ("').concat(y,'" - "').concat(M,'").'))}else{if("mixed"!==v)throw new Lt("Graph.".concat(x,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(f=this._edges.get(u=""+u)))throw new Ct("Graph.".concat(x,': could not find the "').concat(u,'" edge in the graph.'))}return f.attributes}}},{name:function(g){return"has".concat(g,"Attribute")},attacher:function(g,x,v){g.prototype[x]=function(u,f){var y;if("mixed"!==this.type&&"mixed"!==v&&v!==this.type)throw new Lt("Graph.".concat(x,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Lt("Graph.".concat(x,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var M=""+u,P=""+f;if(f=arguments[2],!(y=A(this,M,P,v)))throw new Ct("Graph.".concat(x,': could not find an edge for the given path ("').concat(M,'" - "').concat(P,'").'))}else{if("mixed"!==v)throw new Lt("Graph.".concat(x,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(y=this._edges.get(u=""+u)))throw new Ct("Graph.".concat(x,': could not find the "').concat(u,'" edge in the graph.'))}return y.attributes.hasOwnProperty(f)}}},{name:function(g){return"set".concat(g,"Attribute")},attacher:function(g,x,v){g.prototype[x]=function(u,f,y){var M;if("mixed"!==this.type&&"mixed"!==v&&v!==this.type)throw new Lt("Graph.".concat(x,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new Lt("Graph.".concat(x,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var P=""+u,q=""+f;if(f=arguments[2],y=arguments[3],!(M=A(this,P,q,v)))throw new Ct("Graph.".concat(x,': could not find an edge for the given path ("').concat(P,'" - "').concat(q,'").'))}else{if("mixed"!==v)throw new Lt("Graph.".concat(x,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(M=this._edges.get(u=""+u)))throw new Ct("Graph.".concat(x,': could not find the "').concat(u,'" edge in the graph.'))}return M.attributes[f]=y,this.emit("edgeAttributesUpdated",{key:M.key,type:"set",attributes:M.attributes,name:f}),this}}},{name:function(g){return"update".concat(g,"Attribute")},attacher:function(g,x,v){g.prototype[x]=function(u,f,y){var M;if("mixed"!==this.type&&"mixed"!==v&&v!==this.type)throw new Lt("Graph.".concat(x,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new Lt("Graph.".concat(x,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var P=""+u,q=""+f;if(f=arguments[2],y=arguments[3],!(M=A(this,P,q,v)))throw new Ct("Graph.".concat(x,': could not find an edge for the given path ("').concat(P,'" - "').concat(q,'").'))}else{if("mixed"!==v)throw new Lt("Graph.".concat(x,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(M=this._edges.get(u=""+u)))throw new Ct("Graph.".concat(x,': could not find the "').concat(u,'" edge in the graph.'))}if("function"!=typeof y)throw new St("Graph.".concat(x,": updater should be a function."));return M.attributes[f]=y(M.attributes[f]),this.emit("edgeAttributesUpdated",{key:M.key,type:"set",attributes:M.attributes,name:f}),this}}},{name:function(g){return"remove".concat(g,"Attribute")},attacher:function(g,x,v){g.prototype[x]=function(u,f){var y;if("mixed"!==this.type&&"mixed"!==v&&v!==this.type)throw new Lt("Graph.".concat(x,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Lt("Graph.".concat(x,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var M=""+u,P=""+f;if(f=arguments[2],!(y=A(this,M,P,v)))throw new Ct("Graph.".concat(x,': could not find an edge for the given path ("').concat(M,'" - "').concat(P,'").'))}else{if("mixed"!==v)throw new Lt("Graph.".concat(x,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(y=this._edges.get(u=""+u)))throw new Ct("Graph.".concat(x,': could not find the "').concat(u,'" edge in the graph.'))}return delete y.attributes[f],this.emit("edgeAttributesUpdated",{key:y.key,type:"remove",attributes:y.attributes,name:f}),this}}},{name:function(g){return"replace".concat(g,"Attributes")},attacher:function(g,x,v){g.prototype[x]=function(u,f){var y;if("mixed"!==this.type&&"mixed"!==v&&v!==this.type)throw new Lt("Graph.".concat(x,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Lt("Graph.".concat(x,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var M=""+u,P=""+f;if(f=arguments[2],!(y=A(this,M,P,v)))throw new Ct("Graph.".concat(x,': could not find an edge for the given path ("').concat(M,'" - "').concat(P,'").'))}else{if("mixed"!==v)throw new Lt("Graph.".concat(x,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(y=this._edges.get(u=""+u)))throw new Ct("Graph.".concat(x,': could not find the "').concat(u,'" edge in the graph.'))}if(!w(f))throw new St("Graph.".concat(x,": provided attributes are not a plain object."));return y.attributes=f,this.emit("edgeAttributesUpdated",{key:y.key,type:"replace",attributes:y.attributes}),this}}},{name:function(g){return"merge".concat(g,"Attributes")},attacher:function(g,x,v){g.prototype[x]=function(u,f){var y;if("mixed"!==this.type&&"mixed"!==v&&v!==this.type)throw new Lt("Graph.".concat(x,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Lt("Graph.".concat(x,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var M=""+u,P=""+f;if(f=arguments[2],!(y=A(this,M,P,v)))throw new Ct("Graph.".concat(x,': could not find an edge for the given path ("').concat(M,'" - "').concat(P,'").'))}else{if("mixed"!==v)throw new Lt("Graph.".concat(x,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(y=this._edges.get(u=""+u)))throw new Ct("Graph.".concat(x,': could not find the "').concat(u,'" edge in the graph.'))}if(!w(f))throw new St("Graph.".concat(x,": provided attributes are not a plain object."));return W(y.attributes,f),this.emit("edgeAttributesUpdated",{key:y.key,type:"merge",attributes:y.attributes,data:f}),this}}},{name:function(g){return"update".concat(g,"Attributes")},attacher:function(g,x,v){g.prototype[x]=function(u,f){var y;if("mixed"!==this.type&&"mixed"!==v&&v!==this.type)throw new Lt("Graph.".concat(x,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Lt("Graph.".concat(x,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var M=""+u,P=""+f;if(f=arguments[2],!(y=A(this,M,P,v)))throw new Ct("Graph.".concat(x,': could not find an edge for the given path ("').concat(M,'" - "').concat(P,'").'))}else{if("mixed"!==v)throw new Lt("Graph.".concat(x,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(y=this._edges.get(u=""+u)))throw new Ct("Graph.".concat(x,': could not find the "').concat(u,'" edge in the graph.'))}if("function"!=typeof f)throw new St("Graph.".concat(x,": provided updater is not a function."));return y.attributes=f(y.attributes),this.emit("edgeAttributesUpdated",{key:y.key,type:"update",attributes:y.attributes}),this}}}],Ye=jt,Ii=Vt,Pe=function(){var g=arguments,x=null,v=-1;return new Ye(function(){for(var u=null;;){if(null===x){if(++v>=g.length)return{done:!0};x=Ii(g[v])}if(!0!==(u=x.next()).done)break;x=null}return u})},Go=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function Po(g,x,v,u){var f=!1;for(var y in x)if(y!==u){var M=x[y];if(f=v(M.key,M.attributes,M.source.key,M.target.key,M.source.attributes,M.target.attributes,M.undirected),g&&f)return M.key}}function Dr(g,x,v,u){var f,y,M,P=!1;for(var q in x)if(q!==u){f=x[q];do{if(P=v(f.key,f.attributes,(y=f.source).key,(M=f.target).key,y.attributes,M.attributes,f.undirected),g&&P)return f.key;f=f.next}while(void 0!==f)}}function ze(g,x){var v,u=Object.keys(g),f=u.length,y=0;return new jt(function(){do{if(v)v=v.next;else{if(y>=f)return{done:!0};var M=u[y++];if(M===x){v=void 0;continue}v=g[M]}}while(!v);return{done:!1,value:{edge:v.key,attributes:v.attributes,source:v.source.key,target:v.target.key,sourceAttributes:v.source.attributes,targetAttributes:v.target.attributes,undirected:v.undirected}}})}function Lr(g,x,v,u){var f=x[v];if(f){var y=f.source,M=f.target;return u(f.key,f.attributes,y.key,M.key,y.attributes,M.attributes,f.undirected)&&g?f.key:void 0}}function Ti(g,x,v,u){var f=x[v];if(f){var y=!1;do{if(y=u(f.key,f.attributes,f.source.key,f.target.key,f.source.attributes,f.target.attributes,f.undirected),g&&y)return f.key;f=f.next}while(void 0!==f)}}function Or(g,x){var v=g[x];return void 0!==v.next?new jt(function(){if(!v)return{done:!0};var u={edge:v.key,attributes:v.attributes,source:v.source.key,target:v.target.key,sourceAttributes:v.source.attributes,targetAttributes:v.target.attributes,undirected:v.undirected};return v=v.next,{done:!1,value:u}}):jt.of({edge:v.key,attributes:v.attributes,source:v.source.key,target:v.target.key,sourceAttributes:v.source.attributes,targetAttributes:v.target.attributes,undirected:v.undirected})}function Rr(g,x){if(0===g.size)return[];if("mixed"===x||x===g.type)return"function"==typeof Array.from?Array.from(g._edges.keys()):Be(g._edges.keys(),g._edges.size);for(var v,u,y=new Array("undirected"===x?g.undirectedSize:g.directedSize),M="undirected"===x,P=g._edges.values(),q=0;!0!==(v=P.next()).done;)(u=v.value).undirected===M&&(y[q++]=u.key);return y}function Ni(g,x,v,u){if(0!==x.size)for(var f,y,M="mixed"!==v&&v!==x.type,P="undirected"===v,q=!1,bt=x._edges.values();!0!==(f=bt.next()).done;)if(y=f.value,!M||y.undirected===P){var pt=y.key,Nt=y.source,Ht=y.target;if(q=u(pt,y.attributes,Nt.key,Ht.key,Nt.attributes,Ht.attributes,y.undirected),g&&q)return pt}}function Un(g,x){if(0===g.size)return jt.empty();var v="mixed"!==x&&x!==g.type,u="undirected"===x,f=g._edges.values();return new jt(function(){for(var y,M;;){if((y=f.next()).done)return y;if(M=y.value,!v||M.undirected===u)break}return{value:{edge:M.key,attributes:M.attributes,source:M.source.key,target:M.target.key,sourceAttributes:M.source.attributes,targetAttributes:M.target.attributes,undirected:M.undirected},done:!1}})}function Sn(g,x,v,u,f,y){var M,P=x?Dr:Po;if("undirected"!==v&&("out"!==u&&(M=P(g,f.in,y),g&&M)||"in"!==u&&(M=P(g,f.out,y,u?void 0:f.key),g&&M))||"directed"!==v&&(M=P(g,f.undirected,y),g&&M))return M}function ki(g,x,v,u){var f=[];return Sn(!1,g,x,v,u,function(y){f.push(y)}),f}function Di(g,x,v){var u=jt.empty();return"undirected"!==g&&("out"!==x&&void 0!==v.in&&(u=Pe(u,ze(v.in))),"in"!==x&&void 0!==v.out&&(u=Pe(u,ze(v.out,x?void 0:v.key)))),"directed"!==g&&void 0!==v.undirected&&(u=Pe(u,ze(v.undirected))),u}function Gr(g,x,v,u,f,y,M){var P,q=v?Ti:Lr;if("undirected"!==x&&(void 0!==f.in&&"out"!==u&&(P=q(g,f.in,y,M),g&&P)||void 0!==f.out&&"in"!==u&&(u||f.key!==y)&&(P=q(g,f.out,y,M),g&&P))||"directed"!==x&&void 0!==f.undirected&&(P=q(g,f.undirected,y,M),g&&P))return P}function Li(g,x,v,u,f){var y=[];return Gr(!1,g,x,v,u,f,function(M){y.push(M)}),y}function Oi(g,x,v,u){var f=jt.empty();return"undirected"!==g&&(void 0!==v.in&&"out"!==x&&u in v.in&&(f=Pe(f,Or(v.in,u))),void 0!==v.out&&"in"!==x&&u in v.out&&(x||v.key!==u)&&(f=Pe(f,Or(v.out,u)))),"directed"!==g&&void 0!==v.undirected&&u in v.undirected&&(f=Pe(f,Or(v.undirected,u))),f}var pr=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function gr(){this.A=null,this.B=null}function Vn(g,x,v,u,f){for(var y in u){var M=u[y],P=M.source,bt=P===v?M.target:P;if(!x||!x.has(bt.key)){var xt=f(bt.key,bt.attributes);if(g&&xt)return bt.key}}}function Pr(g,x,v,u,f){if("mixed"!==x){if("undirected"===x)return Vn(g,null,u,u.undirected,f);if("string"==typeof v)return Vn(g,null,u,u[v],f)}var y,M=new gr;if("undirected"!==x){if("out"!==v){if(y=Vn(g,null,u,u.in,f),g&&y)return y;M.wrap(u.in)}if("in"!==v){if(y=Vn(g,M,u,u.out,f),g&&y)return y;M.wrap(u.out)}}if("directed"!==x&&(y=Vn(g,M,u,u.undirected,f),g&&y))return y}function zr(g,x,v){var u=Object.keys(v),f=u.length,y=0;return new jt(function(){var M=null;do{if(y>=f)return g&&g.wrap(v),{done:!0};var P=v[u[y++]],q=P.source;M=q===x?P.target:q,g&&g.has(M.key)&&(M=null)}while(null===M);return{done:!1,value:{neighbor:M.key,attributes:M.attributes}}})}function vr(g,x,v,u,f){for(var y,M,P,q,bt,xt,pt,Tt=u._nodes.values(),Nt=u.type;!0!==(y=Tt.next()).done;){var Ht=!1;if(M=y.value,"undirected"!==Nt)for(P in q=M.out){bt=q[P];do{if(Ht=!0,pt=f(M.key,(xt=bt.target).key,M.attributes,xt.attributes,bt.key,bt.attributes,bt.undirected),g&&pt)return bt;bt=bt.next}while(bt)}if("directed"!==Nt)for(P in q=M.undirected)if(!(x&&M.key>P)){bt=q[P];do{if((xt=bt.target).key!==P&&(xt=bt.source),Ht=!0,pt=f(M.key,xt.key,M.attributes,xt.attributes,bt.key,bt.attributes,bt.undirected),g&&pt)return bt;bt=bt.next}while(bt)}if(v&&!Ht&&(pt=f(M.key,null,M.attributes,null,null,null,null),g&&pt))return null}}function Wr(g){if(!w(g))throw new St('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in g))throw new St("Graph.import: serialized node is missing its key.");if("attributes"in g&&(!w(g.attributes)||null===g.attributes))throw new St("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function zo(g){if(!w(g))throw new St('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in g))throw new St("Graph.import: serialized edge is missing its source.");if(!("target"in g))throw new St("Graph.import: serialized edge is missing its target.");if("attributes"in g&&(!w(g.attributes)||null===g.attributes))throw new St("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in g&&"boolean"!=typeof g.undirected)throw new St("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}gr.prototype.wrap=function(g){null===this.A?this.A=g:null===this.B&&(this.B=g)},gr.prototype.has=function(g){return null!==this.A&&g in this.A||null!==this.B&&g in this.B};var Wo,oa=(Wo=255&Math.floor(256*Math.random()),function(){return Wo++}),sa=new Set(["directed","undirected","mixed"]),Ri=new Set(["domain","_events","_eventsCount","_maxListeners"]),aa={allowSelfLoops:!0,multi:!1,type:"mixed"};function Uo(g,x,v){var u=new g.NodeDataClass(x,v);return g._nodes.set(x,u),g.emit("nodeAdded",{key:x,attributes:v}),u}function Bo(g,x,v,u,f,y,M,P){if(!u&&"undirected"===g.type)throw new Lt("Graph.".concat(x,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(u&&"directed"===g.type)throw new Lt("Graph.".concat(x,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(P&&!w(P))throw new St("Graph.".concat(x,': invalid attributes. Expecting an object but got "').concat(P,'"'));if(y=""+y,M=""+M,P=P||{},!g.allowSelfLoops&&y===M)throw new Lt("Graph.".concat(x,': source & target are the same ("').concat(y,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var q=g._nodes.get(y),bt=g._nodes.get(M);if(!q)throw new Ct("Graph.".concat(x,': source node "').concat(y,'" not found.'));if(!bt)throw new Ct("Graph.".concat(x,': target node "').concat(M,'" not found.'));var xt={key:null,undirected:u,source:y,target:M,attributes:P};if(v)f=g._edgeKeyGenerator();else if(g._edges.has(f=""+f))throw new Lt("Graph.".concat(x,': the "').concat(f,'" edge already exists in the graph.'));if(!g.multi&&(u?void 0!==q.undirected[M]:void 0!==q.out[M]))throw new Lt("Graph.".concat(x,': an edge linking "').concat(y,'" to "').concat(M,"\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option."));var pt=new Ge(u,f,q,bt,P);g._edges.set(f,pt);var Tt=y===M;return u?(q.undirectedDegree++,bt.undirectedDegree++,Tt&&(q.undirectedLoops++,g._undirectedSelfLoopCount++)):(q.outDegree++,bt.inDegree++,Tt&&(q.directedLoops++,g._directedSelfLoopCount++)),g.multi?pt.attachMulti():pt.attach(),u?g._undirectedSize++:g._directedSize++,xt.key=f,g.emit("edgeAdded",xt),f}function Gi(g,x,v,u,f,y,M,P,q){if(!u&&"undirected"===g.type)throw new Lt("Graph.".concat(x,": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead."));if(u&&"directed"===g.type)throw new Lt("Graph.".concat(x,": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead."));if(P)if(q){if("function"!=typeof P)throw new St("Graph.".concat(x,': invalid updater function. Expecting a function but got "').concat(P,'"'))}else if(!w(P))throw new St("Graph.".concat(x,': invalid attributes. Expecting an object but got "').concat(P,'"'));var bt;if(y=""+y,M=""+M,q&&(bt=P,P=void 0),!g.allowSelfLoops&&y===M)throw new Lt("Graph.".concat(x,': source & target are the same ("').concat(y,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var xt,pt,Tt=g._nodes.get(y),Nt=g._nodes.get(M);if(!v&&(xt=g._edges.get(f))){if(!(xt.source.key===y&&xt.target.key===M||u&&xt.source.key===M&&xt.target.key===y))throw new Lt("Graph.".concat(x,': inconsistency detected when attempting to merge the "').concat(f,'" edge with "').concat(y,'" source & "').concat(M,'" target vs. ("').concat(xt.source.key,'", "').concat(xt.target.key,'").'));pt=xt}if(pt||g.multi||!Tt||(pt=u?Tt.undirected[M]:Tt.out[M]),pt){var Ht=[pt.key,!1,!1,!1];return(q?bt:P)?(q?(pt.attributes=bt(pt.attributes),g.emit("edgeAttributesUpdated",{type:"replace",key:pt.key,attributes:pt.attributes})):(W(pt.attributes,P),g.emit("edgeAttributesUpdated",{type:"merge",key:pt.key,attributes:pt.attributes,data:P})),Ht):Ht}P=P||{},q&&bt&&(P=bt(P));var ve={key:null,undirected:u,source:y,target:M,attributes:P};if(v)f=g._edgeKeyGenerator();else if(g._edges.has(f=""+f))throw new Lt("Graph.".concat(x,': the "').concat(f,'" edge already exists in the graph.'));var ke=!1,De=!1;Tt||(Tt=Uo(g,y,{}),ke=!0,y===M&&(Nt=Tt,De=!0)),Nt||(Nt=Uo(g,M,{}),De=!0),xt=new Ge(u,f,Tt,Nt,P),g._edges.set(f,xt);var nn=y===M;return u?(Tt.undirectedDegree++,Nt.undirectedDegree++,nn&&(Tt.undirectedLoops++,g._undirectedSelfLoopCount++)):(Tt.outDegree++,Nt.inDegree++,nn&&(Tt.directedLoops++,g._directedSelfLoopCount++)),g.multi?xt.attachMulti():xt.attach(),u?g._undirectedSize++:g._directedSize++,ve.key=f,g.emit("edgeAdded",ve),[f,!0,ke,De]}function yr(g,x){g._edges.delete(x.key);var v=x.source,u=x.target,f=x.attributes,y=x.undirected,M=v===u;y?(v.undirectedDegree--,u.undirectedDegree--,M&&(v.undirectedLoops--,g._undirectedSelfLoopCount--)):(v.outDegree--,u.inDegree--,M&&(v.directedLoops--,g._directedSelfLoopCount--)),g.multi?x.detachMulti():x.detach(),y?g._undirectedSize--:g._directedSize--,g.emit("edgeDropped",{key:x.key,attributes:f,source:v.key,target:u.key,undirected:y})}var g,pe=function(g){function x(u){var f;if(f=g.call(this)||this,"boolean"!=typeof(u=W({},aa,u)).multi)throw new St("Graph.constructor: invalid 'multi' option. Expecting a boolean but got \"".concat(u.multi,'".'));if(!sa.has(u.type))throw new St('Graph.constructor: invalid \'type\' option. Should be one of "mixed", "directed" or "undirected" but got "'.concat(u.type,'".'));if("boolean"!=typeof u.allowSelfLoops)throw new St("Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \"".concat(u.allowSelfLoops,'".'));var y="mixed"===u.type?Ne:"directed"===u.type?Fe:en;T(D(f),"NodeDataClass",y);var M="geid_"+oa()+"_",P=0;return T(D(f),"_attributes",{}),T(D(f),"_nodes",new Map),T(D(f),"_edges",new Map),T(D(f),"_directedSize",0),T(D(f),"_undirectedSize",0),T(D(f),"_directedSelfLoopCount",0),T(D(f),"_undirectedSelfLoopCount",0),T(D(f),"_edgeKeyGenerator",function(){var q;do{q=M+P++}while(f._edges.has(q));return q}),T(D(f),"_options",u),Ri.forEach(function(q){return T(D(f),q,f[q])}),N(D(f),"order",function(){return f._nodes.size}),N(D(f),"size",function(){return f._edges.size}),N(D(f),"directedSize",function(){return f._directedSize}),N(D(f),"undirectedSize",function(){return f._undirectedSize}),N(D(f),"selfLoopCount",function(){return f._directedSelfLoopCount+f._undirectedSelfLoopCount}),N(D(f),"directedSelfLoopCount",function(){return f._directedSelfLoopCount}),N(D(f),"undirectedSelfLoopCount",function(){return f._undirectedSelfLoopCount}),N(D(f),"multi",f._options.multi),N(D(f),"type",f._options.type),N(D(f),"allowSelfLoops",f._options.allowSelfLoops),N(D(f),"implementation",function(){return"graphology"}),f}O(x,g);var v=x.prototype;return v._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},v.hasNode=function(u){return this._nodes.has(""+u)},v.hasDirectedEdge=function(u,f){if("undirected"===this.type)return!1;if(1===arguments.length){var M=this._edges.get(""+u);return!!M&&!M.undirected}if(2===arguments.length){f=""+f;var P=this._nodes.get(u=""+u);return!!P&&P.out.hasOwnProperty(f)}throw new St("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},v.hasUndirectedEdge=function(u,f){if("directed"===this.type)return!1;if(1===arguments.length){var M=this._edges.get(""+u);return!!M&&M.undirected}if(2===arguments.length){f=""+f;var P=this._nodes.get(u=""+u);return!!P&&P.undirected.hasOwnProperty(f)}throw new St("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},v.hasEdge=function(u,f){if(1===arguments.length)return this._edges.has(""+u);if(2===arguments.length){f=""+f;var M=this._nodes.get(u=""+u);return!!M&&(void 0!==M.out&&M.out.hasOwnProperty(f)||void 0!==M.undirected&&M.undirected.hasOwnProperty(f))}throw new St("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},v.directedEdge=function(u,f){if("undirected"!==this.type){if(u=""+u,f=""+f,this.multi)throw new Lt("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var y=this._nodes.get(u);if(!y)throw new Ct('Graph.directedEdge: could not find the "'.concat(u,'" source node in the graph.'));if(!this._nodes.has(f))throw new Ct('Graph.directedEdge: could not find the "'.concat(f,'" target node in the graph.'));var M=y.out&&y.out[f]||void 0;return M?M.key:void 0}},v.undirectedEdge=function(u,f){if("directed"!==this.type){if(u=""+u,f=""+f,this.multi)throw new Lt("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var y=this._nodes.get(u);if(!y)throw new Ct('Graph.undirectedEdge: could not find the "'.concat(u,'" source node in the graph.'));if(!this._nodes.has(f))throw new Ct('Graph.undirectedEdge: could not find the "'.concat(f,'" target node in the graph.'));var M=y.undirected&&y.undirected[f]||void 0;return M?M.key:void 0}},v.edge=function(u,f){if(this.multi)throw new Lt("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");f=""+f;var y=this._nodes.get(u=""+u);if(!y)throw new Ct('Graph.edge: could not find the "'.concat(u,'" source node in the graph.'));if(!this._nodes.has(f))throw new Ct('Graph.edge: could not find the "'.concat(f,'" target node in the graph.'));var M=y.out&&y.out[f]||y.undirected&&y.undirected[f]||void 0;if(M)return M.key},v.areDirectedNeighbors=function(u,f){f=""+f;var y=this._nodes.get(u=""+u);if(!y)throw new Ct('Graph.areDirectedNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&(f in y.in||f in y.out)},v.areOutNeighbors=function(u,f){f=""+f;var y=this._nodes.get(u=""+u);if(!y)throw new Ct('Graph.areOutNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&f in y.out},v.areInNeighbors=function(u,f){f=""+f;var y=this._nodes.get(u=""+u);if(!y)throw new Ct('Graph.areInNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&f in y.in},v.areUndirectedNeighbors=function(u,f){f=""+f;var y=this._nodes.get(u=""+u);if(!y)throw new Ct('Graph.areUndirectedNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"directed"!==this.type&&f in y.undirected},v.areNeighbors=function(u,f){f=""+f;var y=this._nodes.get(u=""+u);if(!y)throw new Ct('Graph.areNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&(f in y.in||f in y.out)||"directed"!==this.type&&f in y.undirected},v.areInboundNeighbors=function(u,f){f=""+f;var y=this._nodes.get(u=""+u);if(!y)throw new Ct('Graph.areInboundNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&f in y.in||"directed"!==this.type&&f in y.undirected},v.areOutboundNeighbors=function(u,f){f=""+f;var y=this._nodes.get(u=""+u);if(!y)throw new Ct('Graph.areOutboundNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&f in y.out||"directed"!==this.type&&f in y.undirected},v.inDegree=function(u){var f=this._nodes.get(u=""+u);if(!f)throw new Ct('Graph.inDegree: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:f.inDegree},v.outDegree=function(u){var f=this._nodes.get(u=""+u);if(!f)throw new Ct('Graph.outDegree: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:f.outDegree},v.directedDegree=function(u){var f=this._nodes.get(u=""+u);if(!f)throw new Ct('Graph.directedDegree: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:f.inDegree+f.outDegree},v.undirectedDegree=function(u){var f=this._nodes.get(u=""+u);if(!f)throw new Ct('Graph.undirectedDegree: could not find the "'.concat(u,'" node in the graph.'));return"directed"===this.type?0:f.undirectedDegree},v.inboundDegree=function(u){var f=this._nodes.get(u=""+u);if(!f)throw new Ct('Graph.inboundDegree: could not find the "'.concat(u,'" node in the graph.'));var y=0;return"directed"!==this.type&&(y+=f.undirectedDegree),"undirected"!==this.type&&(y+=f.inDegree),y},v.outboundDegree=function(u){var f=this._nodes.get(u=""+u);if(!f)throw new Ct('Graph.outboundDegree: could not find the "'.concat(u,'" node in the graph.'));var y=0;return"directed"!==this.type&&(y+=f.undirectedDegree),"undirected"!==this.type&&(y+=f.outDegree),y},v.degree=function(u){var f=this._nodes.get(u=""+u);if(!f)throw new Ct('Graph.degree: could not find the "'.concat(u,'" node in the graph.'));var y=0;return"directed"!==this.type&&(y+=f.undirectedDegree),"undirected"!==this.type&&(y+=f.inDegree+f.outDegree),y},v.inDegreeWithoutSelfLoops=function(u){var f=this._nodes.get(u=""+u);if(!f)throw new Ct('Graph.inDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:f.inDegree-f.directedLoops},v.outDegreeWithoutSelfLoops=function(u){var f=this._nodes.get(u=""+u);if(!f)throw new Ct('Graph.outDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:f.outDegree-f.directedLoops},v.directedDegreeWithoutSelfLoops=function(u){var f=this._nodes.get(u=""+u);if(!f)throw new Ct('Graph.directedDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:f.inDegree+f.outDegree-2*f.directedLoops},v.undirectedDegreeWithoutSelfLoops=function(u){var f=this._nodes.get(u=""+u);if(!f)throw new Ct('Graph.undirectedDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));return"directed"===this.type?0:f.undirectedDegree-2*f.undirectedLoops},v.inboundDegreeWithoutSelfLoops=function(u){var f=this._nodes.get(u=""+u);if(!f)throw new Ct('Graph.inboundDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));var y=0,M=0;return"directed"!==this.type&&(y+=f.undirectedDegree,M+=2*f.undirectedLoops),"undirected"!==this.type&&(y+=f.inDegree,M+=f.directedLoops),y-M},v.outboundDegreeWithoutSelfLoops=function(u){var f=this._nodes.get(u=""+u);if(!f)throw new Ct('Graph.outboundDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));var y=0,M=0;return"directed"!==this.type&&(y+=f.undirectedDegree,M+=2*f.undirectedLoops),"undirected"!==this.type&&(y+=f.outDegree,M+=f.directedLoops),y-M},v.degreeWithoutSelfLoops=function(u){var f=this._nodes.get(u=""+u);if(!f)throw new Ct('Graph.degreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));var y=0,M=0;return"directed"!==this.type&&(y+=f.undirectedDegree,M+=2*f.undirectedLoops),"undirected"!==this.type&&(y+=f.inDegree+f.outDegree,M+=2*f.directedLoops),y-M},v.source=function(u){var f=this._edges.get(u=""+u);if(!f)throw new Ct('Graph.source: could not find the "'.concat(u,'" edge in the graph.'));return f.source.key},v.target=function(u){var f=this._edges.get(u=""+u);if(!f)throw new Ct('Graph.target: could not find the "'.concat(u,'" edge in the graph.'));return f.target.key},v.extremities=function(u){var f=this._edges.get(u=""+u);if(!f)throw new Ct('Graph.extremities: could not find the "'.concat(u,'" edge in the graph.'));return[f.source.key,f.target.key]},v.opposite=function(u,f){u=""+u;var y=this._edges.get(f=""+f);if(!y)throw new Ct('Graph.opposite: could not find the "'.concat(f,'" edge in the graph.'));var M=y.source.key,P=y.target.key;if(u===M)return P;if(u===P)return M;throw new Ct('Graph.opposite: the "'.concat(u,'" node is not attached to the "').concat(f,'" edge (').concat(M,", ").concat(P,")."))},v.hasExtremity=function(u,f){f=""+f;var y=this._edges.get(u=""+u);if(!y)throw new Ct('Graph.hasExtremity: could not find the "'.concat(u,'" edge in the graph.'));return y.source.key===f||y.target.key===f},v.isUndirected=function(u){var f=this._edges.get(u=""+u);if(!f)throw new Ct('Graph.isUndirected: could not find the "'.concat(u,'" edge in the graph.'));return f.undirected},v.isDirected=function(u){var f=this._edges.get(u=""+u);if(!f)throw new Ct('Graph.isDirected: could not find the "'.concat(u,'" edge in the graph.'));return!f.undirected},v.isSelfLoop=function(u){var f=this._edges.get(u=""+u);if(!f)throw new Ct('Graph.isSelfLoop: could not find the "'.concat(u,'" edge in the graph.'));return f.source===f.target},v.addNode=function(u,f){return function(M,P,q){if(q&&!w(q))throw new St('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(q,'"'));if(q=q||{},M._nodes.has(P=""+P))throw new Lt('Graph.addNode: the "'.concat(P,'" node already exist in the graph.'));var bt=new M.NodeDataClass(P,q);return M._nodes.set(P,bt),M.emit("nodeAdded",{key:P,attributes:q}),bt}(this,u,f).key},v.mergeNode=function(u,f){if(f&&!w(f))throw new St('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(f,'"'));f=f||{};var y=this._nodes.get(u=""+u);return y?(f&&(W(y.attributes,f),this.emit("nodeAttributesUpdated",{type:"merge",key:u,attributes:y.attributes,data:f})),[u,!1]):(y=new this.NodeDataClass(u,f),this._nodes.set(u,y),this.emit("nodeAdded",{key:u,attributes:f}),[u,!0])},v.updateNode=function(u,f){if(f&&"function"!=typeof f)throw new St('Graph.updateNode: invalid updater function. Expecting a function but got "'.concat(f,'"'));var y=this._nodes.get(u=""+u);if(y)return f&&(y.attributes=f(y.attributes),this.emit("nodeAttributesUpdated",{type:"replace",key:u,attributes:y.attributes})),[u,!1];var P=f?f({}):{};return y=new this.NodeDataClass(u,P),this._nodes.set(u,y),this.emit("nodeAdded",{key:u,attributes:P}),[u,!0]},v.dropNode=function(u){var f,y=this._nodes.get(u=""+u);if(!y)throw new Ct('Graph.dropNode: could not find the "'.concat(u,'" node in the graph.'));if("undirected"!==this.type){for(var M in y.out){f=y.out[M];do{yr(this,f),f=f.next}while(f)}for(var P in y.in){f=y.in[P];do{yr(this,f),f=f.next}while(f)}}if("directed"!==this.type)for(var q in y.undirected){f=y.undirected[q];do{yr(this,f),f=f.next}while(f)}this._nodes.delete(u),this.emit("nodeDropped",{key:u,attributes:y.attributes})},v.dropEdge=function(u){var f;if(arguments.length>1){var y=""+arguments[0],M=""+arguments[1];if(!(f=A(this,y,M,this.type)))throw new Ct('Graph.dropEdge: could not find the "'.concat(y,'" -> "').concat(M,'" edge in the graph.'))}else if(!(f=this._edges.get(u=""+u)))throw new Ct('Graph.dropEdge: could not find the "'.concat(u,'" edge in the graph.'));return yr(this,f),this},v.dropDirectedEdge=function(u,f){if(arguments.length<2)throw new Lt("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new Lt("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var y=A(this,u=""+u,f=""+f,"directed");if(!y)throw new Ct('Graph.dropDirectedEdge: could not find a "'.concat(u,'" -> "').concat(f,'" edge in the graph.'));return yr(this,y),this},v.dropUndirectedEdge=function(u,f){if(arguments.length<2)throw new Lt("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new Lt("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var y=A(this,u,f,"undirected");if(!y)throw new Ct('Graph.dropUndirectedEdge: could not find a "'.concat(u,'" -> "').concat(f,'" edge in the graph.'));return yr(this,y),this},v.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")},v.clearEdges=function(){for(var u,f=this._nodes.values();!0!==(u=f.next()).done;)u.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")},v.getAttribute=function(u){return this._attributes[u]},v.getAttributes=function(){return this._attributes},v.hasAttribute=function(u){return this._attributes.hasOwnProperty(u)},v.setAttribute=function(u,f){return this._attributes[u]=f,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:u}),this},v.updateAttribute=function(u,f){if("function"!=typeof f)throw new St("Graph.updateAttribute: updater should be a function.");return this._attributes[u]=f(this._attributes[u]),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:u}),this},v.removeAttribute=function(u){return delete this._attributes[u],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:u}),this},v.replaceAttributes=function(u){if(!w(u))throw new St("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=u,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this},v.mergeAttributes=function(u){if(!w(u))throw new St("Graph.mergeAttributes: provided attributes are not a plain object.");return W(this._attributes,u),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:u}),this},v.updateAttributes=function(u){if("function"!=typeof u)throw new St("Graph.updateAttributes: provided updater is not a function.");return this._attributes=u(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this},v.updateEachNodeAttributes=function(u,f){if("function"!=typeof u)throw new St("Graph.updateEachNodeAttributes: expecting an updater function.");if(f&&!R(f))throw new St("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var y,M,P=this._nodes.values();!0!==(y=P.next()).done;)(M=y.value).attributes=u(M.key,M.attributes);this.emit("eachNodeAttributesUpdated",{hints:f||null})},v.updateEachEdgeAttributes=function(u,f){if("function"!=typeof u)throw new St("Graph.updateEachEdgeAttributes: expecting an updater function.");if(f&&!R(f))throw new St("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var y,M,P,q,bt=this._edges.values();!0!==(y=bt.next()).done;)P=(M=y.value).source,M.attributes=u(M.key,M.attributes,P.key,(q=M.target).key,P.attributes,q.attributes,M.undirected);this.emit("eachEdgeAttributesUpdated",{hints:f||null})},v.forEachAdjacencyEntry=function(u){if("function"!=typeof u)throw new St("Graph.forEachAdjacencyEntry: expecting a callback.");vr(!1,!1,!1,this,u)},v.forEachAdjacencyEntryWithOrphans=function(u){if("function"!=typeof u)throw new St("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");vr(!1,!1,!0,this,u)},v.forEachAssymetricAdjacencyEntry=function(u){if("function"!=typeof u)throw new St("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");vr(!1,!0,!1,this,u)},v.forEachAssymetricAdjacencyEntryWithOrphans=function(u){if("function"!=typeof u)throw new St("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");vr(!1,!0,!0,this,u)},v.nodes=function(){return"function"==typeof Array.from?Array.from(this._nodes.keys()):Be(this._nodes.keys(),this._nodes.size)},v.forEachNode=function(u){if("function"!=typeof u)throw new St("Graph.forEachNode: expecting a callback.");for(var f,y,M=this._nodes.values();!0!==(f=M.next()).done;)u((y=f.value).key,y.attributes)},v.findNode=function(u){if("function"!=typeof u)throw new St("Graph.findNode: expecting a callback.");for(var f,y,M=this._nodes.values();!0!==(f=M.next()).done;)if(u((y=f.value).key,y.attributes))return y.key},v.mapNodes=function(u){if("function"!=typeof u)throw new St("Graph.mapNode: expecting a callback.");for(var f,y,M=this._nodes.values(),P=new Array(this.order),q=0;!0!==(f=M.next()).done;)P[q++]=u((y=f.value).key,y.attributes);return P},v.someNode=function(u){if("function"!=typeof u)throw new St("Graph.someNode: expecting a callback.");for(var f,y,M=this._nodes.values();!0!==(f=M.next()).done;)if(u((y=f.value).key,y.attributes))return!0;return!1},v.everyNode=function(u){if("function"!=typeof u)throw new St("Graph.everyNode: expecting a callback.");for(var f,y,M=this._nodes.values();!0!==(f=M.next()).done;)if(!u((y=f.value).key,y.attributes))return!1;return!0},v.filterNodes=function(u){if("function"!=typeof u)throw new St("Graph.filterNodes: expecting a callback.");for(var f,y,M=this._nodes.values(),P=[];!0!==(f=M.next()).done;)u((y=f.value).key,y.attributes)&&P.push(y.key);return P},v.reduceNodes=function(u,f){if("function"!=typeof u)throw new St("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new St("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");for(var y,M,P=f,q=this._nodes.values();!0!==(y=q.next()).done;)P=u(P,(M=y.value).key,M.attributes);return P},v.nodeEntries=function(){var u=this._nodes.values();return new jt(function(){var f=u.next();if(f.done)return f;var y=f.value;return{value:{node:y.key,attributes:y.attributes},done:!1}})},v.export=function(){var u=this,f=new Array(this._nodes.size),y=0;this._nodes.forEach(function(P,q){var xt,pt;f[y++]=(pt={key:q},S((xt=P).attributes)||(pt.attributes=W({},xt.attributes)),pt)});var M=new Array(this._edges.size);return y=0,this._edges.forEach(function(P,q){var bt,pt,Tt;M[y++]=(bt=u.type,Tt={key:q,source:(pt=P).source.key,target:pt.target.key},S(pt.attributes)||(Tt.attributes=W({},pt.attributes)),"mixed"===bt&&pt.undirected&&(Tt.undirected=!0),Tt)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:f,edges:M}},v.import=function(u){var f,y,M,P,q,bt=this,xt=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(u instanceof x)return u.forEachNode(function(rn,ln){xt?bt.mergeNode(rn,ln):bt.addNode(rn,ln)}),u.forEachEdge(function(rn,ln,Ur,Br,Xo,Yu,Pi){xt?Pi?bt.mergeUndirectedEdgeWithKey(rn,Ur,Br,ln):bt.mergeDirectedEdgeWithKey(rn,Ur,Br,ln):Pi?bt.addUndirectedEdgeWithKey(rn,Ur,Br,ln):bt.addDirectedEdgeWithKey(rn,Ur,Br,ln)}),this;if(!w(u))throw new St("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(u.attributes){if(!w(u.attributes))throw new St("Graph.import: invalid attributes. Expecting a plain object.");xt?this.mergeAttributes(u.attributes):this.replaceAttributes(u.attributes)}if(u.nodes){if(M=u.nodes,!Array.isArray(M))throw new St("Graph.import: invalid nodes. Expecting an array.");for(f=0,y=M.length;f<y;f++){Wr(P=M[f]);var Tt=P.key,Nt=P.attributes;xt?this.mergeNode(Tt,Nt):this.addNode(Tt,Nt)}}if(u.edges){var Ht=!1;if("undirected"===this.type&&(Ht=!0),M=u.edges,!Array.isArray(M))throw new St("Graph.import: invalid edges. Expecting an array.");for(f=0,y=M.length;f<y;f++){zo(q=M[f]);var ve=q.source,ke=q.target,De=q.attributes,nn=q.undirected,hn=void 0===nn?Ht:nn;"key"in q?(xt?hn?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:hn?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,q.key,ve,ke,De):(xt?hn?this.mergeUndirectedEdge:this.mergeDirectedEdge:hn?this.addUndirectedEdge:this.addDirectedEdge).call(this,ve,ke,De)}}return this},v.nullCopy=function(u){var f=new x(W({},this._options,u));return f.replaceAttributes(W({},this.getAttributes())),f},v.emptyCopy=function(u){var f=this.nullCopy(u);return this._nodes.forEach(function(y,M){var P=W({},y.attributes);y=new f.NodeDataClass(M,P),f._nodes.set(M,y)}),f},v.copy=function(u){if("string"==typeof(u=u||{}).type&&u.type!==this.type&&"mixed"!==u.type)throw new Lt('Graph.copy: cannot create an incompatible copy from "'.concat(this.type,'" type to "').concat(u.type,'" because this would mean losing information about the current graph.'));if("boolean"==typeof u.multi&&u.multi!==this.multi&&!0!==u.multi)throw new Lt("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if("boolean"==typeof u.allowSelfLoops&&u.allowSelfLoops!==this.allowSelfLoops&&!0!==u.allowSelfLoops)throw new Lt("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");for(var f,y,M=this.emptyCopy(u),P=this._edges.values();!0!==(f=P.next()).done;)Bo(M,"copy",!1,(y=f.value).undirected,y.key,y.source.key,y.target.key,W({},y.attributes));return M},v.toJSON=function(){return this.export()},v.toString=function(){return"[object Graph]"},v.inspect=function(){var u=this,f={};this._nodes.forEach(function(bt,xt){f[xt]=bt.attributes});var y={},M={};this._edges.forEach(function(bt,xt){var pt,Tt=bt.undirected?"--":"->",Nt="",Ht=bt.source.key,he=bt.target.key;bt.undirected&&Ht>he&&(pt=Ht,Ht=he,he=pt);var ve="(".concat(Ht,")").concat(Tt,"(").concat(he,")");xt.startsWith("geid_")?u.multi&&(void 0===M[ve]?M[ve]=0:M[ve]++,Nt+="".concat(M[ve],". ")):Nt+="[".concat(xt,"]: "),y[Nt+=ve]=bt.attributes});var P={};for(var q in this)this.hasOwnProperty(q)&&!Ri.has(q)&&"function"!=typeof this[q]&&"symbol"!==At(q)&&(P[q]=this[q]);return P.attributes=this._attributes,P.nodes=f,P.edges=y,T(P,"constructor",this.constructor),P},x}(V.exports.EventEmitter);"undefined"!=typeof Symbol&&(pe.prototype[Symbol.for("nodejs.util.inspect.custom")]=pe.prototype.inspect),[{name:function(g){return"".concat(g,"Edge")},generateKey:!0},{name:function(g){return"".concat(g,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(g){return"".concat(g,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(g){return"".concat(g,"EdgeWithKey")}},{name:function(g){return"".concat(g,"DirectedEdgeWithKey")},type:"directed"},{name:function(g){return"".concat(g,"UndirectedEdgeWithKey")},type:"undirected"}].forEach(function(g){["add","merge","update"].forEach(function(x){var v=g.name(x),u="add"===x?Bo:Gi;pe.prototype[v]=g.generateKey?function(f,y,M){return u(this,v,!0,"undirected"===(g.type||this.type),null,f,y,M,"update"===x)}:function(f,y,M,P){return u(this,v,!1,"undirected"===(g.type||this.type),f,y,M,P,"update"===x)}})}),g=pe,Wn.forEach(function(x){var v=x.name,u=x.attacher;u(g,v("Node"),0),u(g,v("Source"),1),u(g,v("Target"),2),u(g,v("Opposite"),3)}),function(g){$e.forEach(function(x){var v=x.name,u=x.attacher;u(g,v("Edge"),"mixed"),u(g,v("DirectedEdge"),"directed"),u(g,v("UndirectedEdge"),"undirected")})}(pe),function(g){Go.forEach(function(x){var u,f,y,M;y=(u=x).type,M=u.direction,g.prototype[f=u.name]=function(P,q){if("mixed"!==y&&"mixed"!==this.type&&y!==this.type)return[];if(!arguments.length)return Rr(this,y);if(1===arguments.length){var bt=this._nodes.get(P=""+P);if(void 0===bt)throw new Ct("Graph.".concat(f,': could not find the "').concat(P,'" node in the graph.'));return ki(this.multi,"mixed"===y?this.type:y,M,bt)}if(2===arguments.length){q=""+q;var xt=this._nodes.get(P=""+P);if(!xt)throw new Ct("Graph.".concat(f,':  could not find the "').concat(P,'" source node in the graph.'));if(!this._nodes.has(q))throw new Ct("Graph.".concat(f,':  could not find the "').concat(q,'" target node in the graph.'));return Li(y,this.multi,M,xt,q)}throw new St("Graph.".concat(f,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))},function(v,u){var f=u.name,y=u.type,M=u.direction,P="forEach"+f[0].toUpperCase()+f.slice(1,-1);v.prototype[P]=function(pt,Tt,Nt){if("mixed"===y||"mixed"===this.type||y===this.type){if(1===arguments.length)return Ni(!1,this,y,Nt=pt);if(2===arguments.length){Nt=Tt;var Ht=this._nodes.get(pt=""+pt);if(void 0===Ht)throw new Ct("Graph.".concat(P,': could not find the "').concat(pt,'" node in the graph.'));return Sn(!1,this.multi,"mixed"===y?this.type:y,M,Ht,Nt)}if(3===arguments.length){Tt=""+Tt;var he=this._nodes.get(pt=""+pt);if(!he)throw new Ct("Graph.".concat(P,':  could not find the "').concat(pt,'" source node in the graph.'));if(!this._nodes.has(Tt))throw new Ct("Graph.".concat(P,':  could not find the "').concat(Tt,'" target node in the graph.'));return Gr(!1,y,this.multi,M,he,Tt,Nt)}throw new St("Graph.".concat(P,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}};var q="map"+f[0].toUpperCase()+f.slice(1);v.prototype[q]=function(){var pt,Tt=Array.prototype.slice.call(arguments),Nt=Tt.pop();if(0===Tt.length){var Ht=0;"directed"!==y&&(Ht+=this.undirectedSize),"undirected"!==y&&(Ht+=this.directedSize),pt=new Array(Ht);var he=0;Tt.push(function(ve,ke,De,nn,hn,rn,ln){pt[he++]=Nt(ve,ke,De,nn,hn,rn,ln)})}else pt=[],Tt.push(function(ve,ke,De,nn,hn,rn,ln){pt.push(Nt(ve,ke,De,nn,hn,rn,ln))});return this[P].apply(this,Tt),pt};var bt="filter"+f[0].toUpperCase()+f.slice(1);v.prototype[bt]=function(){var pt=Array.prototype.slice.call(arguments),Tt=pt.pop(),Nt=[];return pt.push(function(Ht,he,ve,ke,De,nn,hn){Tt(Ht,he,ve,ke,De,nn,hn)&&Nt.push(Ht)}),this[P].apply(this,pt),Nt};var xt="reduce"+f[0].toUpperCase()+f.slice(1);v.prototype[xt]=function(){var pt,Tt,Nt=Array.prototype.slice.call(arguments);if(Nt.length<2||Nt.length>4)throw new St("Graph.".concat(xt,": invalid number of arguments (expecting 2, 3 or 4 and got ").concat(Nt.length,")."));if("function"==typeof Nt[Nt.length-1]&&"function"!=typeof Nt[Nt.length-2])throw new St("Graph.".concat(xt,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));2===Nt.length?(pt=Nt[0],Tt=Nt[1],Nt=[]):3===Nt.length?(pt=Nt[1],Tt=Nt[2],Nt=[Nt[0]]):4===Nt.length&&(pt=Nt[2],Tt=Nt[3],Nt=[Nt[0],Nt[1]]);var Ht=Tt;return Nt.push(function(he,ve,ke,De,nn,hn,rn){Ht=pt(Ht,he,ve,ke,De,nn,hn,rn)}),this[P].apply(this,Nt),Ht}}(g,x),function(v,u){var f=u.name,y=u.type,M=u.direction,P="find"+f[0].toUpperCase()+f.slice(1,-1);v.prototype[P]=function(xt,pt,Tt){if("mixed"!==y&&"mixed"!==this.type&&y!==this.type)return!1;if(1===arguments.length)return Ni(!0,this,y,Tt=xt);if(2===arguments.length){Tt=pt;var Nt=this._nodes.get(xt=""+xt);if(void 0===Nt)throw new Ct("Graph.".concat(P,': could not find the "').concat(xt,'" node in the graph.'));return Sn(!0,this.multi,"mixed"===y?this.type:y,M,Nt,Tt)}if(3===arguments.length){pt=""+pt;var Ht=this._nodes.get(xt=""+xt);if(!Ht)throw new Ct("Graph.".concat(P,':  could not find the "').concat(xt,'" source node in the graph.'));if(!this._nodes.has(pt))throw new Ct("Graph.".concat(P,':  could not find the "').concat(pt,'" target node in the graph.'));return Gr(!0,y,this.multi,M,Ht,pt,Tt)}throw new St("Graph.".concat(P,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))};var q="some"+f[0].toUpperCase()+f.slice(1,-1);v.prototype[q]=function(){var xt=Array.prototype.slice.call(arguments),pt=xt.pop();return xt.push(function(Tt,Nt,Ht,he,ve,ke,De){return pt(Tt,Nt,Ht,he,ve,ke,De)}),!!this[P].apply(this,xt)};var bt="every"+f[0].toUpperCase()+f.slice(1,-1);v.prototype[bt]=function(){var xt=Array.prototype.slice.call(arguments),pt=xt.pop();return xt.push(function(Tt,Nt,Ht,he,ve,ke,De){return!pt(Tt,Nt,Ht,he,ve,ke,De)}),!this[P].apply(this,xt)}}(g,x),function(v,u){var y=u.type,M=u.direction,P=u.name.slice(0,-1)+"Entries";v.prototype[P]=function(q,bt){if("mixed"!==y&&"mixed"!==this.type&&y!==this.type)return jt.empty();if(!arguments.length)return Un(this,y);if(1===arguments.length){var xt=this._nodes.get(q=""+q);if(!xt)throw new Ct("Graph.".concat(P,': could not find the "').concat(q,'" node in the graph.'));return Di(y,M,xt)}if(2===arguments.length){bt=""+bt;var pt=this._nodes.get(q=""+q);if(!pt)throw new Ct("Graph.".concat(P,':  could not find the "').concat(q,'" source node in the graph.'));if(!this._nodes.has(bt))throw new Ct("Graph.".concat(P,':  could not find the "').concat(bt,'" target node in the graph.'));return Oi(y,M,pt,bt)}throw new St("Graph.".concat(P,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(g,x)})}(pe),function(g){pr.forEach(function(x){var v,u,f,y,M,P,q;(function ra(g,x){var v=x.name,u=x.type,f=x.direction;g.prototype[v]=function(y){if("mixed"!==u&&"mixed"!==this.type&&u!==this.type)return[];var M=this._nodes.get(y=""+y);if(void 0===M)throw new Ct("Graph.".concat(v,': could not find the "').concat(y,'" node in the graph.'));return function(P,q,bt){if("mixed"!==P){if("undirected"===P)return Object.keys(bt.undirected);if("string"==typeof q)return Object.keys(bt[q])}var xt=[];return Pr(!1,P,q,bt,function(pt){xt.push(pt)}),xt}("mixed"===u?this.type:u,f,M)}})(g,x),function(v,u){var f=u.name,y=u.type,M=u.direction,P="forEach"+f[0].toUpperCase()+f.slice(1,-1);v.prototype[P]=function(pt,Tt){if("mixed"===y||"mixed"===this.type||y===this.type){var Nt=this._nodes.get(pt=""+pt);if(void 0===Nt)throw new Ct("Graph.".concat(P,': could not find the "').concat(pt,'" node in the graph.'));Pr(!1,"mixed"===y?this.type:y,M,Nt,Tt)}};var q="map"+f[0].toUpperCase()+f.slice(1);v.prototype[q]=function(pt,Tt){var Nt=[];return this[P](pt,function(Ht,he){Nt.push(Tt(Ht,he))}),Nt};var bt="filter"+f[0].toUpperCase()+f.slice(1);v.prototype[bt]=function(pt,Tt){var Nt=[];return this[P](pt,function(Ht,he){Tt(Ht,he)&&Nt.push(Ht)}),Nt};var xt="reduce"+f[0].toUpperCase()+f.slice(1);v.prototype[xt]=function(pt,Tt,Nt){if(arguments.length<3)throw new St("Graph.".concat(xt,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));var Ht=Nt;return this[P](pt,function(he,ve){Ht=Tt(Ht,he,ve)}),Ht}}(g,x),v=g,y=(u=x).type,M=u.direction,P=(f=u.name)[0].toUpperCase()+f.slice(1,-1),v.prototype[q="find"+P]=function(pt,Tt){if("mixed"===y||"mixed"===this.type||y===this.type){var Nt=this._nodes.get(pt=""+pt);if(void 0===Nt)throw new Ct("Graph.".concat(q,': could not find the "').concat(pt,'" node in the graph.'));return Pr(!0,"mixed"===y?this.type:y,M,Nt,Tt)}},v.prototype["some"+P]=function(pt,Tt){return!!this[q](pt,Tt)},v.prototype["every"+P]=function(pt,Tt){return!this[q](pt,function(Nt,Ht){return!Tt(Nt,Ht)})},function ia(g,x){var u=x.type,f=x.direction,y=x.name.slice(0,-1)+"Entries";g.prototype[y]=function(M){if("mixed"!==u&&"mixed"!==this.type&&u!==this.type)return jt.empty();var P=this._nodes.get(M=""+M);if(void 0===P)throw new Ct("Graph.".concat(y,': could not find the "').concat(M,'" node in the graph.'));return function(q,bt,xt){if("mixed"!==q){if("undirected"===q)return zr(null,xt,xt.undirected);if("string"==typeof bt)return zr(null,xt,xt[bt])}var pt=jt.empty(),Tt=new gr;return"undirected"!==q&&("out"!==bt&&(pt=Pe(pt,zr(Tt,xt,xt.in))),"in"!==bt&&(pt=Pe(pt,zr(Tt,xt,xt.out)))),"directed"!==q&&(pt=Pe(pt,zr(Tt,xt,xt.undirected))),pt}("mixed"===u?this.type:u,f,P)}}(g,x)})}(pe);var Fo=function(g){function x(v){var u=W({type:"directed"},v);if("multi"in u&&!1!==u.multi)throw new St("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("directed"!==u.type)throw new St('DirectedGraph.from: inconsistent "'+u.type+'" type in given options!');return g.call(this,u)||this}return O(x,g),x}(pe),Zo=function(g){function x(v){var u=W({type:"undirected"},v);if("multi"in u&&!1!==u.multi)throw new St("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("undirected"!==u.type)throw new St('UndirectedGraph.from: inconsistent "'+u.type+'" type in given options!');return g.call(this,u)||this}return O(x,g),x}(pe),$o=function(g){function x(v){var u=W({multi:!0},v);if("multi"in u&&!0!==u.multi)throw new St("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");return g.call(this,u)||this}return O(x,g),x}(pe),Yo=function(g){function x(v){var u=W({type:"directed",multi:!0},v);if("multi"in u&&!0!==u.multi)throw new St("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("directed"!==u.type)throw new St('MultiDirectedGraph.from: inconsistent "'+u.type+'" type in given options!');return g.call(this,u)||this}return O(x,g),x}(pe),Ho=function(g){function x(v){var u=W({type:"undirected",multi:!0},v);if("multi"in u&&!0!==u.multi)throw new St("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("undirected"!==u.type)throw new St('MultiUndirectedGraph.from: inconsistent "'+u.type+'" type in given options!');return g.call(this,u)||this}return O(x,g),x}(pe);function mr(g){g.from=function(x,v){var u=W({},x.options,v),f=new g(u);return f.import(x),f}}return mr(pe),mr(Fo),mr(Zo),mr($o),mr(Yo),mr(Ho),pe.Graph=pe,pe.DirectedGraph=Fo,pe.UndirectedGraph=Zo,pe.MultiGraph=$o,pe.MultiDirectedGraph=Yo,pe.MultiUndirectedGraph=Ho,pe.InvalidArgumentsGraphError=St,pe.NotFoundGraphError=Ct,pe.UsageGraphError=Lt,pe}()},7489:function(Mt,At,O){var ft;Mt=O.nmd(Mt),function(){var C,D="Expected a function",A="__lodash_hash_undefined__",S="__lodash_placeholder__",G=32,Kt=1/0,ue=9007199254740991,Vt=4294967295,fe=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",G],["partialRight",64],["rearg",256]],St="[object Arguments]",Ct="[object Array]",Ne="[object Boolean]",Fe="[object Date]",Ge="[object Error]",xe="[object Function]",Wn="[object GeneratorFunction]",$e="[object Map]",Ye="[object Number]",Pe="[object Object]",Go="[object Promise]",Dr="[object RegExp]",ze="[object Set]",Lr="[object String]",Ti="[object Symbol]",Rr="[object WeakMap]",Un="[object ArrayBuffer]",Sn="[object DataView]",ki="[object Float32Array]",Di="[object Float64Array]",Gr="[object Int8Array]",Li="[object Int16Array]",Oi="[object Int32Array]",pr="[object Uint8Array]",gr="[object Uint8ClampedArray]",Vn="[object Uint16Array]",Pr="[object Uint32Array]",zr=/\b__p \+= '';/g,ra=/\b(__p \+=) '' \+/g,ia=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vr=/&(?:amp|lt|gt|quot|#39);/g,Wr=/[&<>"']/g,zo=RegExp(vr.source),Wo=RegExp(Wr.source),oa=/<%-([\s\S]+?)%>/g,sa=/<%([\s\S]+?)%>/g,Ri=/<%=([\s\S]+?)%>/g,aa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Uo=/^\w*$/,Bo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Gi=/[\\^$.*+?()[\]{}|]/g,yr=RegExp(Gi.source),pe=/^\s+/,Fo=/\s/,Zo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$o=/\{\n\/\* \[wrapped with (.+)\] \*/,Yo=/,? & /,Ho=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,mr=/[()=,{}\[\]\/\s]/,g=/\\(\\)?/g,x=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,v=/\w*$/,u=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,y=/^\[object .+?Constructor\]$/,M=/^0o[0-7]+$/i,P=/^(?:0|[1-9]\d*)$/,q=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bt=/($^)/,xt=/['\n\r\u2028\u2029\\]/g,pt="\\ud800-\\udfff",he="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ve="\\u2700-\\u27bf",ke="a-z\\xdf-\\xf6\\xf8-\\xff",ln="A-Z\\xc0-\\xd6\\xd8-\\xde",Ur="\\ufe0e\\ufe0f",Br="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Yu="["+pt+"]",Pi="["+Br+"]",Ko="["+he+"]",ua="\\d+",oh="["+ve+"]",jo="["+ke+"]",Hu="[^"+pt+Br+ua+ve+ke+ln+"]",Jo="\\ud83c[\\udffb-\\udfff]",Xu="[^"+pt+"]",ca="(?:\\ud83c[\\udde6-\\uddff]){2}",fa="[\\ud800-\\udbff][\\udc00-\\udfff]",ni="["+ln+"]",Wi="(?:"+jo+"|"+Hu+")",ah="(?:"+ni+"|"+Hu+")",Vo="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",qo="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ku="(?:"+Ko+"|"+Jo+")?",Qo="["+Ur+"]?",ts=Qo+Ku+"(?:\\u200d(?:"+[Xu,ca,fa].join("|")+")"+Qo+Ku+")*",la="(?:"+[oh,ca,fa].join("|")+")"+ts,ri="(?:"+[Xu+Ko+"?",Ko,ca,fa,Yu].join("|")+")",ju=RegExp("['\u2019]","g"),fh=RegExp(Ko,"g"),es=RegExp(Jo+"(?="+Jo+")|"+ri+ts,"g"),Ju=RegExp([ni+"?"+jo+"+"+Vo+"(?="+[Pi,ni,"$"].join("|")+")",ah+"+"+qo+"(?="+[Pi,ni+Wi,"$"].join("|")+")",ni+"?"+Wi+"+"+Vo,ni+"+"+qo,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ua,la].join("|"),"g"),Vu=RegExp("[\\u200d"+pt+he+Ur+"]"),qu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],lh=-1,_e={};_e[ki]=_e[Di]=_e[Gr]=_e[Li]=_e[Oi]=_e[pr]=_e[gr]=_e[Vn]=_e[Pr]=!0,_e[St]=_e[Ct]=_e[Un]=_e[Ne]=_e[Sn]=_e[Fe]=_e[Ge]=_e[xe]=_e[$e]=_e[Ye]=_e[Pe]=_e[Dr]=_e[ze]=_e[Lr]=_e[Rr]=!1;var we={};we[St]=we[Ct]=we[Un]=we[Sn]=we[Ne]=we[Fe]=we[ki]=we[Di]=we[Gr]=we[Li]=we[Oi]=we[$e]=we[Ye]=we[Pe]=we[Dr]=we[ze]=we[Lr]=we[Ti]=we[pr]=we[gr]=we[Vn]=we[Pr]=!0,we[Ge]=we[xe]=we[Rr]=!1;var tc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ph=parseFloat,gh=parseInt,da="object"==typeof global&&global&&global.Object===Object&&global,ec="object"==typeof self&&self&&self.Object===Object&&self,Le=da||ec||Function("return this")(),nc=At&&!At.nodeType&&At,ii=nc&&Mt&&!Mt.nodeType&&Mt,rc=ii&&ii.exports===nc,pa=rc&&da.process,dn=function(){try{return ii&&ii.require&&ii.require("util").types||pa&&pa.binding&&pa.binding("util")}catch(ht){}}(),ga=dn&&dn.isArrayBuffer,va=dn&&dn.isDate,ic=dn&&dn.isMap,oc=dn&&dn.isRegExp,sc=dn&&dn.isSet,ac=dn&&dn.isTypedArray;function on(J,ht,st){switch(st.length){case 0:return J.call(ht);case 1:return J.call(ht,st[0]);case 2:return J.call(ht,st[0],st[1]);case 3:return J.call(ht,st[0],st[1],st[2])}return J.apply(ht,st)}function vh(J,ht,st,Pt){for(var qt=-1,le=null==J?0:J.length;++qt<le;){var We=J[qt];ht(Pt,We,st(We),J)}return Pt}function wn(J,ht){for(var st=-1,Pt=null==J?0:J.length;++st<Pt&&!1!==ht(J[st],st,J););return J}function yh(J,ht){for(var st=null==J?0:J.length;st--&&!1!==ht(J[st],st,J););return J}function uc(J,ht){for(var st=-1,Pt=null==J?0:J.length;++st<Pt;)if(!ht(J[st],st,J))return!1;return!0}function wr(J,ht){for(var st=-1,Pt=null==J?0:J.length,qt=0,le=[];++st<Pt;){var We=J[st];ht(We,st,J)&&(le[qt++]=We)}return le}function Ui(J,ht){return!(null==J||!J.length)&&si(J,ht,0)>-1}function ya(J,ht,st){for(var Pt=-1,qt=null==J?0:J.length;++Pt<qt;)if(st(ht,J[Pt]))return!0;return!1}function Ae(J,ht){for(var st=-1,Pt=null==J?0:J.length,qt=Array(Pt);++st<Pt;)qt[st]=ht(J[st],st,J);return qt}function br(J,ht){for(var st=-1,Pt=ht.length,qt=J.length;++st<Pt;)J[qt+st]=ht[st];return J}function ma(J,ht,st,Pt){var qt=-1,le=null==J?0:J.length;for(Pt&&le&&(st=J[++qt]);++qt<le;)st=ht(st,J[qt],qt,J);return st}function wa(J,ht,st,Pt){var qt=null==J?0:J.length;for(Pt&&qt&&(st=J[--qt]);qt--;)st=ht(st,J[qt],qt,J);return st}function ba(J,ht){for(var st=-1,Pt=null==J?0:J.length;++st<Pt;)if(ht(J[st],st,J))return!0;return!1}var mh=_a("length");function cc(J,ht,st){var Pt;return st(J,function(qt,le,We){if(ht(qt,le,We))return Pt=le,!1}),Pt}function oi(J,ht,st,Pt){for(var qt=J.length,le=st+(Pt?1:-1);Pt?le--:++le<qt;)if(ht(J[le],le,J))return le;return-1}function si(J,ht,st){return ht==ht?function Ih(J,ht,st){for(var Pt=st-1,qt=J.length;++Pt<qt;)if(J[Pt]===ht)return Pt;return-1}(J,ht,st):oi(J,fc,st)}function bh(J,ht,st,Pt){for(var qt=st-1,le=J.length;++qt<le;)if(Pt(J[qt],ht))return qt;return-1}function fc(J){return J!=J}function hc(J,ht){var st=null==J?0:J.length;return st?Ea(J,ht)/st:NaN}function _a(J){return function(ht){return null==ht?C:ht[J]}}function Aa(J){return function(ht){return null==J?C:J[ht]}}function lc(J,ht,st,Pt,qt){return qt(J,function(le,We,ye){st=Pt?(Pt=!1,le):ht(st,le,We,ye)}),st}function Ea(J,ht){for(var st,Pt=-1,qt=J.length;++Pt<qt;){var le=ht(J[Pt]);le!==C&&(st=st===C?le:st+le)}return st}function Sa(J,ht){for(var st=-1,Pt=Array(J);++st<J;)Pt[st]=ht(st);return Pt}function Ca(J){return J&&J.slice(0,mc(J)+1).replace(pe,"")}function pn(J){return function(ht){return J(ht)}}function ns(J,ht){return Ae(ht,function(st){return J[st]})}function Bi(J,ht){return J.has(ht)}function dc(J,ht){for(var st=-1,Pt=J.length;++st<Pt&&si(ht,J[st],0)>-1;);return st}function pc(J,ht){for(var st=J.length;st--&&si(ht,J[st],0)>-1;);return st}function Ah(J,ht){for(var st=J.length,Pt=0;st--;)J[st]===ht&&++Pt;return Pt}var gc=Aa({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Eh=Aa({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Sh(J){return"\\"+tc[J]}function ai(J){return Vu.test(J)}function Ma(J){var ht=-1,st=Array(J.size);return J.forEach(function(Pt,qt){st[++ht]=[qt,Pt]}),st}function yc(J,ht){return function(st){return J(ht(st))}}function xr(J,ht){for(var st=-1,Pt=J.length,qt=0,le=[];++st<Pt;){var We=J[st];(We===ht||We===S)&&(J[st]=S,le[qt++]=st)}return le}function is(J){var ht=-1,st=Array(J.size);return J.forEach(function(Pt){st[++ht]=Pt}),st}function ui(J){return ai(J)?function kh(J){for(var ht=es.lastIndex=0;es.test(J);)++ht;return ht}(J):mh(J)}function On(J){return ai(J)?function Dh(J){return J.match(es)||[]}(J):function wh(J){return J.split("")}(J)}function mc(J){for(var ht=J.length;ht--&&Fo.test(J.charAt(ht)););return ht}var Nh=Aa({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),os=function J(ht){var e,st=(ht=null==ht?Le:os.defaults(Le.Object(),ht,os.pick(Le,hh))).Array,Pt=ht.Date,qt=ht.Error,le=ht.Function,We=ht.Math,ye=ht.Object,Ia=ht.RegExp,Rh=ht.String,Cn=ht.TypeError,Ta=st.prototype,ci=ye.prototype,ss=ht["__core-js_shared__"],as=le.prototype.toString,ge=ci.hasOwnProperty,Ph=0,wc=(e=/[^.]+$/.exec(ss&&ss.keys&&ss.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",_r=ci.toString,zh=as.call(ye),Wh=Le._,bc=Ia("^"+as.call(ge).replace(Gi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),us=rc?ht.Buffer:C,qn=ht.Symbol,Fi=ht.Uint8Array,Na=us?us.allocUnsafe:C,cs=yc(ye.getPrototypeOf,ye),fs=ye.create,fi=ci.propertyIsEnumerable,hi=Ta.splice,hs=qn?qn.isConcatSpreadable:C,Bn=qn?qn.iterator:C,li=qn?qn.toStringTag:C,Zi=function(){try{var e=Mr(ye,"defineProperty");return e({},"",{}),e}catch(n){}}(),ls=ht.clearTimeout!==Le.clearTimeout&&ht.clearTimeout,xc=Pt&&Pt.now!==Le.Date.now&&Pt.now,$i=ht.setTimeout!==Le.setTimeout&&ht.setTimeout,ds=We.ceil,ps=We.floor,ka=ye.getOwnPropertySymbols,xg=us?us.isBuffer:C,Uh=ht.isFinite,Yi=Ta.join,Bh=yc(ye.keys,ye),Me=We.max,Ue=We.min,Da=Pt.now,Hi=ht.parseInt,La=We.random,Fh=Ta.reverse,Oa=Mr(ht,"DataView"),Xi=Mr(ht,"Map"),Ra=Mr(ht,"Promise"),di=Mr(ht,"Set"),Ar=Mr(ht,"WeakMap"),gs=Mr(ye,"create"),vs=Ar&&new Ar,Zr={},_c=ti(Oa),Zh=ti(Xi),Ga=ti(Ra),$h=ti(di),Yh=ti(Ar),ys=qn?qn.prototype:C,pi=ys?ys.valueOf:C,Ac=ys?ys.toString:C;function E(e){if(Te(e)&&!te(e)&&!(e instanceof ae)){if(e instanceof Mn)return e;if(ge.call(e,"__wrapped__"))return cf(e)}return new Mn(e)}var $r=function(){function e(){}return function(n){if(!Ee(n))return{};if(fs)return fs(n);e.prototype=n;var s=new e;return e.prototype=C,s}}();function Ki(){}function Mn(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=C}function ae(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Vt,this.__views__=[]}function Yr(e){var n=-1,s=null==e?0:e.length;for(this.clear();++n<s;){var h=e[n];this.set(h[0],h[1])}}function In(e){var n=-1,s=null==e?0:e.length;for(this.clear();++n<s;){var h=e[n];this.set(h[0],h[1])}}function Qn(e){var n=-1,s=null==e?0:e.length;for(this.clear();++n<s;){var h=e[n];this.set(h[0],h[1])}}function Hr(e){var n=-1,s=null==e?0:e.length;for(this.__data__=new Qn;++n<s;)this.add(e[n])}function Rn(e){var n=this.__data__=new In(e);this.size=n.size}function ji(e,n){var s=te(e),h=!s&&ei(e),m=!s&&!h&&kr(e),I=!s&&!h&&!m&&Ci(e),U=s||h||m||I,H=U?Sa(e.length,Rh):[],Q=H.length;for(var vt in e)(n||ge.call(e,vt))&&(!U||!("length"==vt||m&&("offset"==vt||"parent"==vt)||I&&("buffer"==vt||"byteLength"==vt||"byteOffset"==vt)||Yn(vt,Q)))&&H.push(vt);return H}function Cc(e){var n=e.length;return n?e[_s(0,n-1)]:C}function pl(e,n){return Gs(vn(e),Xr(n,0,e.length))}function gl(e){return Gs(vn(e))}function za(e,n,s){(s!==C&&!zn(e[n],s)||s===C&&!(n in e))&&tr(e,n,s)}function Ji(e,n,s){var h=e[n];(!ge.call(e,n)||!zn(h,s)||s===C&&!(n in e))&&tr(e,n,s)}function ms(e,n){for(var s=e.length;s--;)if(zn(e[s][0],n))return s;return-1}function vl(e,n,s,h){return er(e,function(m,I,U){n(h,m,s(m),U)}),h}function Wa(e,n){return e&&xn(n,Ze(n),e)}function tr(e,n,s){"__proto__"==n&&Zi?Zi(e,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[n]=s}function Ua(e,n){for(var s=-1,h=n.length,m=st(h),I=null==e;++s<h;)m[s]=I?C:jn(e,n[s]);return m}function Xr(e,n,s){return e==e&&(s!==C&&(e=e<=s?e:s),n!==C&&(e=e>=n?e:n)),e}function He(e,n,s,h,m,I){var U,H=1&n,Q=2&n,vt=4&n;if(s&&(U=m?s(e,h,m,I):s(e)),U!==C)return U;if(!Ee(e))return e;var t=te(e);if(t){if(U=function Wl(e){var n=e.length,s=new e.constructor(n);return n&&"string"==typeof e[0]&&ge.call(e,"index")&&(s.index=e.index,s.input=e.input),s}(e),!H)return vn(e,U)}else{var r=Ie(e),i=r==xe||r==Wn;if(kr(e))return nu(e,H);if(r==Pe||r==St||i&&!m){if(U=Q||i?{}:kn(e),!H)return Q?function Pn(e,n){return xn(e,vo(e),n)}(e,function yl(e,n){return e&&xn(n,yn(n),e)}(U,e)):function Ll(e,n){return xn(e,ks(e),n)}(e,Wa(U,e))}else{if(!we[r])return m?e:{};U=function nf(e,n,s){var h=e.constructor;switch(n){case Un:return so(e);case Ne:case Fe:return new h(+e);case Sn:return function Cs(e,n){var s=n?so(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}(e,s);case ki:case Di:case Gr:case Li:case Oi:case pr:case gr:case Vn:case Pr:return ao(e,s);case $e:return new h;case Ye:case Lr:return new h(e);case Dr:return function Yc(e){var n=new e.constructor(e.source,v.exec(e));return n.lastIndex=e.lastIndex,n}(e);case ze:return new h;case Ti:return function ru(e){return pi?ye(pi.call(e)):{}}(e)}}(e,r,H)}}I||(I=new Rn);var o=I.get(e);if(o)return o;I.set(e,U),Hs(e)?e.forEach(function(l){U.add(He(l,n,s,l,e,I))}):_o(e)&&e.forEach(function(l,p){U.set(p,He(l,n,s,p,e,I))});var c=t?C:(vt?Q?Ns:su:Q?yn:Ze)(e);return wn(c||e,function(l,p){c&&(l=e[p=l]),Ji(U,p,He(l,n,s,p,e,I))}),U}function Mc(e,n,s){var h=s.length;if(null==e)return!h;for(e=ye(e);h--;){var m=s[h],U=e[m];if(U===C&&!(m in e)||!(0,n[m])(U))return!1}return!0}function Ic(e,n,s){if("function"!=typeof e)throw new Cn(D);return wo(function(){e.apply(C,s)},n)}function Vi(e,n,s,h){var m=-1,I=Ui,U=!0,H=e.length,Q=[],vt=n.length;if(!H)return Q;s&&(n=Ae(n,pn(s))),h?(I=ya,U=!1):n.length>=200&&(I=Bi,U=!1,n=new Hr(n));t:for(;++m<H;){var t=e[m],r=null==s?t:s(t);if(t=h||0!==t?t:0,U&&r==r){for(var i=vt;i--;)if(n[i]===r)continue t;Q.push(t)}else I(n,r,h)||Q.push(t)}return Q}E.templateSettings={escape:oa,evaluate:sa,interpolate:Ri,variable:"",imports:{_:E}},(E.prototype=Ki.prototype).constructor=E,(Mn.prototype=$r(Ki.prototype)).constructor=Mn,(ae.prototype=$r(Ki.prototype)).constructor=ae,Yr.prototype.clear=function jh(){this.__data__=gs?gs(null):{},this.size=0},Yr.prototype.delete=function Jh(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n},Yr.prototype.get=function Vh(e){var n=this.__data__;if(gs){var s=n[e];return s===A?C:s}return ge.call(n,e)?n[e]:C},Yr.prototype.has=function Ec(e){var n=this.__data__;return gs?n[e]!==C:ge.call(n,e)},Yr.prototype.set=function qh(e,n){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=gs&&n===C?A:n,this},In.prototype.clear=function Qh(){this.__data__=[],this.size=0},In.prototype.delete=function tl(e){var n=this.__data__,s=ms(n,e);return!(s<0||(s==n.length-1?n.pop():hi.call(n,s,1),--this.size,0))},In.prototype.get=function el(e){var n=this.__data__,s=ms(n,e);return s<0?C:n[s][1]},In.prototype.has=function nl(e){return ms(this.__data__,e)>-1},In.prototype.set=function rl(e,n){var s=this.__data__,h=ms(s,e);return h<0?(++this.size,s.push([e,n])):s[h][1]=n,this},Qn.prototype.clear=function il(){this.size=0,this.__data__={hash:new Yr,map:new(Xi||In),string:new Yr}},Qn.prototype.delete=function ol(e){var n=qr(this,e).delete(e);return this.size-=n?1:0,n},Qn.prototype.get=function sl(e){return qr(this,e).get(e)},Qn.prototype.has=function al(e){return qr(this,e).has(e)},Qn.prototype.set=function ul(e,n){var s=qr(this,e),h=s.size;return s.set(e,n),this.size+=s.size==h?0:1,this},Hr.prototype.add=Hr.prototype.push=function cl(e){return this.__data__.set(e,A),this},Hr.prototype.has=function fl(e){return this.__data__.has(e)},Rn.prototype.clear=function hl(){this.__data__=new In,this.size=0},Rn.prototype.delete=function ll(e){var n=this.__data__,s=n.delete(e);return this.size=n.size,s},Rn.prototype.get=function dl(e){return this.__data__.get(e)},Rn.prototype.has=function Pa(e){return this.__data__.has(e)},Rn.prototype.set=function Sc(e,n){var s=this.__data__;if(s instanceof In){var h=s.__data__;if(!Xi||h.length<199)return h.push([e,n]),this.size=++s.size,this;s=this.__data__=new Qn(h)}return s.set(e,n),this.size=s.size,this};var er=ou(Fn),ws=ou(Fa,!0);function Tc(e,n){var s=!0;return er(e,function(h,m,I){return s=!!n(h,m,I)}),s}function qi(e,n,s){for(var h=-1,m=e.length;++h<m;){var I=e[h],U=n(I);if(null!=U&&(H===C?U==U&&!fn(U):s(U,H)))var H=U,Q=I}return Q}function kc(e,n){var s=[];return er(e,function(h,m,I){n(h,m,I)&&s.push(h)}),s}function Xe(e,n,s,h,m){var I=-1,U=e.length;for(s||(s=uu),m||(m=[]);++I<U;){var H=e[I];n>0&&s(H)?n>1?Xe(H,n-1,s,h,m):br(m,H):h||(m[m.length]=H)}return m}var Ba=fo(),Dc=fo(!0);function Fn(e,n){return e&&Ba(e,n,Ze)}function Fa(e,n){return e&&Dc(e,n,Ze)}function bs(e,n){return wr(n,function(s){return Xn(e[s])})}function Kr(e,n){for(var s=0,h=(n=rr(n,e)).length;null!=e&&s<h;)e=e[Hn(n[s++])];return s&&s==h?e:C}function Lc(e,n,s){var h=n(e);return te(e)?h:br(h,s(e))}function sn(e){return null==e?e===C?"[object Undefined]":"[object Null]":li&&li in ye(e)?function zl(e){var n=ge.call(e,li),s=e[li];try{e[li]=C;var h=!0}catch(I){}var m=_r.call(e);return h&&(n?e[li]=s:delete e[li]),m}(e):function lu(e){return _r.call(e)}(e)}function Za(e,n){return e>n}function wl(e,n){return null!=e&&ge.call(e,n)}function bl(e,n){return null!=e&&n in ye(e)}function $a(e,n,s){for(var h=s?ya:Ui,m=e[0].length,I=e.length,U=I,H=st(I),Q=1/0,vt=[];U--;){var t=e[U];U&&n&&(t=Ae(t,pn(n))),Q=Ue(t.length,Q),H[U]=!s&&(n||m>=120&&t.length>=120)?new Hr(U&&t):C}t=e[0];var r=-1,i=H[0];t:for(;++r<m&&vt.length<Q;){var o=t[r],a=n?n(o):o;if(o=s||0!==o?o:0,!(i?Bi(i,a):h(vt,a,s))){for(U=I;--U;){var c=H[U];if(!(c?Bi(c,a):h(e[U],a,s)))continue t}i&&i.push(a),vt.push(o)}}return vt}function Qi(e,n,s){var h=null==(e=of(e,n=rr(n,e)))?e:e[Hn(_n(n))];return null==h?C:on(h,e,s)}function Oc(e){return Te(e)&&sn(e)==St}function to(e,n,s,h,m){return e===n||(null==e||null==n||!Te(e)&&!Te(n)?e!=e&&n!=n:function El(e,n,s,h,m,I){var U=te(e),H=te(n),Q=U?Ct:Ie(e),vt=H?Ct:Ie(n),t=(Q=Q==St?Pe:Q)==Pe,r=(vt=vt==St?Pe:vt)==Pe,i=Q==vt;if(i&&kr(e)){if(!kr(n))return!1;U=!0,t=!1}if(i&&!t)return I||(I=new Rn),U||Ci(e)?qc(e,n,s,h,m,I):function Qc(e,n,s,h,m,I,U){switch(s){case Sn:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Un:return!(e.byteLength!=n.byteLength||!I(new Fi(e),new Fi(n)));case Ne:case Fe:case Ye:return zn(+e,+n);case Ge:return e.name==n.name&&e.message==n.message;case Dr:case Lr:return e==n+"";case $e:var H=Ma;case ze:if(H||(H=is),e.size!=n.size&&!(1&h))return!1;var vt=U.get(e);if(vt)return vt==n;h|=2,U.set(e,n);var t=qc(H(e),H(n),h,m,I,U);return U.delete(e),t;case Ti:if(pi)return pi.call(e)==pi.call(n)}return!1}(e,n,Q,s,h,m,I);if(!(1&s)){var o=t&&ge.call(e,"__wrapped__"),a=r&&ge.call(n,"__wrapped__");if(o||a){var c=o?e.value():e,l=a?n.value():n;return I||(I=new Rn),m(c,l,s,h,I)}}return!!i&&(I||(I=new Rn),function tf(e,n,s,h,m,I){var U=1&s,H=su(e),Q=H.length;if(Q!=su(n).length&&!U)return!1;for(var r=Q;r--;){var i=H[r];if(!(U?i in n:ge.call(n,i)))return!1}var o=I.get(e),a=I.get(n);if(o&&a)return o==n&&a==e;var c=!0;I.set(e,n),I.set(n,e);for(var l=U;++r<Q;){var p=e[i=H[r]],b=n[i];if(h)var _=U?h(b,p,i,n,e,I):h(p,b,i,e,n,I);if(!(_===C?p===b||m(p,b,s,h,I):_)){c=!1;break}l||(l="constructor"==i)}if(c&&!l){var k=e.constructor,B=n.constructor;k!=B&&"constructor"in e&&"constructor"in n&&!("function"==typeof k&&k instanceof k&&"function"==typeof B&&B instanceof B)&&(c=!1)}return I.delete(e),I.delete(n),c}(e,n,s,h,m,I))}(e,n,s,h,to,m))}function Ha(e,n,s,h){var m=s.length,I=m,U=!h;if(null==e)return!I;for(e=ye(e);m--;){var H=s[m];if(U&&H[2]?H[1]!==e[H[0]]:!(H[0]in e))return!1}for(;++m<I;){var Q=(H=s[m])[0],vt=e[Q],t=H[1];if(U&&H[2]){if(vt===C&&!(Q in e))return!1}else{var r=new Rn;if(h)var i=h(vt,t,Q,e,n,r);if(!(i===C?to(t,vt,3,h,r):i))return!1}}return!0}function Rc(e){return!(!Ee(e)||function Ul(e){return!!wc&&wc in e}(e))&&(Xn(e)?bc:y).test(ti(e))}function Gc(e){return"function"==typeof e?e:null==e?Oe:"object"==typeof e?te(e)?zc(e[0],e[1]):ja(e):Wu(e)}function Xa(e){if(!yo(e))return Bh(e);var n=[];for(var s in ye(e))ge.call(e,s)&&"constructor"!=s&&n.push(s);return n}function Ka(e,n){return e<n}function Pc(e,n){var s=-1,h=je(e)?st(e.length):[];return er(e,function(m,I,U){h[++s]=n(m,I,U)}),h}function ja(e){var n=Ve(e);return 1==n.length&&n[0][2]?mo(n[0][0],n[0][1]):function(s){return s===e||Ha(s,e,n)}}function zc(e,n){return cu(e)&&hu(n)?mo(Hn(e),n):function(s){var h=jn(s,e);return h===C&&h===n?Du(s,e):to(n,h,3)}}function xs(e,n,s,h,m){e!==n&&Ba(n,function(I,U){if(m||(m=new Rn),Ee(I))!function Nl(e,n,s,h,m,I,U){var H=Rs(e,s),Q=Rs(n,s),vt=U.get(Q);if(vt)za(e,s,vt);else{var t=I?I(H,Q,s+"",e,n,U):C,r=t===C;if(r){var i=te(Q),o=!i&&kr(Q),a=!i&&!o&&Ci(Q);t=Q,i||o||a?te(H)?t=H:be(H)?t=vn(H):o?(r=!1,t=nu(Q,!0)):a?(r=!1,t=ao(Q,!0)):t=[]:Ao(Q)||ei(Q)?(t=H,ei(H)?t=lp(H):(!Ee(H)||Xn(H))&&(t=kn(Q))):r=!1}r&&(U.set(Q,t),m(t,Q,h,I,U),U.delete(Q)),za(e,s,t)}}(e,n,U,s,xs,h,m);else{var H=h?h(Rs(e,U),I,U+"",e,n,m):C;H===C&&(H=I),za(e,U,H)}},yn)}function Wc(e,n){var s=e.length;if(s)return Yn(n+=n<0?s:0,s)?e[n]:C}function Ja(e,n,s){n=n.length?Ae(n,function(I){return te(I)?function(U){return Kr(U,1===I.length?I[0]:I)}:I}):[Oe];var h=-1;return n=Ae(n,pn(Xt())),function xh(J,ht){var st=J.length;for(J.sort(ht);st--;)J[st]=J[st].value;return J}(Pc(e,function(I,U,H){return{criteria:Ae(n,function(vt){return vt(I)}),index:++h,value:I}}),function(I,U){return function iu(e,n,s){for(var h=-1,m=e.criteria,I=n.criteria,U=m.length,H=s.length;++h<U;){var Q=uo(m[h],I[h]);if(Q)return h>=H?Q:Q*("desc"==s[h]?-1:1)}return e.index-n.index}(I,U,s)})}function Va(e,n,s){for(var h=-1,m=n.length,I={};++h<m;){var U=n[h],H=Kr(e,U);s(H,U)&&Zn(I,rr(U,e),H)}return I}function jr(e,n,s,h){var m=h?bh:si,I=-1,U=n.length,H=e;for(e===n&&(n=vn(n)),s&&(H=Ae(e,pn(s)));++I<U;)for(var Q=0,vt=n[I],t=s?s(vt):vt;(Q=m(H,t,Q,h))>-1;)H!==e&&hi.call(H,Q,1),hi.call(e,Q,1);return e}function Uc(e,n){for(var s=e?n.length:0,h=s-1;s--;){var m=n[s];if(s==h||m!==I){var I=m;Yn(m)?hi.call(e,m,1):Qa(e,m)}}return e}function _s(e,n){return e+ps(La()*(n-e+1))}function qa(e,n){var s="";if(!e||n<1||n>ue)return s;do{n%2&&(s+=e),(n=ps(n/2))&&(e+=e)}while(n);return s}function re(e,n){return pu(Os(e,n,Oe),e+"")}function Bc(e){return Cc(No(e))}function Es(e,n){var s=No(e);return Gs(s,Xr(n,0,s.length))}function Zn(e,n,s,h){if(!Ee(e))return e;for(var m=-1,I=(n=rr(n,e)).length,U=I-1,H=e;null!=H&&++m<I;){var Q=Hn(n[m]),vt=s;if("__proto__"===Q||"constructor"===Q||"prototype"===Q)return e;if(m!=U){var t=H[Q];(vt=h?h(t,Q,H):C)===C&&(vt=Ee(t)?t:Yn(n[m+1])?[]:{})}Ji(H,Q,vt),H=H[Q]}return e}var gi=vs?function(e,n){return vs.set(e,n),e}:Oe,eo=Zi?function(e,n){return Zi(e,"toString",{configurable:!0,enumerable:!1,value:ta(n),writable:!0})}:Oe;function Fc(e){return Gs(No(e))}function an(e,n,s){var h=-1,m=e.length;n<0&&(n=-n>m?0:m+n),(s=s>m?m:s)<0&&(s+=m),m=n>s?0:s-n>>>0,n>>>=0;for(var I=st(m);++h<m;)I[h]=e[h+n];return I}function no(e,n){var s;return er(e,function(h,m,I){return!(s=n(h,m,I))}),!!s}function Jr(e,n,s){var h=0,m=null==e?h:e.length;if("number"==typeof n&&n==n&&m<=2147483647){for(;h<m;){var I=h+m>>>1,U=e[I];null!==U&&!fn(U)&&(s?U<=n:U<n)?h=I+1:m=I}return m}return nr(e,n,Oe,s)}function nr(e,n,s,h){var m=0,I=null==e?0:e.length;if(0===I)return 0;for(var U=(n=s(n))!=n,H=null===n,Q=fn(n),vt=n===C;m<I;){var t=ps((m+I)/2),r=s(e[t]),i=r!==C,o=null===r,a=r==r,c=fn(r);if(U)var l=h||a;else l=vt?a&&(h||i):H?a&&i&&(h||!o):Q?a&&i&&!o&&(h||!c):!o&&!c&&(h?r<=n:r<n);l?m=t+1:I=t}return Ue(I,4294967294)}function ro(e,n){for(var s=-1,h=e.length,m=0,I=[];++s<h;){var U=e[s],H=n?n(U):U;if(!s||!zn(H,Q)){var Q=H;I[m++]=0===U?0:U}}return I}function vi(e){return"number"==typeof e?e:fn(e)?NaN:+e}function gn(e){if("string"==typeof e)return e;if(te(e))return Ae(e,gn)+"";if(fn(e))return Ac?Ac.call(e):"";var n=e+"";return"0"==n&&1/e==-Kt?"-0":n}function $n(e,n,s){var h=-1,m=Ui,I=e.length,U=!0,H=[],Q=H;if(s)U=!1,m=ya;else if(I>=200){var vt=n?null:Gl(e);if(vt)return is(vt);U=!1,m=Bi,Q=new Hr}else Q=n?[]:H;t:for(;++h<I;){var t=e[h],r=n?n(t):t;if(t=s||0!==t?t:0,U&&r==r){for(var i=Q.length;i--;)if(Q[i]===r)continue t;n&&Q.push(r),H.push(t)}else m(Q,r,s)||(Q!==H&&Q.push(r),H.push(t))}return H}function Qa(e,n){return null==(e=of(e,n=rr(n,e)))||delete e[Hn(_n(n))]}function io(e,n,s,h){return Zn(e,n,s(Kr(e,n)),h)}function yi(e,n,s,h){for(var m=e.length,I=h?m:-1;(h?I--:++I<m)&&n(e[I],I,e););return s?an(e,h?0:I,h?I+1:m):an(e,h?I+1:0,h?m:I)}function Zc(e,n){var s=e;return s instanceof ae&&(s=s.value()),ma(n,function(h,m){return m.func.apply(m.thisArg,br([h],m.args))},s)}function Ss(e,n,s){var h=e.length;if(h<2)return h?$n(e[0]):[];for(var m=-1,I=st(h);++m<h;)for(var U=e[m],H=-1;++H<h;)H!=m&&(I[m]=Vi(I[m]||U,e[H],n,s));return $n(Xe(I,1),n,s)}function $c(e,n,s){for(var h=-1,m=e.length,I=n.length,U={};++h<m;)s(U,e[h],h<I?n[h]:C);return U}function tu(e){return be(e)?e:[]}function oo(e){return"function"==typeof e?e:Oe}function rr(e,n){return te(e)?e:cu(e,n)?[e]:uf(de(e))}var Dl=re;function Er(e,n,s){var h=e.length;return s=s===C?h:s,!n&&s>=h?e:an(e,n,s)}var eu=ls||function(e){return Le.clearTimeout(e)};function nu(e,n){if(n)return e.slice();var s=e.length,h=Na?Na(s):new e.constructor(s);return e.copy(h),h}function so(e){var n=new e.constructor(e.byteLength);return new Fi(n).set(new Fi(e)),n}function ao(e,n){var s=n?so(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}function uo(e,n){if(e!==n){var s=e!==C,h=null===e,m=e==e,I=fn(e),U=n!==C,H=null===n,Q=n==n,vt=fn(n);if(!H&&!vt&&!I&&e>n||I&&U&&Q&&!H&&!vt||h&&U&&Q||!s&&Q||!m)return 1;if(!h&&!I&&!vt&&e<n||vt&&s&&m&&!h&&!I||H&&s&&m||!U&&m||!Q)return-1}return 0}function Gn(e,n,s,h){for(var m=-1,I=e.length,U=s.length,H=-1,Q=n.length,vt=Me(I-U,0),t=st(Q+vt),r=!h;++H<Q;)t[H]=n[H];for(;++m<U;)(r||m<I)&&(t[s[m]]=e[m]);for(;vt--;)t[H++]=e[m++];return t}function Tn(e,n,s,h){for(var m=-1,I=e.length,U=-1,H=s.length,Q=-1,vt=n.length,t=Me(I-H,0),r=st(t+vt),i=!h;++m<t;)r[m]=e[m];for(var o=m;++Q<vt;)r[o+Q]=n[Q];for(;++U<H;)(i||m<I)&&(r[o+s[U]]=e[m++]);return r}function vn(e,n){var s=-1,h=e.length;for(n||(n=st(h));++s<h;)n[s]=e[s];return n}function xn(e,n,s,h){var m=!s;s||(s={});for(var I=-1,U=n.length;++I<U;){var H=n[I],Q=h?h(s[H],e[H],H,s,e):C;Q===C&&(Q=e[H]),m?tr(s,H,Q):Ji(s,H,Q)}return s}function co(e,n){return function(s,h){var m=te(s)?vh:vl,I=n?n():{};return m(s,e,Xt(h,2),I)}}function Sr(e){return re(function(n,s){var h=-1,m=s.length,I=m>1?s[m-1]:C,U=m>2?s[2]:C;for(I=e.length>3&&"function"==typeof I?(m--,I):C,U&&un(s[0],s[1],U)&&(I=m<3?C:I,m=1),n=ye(n);++h<m;){var H=s[h];H&&e(n,H,h,I)}return n})}function ou(e,n){return function(s,h){if(null==s)return s;if(!je(s))return e(s,h);for(var m=s.length,I=n?m:-1,U=ye(s);(n?I--:++I<m)&&!1!==h(U[I],I,U););return s}}function fo(e){return function(n,s,h){for(var m=-1,I=ye(n),U=h(n),H=U.length;H--;){var Q=U[e?H:++m];if(!1===s(I[Q],Q,I))break}return n}}function Hc(e){return function(n){var s=ai(n=de(n))?On(n):C,h=s?s[0]:n.charAt(0),m=s?Er(s,1).join(""):n.slice(1);return h[e]()+m}}function Vr(e){return function(n){return ma(Do(Kf(n).replace(ju,"")),e,"")}}function ho(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var s=$r(e.prototype),h=e.apply(s,n);return Ee(h)?h:s}}function Xc(e){return function(n,s,h){var m=ye(n);if(!je(n)){var I=Xt(s,3);n=Ze(n),s=function(H){return I(m[H],H,m)}}var U=e(n,s,h);return U>-1?m[I?n[U]:U]:C}}function Kc(e){return sr(function(n){var s=n.length,h=s,m=Mn.prototype.thru;for(e&&n.reverse();h--;){var I=n[h];if("function"!=typeof I)throw new Cn(D);if(m&&!U&&"wrapper"==go(I))var U=new Mn([],!0)}for(h=U?h:s;++h<s;){var H=go(I=n[h]),Q="wrapper"==H?ar(I):C;U=Q&&Ls(Q[0])&&424==Q[1]&&!Q[4].length&&1==Q[9]?U[go(Q[0])].apply(U,Q[3]):1==I.length&&Ls(I)?U[H]():U.thru(I)}return function(){var vt=arguments,t=vt[0];if(U&&1==vt.length&&te(t))return U.plant(t).value();for(var r=0,i=s?n[r].apply(this,vt):t;++r<s;)i=n[r].call(this,i);return i}})}function Ms(e,n,s,h,m,I,U,H,Q,vt){var t=128&n,r=1&n,i=2&n,o=24&n,a=512&n,c=i?C:ho(e);return function l(){for(var p=arguments.length,b=st(p),_=p;_--;)b[_]=arguments[_];if(o)var k=ur(l),B=Ah(b,k);if(h&&(b=Gn(b,h,m,o)),I&&(b=Tn(b,I,U,o)),p-=B,o&&p<vt){var L=xr(b,k);return wi(e,n,Ms,l.placeholder,s,b,L,H,Q,vt-p)}var F=r?s:this,at=i?F[e]:e;return p=b.length,H?b=Bl(b,H):a&&p>1&&b.reverse(),t&&Q<p&&(b.length=Q),this&&this!==Le&&this instanceof l&&(at=c||ho(at)),at.apply(F,b)}}function Is(e,n){return function(s,h){return function _l(e,n,s,h){return Fn(e,function(m,I,U){n(h,s(m),I,U)}),h}(s,e,n(h),{})}}function mi(e,n){return function(s,h){var m;if(s===C&&h===C)return n;if(s!==C&&(m=s),h!==C){if(m===C)return h;"string"==typeof s||"string"==typeof h?(s=gn(s),h=gn(h)):(s=vi(s),h=vi(h)),m=e(s,h)}return m}}function Ts(e){return sr(function(n){return n=Ae(n,pn(Xt())),re(function(s){var h=this;return e(n,function(m){return on(m,h,s)})})})}function Cr(e,n){var s=(n=n===C?" ":gn(n)).length;if(s<2)return s?qa(n,e):n;var h=qa(n,ds(e/ui(n)));return ai(n)?Er(On(h),0,e).join(""):h.slice(0,e)}function po(e){return function(n,s,h){return h&&"number"!=typeof h&&un(n,s,h)&&(s=h=C),n=Kn(n),s===C?(s=n,n=0):s=Kn(s),function As(e,n,s,h){for(var m=-1,I=Me(ds((n-e)/(s||1)),0),U=st(I);I--;)U[h?I:++m]=e,e+=s;return U}(n,s,h=h===C?n<s?1:-1:Kn(h),e)}}function ir(e){return function(n,s){return"string"==typeof n&&"string"==typeof s||(n=An(n),s=An(s)),e(n,s)}}function wi(e,n,s,h,m,I,U,H,Q,vt){var t=8&n;n|=t?G:64,4&(n&=~(t?64:G))||(n&=-4);var c=[e,n,m,t?I:C,t?U:C,t?C:I,t?C:U,H,Q,vt],l=s.apply(C,c);return Ls(e)&&du(l,c),l.placeholder=h,sf(l,e,n)}function Nn(e){var n=We[e];return function(s,h){if(s=An(s),(h=null==h?0:Ue(ee(h),292))&&Uh(s)){var m=(de(s)+"e").split("e");return+((m=(de(n(m[0]+"e"+(+m[1]+h)))+"e").split("e"))[0]+"e"+(+m[1]-h))}return n(s)}}var Gl=di&&1/is(new di([,-0]))[1]==Kt?function(e){return new di(e)}:Lo;function jc(e){return function(n){var s=Ie(n);return s==$e?Ma(n):s==ze?function Mh(J){var ht=-1,st=Array(J.size);return J.forEach(function(Pt){st[++ht]=[Pt,Pt]}),st}(n):function _h(J,ht){return Ae(ht,function(st){return[st,J[st]]})}(n,e(n))}}function or(e,n,s,h,m,I,U,H){var Q=2&n;if(!Q&&"function"!=typeof e)throw new Cn(D);var vt=h?h.length:0;if(vt||(n&=-97,h=m=C),U=U===C?U:Me(ee(U),0),H=H===C?H:ee(H),vt-=m?m.length:0,64&n){var t=h,r=m;h=m=C}var i=Q?C:ar(e),o=[e,n,s,h,m,t,r,I,U,H];if(i&&function Ag(e,n){var s=e[1],h=n[1],m=s|h;if(!(m<131||(128==h&&8==s||128==h&&256==s&&e[7].length<=n[8]||384==h&&n[7].length<=n[8]&&8==s)))return e;1&h&&(e[2]=n[2],m|=1&s?0:4);var H=n[3];if(H){var Q=e[3];e[3]=Q?Gn(Q,H,n[4]):H,e[4]=Q?xr(e[3],S):n[4]}(H=n[5])&&(e[5]=(Q=e[5])?Tn(Q,H,n[6]):H,e[6]=Q?xr(e[5],S):n[6]),(H=n[7])&&(e[7]=H),128&h&&(e[8]=null==e[8]?n[8]:Ue(e[8],n[8])),null==e[9]&&(e[9]=n[9]),e[0]=n[0],e[1]=m}(o,i),e=o[0],n=o[1],s=o[2],h=o[3],m=o[4],!(H=o[9]=o[9]===C?Q?0:e.length:Me(o[9]-vt,0))&&24&n&&(n&=-25),n&&1!=n)a=8==n||16==n?function Rl(e,n,s){var h=ho(e);return function m(){for(var I=arguments.length,U=st(I),H=I,Q=ur(m);H--;)U[H]=arguments[H];var vt=I<3&&U[0]!==Q&&U[I-1]!==Q?[]:xr(U,Q);return(I-=vt.length)<s?wi(e,n,Ms,m.placeholder,C,U,vt,C,C,s-I):on(this&&this!==Le&&this instanceof m?h:e,this,U)}}(e,n,H):n!=G&&33!=n||m.length?Ms.apply(C,o):function lo(e,n,s,h){var m=1&n,I=ho(e);return function U(){for(var H=-1,Q=arguments.length,vt=-1,t=h.length,r=st(t+Q),i=this&&this!==Le&&this instanceof U?I:e;++vt<t;)r[vt]=h[vt];for(;Q--;)r[vt++]=arguments[++H];return on(i,m?s:this,r)}}(e,n,s,h);else var a=function Ol(e,n,s){var h=1&n,m=ho(e);return function I(){return(this&&this!==Le&&this instanceof I?m:e).apply(h?s:this,arguments)}}(e,n,s);return sf((i?gi:du)(a,o),e,n)}function Jc(e,n,s,h){return e===C||zn(e,ci[s])&&!ge.call(h,s)?n:e}function Vc(e,n,s,h,m,I){return Ee(e)&&Ee(n)&&(I.set(n,e),xs(e,n,C,Vc,I),I.delete(n)),e}function Pl(e){return Ao(e)?C:e}function qc(e,n,s,h,m,I){var U=1&s,H=e.length,Q=n.length;if(H!=Q&&!(U&&Q>H))return!1;var vt=I.get(e),t=I.get(n);if(vt&&t)return vt==n&&t==e;var r=-1,i=!0,o=2&s?new Hr:C;for(I.set(e,n),I.set(n,e);++r<H;){var a=e[r],c=n[r];if(h)var l=U?h(c,a,r,n,e,I):h(a,c,r,e,n,I);if(l!==C){if(l)continue;i=!1;break}if(o){if(!ba(n,function(p,b){if(!Bi(o,b)&&(a===p||m(a,p,s,h,I)))return o.push(b)})){i=!1;break}}else if(a!==c&&!m(a,c,s,h,I)){i=!1;break}}return I.delete(e),I.delete(n),i}function sr(e){return pu(Os(e,C,lf),e+"")}function su(e){return Lc(e,Ze,ks)}function Ns(e){return Lc(e,yn,vo)}var ar=vs?function(e){return vs.get(e)}:Lo;function go(e){for(var n=e.name+"",s=Zr[n],h=ge.call(Zr,n)?s.length:0;h--;){var m=s[h],I=m.func;if(null==I||I==e)return m.name}return n}function ur(e){return(ge.call(E,"placeholder")?E:e).placeholder}function Xt(){var e=E.iteratee||ea;return e=e===ea?Gc:e,arguments.length?e(arguments[0],arguments[1]):e}function qr(e,n){var s=e.__data__;return function fu(e){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}(n)?s["string"==typeof n?"string":"hash"]:s.map}function Ve(e){for(var n=Ze(e),s=n.length;s--;){var h=n[s],m=e[h];n[s]=[h,m,hu(m)]}return n}function Mr(e,n){var s=function rs(J,ht){return null==J?C:J[ht]}(e,n);return Rc(s)?s:C}var ks=ka?function(e){return null==e?[]:(e=ye(e),wr(ka(e),function(n){return fi.call(e,n)}))}:Uu,vo=ka?function(e){for(var n=[];e;)br(n,ks(e)),e=cs(e);return n}:Uu,Ie=sn;function au(e,n,s){for(var h=-1,m=(n=rr(n,e)).length,I=!1;++h<m;){var U=Hn(n[h]);if(!(I=null!=e&&s(e,U)))break;e=e[U]}return I||++h!=m?I:!!(m=null==e?0:e.length)&&xo(m)&&Yn(U,m)&&(te(e)||ei(e))}function kn(e){return"function"!=typeof e.constructor||yo(e)?{}:$r(cs(e))}function uu(e){return te(e)||ei(e)||!!(hs&&e&&e[hs])}function Yn(e,n){var s=typeof e;return!!(n=null==n?ue:n)&&("number"==s||"symbol"!=s&&P.test(e))&&e>-1&&e%1==0&&e<n}function un(e,n,s){if(!Ee(s))return!1;var h=typeof n;return!!("number"==h?je(s)&&Yn(n,s.length):"string"==h&&n in s)&&zn(s[n],e)}function cu(e,n){if(te(e))return!1;var s=typeof e;return!("number"!=s&&"symbol"!=s&&"boolean"!=s&&null!=e&&!fn(e))||Uo.test(e)||!aa.test(e)||null!=n&&e in ye(n)}function Ls(e){var n=go(e),s=E[n];if("function"!=typeof s||!(n in ae.prototype))return!1;if(e===s)return!0;var h=ar(s);return!!h&&e===h[0]}(Oa&&Ie(new Oa(new ArrayBuffer(1)))!=Sn||Xi&&Ie(new Xi)!=$e||Ra&&Ie(Ra.resolve())!=Go||di&&Ie(new di)!=ze||Ar&&Ie(new Ar)!=Rr)&&(Ie=function(e){var n=sn(e),s=n==Pe?e.constructor:C,h=s?ti(s):"";if(h)switch(h){case _c:return Sn;case Zh:return $e;case Ga:return Go;case $h:return ze;case Yh:return Rr}return n});var _g=ss?Xn:Bu;function yo(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||ci)}function hu(e){return e==e&&!Ee(e)}function mo(e,n){return function(s){return null!=s&&s[e]===n&&(n!==C||e in ye(s))}}function Os(e,n,s){return n=Me(n===C?e.length-1:n,0),function(){for(var h=arguments,m=-1,I=Me(h.length-n,0),U=st(I);++m<I;)U[m]=h[n+m];m=-1;for(var H=st(n+1);++m<n;)H[m]=h[m];return H[n]=s(U),on(e,this,H)}}function of(e,n){return n.length<2?e:Kr(e,an(n,0,-1))}function Bl(e,n){for(var s=e.length,h=Ue(n.length,s),m=vn(e);h--;){var I=n[h];e[h]=Yn(I,s)?m[I]:C}return e}function Rs(e,n){if(("constructor"!==n||"function"!=typeof e[n])&&"__proto__"!=n)return e[n]}var du=af(gi),wo=$i||function(e,n){return Le.setTimeout(e,n)},pu=af(eo);function sf(e,n,s){var h=n+"";return pu(e,function Ds(e,n){var s=n.length;if(!s)return e;var h=s-1;return n[h]=(s>1?"& ":"")+n[h],n=n.join(s>2?", ":" "),e.replace(Zo,"{\n/* [wrapped with "+n+"] */\n")}(h,function Fl(e,n){return wn(fe,function(s){var h="_."+s[0];n&s[1]&&!Ui(e,h)&&e.push(h)}),e.sort()}(function ef(e){var n=e.match($o);return n?n[1].split(Yo):[]}(h),s)))}function af(e){var n=0,s=0;return function(){var h=Da(),m=16-(h-s);if(s=h,m>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(C,arguments)}}function Gs(e,n){var s=-1,h=e.length,m=h-1;for(n=n===C?h:n;++s<n;){var I=_s(s,m),U=e[I];e[I]=e[s],e[s]=U}return e.length=n,e}var uf=function rf(e){var n=Zs(e,function(h){return 500===s.size&&s.clear(),h}),s=n.cache;return n}(function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(Bo,function(s,h,m,I){n.push(m?I.replace(g,"$1"):h||s)}),n});function Hn(e){if("string"==typeof e||fn(e))return e;var n=e+"";return"0"==n&&1/e==-Kt?"-0":n}function ti(e){if(null!=e){try{return as.call(e)}catch(n){}try{return e+""}catch(n){}}return""}function cf(e){if(e instanceof ae)return e.clone();var n=new Mn(e.__wrapped__,e.__chain__);return n.__actions__=vn(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}var Hl=re(function(e,n){return be(e)?Vi(e,Xe(n,1,be,!0)):[]}),Xl=re(function(e,n){var s=_n(n);return be(s)&&(s=C),be(e)?Vi(e,Xe(n,1,be,!0),Xt(s,2)):[]}),Kl=re(function(e,n){var s=_n(n);return be(s)&&(s=C),be(e)?Vi(e,Xe(n,1,be,!0),C,s):[]});function ff(e,n,s){var h=null==e?0:e.length;if(!h)return-1;var m=null==s?0:ee(s);return m<0&&(m=Me(h+m,0)),oi(e,Xt(n,3),m)}function hf(e,n,s){var h=null==e?0:e.length;if(!h)return-1;var m=h-1;return s!==C&&(m=ee(s),m=s<0?Me(h+m,0):Ue(m,h-1)),oi(e,Xt(n,3),m,!0)}function lf(e){return null!=e&&e.length?Xe(e,1):[]}function df(e){return e&&e.length?e[0]:C}var od=re(function(e){var n=Ae(e,tu);return n.length&&n[0]===e[0]?$a(n):[]}),sd=re(function(e){var n=_n(e),s=Ae(e,tu);return n===_n(s)?n=C:s.pop(),s.length&&s[0]===e[0]?$a(s,Xt(n,2)):[]}),ad=re(function(e){var n=_n(e),s=Ae(e,tu);return(n="function"==typeof n?n:C)&&s.pop(),s.length&&s[0]===e[0]?$a(s,C,n):[]});function _n(e){var n=null==e?0:e.length;return n?e[n-1]:C}var hd=re(pf);function pf(e,n){return e&&e.length&&n&&n.length?jr(e,n):e}var pd=sr(function(e,n){var s=null==e?0:e.length,h=Ua(e,n);return Uc(e,Ae(n,function(m){return Yn(m,s)?+m:m}).sort(uo)),h});function gu(e){return null==e?e:Fh.call(e)}var Sd=re(function(e){return $n(Xe(e,1,be,!0))}),Cd=re(function(e){var n=_n(e);return be(n)&&(n=C),$n(Xe(e,1,be,!0),Xt(n,2))}),Md=re(function(e){var n=_n(e);return n="function"==typeof n?n:C,$n(Xe(e,1,be,!0),C,n)});function Ir(e){if(!e||!e.length)return[];var n=0;return e=wr(e,function(s){if(be(s))return n=Me(s.length,n),!0}),Sa(n,function(s){return Ae(e,_a(s))})}function yu(e,n){if(!e||!e.length)return[];var s=Ir(e);return null==n?s:Ae(s,function(h){return on(n,C,h)})}var qe=re(function(e,n){return be(e)?Vi(e,n):[]}),Qe=re(function(e){return Ss(wr(e,be))}),yf=re(function(e){var n=_n(e);return be(n)&&(n=C),Ss(wr(e,be),Xt(n,2))}),mu=re(function(e){var n=_n(e);return n="function"==typeof n?n:C,Ss(wr(e,be),C,n)}),Ps=re(Ir),hr=re(function(e){var n=e.length,s=n>1?e[n-1]:C;return s="function"==typeof s?(e.pop(),s):C,yu(e,s)});function wu(e){var n=E(e);return n.__chain__=!0,n}function Ws(e,n){return n(e)}var Td=sr(function(e){var n=e.length,s=n?e[0]:0,h=this.__wrapped__,m=function(I){return Ua(I,e)};return!(n>1||this.__actions__.length)&&h instanceof ae&&Yn(s)?((h=h.slice(s,+s+(n?1:0))).__actions__.push({func:Ws,args:[m],thisArg:C}),new Mn(h,this.__chain__).thru(function(I){return n&&!I.length&&I.push(C),I})):this.thru(m)}),Ig=co(function(e,n,s){ge.call(e,s)?++e[s]:tr(e,s,1)}),xu=Xc(ff),tn=Xc(hf);function xi(e,n){return(te(e)?wn:er)(e,Xt(n,3))}function Us(e,n){return(te(e)?yh:ws)(e,Xt(n,3))}var _i=co(function(e,n,s){ge.call(e,s)?e[s].push(n):tr(e,s,[n])}),bf=re(function(e,n,s){var h=-1,m="function"==typeof n,I=je(e)?st(e.length):[];return er(e,function(U){I[++h]=m?on(n,U,s):Qi(U,n,s)}),I}),Bs=co(function(e,n,s){tr(e,s,n)});function Ai(e,n){return(te(e)?Ae:Pc)(e,Xt(n,3))}var Pd=co(function(e,n,s){e[s?0:1].push(n)},function(){return[[],[]]}),Yd=re(function(e,n){if(null==e)return[];var s=n.length;return s>1&&un(e,n[0],n[1])?n=[]:s>2&&un(n[0],n[1],n[2])&&(n=[n[0]]),Ja(e,Xe(n,1),[])}),Fs=xc||function(){return Le.Date.now()};function _f(e,n,s){return n=s?C:n,or(e,128,C,C,C,C,n=e&&null==n?e.length:n)}function Af(e,n){var s;if("function"!=typeof n)throw new Cn(D);return e=ee(e),function(){return--e>0&&(s=n.apply(this,arguments)),e<=1&&(n=C),s}}var _u=re(function(e,n,s){var h=1;if(s.length){var m=xr(s,ur(_u));h|=G}return or(e,h,n,s,m)}),Ef=re(function(e,n,s){var h=3;if(s.length){var m=xr(s,ur(Ef));h|=G}return or(n,h,e,s,m)});function Mf(e,n,s){var h,m,I,U,H,Q,vt=0,t=!1,r=!1,i=!0;if("function"!=typeof e)throw new Cn(D);function o(L){var F=h,at=m;return h=m=C,vt=L,U=e.apply(at,F)}function a(L){return vt=L,H=wo(p,n),t?o(L):U}function l(L){var F=L-Q;return Q===C||F>=n||F<0||r&&L-vt>=I}function p(){var L=Fs();if(l(L))return b(L);H=wo(p,function c(L){var it=n-(L-Q);return r?Ue(it,I-(L-vt)):it}(L))}function b(L){return H=C,i&&h?o(L):(h=m=C,U)}function B(){var L=Fs(),F=l(L);if(h=arguments,m=this,Q=L,F){if(H===C)return a(Q);if(r)return eu(H),H=wo(p,n),o(Q)}return H===C&&(H=wo(p,n)),U}return n=An(n)||0,Ee(s)&&(t=!!s.leading,I=(r="maxWait"in s)?Me(An(s.maxWait)||0,n):I,i="trailing"in s?!!s.trailing:i),B.cancel=function _(){H!==C&&eu(H),vt=0,h=Q=m=H=C},B.flush=function k(){return H===C?U:b(Fs())},B}var Hd=re(function(e,n){return Ic(e,1,n)}),Xd=re(function(e,n,s){return Ic(e,An(n)||0,s)});function Zs(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new Cn(D);var s=function(){var h=arguments,m=n?n.apply(this,h):h[0],I=s.cache;if(I.has(m))return I.get(m);var U=e.apply(this,h);return s.cache=I.set(m,U)||I,U};return s.cache=new(Zs.Cache||Qn),s}function Ei(e){if("function"!=typeof e)throw new Cn(D);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}Zs.Cache=Qn;var If=Dl(function(e,n){var s=(n=1==n.length&&te(n[0])?Ae(n[0],pn(Xt())):Ae(Xe(n,1),pn(Xt()))).length;return re(function(h){for(var m=-1,I=Ue(h.length,s);++m<I;)h[m]=n[m].call(this,h[m]);return on(e,this,h)})}),Ke=re(function(e,n){var s=xr(n,ur(Ke));return or(e,G,C,n,s)}),Tr=re(function(e,n){var s=xr(n,ur(Tr));return or(e,64,C,n,s)}),Nr=sr(function(e,n){return or(e,256,C,C,C,n)});function zn(e,n){return e===n||e!=e&&n!=n}var ip=ir(Za),op=ir(function(e,n){return e>=n}),ei=Oc(function(){return arguments}())?Oc:function(e){return Te(e)&&ge.call(e,"callee")&&!fi.call(e,"callee")},te=st.isArray,sp=ga?pn(ga):function Ya(e){return Te(e)&&sn(e)==Un};function je(e){return null!=e&&xo(e.length)&&!Xn(e)}function be(e){return Te(e)&&je(e)}var kr=xg||Bu,up=va?pn(va):function Al(e){return Te(e)&&sn(e)==Fe};function Su(e){if(!Te(e))return!1;var n=sn(e);return n==Ge||"[object DOMException]"==n||"string"==typeof e.message&&"string"==typeof e.name&&!Ao(e)}function Xn(e){if(!Ee(e))return!1;var n=sn(e);return n==xe||n==Wn||"[object AsyncFunction]"==n||"[object Proxy]"==n}function Cu(e){return"number"==typeof e&&e==ee(e)}function xo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=ue}function Ee(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}function Te(e){return null!=e&&"object"==typeof e}var _o=ic?pn(ic):function Sl(e){return Te(e)&&Ie(e)==$e};function Rf(e){return"number"==typeof e||Te(e)&&sn(e)==Ye}function Ao(e){if(!Te(e)||sn(e)!=Pe)return!1;var n=cs(e);if(null===n)return!0;var s=ge.call(n,"constructor")&&n.constructor;return"function"==typeof s&&s instanceof s&&as.call(s)==zh}var Mu=oc?pn(oc):function Cl(e){return Te(e)&&sn(e)==Dr},Hs=sc?pn(sc):function Ml(e){return Te(e)&&Ie(e)==ze};function Eo(e){return"string"==typeof e||!te(e)&&Te(e)&&sn(e)==Lr}function fn(e){return"symbol"==typeof e||Te(e)&&sn(e)==Ti}var Ci=ac?pn(ac):function Il(e){return Te(e)&&xo(e.length)&&!!_e[sn(e)]},Pf=ir(Ka),zf=ir(function(e,n){return e<=n});function Tu(e){if(!e)return[];if(je(e))return Eo(e)?On(e):vn(e);if(Bn&&e[Bn])return function Ch(J){for(var ht,st=[];!(ht=J.next()).done;)st.push(ht.value);return st}(e[Bn]());var n=Ie(e);return(n==$e?Ma:n==ze?is:No)(e)}function Kn(e){return e?(e=An(e))===Kt||e===-Kt?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ee(e){var n=Kn(e),s=n%1;return n==n?s?n-s:n:0}function So(e){return e?Xr(ee(e),0,Vt):0}function An(e){if("number"==typeof e)return e;if(fn(e))return NaN;if(Ee(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=Ee(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=Ca(e);var s=f.test(e);return s||M.test(e)?gh(e.slice(2),s?2:8):u.test(e)?NaN:+e}function lp(e){return xn(e,yn(e))}function de(e){return null==e?"":gn(e)}var pp=Sr(function(e,n){if(yo(n)||je(n))xn(n,Ze(n),e);else for(var s in n)ge.call(n,s)&&Ji(e,s,n[s])}),Co=Sr(function(e,n){xn(n,yn(n),e)}),Xs=Sr(function(e,n,s,h){xn(n,yn(n),e,h)}),Nu=Sr(function(e,n,s,h){xn(n,Ze(n),e,h)}),gp=sr(Ua),Wf=re(function(e,n){e=ye(e);var s=-1,h=n.length,m=h>2?n[2]:C;for(m&&un(n[0],n[1],m)&&(h=1);++s<h;)for(var I=n[s],U=yn(I),H=-1,Q=U.length;++H<Q;){var vt=U[H],t=e[vt];(t===C||zn(t,ci[vt])&&!ge.call(e,vt))&&(e[vt]=I[vt])}return e}),yp=re(function(e){return e.push(C,Vc),on(Ff,C,e)});function jn(e,n,s){var h=null==e?C:Kr(e,n);return h===C?s:h}function Du(e,n){return null!=e&&au(e,n,bl)}var _p=Is(function(e,n,s){null!=n&&"function"!=typeof n.toString&&(n=_r.call(n)),e[n]=s},ta(Oe)),Ap=Is(function(e,n,s){null!=n&&"function"!=typeof n.toString&&(n=_r.call(n)),ge.call(e,n)?e[n].push(s):e[n]=[s]},Xt),Ep=re(Qi);function Ze(e){return je(e)?ji(e):Xa(e)}function yn(e){return je(e)?ji(e,!0):function Tl(e){if(!Ee(e))return function Eg(e){var n=[];if(null!=e)for(var s in ye(e))n.push(s);return n}(e);var n=yo(e),s=[];for(var h in e)"constructor"==h&&(n||!ge.call(e,h))||s.push(h);return s}(e)}var Mp=Sr(function(e,n,s){xs(e,n,s)}),Ff=Sr(function(e,n,s,h){xs(e,n,s,h)}),Zf=sr(function(e,n){var s={};if(null==e)return s;var h=!1;n=Ae(n,function(I){return I=rr(I,e),h||(h=I.length>1),I}),xn(e,Ns(e),s),h&&(s=He(s,7,Pl));for(var m=n.length;m--;)Qa(s,n[m]);return s}),Ks=sr(function(e,n){return null==e?{}:function bn(e,n){return Va(e,n,function(s,h){return Du(e,h)})}(e,n)});function Io(e,n){if(null==e)return{};var s=Ae(Ns(e),function(h){return[h]});return n=Xt(n),Va(e,s,function(h,m){return n(h,m[0])})}var Lu=jc(Ze),Np=jc(yn);function No(e){return null==e?[]:ns(e,Ze(e))}var Hf=Vr(function(e,n,s){return n=n.toLowerCase(),e+(s?Xf(n):n)});function Xf(e){return qs(de(e).toLowerCase())}function Kf(e){return(e=de(e))&&e.replace(q,gc).replace(fh,"")}var dr=Vr(function(e,n,s){return e+(s?"-":"")+n.toLowerCase()}),Ou=Vr(function(e,n,s){return e+(s?" ":"")+n.toLowerCase()}),Gp=Hc("toLowerCase"),Up=Vr(function(e,n,s){return e+(s?"_":"")+n.toLowerCase()}),Fp=Vr(function(e,n,s){return e+(s?" ":"")+qs(n)}),Vs=Vr(function(e,n,s){return e+(s?" ":"")+n.toUpperCase()}),qs=Hc("toUpperCase");function Do(e,n,s){return e=de(e),(n=s?C:n)===C?function vc(J){return qu.test(J)}(e)?function Lh(J){return J.match(Ju)||[]}(e):function xa(J){return J.match(Ho)||[]}(e):e.match(n)||[]}var Qs=re(function(e,n){try{return on(e,C,n)}catch(s){return Su(s)?s:new qt(s)}}),Pu=sr(function(e,n){return wn(n,function(s){s=Hn(s),tr(e,s,_u(e[s],e))}),e});function ta(e){return function(){return e}}var Jp=Kc(),zu=Kc(!0);function Oe(e){return e}function ea(e){return Gc("function"==typeof e?e:He(e,1))}var th=re(function(e,n){return function(s){return Qi(s,e,n)}}),qp=re(function(e,n){return function(s){return Qi(e,s,n)}});function Jn(e,n,s){var h=Ze(n),m=bs(n,h);null==s&&(!Ee(n)||!m.length&&h.length)&&(s=n,n=e,e=this,m=bs(n,Ze(n)));var I=!(Ee(s)&&"chain"in s&&!s.chain),U=Xn(e);return wn(m,function(H){var Q=n[H];e[H]=Q,U&&(e.prototype[H]=function(){var vt=this.__chain__;if(I||vt){var t=e(this.__wrapped__),r=t.__actions__=vn(this.__actions__);return r.push({func:Q,args:arguments,thisArg:e}),t.__chain__=vt,t}return Q.apply(e,br([this.value()],arguments))})}),e}function Lo(){}var Qp=Ts(Ae),tg=Ts(uc),eg=Ts(ba);function Wu(e){return cu(e)?_a(Hn(e)):function kl(e){return function(n){return Kr(n,e)}}(e)}var rh=po(),rg=po(!0);function Uu(){return[]}function Bu(){return!1}var cg=mi(function(e,n){return e+n},0),fg=Nn("ceil"),hg=mi(function(e,n){return e/n},1),lg=Nn("floor"),Fu=mi(function(e,n){return e*n},1),mg=Nn("round"),wg=mi(function(e,n){return e-n},0);return E.after=function cn(e,n){if("function"!=typeof n)throw new Cn(D);return e=ee(e),function(){if(--e<1)return n.apply(this,arguments)}},E.ary=_f,E.assign=pp,E.assignIn=Co,E.assignInWith=Xs,E.assignWith=Nu,E.at=gp,E.before=Af,E.bind=_u,E.bindAll=Pu,E.bindKey=Ef,E.castArray=function Qd(){if(!arguments.length)return[];var e=arguments[0];return te(e)?e:[e]},E.chain=wu,E.chunk=function Zl(e,n,s){n=(s?un(e,n,s):n===C)?1:Me(ee(n),0);var h=null==e?0:e.length;if(!h||n<1)return[];for(var m=0,I=0,U=st(ds(h/n));m<h;)U[I++]=an(e,m,m+=n);return U},E.compact=function $l(e){for(var n=-1,s=null==e?0:e.length,h=0,m=[];++n<s;){var I=e[n];I&&(m[h++]=I)}return m},E.concat=function Yl(){var e=arguments.length;if(!e)return[];for(var n=st(e-1),s=arguments[0],h=e;h--;)n[h-1]=arguments[h];return br(te(s)?vn(s):[s],Xe(n,1))},E.cond=function Kp(e){var n=null==e?0:e.length,s=Xt();return e=n?Ae(e,function(h){if("function"!=typeof h[1])throw new Cn(D);return[s(h[0]),h[1]]}):[],re(function(h){for(var m=-1;++m<n;){var I=e[m];if(on(I[0],this,h))return on(I[1],this,h)}})},E.conforms=function jp(e){return function ml(e){var n=Ze(e);return function(s){return Mc(s,e,n)}}(He(e,1))},E.constant=ta,E.countBy=Ig,E.create=function vp(e,n){var s=$r(e);return null==n?s:Wa(s,n)},E.curry=function Sf(e,n,s){var h=or(e,8,C,C,C,C,C,n=s?C:n);return h.placeholder=Sf.placeholder,h},E.curryRight=function Cf(e,n,s){var h=or(e,16,C,C,C,C,C,n=s?C:n);return h.placeholder=Cf.placeholder,h},E.debounce=Mf,E.defaults=Wf,E.defaultsDeep=yp,E.defer=Hd,E.delay=Xd,E.difference=Hl,E.differenceBy=Xl,E.differenceWith=Kl,E.drop=function jl(e,n,s){var h=null==e?0:e.length;return h?an(e,(n=s||n===C?1:ee(n))<0?0:n,h):[]},E.dropRight=function Jl(e,n,s){var h=null==e?0:e.length;return h?an(e,0,(n=h-(n=s||n===C?1:ee(n)))<0?0:n):[]},E.dropRightWhile=function Vl(e,n){return e&&e.length?yi(e,Xt(n,3),!0,!0):[]},E.dropWhile=function ql(e,n){return e&&e.length?yi(e,Xt(n,3),!0):[]},E.fill=function Ql(e,n,s,h){var m=null==e?0:e.length;return m?(s&&"number"!=typeof s&&un(e,n,s)&&(s=0,h=m),function Nc(e,n,s,h){var m=e.length;for((s=ee(s))<0&&(s=-s>m?0:m+s),(h=h===C||h>m?m:ee(h))<0&&(h+=m),h=s>h?0:So(h);s<h;)e[s++]=n;return e}(e,n,s,h)):[]},E.filter=function Ng(e,n){return(te(e)?wr:kc)(e,Xt(n,3))},E.flatMap=function Od(e,n){return Xe(Ai(e,n),1)},E.flatMapDeep=function lr(e,n){return Xe(Ai(e,n),Kt)},E.flatMapDepth=function Rd(e,n,s){return s=s===C?1:ee(s),Xe(Ai(e,n),s)},E.flatten=lf,E.flattenDeep=function td(e){return null!=e&&e.length?Xe(e,Kt):[]},E.flattenDepth=function ed(e,n){return null!=e&&e.length?Xe(e,n=n===C?1:ee(n)):[]},E.flip=function Kd(e){return or(e,512)},E.flow=Jp,E.flowRight=zu,E.fromPairs=function nd(e){for(var n=-1,s=null==e?0:e.length,h={};++n<s;){var m=e[n];h[m[0]]=m[1]}return h},E.functions=function xp(e){return null==e?[]:bs(e,Ze(e))},E.functionsIn=function Bf(e){return null==e?[]:bs(e,yn(e))},E.groupBy=_i,E.initial=function id(e){return null!=e&&e.length?an(e,0,-1):[]},E.intersection=od,E.intersectionBy=sd,E.intersectionWith=ad,E.invert=_p,E.invertBy=Ap,E.invokeMap=bf,E.iteratee=ea,E.keyBy=Bs,E.keys=Ze,E.keysIn=yn,E.map=Ai,E.mapKeys=function Sp(e,n){var s={};return n=Xt(n,3),Fn(e,function(h,m,I){tr(s,n(h,m,I),h)}),s},E.mapValues=function Cp(e,n){var s={};return n=Xt(n,3),Fn(e,function(h,m,I){tr(s,m,n(h,m,I))}),s},E.matches=function Qf(e){return ja(He(e,1))},E.matchesProperty=function Vp(e,n){return zc(e,He(n,1))},E.memoize=Zs,E.merge=Mp,E.mergeWith=Ff,E.method=th,E.methodOf=qp,E.mixin=Jn,E.negate=Ei,E.nthArg=function nh(e){return e=ee(e),re(function(n){return Wc(n,e)})},E.omit=Zf,E.omitBy=function Mo(e,n){return Io(e,Ei(Xt(n)))},E.once=function Au(e){return Af(2,e)},E.orderBy=function Gd(e,n,s,h){return null==e?[]:(te(n)||(n=null==n?[]:[n]),te(s=h?C:s)||(s=null==s?[]:[s]),Ja(e,n,s))},E.over=Qp,E.overArgs=If,E.overEvery=tg,E.overSome=eg,E.partial=Ke,E.partialRight=Tr,E.partition=Pd,E.pick=Ks,E.pickBy=Io,E.property=Wu,E.propertyOf=function ng(e){return function(n){return null==e?C:Kr(e,n)}},E.pull=hd,E.pullAll=pf,E.pullAllBy=function ld(e,n,s){return e&&e.length&&n&&n.length?jr(e,n,Xt(s,2)):e},E.pullAllWith=function dd(e,n,s){return e&&e.length&&n&&n.length?jr(e,n,C,s):e},E.pullAt=pd,E.range=rh,E.rangeRight=rg,E.rearg=Nr,E.reject=function Ud(e,n){return(te(e)?wr:kc)(e,Ei(Xt(n,3)))},E.remove=function gd(e,n){var s=[];if(!e||!e.length)return s;var h=-1,m=[],I=e.length;for(n=Xt(n,3);++h<I;){var U=e[h];n(U,h,e)&&(s.push(U),m.push(h))}return Uc(e,m),s},E.rest=function jd(e,n){if("function"!=typeof e)throw new Cn(D);return re(e,n=n===C?n:ee(n))},E.reverse=gu,E.sampleSize=function Fd(e,n,s){return n=(s?un(e,n,s):n===C)?1:ee(n),(te(e)?pl:Es)(e,n)},E.set=function Ip(e,n,s){return null==e?e:Zn(e,n,s)},E.setWith=function Tp(e,n,s,h){return h="function"==typeof h?h:C,null==e?e:Zn(e,n,s,h)},E.shuffle=function xf(e){return(te(e)?gl:Fc)(e)},E.slice=function vd(e,n,s){var h=null==e?0:e.length;return h?(s&&"number"!=typeof s&&un(e,n,s)?(n=0,s=h):(n=null==n?0:ee(n),s=s===C?h:ee(s)),an(e,n,s)):[]},E.sortBy=Yd,E.sortedUniq=function cr(e){return e&&e.length?ro(e):[]},E.sortedUniqBy=function Ad(e,n){return e&&e.length?ro(e,Xt(n,2)):[]},E.split=function Bp(e,n,s){return s&&"number"!=typeof s&&un(e,n,s)&&(n=s=C),(s=s===C?Vt:s>>>0)?(e=de(e))&&("string"==typeof n||null!=n&&!Mu(n))&&!(n=gn(n))&&ai(e)?Er(On(e),0,s):e.split(n,s):[]},E.spread=function Jd(e,n){if("function"!=typeof e)throw new Cn(D);return n=null==n?0:Me(ee(n),0),re(function(s){var h=s[n],m=Er(s,0,n);return h&&br(m,h),on(e,this,m)})},E.tail=function gf(e){var n=null==e?0:e.length;return n?an(e,1,n):[]},E.take=function fr(e,n,s){return e&&e.length?an(e,0,(n=s||n===C?1:ee(n))<0?0:n):[]},E.takeRight=function Sg(e,n,s){var h=null==e?0:e.length;return h?an(e,(n=h-(n=s||n===C?1:ee(n)))<0?0:n,h):[]},E.takeRightWhile=function Cg(e,n){return e&&e.length?yi(e,Xt(n,3),!1,!0):[]},E.takeWhile=function Ed(e,n){return e&&e.length?yi(e,Xt(n,3)):[]},E.tap=function mf(e,n){return n(e),e},E.throttle=function Vd(e,n,s){var h=!0,m=!0;if("function"!=typeof e)throw new Cn(D);return Ee(s)&&(h="leading"in s?!!s.leading:h,m="trailing"in s?!!s.trailing:m),Mf(e,n,{leading:h,maxWait:n,trailing:m})},E.thru=Ws,E.toArray=Tu,E.toPairs=Lu,E.toPairsIn=Np,E.toPath=function ag(e){return te(e)?Ae(e,Hn):fn(e)?[e]:vn(uf(de(e)))},E.toPlainObject=lp,E.transform=function To(e,n,s){var h=te(e),m=h||kr(e)||Ci(e);if(n=Xt(n,4),null==s){var I=e&&e.constructor;s=m?h?new I:[]:Ee(e)&&Xn(I)?$r(cs(e)):{}}return(m?wn:Fn)(e,function(U,H,Q){return n(s,U,H,Q)}),s},E.unary=function qd(e){return _f(e,1)},E.union=Sd,E.unionBy=Cd,E.unionWith=Md,E.uniq=function vf(e){return e&&e.length?$n(e):[]},E.uniqBy=function vu(e,n){return e&&e.length?$n(e,Xt(n,2)):[]},E.uniqWith=function bi(e,n){return n="function"==typeof n?n:C,e&&e.length?$n(e,C,n):[]},E.unset=function kp(e,n){return null==e||Qa(e,n)},E.unzip=Ir,E.unzipWith=yu,E.update=function js(e,n,s){return null==e?e:io(e,n,oo(s))},E.updateWith=function Dp(e,n,s,h){return h="function"==typeof h?h:C,null==e?e:io(e,n,oo(s),h)},E.values=No,E.valuesIn=function Rg(e){return null==e?[]:ns(e,yn(e))},E.without=qe,E.words=Do,E.wrap=function Tf(e,n){return Ke(oo(n),e)},E.xor=Qe,E.xorBy=yf,E.xorWith=mu,E.zip=Ps,E.zipObject=function zs(e,n){return $c(e||[],n||[],Ji)},E.zipObjectDeep=function Id(e,n){return $c(e||[],n||[],Zn)},E.zipWith=hr,E.entries=Lu,E.entriesIn=Np,E.extend=Co,E.extendWith=Xs,Jn(E,E),E.add=cg,E.attempt=Qs,E.camelCase=Hf,E.capitalize=Xf,E.ceil=fg,E.clamp=function Gg(e,n,s){return s===C&&(s=n,n=C),s!==C&&(s=(s=An(s))==s?s:0),n!==C&&(n=(n=An(n))==n?n:0),Xr(An(e),n,s)},E.clone=function tp(e){return He(e,4)},E.cloneDeep=function Nf(e){return He(e,5)},E.cloneDeepWith=function np(e,n){return He(e,5,n="function"==typeof n?n:C)},E.cloneWith=function ep(e,n){return He(e,4,n="function"==typeof n?n:C)},E.conformsTo=function rp(e,n){return null==n||Mc(e,n,Ze(n))},E.deburr=Kf,E.defaultTo=function qf(e,n){return null==e||e!=e?n:e},E.divide=hg,E.endsWith=function Op(e,n,s){e=de(e),n=gn(n);var h=e.length,m=s=s===C?h:Xr(ee(s),0,h);return(s-=n.length)>=0&&e.slice(s,m)==n},E.eq=zn,E.escape=function Js(e){return(e=de(e))&&Wo.test(e)?e.replace(Wr,Eh):e},E.escapeRegExp=function Rp(e){return(e=de(e))&&yr.test(e)?e.replace(Gi,"\\$&"):e},E.every=function Tg(e,n,s){var h=te(e)?uc:Tc;return s&&un(e,n,s)&&(n=C),h(e,Xt(n,3))},E.find=xu,E.findIndex=ff,E.findKey=function Uf(e,n){return cc(e,Xt(n,3),Fn)},E.findLast=tn,E.findLastIndex=hf,E.findLastKey=function mp(e,n){return cc(e,Xt(n,3),Fa)},E.floor=lg,E.forEach=xi,E.forEachRight=Us,E.forIn=function Lg(e,n){return null==e?e:Ba(e,Xt(n,3),yn)},E.forInRight=function Og(e,n){return null==e?e:Dc(e,Xt(n,3),yn)},E.forOwn=function wp(e,n){return e&&Fn(e,Xt(n,3))},E.forOwnRight=function bp(e,n){return e&&Fa(e,Xt(n,3))},E.get=jn,E.gt=ip,E.gte=op,E.has=function ku(e,n){return null!=e&&au(e,n,wl)},E.hasIn=Du,E.head=df,E.identity=Oe,E.includes=function wf(e,n,s,h){e=je(e)?e:No(e),s=s&&!h?ee(s):0;var m=e.length;return s<0&&(s=Me(m+s,0)),Eo(e)?s<=m&&e.indexOf(n,s)>-1:!!m&&si(e,n,s)>-1},E.indexOf=function rd(e,n,s){var h=null==e?0:e.length;if(!h)return-1;var m=null==s?0:ee(s);return m<0&&(m=Me(h+m,0)),si(e,n,m)},E.inRange=function Yf(e,n,s){return n=Kn(n),s===C?(s=n,n=0):s=Kn(s),function xl(e,n,s){return e>=Ue(n,s)&&e<Me(n,s)}(e=An(e),n,s)},E.invoke=Ep,E.isArguments=ei,E.isArray=te,E.isArrayBuffer=sp,E.isArrayLike=je,E.isArrayLikeObject=be,E.isBoolean=function ap(e){return!0===e||!1===e||Te(e)&&sn(e)==Ne},E.isBuffer=kr,E.isDate=up,E.isElement=function $s(e){return Te(e)&&1===e.nodeType&&!Ao(e)},E.isEmpty=function Eu(e){if(null==e)return!0;if(je(e)&&(te(e)||"string"==typeof e||"function"==typeof e.splice||kr(e)||Ci(e)||ei(e)))return!e.length;var n=Ie(e);if(n==$e||n==ze)return!e.size;if(yo(e))return!Xa(e).length;for(var s in e)if(ge.call(e,s))return!1;return!0},E.isEqual=function cp(e,n){return to(e,n)},E.isEqualWith=function kf(e,n,s){var h=(s="function"==typeof s?s:C)?s(e,n):C;return h===C?to(e,n,C,s):!!h},E.isError=Su,E.isFinite=function Df(e){return"number"==typeof e&&Uh(e)},E.isFunction=Xn,E.isInteger=Cu,E.isLength=xo,E.isMap=_o,E.isMatch=function Ys(e,n){return e===n||Ha(e,n,Ve(n))},E.isMatchWith=function Lf(e,n,s){return s="function"==typeof s?s:C,Ha(e,n,Ve(n),s)},E.isNaN=function fp(e){return Rf(e)&&e!=+e},E.isNative=function kg(e){if(_g(e))throw new qt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Rc(e)},E.isNil=function hp(e){return null==e},E.isNull=function Of(e){return null===e},E.isNumber=Rf,E.isObject=Ee,E.isObjectLike=Te,E.isPlainObject=Ao,E.isRegExp=Mu,E.isSafeInteger=function Si(e){return Cu(e)&&e>=-ue&&e<=ue},E.isSet=Hs,E.isString=Eo,E.isSymbol=fn,E.isTypedArray=Ci,E.isUndefined=function Gf(e){return e===C},E.isWeakMap=function Dg(e){return Te(e)&&Ie(e)==Rr},E.isWeakSet=function Iu(e){return Te(e)&&"[object WeakSet]"==sn(e)},E.join=function ud(e,n){return null==e?"":Yi.call(e,n)},E.kebabCase=dr,E.last=_n,E.lastIndexOf=function cd(e,n,s){var h=null==e?0:e.length;if(!h)return-1;var m=h;return s!==C&&(m=(m=ee(s))<0?Me(h+m,0):Ue(m,h-1)),n==n?function Th(J,ht,st){for(var Pt=st+1;Pt--;)if(J[Pt]===ht)return Pt;return Pt}(e,n,m):oi(e,fc,m,!0)},E.lowerCase=Ou,E.lowerFirst=Gp,E.lt=Pf,E.lte=zf,E.max=function dg(e){return e&&e.length?qi(e,Oe,Za):C},E.maxBy=function pg(e,n){return e&&e.length?qi(e,Xt(n,2),Za):C},E.mean=function gg(e){return hc(e,Oe)},E.meanBy=function vg(e,n){return hc(e,Xt(n,2))},E.min=function yg(e){return e&&e.length?qi(e,Oe,Ka):C},E.minBy=function Oo(e,n){return e&&e.length?qi(e,Xt(n,2),Ka):C},E.stubArray=Uu,E.stubFalse=Bu,E.stubObject=function ig(){return{}},E.stubString=function zg(){return""},E.stubTrue=function og(){return!0},E.multiply=Fu,E.nth=function fd(e,n){return e&&e.length?Wc(e,ee(n)):C},E.noConflict=function eh(){return Le._===this&&(Le._=Wh),this},E.noop=Lo,E.now=Fs,E.pad=function Ru(e,n,s){e=de(e);var h=(n=ee(n))?ui(e):0;if(!n||h>=n)return e;var m=(n-h)/2;return Cr(ps(m),s)+e+Cr(ds(m),s)},E.padEnd=function ko(e,n,s){e=de(e);var h=(n=ee(n))?ui(e):0;return n&&h<n?e+Cr(n-h,s):e},E.padStart=function Pp(e,n,s){e=de(e);var h=(n=ee(n))?ui(e):0;return n&&h<n?Cr(n-h,s)+e:e},E.parseInt=function zp(e,n,s){return s||null==n?n=0:n&&(n=+n),Hi(de(e).replace(pe,""),n||0)},E.random=function Lp(e,n,s){if(s&&"boolean"!=typeof s&&un(e,n,s)&&(n=s=C),s===C&&("boolean"==typeof n?(s=n,n=C):"boolean"==typeof e&&(s=e,e=C)),e===C&&n===C?(e=0,n=1):(e=Kn(e),n===C?(n=e,e=0):n=Kn(n)),e>n){var h=e;e=n,n=h}if(s||e%1||n%1){var m=La();return Ue(e+m*(n-e+ph("1e-"+((m+"").length-1))),n)}return _s(e,n)},E.reduce=function zd(e,n,s){var h=te(e)?ma:lc,m=arguments.length<3;return h(e,Xt(n,4),s,m,er)},E.reduceRight=function Wd(e,n,s){var h=te(e)?wa:lc,m=arguments.length<3;return h(e,Xt(n,4),s,m,ws)},E.repeat=function jf(e,n,s){return n=(s?un(e,n,s):n===C)?1:ee(n),qa(de(e),n)},E.replace=function Wp(){var e=arguments,n=de(e[0]);return e.length<3?n:n.replace(e[1],e[2])},E.result=function $f(e,n,s){var h=-1,m=(n=rr(n,e)).length;for(m||(m=1,e=C);++h<m;){var I=null==e?C:e[Hn(n[h])];I===C&&(h=m,I=s),e=Xn(I)?I.call(e):I}return e},E.round=mg,E.runInContext=J,E.sample=function Bd(e){return(te(e)?Cc:Bc)(e)},E.size=function Zd(e){if(null==e)return 0;if(je(e))return Eo(e)?ui(e):e.length;var n=Ie(e);return n==$e||n==ze?e.size:Xa(e).length},E.snakeCase=Up,E.some=function $d(e,n,s){var h=te(e)?ba:no;return s&&un(e,n,s)&&(n=C),h(e,Xt(n,3))},E.sortedIndex=function yd(e,n){return Jr(e,n)},E.sortedIndexBy=function md(e,n,s){return nr(e,n,Xt(s,2))},E.sortedIndexOf=function wd(e,n){var s=null==e?0:e.length;if(s){var h=Jr(e,n);if(h<s&&zn(e[h],n))return h}return-1},E.sortedLastIndex=function bd(e,n){return Jr(e,n,!0)},E.sortedLastIndexBy=function xd(e,n,s){return nr(e,n,Xt(s,2),!0)},E.sortedLastIndexOf=function _d(e,n){if(null!=e&&e.length){var h=Jr(e,n,!0)-1;if(zn(e[h],n))return h}return-1},E.startCase=Fp,E.startsWith=function Zp(e,n,s){return e=de(e),s=null==s?0:Xr(ee(s),0,e.length),n=gn(n),e.slice(s,s+n.length)==n},E.subtract=wg,E.sum=function bg(e){return e&&e.length?Ea(e,Oe):0},E.sumBy=function ih(e,n){return e&&e.length?Ea(e,Xt(n,2)):0},E.template=function Jf(e,n,s){var h=E.templateSettings;s&&un(e,n,s)&&(n=C),e=de(e),n=Xs({},n,h,Jc);var H,Q,m=Xs({},n.imports,h.imports,Jc),I=Ze(m),U=ns(m,I),vt=0,t=n.interpolate||bt,r="__p += '",i=Ia((n.escape||bt).source+"|"+t.source+"|"+(t===Ri?x:bt).source+"|"+(n.evaluate||bt).source+"|$","g"),o="//# sourceURL="+(ge.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++lh+"]")+"\n";e.replace(i,function(l,p,b,_,k,B){return b||(b=_),r+=e.slice(vt,B).replace(xt,Sh),p&&(H=!0,r+="' +\n__e("+p+") +\n'"),k&&(Q=!0,r+="';\n"+k+";\n__p += '"),b&&(r+="' +\n((__t = ("+b+")) == null ? '' : __t) +\n'"),vt=B+l.length,l}),r+="';\n";var a=ge.call(n,"variable")&&n.variable;if(a){if(mr.test(a))throw new qt("Invalid `variable` option passed into `_.template`")}else r="with (obj) {\n"+r+"\n}\n";r=(Q?r.replace(zr,""):r).replace(ra,"$1").replace(ia,"$1;"),r="function("+(a||"obj")+") {\n"+(a?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(H?", __e = _.escape":"")+(Q?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+r+"return __p\n}";var c=Qs(function(){return le(I,o+"return "+r).apply(C,U)});if(c.source=r,Su(c))throw c;return c},E.times=function sg(e,n){if((e=ee(e))<1||e>ue)return[];var s=Vt,h=Ue(e,Vt);n=Xt(n),e-=Vt;for(var m=Sa(h,n);++s<e;)n(s);return m},E.toFinite=Kn,E.toInteger=ee,E.toLength=So,E.toLower=function Gu(e){return de(e).toLowerCase()},E.toNumber=An,E.toSafeInteger=function dp(e){return e?Xr(ee(e),-ue,ue):0===e?e:0},E.toString=de,E.toUpper=function Vf(e){return de(e).toUpperCase()},E.trim=function $p(e,n,s){if((e=de(e))&&(s||n===C))return Ca(e);if(!e||!(n=gn(n)))return e;var h=On(e),m=On(n);return Er(h,dc(h,m),pc(h,m)+1).join("")},E.trimEnd=function Yp(e,n,s){if((e=de(e))&&(s||n===C))return e.slice(0,mc(e)+1);if(!e||!(n=gn(n)))return e;var h=On(e);return Er(h,0,pc(h,On(n))+1).join("")},E.trimStart=function Pg(e,n,s){if((e=de(e))&&(s||n===C))return e.replace(pe,"");if(!e||!(n=gn(n)))return e;var h=On(e);return Er(h,dc(h,On(n))).join("")},E.truncate=function Hp(e,n){var s=30,h="...";if(Ee(n)){var m="separator"in n?n.separator:m;s="length"in n?ee(n.length):s,h="omission"in n?gn(n.omission):h}var I=(e=de(e)).length;if(ai(e)){var U=On(e);I=U.length}if(s>=I)return e;var H=s-ui(h);if(H<1)return h;var Q=U?Er(U,0,H).join(""):e.slice(0,H);if(m===C)return Q+h;if(U&&(H+=Q.length-H),Mu(m)){if(e.slice(H).search(m)){var vt,t=Q;for(m.global||(m=Ia(m.source,de(v.exec(m))+"g")),m.lastIndex=0;vt=m.exec(t);)var r=vt.index;Q=Q.slice(0,r===C?H:r)}}else if(e.indexOf(gn(m),H)!=H){var i=Q.lastIndexOf(m);i>-1&&(Q=Q.slice(0,i))}return Q+h},E.unescape=function Xp(e){return(e=de(e))&&zo.test(e)?e.replace(vr,Nh):e},E.uniqueId=function ug(e){var n=++Ph;return de(e)+n},E.upperCase=Vs,E.upperFirst=qs,E.each=xi,E.eachRight=Us,E.first=df,Jn(E,function(){var e={};return Fn(E,function(n,s){ge.call(E.prototype,s)||(e[s]=n)}),e}(),{chain:!1}),E.VERSION="4.17.21",wn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){E[e].placeholder=E}),wn(["drop","take"],function(e,n){ae.prototype[e]=function(s){s=s===C?1:Me(ee(s),0);var h=this.__filtered__&&!n?new ae(this):this.clone();return h.__filtered__?h.__takeCount__=Ue(s,h.__takeCount__):h.__views__.push({size:Ue(s,Vt),type:e+(h.__dir__<0?"Right":"")}),h},ae.prototype[e+"Right"]=function(s){return this.reverse()[e](s).reverse()}}),wn(["filter","map","takeWhile"],function(e,n){var s=n+1,h=1==s||3==s;ae.prototype[e]=function(m){var I=this.clone();return I.__iteratees__.push({iteratee:Xt(m,3),type:s}),I.__filtered__=I.__filtered__||h,I}}),wn(["head","last"],function(e,n){var s="take"+(n?"Right":"");ae.prototype[e]=function(){return this[s](1).value()[0]}}),wn(["initial","tail"],function(e,n){var s="drop"+(n?"":"Right");ae.prototype[e]=function(){return this.__filtered__?new ae(this):this[s](1)}}),ae.prototype.compact=function(){return this.filter(Oe)},ae.prototype.find=function(e){return this.filter(e).head()},ae.prototype.findLast=function(e){return this.reverse().find(e)},ae.prototype.invokeMap=re(function(e,n){return"function"==typeof e?new ae(this):this.map(function(s){return Qi(s,e,n)})}),ae.prototype.reject=function(e){return this.filter(Ei(Xt(e)))},ae.prototype.slice=function(e,n){e=ee(e);var s=this;return s.__filtered__&&(e>0||n<0)?new ae(s):(e<0?s=s.takeRight(-e):e&&(s=s.drop(e)),n!==C&&(s=(n=ee(n))<0?s.dropRight(-n):s.take(n-e)),s)},ae.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ae.prototype.toArray=function(){return this.take(Vt)},Fn(ae.prototype,function(e,n){var s=/^(?:filter|find|map|reject)|While$/.test(n),h=/^(?:head|last)$/.test(n),m=E[h?"take"+("last"==n?"Right":""):n],I=h||/^find/.test(n);!m||(E.prototype[n]=function(){var U=this.__wrapped__,H=h?[1]:arguments,Q=U instanceof ae,vt=H[0],t=Q||te(U),r=function(p){var b=m.apply(E,br([p],H));return h&&i?b[0]:b};t&&s&&"function"==typeof vt&&1!=vt.length&&(Q=t=!1);var i=this.__chain__,o=!!this.__actions__.length,a=I&&!i,c=Q&&!o;if(!I&&t){U=c?U:new ae(this);var l=e.apply(U,H);return l.__actions__.push({func:Ws,args:[r],thisArg:C}),new Mn(l,i)}return a&&c?e.apply(this,H):(l=this.thru(r),a?h?l.value()[0]:l.value():l)})}),wn(["pop","push","shift","sort","splice","unshift"],function(e){var n=Ta[e],s=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",h=/^(?:pop|shift)$/.test(e);E.prototype[e]=function(){var m=arguments;if(h&&!this.__chain__){var I=this.value();return n.apply(te(I)?I:[],m)}return this[s](function(U){return n.apply(te(U)?U:[],m)})}}),Fn(ae.prototype,function(e,n){var s=E[n];if(s){var h=s.name+"";ge.call(Zr,h)||(Zr[h]=[]),Zr[h].push({name:n,func:s})}}),Zr[Ms(C,2).name]=[{name:"wrapper",func:C}],ae.prototype.clone=function Hh(){var e=new ae(this.__wrapped__);return e.__actions__=vn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=vn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=vn(this.__views__),e},ae.prototype.reverse=function Xh(){if(this.__filtered__){var e=new ae(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},ae.prototype.value=function Kh(){var e=this.__wrapped__.value(),n=this.__dir__,s=te(e),h=n<0,m=s?e.length:0,I=function Qr(e,n,s){for(var h=-1,m=s.length;++h<m;){var I=s[h],U=I.size;switch(I.type){case"drop":e+=U;break;case"dropRight":n-=U;break;case"take":n=Ue(n,e+U);break;case"takeRight":e=Me(e,n-U)}}return{start:e,end:n}}(0,m,this.__views__),U=I.start,H=I.end,Q=H-U,vt=h?H:U-1,t=this.__iteratees__,r=t.length,i=0,o=Ue(Q,this.__takeCount__);if(!s||!h&&m==Q&&o==Q)return Zc(e,this.__actions__);var a=[];t:for(;Q--&&i<o;){for(var c=-1,l=e[vt+=n];++c<r;){var p=t[c],_=p.type,k=(0,p.iteratee)(l);if(2==_)l=k;else if(!k){if(1==_)continue t;break t}}a[i++]=l}return a},E.prototype.at=Td,E.prototype.chain=function bo(){return wu(this)},E.prototype.commit=function Nd(){return new Mn(this.value(),this.__chain__)},E.prototype.next=function kd(){this.__values__===C&&(this.__values__=Tu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?C:this.__values__[this.__index__++]}},E.prototype.plant=function bu(e){for(var n,s=this;s instanceof Ki;){var h=cf(s);h.__index__=0,h.__values__=C,n?m.__wrapped__=h:n=h;var m=h;s=s.__wrapped__}return m.__wrapped__=e,n},E.prototype.reverse=function Ld(){var e=this.__wrapped__;if(e instanceof ae){var n=e;return this.__actions__.length&&(n=new ae(this)),(n=n.reverse()).__actions__.push({func:Ws,args:[gu],thisArg:C}),new Mn(n,this.__chain__)}return this.thru(gu)},E.prototype.toJSON=E.prototype.valueOf=E.prototype.value=function Mg(){return Zc(this.__wrapped__,this.__actions__)},E.prototype.first=E.prototype.head,Bn&&(E.prototype[Bn]=function Dd(){return this}),E}();Le._=os,(ft=function(){return os}.call(At,O,At,Mt))!==C&&(Mt.exports=ft)}.call(this)},8740:(Mt,At,O)=>{var ft=O(6009),C=O(5701);function j(d,z){if(arguments.length<2)throw new Error("mnemonist/fixed-deque: expecting an Array class and a capacity.");if("number"!=typeof z||z<=0)throw new Error("mnemonist/fixed-deque: `capacity` should be a positive number.");this.ArrayClass=d,this.capacity=z,this.items=new d(this.capacity),this.clear()}j.prototype.clear=function(){this.start=0,this.size=0},j.prototype.push=function(d){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.push: deque capacity ("+this.capacity+") exceeded!");return this.items[(this.start+this.size)%this.capacity]=d,++this.size},j.prototype.unshift=function(d){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.unshift: deque capacity ("+this.capacity+") exceeded!");var z=this.start-1;return 0===this.start&&(z=this.capacity-1),this.items[z]=d,this.start=z,++this.size},j.prototype.pop=function(){if(0===this.size)return;const d=(this.start+this.size-1)%this.capacity;return this.size--,this.items[d]},j.prototype.shift=function(){if(0!==this.size){var d=this.start;return this.size--,this.start++,this.start===this.capacity&&(this.start=0),this.items[d]}},j.prototype.peekFirst=function(){if(0!==this.size)return this.items[this.start]},j.prototype.peekLast=function(){if(0!==this.size){var d=this.start+this.size-1;return d>this.capacity&&(d-=this.capacity),this.items[d]}},j.prototype.get=function(d){if(0!==this.size)return(d=this.start+d)>this.capacity&&(d-=this.capacity),this.items[d]},j.prototype.forEach=function(d,z){z=arguments.length>1?z:this;for(var D=this.capacity,W=this.size,A=this.start,w=0;w<W;)d.call(z,this.items[A],w,this),w++,++A===D&&(A=0)},j.prototype.toArray=function(){var d=this.start+this.size;if(d<this.capacity)return this.items.slice(this.start,d);for(var z=new this.ArrayClass(this.size),D=this.capacity,W=this.size,A=this.start,w=0;w<W;)z[w]=this.items[A],w++,++A===D&&(A=0);return z},j.prototype.values=function(){var d=this.items,z=this.capacity,D=this.size,W=this.start,A=0;return new C(function(){if(A>=D)return{done:!0};var w=d[W];return W++,A++,W===z&&(W=0),{value:w,done:!1}})},j.prototype.entries=function(){var d=this.items,z=this.capacity,D=this.size,W=this.start,A=0;return new C(function(){if(A>=D)return{done:!0};var w=d[W];return++W===z&&(W=0),{value:[A++,w],done:!1}})},"undefined"!=typeof Symbol&&(j.prototype[Symbol.iterator]=j.prototype.values),j.prototype.inspect=function(){var d=this.toArray();return d.type=this.ArrayClass.name,d.capacity=this.capacity,Object.defineProperty(d,"constructor",{value:j,enumerable:!1}),d},"undefined"!=typeof Symbol&&(j.prototype[Symbol.for("nodejs.util.inspect.custom")]=j.prototype.inspect),j.from=function(d,z,D){if(arguments.length<3&&"number"!=typeof(D=ft.guessLength(d)))throw new Error("mnemonist/fixed-deque.from: could not guess iterable length. Please provide desired capacity as last argument.");var W=new j(z,D);if(ft.isArrayLike(d)){var A,w;for(A=0,w=d.length;A<w;A++)W.items[A]=d[A];return W.size=w,W}return ft.forEach(d,function(S){W.push(S)}),W},Mt.exports=j},7451:(Mt,At,O)=>{var ft=O(5701),C=O(6009);function j(d,z){if(arguments.length<2)throw new Error("mnemonist/fixed-stack: expecting an Array class and a capacity.");if("number"!=typeof z||z<=0)throw new Error("mnemonist/fixed-stack: `capacity` should be a positive number.");this.capacity=z,this.ArrayClass=d,this.items=new this.ArrayClass(this.capacity),this.clear()}j.prototype.clear=function(){this.size=0},j.prototype.push=function(d){if(this.size===this.capacity)throw new Error("mnemonist/fixed-stack.push: stack capacity ("+this.capacity+") exceeded!");return this.items[this.size++]=d,this.size},j.prototype.pop=function(){if(0!==this.size)return this.items[--this.size]},j.prototype.peek=function(){return this.items[this.size-1]},j.prototype.forEach=function(d,z){z=arguments.length>1?z:this;for(var D=0,W=this.items.length;D<W;D++)d.call(z,this.items[W-D-1],D,this)},j.prototype.toArray=function(){for(var d=new this.ArrayClass(this.size),z=this.size-1,D=this.size;D--;)d[D]=this.items[z-D];return d},j.prototype.values=function(){var d=this.items,z=this.size,D=0;return new ft(function(){if(D>=z)return{done:!0};var W=d[z-D-1];return D++,{value:W,done:!1}})},j.prototype.entries=function(){var d=this.items,z=this.size,D=0;return new ft(function(){if(D>=z)return{done:!0};var W=d[z-D-1];return{value:[D++,W],done:!1}})},"undefined"!=typeof Symbol&&(j.prototype[Symbol.iterator]=j.prototype.values),j.prototype.toString=function(){return this.toArray().join(",")},j.prototype.toJSON=function(){return this.toArray()},j.prototype.inspect=function(){var d=this.toArray();return d.type=this.ArrayClass.name,d.capacity=this.capacity,Object.defineProperty(d,"constructor",{value:j,enumerable:!1}),d},"undefined"!=typeof Symbol&&(j.prototype[Symbol.for("nodejs.util.inspect.custom")]=j.prototype.inspect),j.from=function(d,z,D){if(arguments.length<3&&"number"!=typeof(D=C.guessLength(d)))throw new Error("mnemonist/fixed-stack.from: could not guess iterable length. Please provide desired capacity as last argument.");var W=new j(z,D);if(C.isArrayLike(d)){var A,w;for(A=0,w=d.length;A<w;A++)W.items[A]=d[A];return W.size=w,W}return C.forEach(d,function(S){W.push(S)}),W},Mt.exports=j},4547:(Mt,At,O)=>{var ft=O(4467),C=O(2062),j=O(6009),d=C.DEFAULT_COMPARATOR,z=C.reverseComparator;function D($,Y,Z,G){for(var gt,wt,ot=Y[G];G>Z&&$(ot,wt=Y[gt=G-1>>1])<0;)Y[G]=wt,G=gt;Y[G]=ot}function W($,Y,Z){for(var dt,G=Y.length,ot=Z,gt=Y[Z],wt=2*Z+1;wt<G;)(dt=wt+1)<G&&$(Y[wt],Y[dt])>=0&&(wt=dt),Y[Z]=Y[wt],wt=2*(Z=wt)+1;Y[Z]=gt,D($,Y,ot,Z)}function A($,Y,Z){Y.push(Z),D($,Y,0,Y.length-1)}function w($,Y){var Z=Y.pop();if(0!==Y.length){var G=Y[0];return Y[0]=Z,W($,Y,0),G}return Z}function S($,Y,Z){if(0===Y.length)throw new Error("mnemonist/heap.replace: cannot pop an empty heap.");var G=Y[0];return Y[0]=Z,W($,Y,0),G}function T($,Y,Z){var G;return 0!==Y.length&&$(Y[0],Z)<0&&(G=Y[0],Y[0]=Z,Z=G,W($,Y,0)),Z}function N($,Y){for(var ot=Y.length>>1;--ot>=0;)W($,Y,ot)}function R($,Y){for(var Z=Y.length,G=0,ot=new Array(Z);G<Z;)ot[G++]=w($,Y);return ot}function nt($){if(this.clear(),this.comparator=$||d,"function"!=typeof this.comparator)throw new Error("mnemonist/Heap.constructor: given comparator should be a function.")}function ut($){if(this.clear(),this.comparator=$||d,"function"!=typeof this.comparator)throw new Error("mnemonist/MaxHeap.constructor: given comparator should be a function.");this.comparator=z(this.comparator)}nt.prototype.clear=function(){this.items=[],this.size=0},nt.prototype.push=function($){return A(this.comparator,this.items,$),++this.size},nt.prototype.peek=function(){return this.items[0]},nt.prototype.pop=function(){return 0!==this.size&&this.size--,w(this.comparator,this.items)},nt.prototype.replace=function($){return S(this.comparator,this.items,$)},nt.prototype.pushpop=function($){return T(this.comparator,this.items,$)},nt.prototype.consume=function(){return this.size=0,R(this.comparator,this.items)},nt.prototype.toArray=function(){return R(this.comparator,this.items.slice())},nt.prototype.inspect=function(){var $=this.toArray();return Object.defineProperty($,"constructor",{value:nt,enumerable:!1}),$},"undefined"!=typeof Symbol&&(nt.prototype[Symbol.for("nodejs.util.inspect.custom")]=nt.prototype.inspect),ut.prototype=nt.prototype,nt.from=function($,Y){var G,Z=new nt(Y);return G=j.isArrayLike($)?$.slice():j.toArray($),N(Z.comparator,G),Z.items=G,Z.size=G.length,Z},ut.from=function($,Y){var G,Z=new ut(Y);return G=j.isArrayLike($)?$.slice():j.toArray($),N(Z.comparator,G),Z.items=G,Z.size=G.length,Z},nt.siftUp=W,nt.siftDown=D,nt.push=A,nt.pop=w,nt.replace=S,nt.pushpop=T,nt.heapify=N,nt.consume=R,nt.nsmallest=function tt($,Y,Z){2===arguments.length&&(Z=Y,Y=$,$=d);var ot,gt,wt,lt,G=z($),dt=1/0;if(1===Y){if(j.isArrayLike(Z)){for(ot=0,gt=Z.length;ot<gt;ot++)wt=Z[ot],(dt===1/0||$(wt,dt)<0)&&(dt=wt);return(lt=new Z.constructor(1))[0]=dt,lt}return ft(Z,function(It){(dt===1/0||$(It,dt)<0)&&(dt=It)}),[dt]}if(j.isArrayLike(Z)){if(Y>=Z.length)return Z.slice().sort($);for(lt=Z.slice(0,Y),N(G,lt),ot=Y,gt=Z.length;ot<gt;ot++)G(Z[ot],lt[0])>0&&S(G,lt,Z[ot]);return lt.sort($)}var Et=j.guessLength(Z);return null!==Et&&Et<Y&&(Y=Et),lt=new Array(Y),ot=0,ft(Z,function(It){ot<Y?lt[ot]=It:(ot===Y&&N(G,lt),G(It,lt[0])>0&&S(G,lt,It)),ot++}),lt.length>ot&&(lt.length=ot),lt.sort($)},nt.nlargest=function V($,Y,Z){2===arguments.length&&(Z=Y,Y=$,$=d);var ot,gt,wt,lt,G=z($),dt=-1/0;if(1===Y){if(j.isArrayLike(Z)){for(ot=0,gt=Z.length;ot<gt;ot++)wt=Z[ot],(dt===-1/0||$(wt,dt)>0)&&(dt=wt);return(lt=new Z.constructor(1))[0]=dt,lt}return ft(Z,function(It){(dt===-1/0||$(It,dt)>0)&&(dt=It)}),[dt]}if(j.isArrayLike(Z)){if(Y>=Z.length)return Z.slice().sort(G);for(lt=Z.slice(0,Y),N($,lt),ot=Y,gt=Z.length;ot<gt;ot++)$(Z[ot],lt[0])>0&&S($,lt,Z[ot]);return lt.sort(G)}var Et=j.guessLength(Z);return null!==Et&&Et<Y&&(Y=Et),lt=new Array(Y),ot=0,ft(Z,function(It){ot<Y?lt[ot]=It:(ot===Y&&N($,lt),$(It,lt[0])>0&&S($,lt,It)),ot++}),lt.length>ot&&(lt.length=ot),lt.sort(G)},nt.MinHeap=nt,nt.MaxHeap=ut,Mt.exports=nt},8090:(Mt,At,O)=>{var ft=O(5701),C=O(6116).getPointerArray;function j(d,z){arguments.length<2&&(z=d,d=Array);var D=C(z);this.size=0,this.length=z,this.dense=new D(z),this.sparse=new D(z),this.vals=new d(z)}j.prototype.clear=function(){this.size=0},j.prototype.has=function(d){var z=this.sparse[d];return z<this.size&&this.dense[z]===d},j.prototype.get=function(d){var z=this.sparse[d];if(z<this.size&&this.dense[z]===d)return this.vals[z]},j.prototype.set=function(d,z){var D=this.sparse[d];return D<this.size&&this.dense[D]===d?(this.vals[D]=z,this):(this.dense[this.size]=d,this.sparse[d]=this.size,this.vals[this.size]=z,this.size++,this)},j.prototype.delete=function(d){var z=this.sparse[d];return!(z>=this.size||this.dense[z]!==d||(this.dense[this.sparse[d]]=z=this.dense[this.size-1],this.sparse[z]=this.sparse[d],this.size--,0))},j.prototype.forEach=function(d,z){z=arguments.length>1?z:this;for(var D=0;D<this.size;D++)d.call(z,this.vals[D],this.dense[D])},j.prototype.keys=function(){var d=this.size,z=this.dense,D=0;return new ft(function(){if(D<d){var W=z[D];return D++,{value:W}}return{done:!0}})},j.prototype.values=function(){var d=this.size,z=this.vals,D=0;return new ft(function(){if(D<d){var W=z[D];return D++,{value:W}}return{done:!0}})},j.prototype.entries=function(){var d=this.size,z=this.dense,D=this.vals,W=0;return new ft(function(){if(W<d){var A=[z[W],D[W]];return W++,{value:A}}return{done:!0}})},"undefined"!=typeof Symbol&&(j.prototype[Symbol.iterator]=j.prototype.entries),j.prototype.inspect=function(){for(var d=new Map,z=0;z<this.size;z++)d.set(this.dense[z],this.vals[z]);return Object.defineProperty(d,"constructor",{value:j,enumerable:!1}),d.length=this.length,this.vals.constructor!==Array&&(d.type=this.vals.constructor.name),d},"undefined"!=typeof Symbol&&(j.prototype[Symbol.for("nodejs.util.inspect.custom")]=j.prototype.inspect),Mt.exports=j},5766:(Mt,At,O)=>{var ft=O(5701),C=O(6116).getPointerArray;function j(d){var z=C(d);this.start=0,this.size=0,this.capacity=d,this.dense=new z(d),this.sparse=new z(d)}j.prototype.clear=function(){this.start=0,this.size=0},j.prototype.has=function(d){if(0===this.size)return!1;var z=this.sparse[d];return(z<this.capacity&&z>=this.start&&z<this.start+this.size||z<(this.start+this.size)%this.capacity)&&this.dense[z]===d},j.prototype.enqueue=function(d){var z=this.sparse[d];return 0!==this.size&&(z<this.capacity&&z>=this.start&&z<this.start+this.size||z<(this.start+this.size)%this.capacity)&&this.dense[z]===d||(this.dense[z=(this.start+this.size)%this.capacity]=d,this.sparse[d]=z,this.size++),this},j.prototype.dequeue=function(){if(0!==this.size){var d=this.start;this.size--,this.start++,this.start===this.capacity&&(this.start=0);var z=this.dense[d];return this.sparse[z]=this.capacity,z}},j.prototype.forEach=function(d,z){z=arguments.length>1?z:this;for(var D=this.capacity,W=this.size,A=this.start,w=0;w<W;)d.call(z,this.dense[A],w,this),w++,++A===D&&(A=0)},j.prototype.values=function(){var d=this.dense,z=this.capacity,D=this.size,W=this.start,A=0;return new ft(function(){if(A>=D)return{done:!0};var w=d[W];return W++,A++,W===z&&(W=0),{value:w,done:!1}})},"undefined"!=typeof Symbol&&(j.prototype[Symbol.iterator]=j.prototype.values),j.prototype.inspect=function(){var d=[];return this.forEach(function(z){d.push(z)}),Object.defineProperty(d,"constructor",{value:j,enumerable:!1}),d.capacity=this.capacity,d},"undefined"!=typeof Symbol&&(j.prototype[Symbol.for("nodejs.util.inspect.custom")]=j.prototype.inspect),Mt.exports=j},4268:(Mt,At,O)=>{var ft=O(5701),C=O(6116).getPointerArray;function j(d){var z=C(d);this.size=0,this.length=d,this.dense=new z(d),this.sparse=new z(d)}j.prototype.clear=function(){this.size=0},j.prototype.has=function(d){var z=this.sparse[d];return z<this.size&&this.dense[z]===d},j.prototype.add=function(d){var z=this.sparse[d];return z<this.size&&this.dense[z]===d||(this.dense[this.size]=d,this.sparse[d]=this.size,this.size++),this},j.prototype.delete=function(d){var z=this.sparse[d];return!(z>=this.size||this.dense[z]!==d||(this.dense[this.sparse[d]]=z=this.dense[this.size-1],this.sparse[z]=this.sparse[d],this.size--,0))},j.prototype.forEach=function(d,z){z=arguments.length>1?z:this;for(var D,W=0;W<this.size;W++)d.call(z,D=this.dense[W],D)},j.prototype.values=function(){var d=this.size,z=this.dense,D=0;return new ft(function(){if(D<d){var W=z[D];return D++,{value:W}}return{done:!0}})},"undefined"!=typeof Symbol&&(j.prototype[Symbol.iterator]=j.prototype.values),j.prototype.inspect=function(){for(var d=new Set,z=0;z<this.size;z++)d.add(this.dense[z]);return Object.defineProperty(d,"constructor",{value:j,enumerable:!1}),d.length=this.length,d},"undefined"!=typeof Symbol&&(j.prototype[Symbol.for("nodejs.util.inspect.custom")]=j.prototype.inspect),Mt.exports=j},2062:(Mt,At)=>{At.DEFAULT_COMPARATOR=function(d,z){return d<z?-1:d>z?1:0},At.DEFAULT_REVERSE_COMPARATOR=function(d,z){return d<z?1:d>z?-1:0},At.reverseComparator=function C(d){return function(z,D){return d(D,z)}},At.createTupleComparator=function j(d){return 2===d?function(z,D){return z[0]<D[0]?-1:z[0]>D[0]?1:z[1]<D[1]?-1:z[1]>D[1]?1:0}:function(z,D){for(var W=0;W<d;){if(z[W]<D[W])return-1;if(z[W]>D[W])return 1;W++}return 0}}},6009:(Mt,At,O)=>{var ft=O(4467),C=O(6116);function d(W){return"number"==typeof W.length?W.length:"number"==typeof W.size?W.size:void 0}At.isArrayLike=function j(W){return Array.isArray(W)||C.isTypedArray(W)},At.guessLength=d,At.toArray=function z(W){var A=d(W),w="number"==typeof A?new Array(A):[],S=0;return ft(W,function(T){w[S++]=T}),w},At.toArrayWithIndices=function D(W){var A=d(W),w="number"==typeof A?C.getPointerArray(A):Array,S="number"==typeof A?new Array(A):[],T="number"==typeof A?new w(A):[],N=0;return ft(W,function(R){S[N]=R,T[N]=N++}),[S,T]}},6116:(Mt,At)=>{var O=Math.pow(2,8)-1,ft=Math.pow(2,16)-1,C=Math.pow(2,32)-1,j=Math.pow(2,7)-1,d=Math.pow(2,15)-1,z=Math.pow(2,31)-1;At.getPointerArray=function(W){var A=W-1;if(A<=O)return Uint8Array;if(A<=ft)return Uint16Array;if(A<=C)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},At.getSignedPointerArray=function(W){var A=W-1;return A<=j?Int8Array:A<=d?Int16Array:A<=z?Int32Array:Float64Array},At.getNumberType=function(W){return W===(0|W)?-1===Math.sign(W)?W<=127&&W>=-128?Int8Array:W<=32767&&W>=-32768?Int16Array:Int32Array:W<=255?Uint8Array:W<=65535?Uint16Array:Uint32Array:Float64Array};var D={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};At.getMinimalRepresentation=function(W,A){var T,N,R,tt,V,w=null,S=0;for(tt=0,V=W.length;tt<V;tt++)R=A?A(W[tt]):W[tt],N=At.getNumberType(R),(T=D[N.name])>S&&(S=T,w=N);return w},At.isTypedArray=function(W){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(W)},At.concat=function(){var A,w,S,W=0;for(A=0,S=arguments.length;A<S;A++)W+=arguments[A].length;var T=new arguments[0].constructor(W);for(A=0,w=0;A<S;A++)T.set(arguments[A],w),w+=arguments[A].length;return T},At.indices=function(W){for(var w=new(At.getPointerArray(W))(W),S=0;S<W;S++)w[S]=S;return w}},4467:(Mt,At,O)=>{var ft=O(8123),C=ft.ARRAY_BUFFER_SUPPORT,j=ft.SYMBOL_SUPPORT;Mt.exports=function(z,D){var W,A,w,S,T;if(!z)throw new Error("obliterator/forEach: invalid iterable.");if("function"!=typeof D)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(z)||C&&ArrayBuffer.isView(z)||"string"==typeof z||"[object Arguments]"===z.toString())for(w=0,S=z.length;w<S;w++)D(z[w],w);else if("function"!=typeof z.forEach)if(j&&Symbol.iterator in z&&"function"!=typeof z.next&&(z=z[Symbol.iterator]()),"function"!=typeof z.next)for(A in z)z.hasOwnProperty(A)&&D(z[A],A);else for(W=z,w=0;!0!==(T=W.next()).done;)D(T.value,w),w++;else z.forEach(D)}},5701:Mt=>{function At(O){if("function"!=typeof O)throw new Error("obliterator/iterator: expecting a function!");this.next=O}"undefined"!=typeof Symbol&&(At.prototype[Symbol.iterator]=function(){return this}),At.of=function(){var O=arguments,ft=O.length,C=0;return new At(function(){return C>=ft?{done:!0}:{done:!1,value:O[C++]}})},At.empty=function(){return new At(function(){return{done:!0}})},At.fromSequence=function(O){var ft=0,C=O.length;return new At(function(){return ft>=C?{done:!0}:{done:!1,value:O[ft++]}})},At.is=function(O){return O instanceof At||"object"==typeof O&&null!==O&&"function"==typeof O.next},Mt.exports=At},8123:(Mt,At)=>{At.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,At.SYMBOL_SUPPORT="undefined"!=typeof Symbol},8859:Mt=>{function At(ft){return function(C){return"number"!=typeof C&&(C=C.length),Math.floor(ft()*C)}}var O=At(Math.random);O.createRandomIndex=At,Mt.exports=O},340:(Mt,At,O)=>{var ft=O(9471),C=O(2992),j=O(7657),d=O(5583),z=O(1929),D=O(8083),W=O(3818);W.alea=ft,W.xor128=C,W.xorwow=j,W.xorshift7=d,W.xor4096=z,W.tychei=D,Mt.exports=W},9471:function(Mt,At,O){var ft;!function(C,j,d){function z(w){var S=this,T=function A(){var w=4022871197;return function(T){T=String(T);for(var N=0;N<T.length;N++){var R=.02519603282416938*(w+=T.charCodeAt(N));R-=w=R>>>0,w=(R*=w)>>>0,w+=4294967296*(R-=w)}return 2.3283064365386963e-10*(w>>>0)}}();S.next=function(){var N=2091639*S.s0+2.3283064365386963e-10*S.c;return S.s0=S.s1,S.s1=S.s2,S.s2=N-(S.c=0|N)},S.c=1,S.s0=T(" "),S.s1=T(" "),S.s2=T(" "),S.s0-=T(w),S.s0<0&&(S.s0+=1),S.s1-=T(w),S.s1<0&&(S.s1+=1),S.s2-=T(w),S.s2<0&&(S.s2+=1),T=null}function D(w,S){return S.c=w.c,S.s0=w.s0,S.s1=w.s1,S.s2=w.s2,S}function W(w,S){var T=new z(w),N=S&&S.state,R=T.next;return R.int32=function(){return 4294967296*T.next()|0},R.double=function(){return R()+11102230246251565e-32*(2097152*R()|0)},R.quick=R,N&&("object"==typeof N&&D(N,T),R.state=function(){return D(T,{})}),R}j&&j.exports?j.exports=W:O.amdD&&O.amdO?void 0!==(ft=function(){return W}.call(At,O,At,j))&&(j.exports=ft):this.alea=W}(0,Mt=O.nmd(Mt))},8083:function(Mt,At,O){var ft;!function(C,j,d){function z(A){var w=this,S="";w.next=function(){var N=w.b,R=w.c,tt=w.d,V=w.a;return N=N<<25^N>>>7^R,R=R-tt|0,tt=tt<<24^tt>>>8^V,V=V-N|0,w.b=N=N<<20^N>>>12^R,w.c=R=R-tt|0,w.d=tt<<16^R>>>16^V,w.a=V-N|0},w.a=0,w.b=0,w.c=-1640531527,w.d=1367130551,A===Math.floor(A)?(w.a=A/4294967296|0,w.b=0|A):S+=A;for(var T=0;T<S.length+20;T++)w.b^=0|S.charCodeAt(T),w.next()}function D(A,w){return w.a=A.a,w.b=A.b,w.c=A.c,w.d=A.d,w}function W(A,w){var S=new z(A),T=w&&w.state,N=function(){return(S.next()>>>0)/4294967296};return N.double=function(){do{var V=((S.next()>>>11)+(S.next()>>>0)/4294967296)/(1<<21)}while(0===V);return V},N.int32=S.next,N.quick=N,T&&("object"==typeof T&&D(T,S),N.state=function(){return D(S,{})}),N}j&&j.exports?j.exports=W:O.amdD&&O.amdO?void 0!==(ft=function(){return W}.call(At,O,At,j))&&(j.exports=ft):this.tychei=W}(0,Mt=O.nmd(Mt))},2992:function(Mt,At,O){var ft;!function(C,j,d){function z(A){var w=this,S="";w.x=0,w.y=0,w.z=0,w.w=0,w.next=function(){var N=w.x^w.x<<11;return w.x=w.y,w.y=w.z,w.z=w.w,w.w^=w.w>>>19^N^N>>>8},A===(0|A)?w.x=A:S+=A;for(var T=0;T<S.length+64;T++)w.x^=0|S.charCodeAt(T),w.next()}function D(A,w){return w.x=A.x,w.y=A.y,w.z=A.z,w.w=A.w,w}function W(A,w){var S=new z(A),T=w&&w.state,N=function(){return(S.next()>>>0)/4294967296};return N.double=function(){do{var V=((S.next()>>>11)+(S.next()>>>0)/4294967296)/(1<<21)}while(0===V);return V},N.int32=S.next,N.quick=N,T&&("object"==typeof T&&D(T,S),N.state=function(){return D(S,{})}),N}j&&j.exports?j.exports=W:O.amdD&&O.amdO?void 0!==(ft=function(){return W}.call(At,O,At,j))&&(j.exports=ft):this.xor128=W}(0,Mt=O.nmd(Mt))},1929:function(Mt,At,O){var ft;!function(C,j,d){function z(A){var w=this;w.next=function(){var tt,V,T=w.w,N=w.X,R=w.i;return w.w=T=T+1640531527|0,V=N[R+34&127],tt=N[R=R+1&127],V^=V<<13,tt^=tt<<17,V=N[R]=(V^=V>>>15)^(tt^=tt>>>12),w.i=R,V+(T^T>>>16)|0},function S(T,N){var R,tt,V,nt,ut,$=[],Y=128;for(N===(0|N)?(tt=N,N=null):(N+="\0",tt=0,Y=Math.max(Y,N.length)),V=0,nt=-32;nt<Y;++nt)N&&(tt^=N.charCodeAt((nt+32)%N.length)),0===nt&&(ut=tt),tt^=tt<<10,tt^=tt>>>15,tt^=tt<<4,tt^=tt>>>13,nt>=0&&(V=0==(R=$[127&nt]^=tt+(ut=ut+1640531527|0))?V+1:0);for(V>=128&&($[127&(N&&N.length||0)]=-1),V=127,nt=512;nt>0;--nt)tt=$[V+34&127],R=$[V=V+1&127],tt^=tt<<13,R^=R<<17,$[V]=(tt^=tt>>>15)^(R^=R>>>12);T.w=ut,T.X=$,T.i=V}(w,A)}function D(A,w){return w.i=A.i,w.w=A.w,w.X=A.X.slice(),w}function W(A,w){null==A&&(A=+new Date);var S=new z(A),T=w&&w.state,N=function(){return(S.next()>>>0)/4294967296};return N.double=function(){do{var V=((S.next()>>>11)+(S.next()>>>0)/4294967296)/(1<<21)}while(0===V);return V},N.int32=S.next,N.quick=N,T&&(T.X&&D(T,S),N.state=function(){return D(S,{})}),N}j&&j.exports?j.exports=W:O.amdD&&O.amdO?void 0!==(ft=function(){return W}.call(At,O,At,j))&&(j.exports=ft):this.xor4096=W}(0,Mt=O.nmd(Mt))},5583:function(Mt,At,O){var ft;!function(C,j,d){function z(A){var w=this;w.next=function(){var R,tt,T=w.x,N=w.i;return R=T[N],tt=(R^=R>>>7)^R<<24,tt^=(R=T[N+1&7])^R>>>10,tt^=(R=T[N+3&7])^R>>>3,tt^=(R=T[N+4&7])^R<<7,R=T[N+7&7],T[N]=tt^=(R^=R<<13)^R<<9,w.i=N+1&7,tt},function S(T,N){var R,V=[];if(N===(0|N))V[0]=N;else for(N=""+N,R=0;R<N.length;++R)V[7&R]=V[7&R]<<15^N.charCodeAt(R)+V[R+1&7]<<13;for(;V.length<8;)V.push(0);for(R=0;R<8&&0===V[R];++R);for(8==R&&(V[7]=-1),T.x=V,T.i=0,R=256;R>0;--R)T.next()}(w,A)}function D(A,w){return w.x=A.x.slice(),w.i=A.i,w}function W(A,w){null==A&&(A=+new Date);var S=new z(A),T=w&&w.state,N=function(){return(S.next()>>>0)/4294967296};return N.double=function(){do{var V=((S.next()>>>11)+(S.next()>>>0)/4294967296)/(1<<21)}while(0===V);return V},N.int32=S.next,N.quick=N,T&&(T.x&&D(T,S),N.state=function(){return D(S,{})}),N}j&&j.exports?j.exports=W:O.amdD&&O.amdO?void 0!==(ft=function(){return W}.call(At,O,At,j))&&(j.exports=ft):this.xorshift7=W}(0,Mt=O.nmd(Mt))},7657:function(Mt,At,O){var ft;!function(C,j,d){function z(A){var w=this,S="";w.next=function(){var N=w.x^w.x>>>2;return w.x=w.y,w.y=w.z,w.z=w.w,w.w=w.v,(w.d=w.d+362437|0)+(w.v=w.v^w.v<<4^N^N<<1)|0},w.x=0,w.y=0,w.z=0,w.w=0,w.v=0,A===(0|A)?w.x=A:S+=A;for(var T=0;T<S.length+64;T++)w.x^=0|S.charCodeAt(T),T==S.length&&(w.d=w.x<<10^w.x>>>4),w.next()}function D(A,w){return w.x=A.x,w.y=A.y,w.z=A.z,w.w=A.w,w.v=A.v,w.d=A.d,w}function W(A,w){var S=new z(A),T=w&&w.state,N=function(){return(S.next()>>>0)/4294967296};return N.double=function(){do{var V=((S.next()>>>11)+(S.next()>>>0)/4294967296)/(1<<21)}while(0===V);return V},N.int32=S.next,N.quick=N,T&&("object"==typeof T&&D(T,S),N.state=function(){return D(S,{})}),N}j&&j.exports?j.exports=W:O.amdD&&O.amdO?void 0!==(ft=function(){return W}.call(At,O,At,j))&&(j.exports=ft):this.xorwow=W}(0,Mt=O.nmd(Mt))},3818:function(Mt,At,O){var ft;!function(C,j,d){var R,z=256,w=d.pow(z,6),S=d.pow(2,52),T=2*S,N=255;function tt(G,ot,gt){var wt=[],dt=$(ut((ot=1==ot?{entropy:!0}:ot||{}).entropy?[G,Z(j)]:null==G?function Y(){try{var G;return R&&(G=R.randomBytes)?G=G(z):(G=new Uint8Array(z),(C.crypto||C.msCrypto).getRandomValues(G)),Z(G)}catch(wt){var ot=C.navigator,gt=ot&&ot.plugins;return[+new Date,C,gt,C.screen,Z(j)]}}():G,3),wt),lt=new V(wt),Et=function(){for(var It=lt.g(6),Ot=w,Zt=0;It<S;)It=(It+Zt)*z,Ot*=z,Zt=lt.g(1);for(;It>=T;)It/=2,Ot/=2,Zt>>>=1;return(It+Zt)/Ot};return Et.int32=function(){return 0|lt.g(4)},Et.quick=function(){return lt.g(4)/4294967296},Et.double=Et,$(Z(lt.S),j),(ot.pass||gt||function(It,Ot,Zt,jt){return jt&&(jt.S&&nt(jt,lt),It.state=function(){return nt(lt,{})}),Zt?(d.random=It,Ot):It})(Et,dt,"global"in ot?ot.global:this==d,ot.state)}function V(G){var ot,gt=G.length,wt=this,dt=0,lt=wt.i=wt.j=0,Et=wt.S=[];for(gt||(G=[gt++]);dt<z;)Et[dt]=dt++;for(dt=0;dt<z;dt++)Et[dt]=Et[lt=N&lt+G[dt%gt]+(ot=Et[dt])],Et[lt]=ot;(wt.g=function(It){for(var Ot,Zt=0,jt=wt.i,Yt=wt.j,Kt=wt.S;It--;)Ot=Kt[jt=N&jt+1],Zt=Zt*z+Kt[N&(Kt[jt]=Kt[Yt=N&Yt+Ot])+(Kt[Yt]=Ot)];return wt.i=jt,wt.j=Yt,Zt})(z)}function nt(G,ot){return ot.i=G.i,ot.j=G.j,ot.S=G.S.slice(),ot}function ut(G,ot){var dt,gt=[],wt=typeof G;if(ot&&"object"==wt)for(dt in G)try{gt.push(ut(G[dt],ot-1))}catch(lt){}return gt.length?gt:"string"==wt?G:G+"\0"}function $(G,ot){for(var wt,gt=G+"",dt=0;dt<gt.length;)ot[N&dt]=N&(wt^=19*ot[N&dt])+gt.charCodeAt(dt++);return Z(ot)}function Z(G){return String.fromCharCode.apply(0,G)}if($(d.random(),j),Mt.exports){Mt.exports=tt;try{R=O(5042)}catch(G){}}else void 0!==(ft=function(){return tt}.call(At,O,At,Mt))&&(Mt.exports=ft)}("undefined"!=typeof self?self:this,[],Math)},5042:()=>{}}]);