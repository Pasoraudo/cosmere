(self.webpackChunkapp=self.webpackChunkapp||[]).push([[957],{957:(Nt,At,P)=>{"use strict";P.r(At),P.d(At,{WikiModule:()=>Il});var ft=P(4521),C=P(5861),X=P(9268),h=P(5e3);let G=(()=>{class e{constructor(){this.subscriptionsData=[]}ngOnDestroy(){this.allSubscriptions().forEach(r=>{r.unsubscribe()})}subscribe(r,s,a,l){const d=(0,X.V)();return this.subscriptionsData.push({id:d,subscription:r.subscribe(s,a,l)}),d}unsubscribe(r){const s=this.subscriptionById(r);!s||s.closed||s.unsubscribe()}unsubscribeAll(){this.subscriptionsData.forEach(r=>r.subscription.unsubscribe())}allSubscriptions(){return this.subscriptionsData.map(r=>r.subscription)}subscriptionById(r){const s=this.subscriptionsData.find(a=>a.id===r);return null==s?void 0:s.subscription}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(r,s){},encapsulation:2}),e})();const x=(e,i)=>{if(0===e.length)return[];if(0===i.length)return[];const r=I(e,i);return e.map(s=>({id:s.id,label:s.name,group:s.planet,score:r[s.id]}))},w=e=>{const i={};for(const s of e){const a=`${s.characterId1}-${s.characterId2}`;i[a]?i[a]+=1:i[a]=1}let r=[];for(const s in i){const[a,l]=s.split("-");r.push({source:a,target:l,weight:i[s],group:"undefined"})}return r},E=e=>{const i=new Set;return e.forEach(r=>{i.add(r.characterId1),i.add(r.characterId2)}),Array.from(i)},I=(e,i)=>{const a={};i.forEach(R=>{var B,U,K,gt;null!==(B=a[K=R.characterId1])&&void 0!==B||(a[K]=0),null!==(U=a[gt=R.characterId2])&&void 0!==U||(a[gt]=0),a[R.characterId1]+=1,a[R.characterId2]+=1});const l=Object.values(a);let d=Math.min(...l);const S=Math.max(...l)-d,_={};for(const[R,B]of Object.entries(a))_[R]=(B-d)/S*55+5;return _};var N=P(7489),D=P.n(N),nt=P(9557),q=P(5595),rt=P(7749),ct=P.n(rt),Z=P(4004),$=P(520),F=P(3905),L=P(2843),at=P(262),vt=P(2340);let bt=(()=>{class e{generate(r){let s=r;return s.startsWith("/")||(s="/"+s),"assets/db"+s+".json"}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ht=(()=>{class e{constructor(r,s){this.http=r,this.router=s,this.requestCache={},setInterval(()=>{this.clearCache()},300)}get(r){var s=this;const a=this.router.generate(r);return new Promise(function(){var l=(0,C.Z)(function*(d,m){try{d(yield(0,F.z)(s.http.get(a).pipe((0,at.K)(_=>(0,L._)(_)))))}catch(S){m(S)}});return function(d,m){return l.apply(this,arguments)}}())}headers(){return{headers:(new $.WM).set("app-version",vt.N.appVersion).set("Access-Control-Allow-Origin","*")}}clearCache(){const r=(0,N.keys)(this.requestCache),s=(new Date).getTime();for(const a of r){const l=this.requestCache[a];if(!l)continue;const d=s-l.timestamp;!l.response&&d<2e4||l.response&&d<200||(this.requestCache[a]=null,delete this.requestCache[a])}}}return e.\u0275fac=function(r){return new(r||e)(h.LFG($.eN),h.LFG(bt))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var dt=P(8306),St=P(727),Tt=P(3101),Pt=P(4707),jt=P(576);function te(e){return!!e&&(e instanceof dt.y||(0,jt.m)(e.lift)&&(0,jt.m)(e.subscribe))}var Kt=P(9646),Qt=P(9975),ve=P(4408),Le=P(7565);const ke=new class ie extends Le.v{}(class we extends ve.o{constructor(i,r){super(i,r),this.scheduler=i,this.work=r}schedule(i,r=0){return r>0?super.schedule(i,r):(this.delay=r,this.state=i,this.scheduler.flush(this),this)}execute(i,r){return r>0||this.closed?super.execute(i,r):this._execute(i,r)}requestAsyncId(i,r,s=0){return null!=s&&s>0||null==s&&this.delay>0?super.requestAsyncId(i,r,s):i.flush(this)}});var ye=P(9841),kt=P(7579),Mt=P(4351),Gt=P(4482),ze=P(5403),je=P(8421),hn=P(4671),Ze=P(5032),Te=P(3269),Ge=P(2722),wn=P(5698),Oi=P(1884),$e=P(4782);function Pi(){return e=>new dt.y(i=>{let r,s;const a=new St.w0;return a.add(e.subscribe({complete:()=>{r&&i.next(s),i.complete()},error:l=>{i.error(l)},next:l=>{s=l,r||(r=Tt.E.schedule(()=>{i.next(s),r=void 0}),a.add(r))}})),a})}const Is=new h.OlP("@ngrx/component-store Initial State");let Wn=(()=>{class e{constructor(r){this.destroySubject$=new Pt.t(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new Pt.t(1),this.isInitialized=!1,this.notInitializedErrorMessage=`${this.constructor.name} has not been initialized yet. Please make sure it is initialized before updating/getting.`,this.state$=this.select(s=>s),r&&this.initState(r)}ngOnDestroy(){this.stateSubject$.complete(),this.destroySubject$.next()}updater(r){return s=>{let a;const d=(te(s)?s:(0,Kt.of)(s)).pipe((0,Mt.b)(m=>this.isInitialized?(0,Qt.x)([m],ke).pipe(function jn(...e){const i=(0,Te.jO)(e);return(0,Gt.e)((r,s)=>{const a=e.length,l=new Array(a);let d=e.map(()=>!1),m=!1;for(let S=0;S<a;S++)(0,je.Xf)(e[S]).subscribe(new ze.Q(s,_=>{l[S]=_,!m&&!d[S]&&(d[S]=!0,(m=d.every(hn.y))&&(d=null))},Ze.Z));r.subscribe(new ze.Q(s,S=>{if(m){const _=[S,...l];s.next(i?i(..._):_)}}))})}(this.stateSubject$)):(0,L._)(new Error(this.notInitializedErrorMessage))),(0,Ge.R)(this.destroy$)).subscribe({next:([m,S])=>{this.stateSubject$.next(r(S,m))},error:m=>{a=m,this.stateSubject$.error(m)}});if(a)throw a;return d}}initState(r){(0,Qt.x)([r],ke).subscribe(s=>{this.isInitialized=!0,this.stateSubject$.next(s)})}setState(r){"function"!=typeof r?this.initState(r):this.updater(r)()}patchState(r){const s="function"==typeof r?r(this.get()):r;this.updater((a,l)=>Object.assign(Object.assign({},a),l))(s)}get(r){if(!this.isInitialized)throw new Error(this.notInitializedErrorMessage);let s;return this.stateSubject$.pipe((0,wn.q)(1)).subscribe(a=>{s=r?r(a):a}),s}select(...r){const{observables:s,projector:a,config:l}=function ln(e){const i=Array.from(e);let s,r={debounce:!1};const a=i.pop();return"function"!=typeof a?(r=Object.assign(Object.assign({},r),a),s=i.pop()):s=a,{observables:i,projector:s,config:r}}(r);let d;return d=0===s.length?this.stateSubject$.pipe(l.debounce?Pi():m=>m,(0,Z.U)(a)):(0,ye.a)(s).pipe(l.debounce?Pi():m=>m,(0,Z.U)(m=>a(...m))),d.pipe((0,Oi.x)(),(0,$e.d)({refCount:!0,bufferSize:1}),(0,Ge.R)(this.destroy$))}effect(r){const s=new kt.x;return r(s).pipe((0,Ge.R)(this.destroy$)).subscribe(),a=>(te(a)?a:(0,Kt.of)(a)).pipe((0,Ge.R)(this.destroy$)).subscribe(d=>{s.next(d)})}}return e.\u0275fac=function(r){return new(r||e)(h.LFG(Is,8))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac}),e})();const br=(e,i)=>i.find(r=>r.id===e),ar=(e,i)=>{e||(e=[]);let r=[...e];return i.forEach(s=>{r=Br(r,s)}),r},Br=(e,i)=>{const r=i;let s=[...e];return(0,N.some)(s,a=>a.id===r.id)?s=s.map(a=>a.id===r.id?i:a):s.push(i),s};let Kn=(()=>{class e extends Wn{constructor(){super({characters:[]}),this.characters$=this.select(r=>r.characters)}saveAllCharacters(r){(0,N.isEqual)(this.get().characters,r)||this.patchState(s=>({characters:ar(s.characters,r)}))}syncState(){return this.get()}syncCharacter(r){return br(r,this.get().characters)}reset(){this.patchState({characters:[]})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),di=(()=>{class e{constructor(r,s){this.api=r,this.store=s}fetchAllCharacter(){var r=this;return(0,C.Z)(function*(){const s=yield r.api.get("characters");r.store.saveAllCharacters(s)})()}fetchAllCosmereCharacter(){var r=this;return(0,C.Z)(function*(){const a=(yield r.api.get("characters")).filter(l=>"Cosmere"===l.universe);r.store.saveAllCharacters(a)})()}syncAllCharacters(){return this.store.syncState().characters}allCharacters(){return this.store.characters$}cosmereCharacters(){return this.store.characters$.pipe((0,Z.U)(r=>r.filter(s=>"Cosmere"===s.universe)))}}return e.\u0275fac=function(r){return new(r||e)(h.LFG(ht),h.LFG(Kn))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Wi=(()=>{class e extends Wn{constructor(){super({relationships:[]}),this.relationships$=this.select(r=>r.relationships)}saveAllRelationship(r){(0,N.isEqual)(this.get().relationships,r)||this.patchState(s=>({relationships:ar(s.relationships,r)}))}syncState(){return this.get()}reset(){this.patchState({relationships:[]})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Fr=(()=>{class e{constructor(r,s){this.api=r,this.store=s}fetchAllRelationship(){var r=this;return(0,C.Z)(function*(){const s=yield r.api.get("relationships");r.store.saveAllRelationship(s)})()}fetchAllRelationshipByBookId(r){var s=this;return(0,C.Z)(function*(){const a=yield s.api.get("relationships-"+r);s.store.saveAllRelationship(a)})()}fetchAllCosmereRelationship(){var r=this;return(0,C.Z)(function*(){const s=[];for(const d of["warbreaker","mistborn1","mistborn2","mistborn3","mistborn4","mistborn5","mistborn6","stormlight1","stormlight2","stormlight3","stormlight4"])s.push(r.api.get("relationships-"+d).then(m=>m).catch(m=>{}));const a=yield Promise.all(s);let l=[];a.forEach(d=>l=ar(l,d)),console.log(a),console.log(l),r.store.saveAllRelationship(l)})()}syncAllRelationship(){return this.store.syncState().relationships}allRelationship(){return this.store.relationships$}cosmereRelationships(){return this.store.relationships$.pipe((0,Z.U)(r=>r.filter(s=>["warbreaker","mistborn1","mistborn2","mistborn3","mistborn4","mistborn5","mistborn6","stormlight1","stormlight2","stormlight3","stormlight4"].includes(s.bookId))))}relationshipsByBook(r){return this.store.relationships$.pipe((0,Z.U)(s=>s.filter(a=>(null==a?void 0:a.bookId)===r)))}}return e.\u0275fac=function(r){return new(r||e)(h.LFG(ht),h.LFG(Wi))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ur=P(9976);function Vn(e,i){let r;if(void 0===i)for(const s of e)null!=s&&(r<s||void 0===r&&s>=s)&&(r=s);else{let s=-1;for(let a of e)null!=(a=i(a,++s,e))&&(r<a||void 0===r&&a>=a)&&(r=a)}return r}function Un(e,i){let r;if(void 0===i)for(const s of e)null!=s&&(r>s||void 0===r&&s>=s)&&(r=s);else{let s=-1;for(let a of e)null!=(a=i(a,++s,e))&&(r>a||void 0===r&&a>=a)&&(r=a)}return r}function Dn(e,i){return null==e||null==i?NaN:e<i?-1:e>i?1:e>=i?0:NaN}function vi(e,i){return(null==e||!(e>=e))-(null==i||!(i>=i))||(e<i?-1:e>i?1:0)}function Ar(e,i,r=0,s=1/0,a){if(i=Math.floor(i),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(e.length-1,s)),!(r<=i&&i<=s))return e;for(a=void 0===a?vi:function Ao(e=Dn){if(e===Dn)return vi;if("function"!=typeof e)throw new TypeError("compare is not a function");return(i,r)=>{const s=e(i,r);return s||0===s?s:(0===e(r,r))-(0===e(i,i))}}(a);s>r;){if(s-r>600){const S=s-r+1,_=i-r+1,R=Math.log(S),B=.5*Math.exp(2*R/3),U=.5*Math.sqrt(R*B*(S-B)/S)*(_-S/2<0?-1:1);Ar(e,i,Math.max(r,Math.floor(i-_*B/S+U)),Math.min(s,Math.floor(i+(S-_)*B/S+U)),a)}const l=e[i];let d=r,m=s;for(Er(e,r,i),a(e[s],l)>0&&Er(e,r,s);d<m;){for(Er(e,d,m),++d,--m;a(e[d],l)<0;)++d;for(;a(e[m],l)>0;)--m}0===a(e[r],l)?Er(e,r,m):(++m,Er(e,m,s)),m<=i&&(r=m+1),i<=m&&(s=m-1)}return e}function Er(e,i,r){const s=e[i];e[i]=e[r],e[r]=s}function Zr(e,i,r){e=+e,i=+i,r=(a=arguments.length)<2?(i=e,e=0,1):a<3?1:+r;for(var s=-1,a=0|Math.max(0,Math.ceil((i-e)/r)),l=new Array(a);++s<a;)l[s]=e+s*r;return l}function So(e){return e}function ko(e){return"translate("+e+",0)"}function Mo(e){return"translate(0,"+e+")"}function Io(e){return i=>+e(i)}function No(e,i){return i=Math.max(0,e.bandwidth()-2*i)/2,e.round()&&(i=Math.round(i)),r=>+e(r)+i}function Sr(){return!this.__axis}function p(e,i){var r=[],s=null,a=null,l=6,d=6,m=3,S="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,_=1===e||4===e?-1:1,R=4===e||2===e?"x":"y",B=1===e||3===e?ko:Mo;function U(K){var gt=null==s?i.ticks?i.ticks.apply(i,r):i.domain():s,J=null==a?i.tickFormat?i.tickFormat.apply(i,r):So:a,j=Math.max(l,0)+m,H=i.range(),ot=+H[0]+S,mt=+H[H.length-1]+S,tt=(i.bandwidth?No:Io)(i.copy(),S),Et=K.selection?K.selection():K,Wt=Et.selectAll(".domain").data([null]),Zt=Et.selectAll(".tick").data(gt,i).order(),Ft=Zt.exit(),ue=Zt.enter().append("g").attr("class","tick"),$t=Zt.select("line"),zt=Zt.select("text");Wt=Wt.merge(Wt.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Zt=Zt.merge(ue),$t=$t.merge(ue.append("line").attr("stroke","currentColor").attr(R+"2",_*l)),zt=zt.merge(ue.append("text").attr("fill","currentColor").attr(R,_*j).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),K!==Et&&(Wt=Wt.transition(K),Zt=Zt.transition(K),$t=$t.transition(K),zt=zt.transition(K),Ft=Ft.transition(K).attr("opacity",1e-6).attr("transform",function(re){return isFinite(re=tt(re))?B(re+S):this.getAttribute("transform")}),ue.attr("opacity",1e-6).attr("transform",function(re){var Jt=this.parentNode.__axis;return B((Jt&&isFinite(Jt=Jt(re))?Jt:tt(re))+S)})),Ft.remove(),Wt.attr("d",4===e||2===e?d?"M"+_*d+","+ot+"H"+S+"V"+mt+"H"+_*d:"M"+S+","+ot+"V"+mt:d?"M"+ot+","+_*d+"V"+S+"H"+mt+"V"+_*d:"M"+ot+","+S+"H"+mt),Zt.attr("opacity",1).attr("transform",function(re){return B(tt(re)+S)}),$t.attr(R+"2",_*l),zt.attr(R,_*j).text(J),Et.filter(Sr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),Et.each(function(){this.__axis=tt})}return U.scale=function(K){return arguments.length?(i=K,U):i},U.ticks=function(){return r=Array.from(arguments),U},U.tickArguments=function(K){return arguments.length?(r=null==K?[]:Array.from(K),U):r.slice()},U.tickValues=function(K){return arguments.length?(s=null==K?null:Array.from(K),U):s&&s.slice()},U.tickFormat=function(K){return arguments.length?(a=K,U):a},U.tickSize=function(K){return arguments.length?(l=d=+K,U):l},U.tickSizeInner=function(K){return arguments.length?(l=+K,U):l},U.tickSizeOuter=function(K){return arguments.length?(d=+K,U):d},U.tickPadding=function(K){return arguments.length?(m=+K,U):m},U.offset=function(K){return arguments.length?(S=+K,U):S},U}function u(e){return p(3,e)}function c(e){return p(4,e)}function v(){}function k(e){return null==e?v:function(){return this.querySelector(e)}}function et(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function xt(){return[]}function _t(e){return null==e?xt:function(){return this.querySelectorAll(e)}}function Lt(e){return function(){return this.matches(e)}}function Vt(e){return function(i){return i.matches(e)}}var xe=Array.prototype.find;function Oe(){return this.firstElementChild}var dn=Array.prototype.filter;function bn(){return Array.from(this.children)}function kr(e){return new Array(e.length)}function Bi(e,i){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=i}function Fi(e){return function(){return e}}function Do(e,i,r,s,a,l){for(var m,d=0,S=i.length,_=l.length;d<_;++d)(m=i[d])?(m.__data__=l[d],s[d]=m):r[d]=new Bi(e,l[d]);for(;d<S;++d)(m=i[d])&&(a[d]=m)}function ja(e,i,r,s,a,l,d){var m,S,K,_=new Map,R=i.length,B=l.length,U=new Array(R);for(m=0;m<R;++m)(S=i[m])&&(U[m]=K=d.call(S,S.__data__,m,i)+"",_.has(K)?a[m]=S:_.set(K,S));for(m=0;m<B;++m)K=d.call(e,l[m],m,l)+"",(S=_.get(K))?(s[m]=S,S.__data__=l[m],_.delete(K)):r[m]=new Bi(e,l[m]);for(m=0;m<R;++m)(S=i[m])&&_.get(U[m])===S&&(a[m]=S)}function qc(e){return e.__data__}function Va(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function yi(e,i){return e<i?-1:e>i?1:e>=i?0:NaN}Bi.prototype={constructor:Bi,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,i){return this._parent.insertBefore(e,i)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Lo="http://www.w3.org/1999/xhtml";const ru={svg:"http://www.w3.org/2000/svg",xhtml:Lo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ro(e){var i=e+="",r=i.indexOf(":");return r>=0&&"xmlns"!==(i=e.slice(0,r))&&(e=e.slice(r+1)),ru.hasOwnProperty(i)?{space:ru[i],local:e}:e}function tf(e){return function(){this.removeAttribute(e)}}function iu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ef(e,i){return function(){this.setAttribute(e,i)}}function nf(e,i){return function(){this.setAttributeNS(e.space,e.local,i)}}function rf(e,i){return function(){var r=i.apply(this,arguments);null==r?this.removeAttribute(e):this.setAttribute(e,r)}}function of(e,i){return function(){var r=i.apply(this,arguments);null==r?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function ou(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function sf(e){return function(){this.style.removeProperty(e)}}function af(e,i,r){return function(){this.style.setProperty(e,i,r)}}function uf(e,i,r){return function(){var s=i.apply(this,arguments);null==s?this.style.removeProperty(e):this.style.setProperty(e,s,r)}}function Ae(e,i){return e.style.getPropertyValue(i)||ou(e).getComputedStyle(e,null).getPropertyValue(i)}function Ie(e){return function(){delete this[e]}}function ff(e,i){return function(){this[e]=i}}function hf(e,i){return function(){var r=i.apply(this,arguments);null==r?delete this[e]:this[e]=r}}function su(e){return e.trim().split(/^|\s+/)}function Gs(e){return e.classList||new au(e)}function au(e){this._node=e,this._names=su(e.getAttribute("class")||"")}function Os(e,i){for(var r=Gs(e),s=-1,a=i.length;++s<a;)r.add(i[s])}function uu(e,i){for(var r=Gs(e),s=-1,a=i.length;++s<a;)r.remove(i[s])}function Ke(e){return function(){Os(this,e)}}function cu(e){return function(){uu(this,e)}}function Zi(e,i){return function(){(i.apply(this,arguments)?Os:uu)(this,e)}}function Ps(){this.textContent=""}function Ln(e){return function(){this.textContent=e}}function hu(e){return function(){var i=e.apply(this,arguments);this.textContent=null==i?"":i}}function du(){this.innerHTML=""}function pu(e){return function(){this.innerHTML=e}}function gu(e){return function(){var i=e.apply(this,arguments);this.innerHTML=null==i?"":i}}function In(){this.nextSibling&&this.parentNode.appendChild(this)}function Rn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yu(e){return function(){var i=this.ownerDocument,r=this.namespaceURI;return r===Lo&&i.documentElement.namespaceURI===Lo?i.createElement(e):i.createElementNS(r,e)}}function Mr(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function mi(e){var i=Ro(e);return(i.local?Mr:yu)(i)}function De(){return null}function Us(){var e=this.parentNode;e&&e.removeChild(this)}function Bs(){var e=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(e,this.nextSibling):e}function vf(){var e=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(e,this.nextSibling):e}function zo(e){return e.trim().split(/^|\s+/).map(function(i){var r="",s=i.indexOf(".");return s>=0&&(r=i.slice(s+1),i=i.slice(0,s)),{type:i,name:r}})}function wi(e){return function(){var i=this.__on;if(i){for(var l,r=0,s=-1,a=i.length;r<a;++r)l=i[r],e.type&&l.type!==e.type||l.name!==e.name?i[++s]=l:this.removeEventListener(l.type,l.listener,l.options);++s?i.length=s:delete this.__on}}}function wf(e,i,r){return function(){var a,s=this.__on,l=function mu(e){return function(i){e.call(this,i,this.__data__)}}(i);if(s)for(var d=0,m=s.length;d<m;++d)if((a=s[d]).type===e.type&&a.name===e.name)return this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=l,a.options=r),void(a.value=i);this.addEventListener(e.type,l,r),a={type:e.type,name:e.name,value:i,listener:l,options:r},s?s.push(a):this.__on=[a]}}function Fs(e,i,r){var s=ou(e),a=s.CustomEvent;"function"==typeof a?a=new a(i,r):(a=s.document.createEvent("Event"),r?(a.initEvent(i,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(i,!1,!1)),e.dispatchEvent(a)}function Zs(e,i){return function(){return Fs(this,e,i)}}function $s(e,i){return function(){return Fs(this,e,i.apply(this,arguments))}}au.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var i=this._names.indexOf(e);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Go=[null];function gn(e,i){this._groups=e,this._parents=i}function xu(){return new gn([[document.documentElement]],Go)}gn.prototype=xu.prototype={constructor:gn,select:function z(e){"function"!=typeof e&&(e=k(e));for(var i=this._groups,r=i.length,s=new Array(r),a=0;a<r;++a)for(var S,_,l=i[a],d=l.length,m=s[a]=new Array(d),R=0;R<d;++R)(S=l[R])&&(_=e.call(S,S.__data__,R,l))&&("__data__"in S&&(_.__data__=S.__data__),m[R]=_);return new gn(s,this._parents)},selectAll:function Dt(e){e="function"==typeof e?function pt(e){return function(){return et(e.apply(this,arguments))}}(e):_t(e);for(var i=this._groups,r=i.length,s=[],a=[],l=0;l<r;++l)for(var S,d=i[l],m=d.length,_=0;_<m;++_)(S=d[_])&&(s.push(e.call(S,S.__data__,_,d)),a.push(S));return new gn(s,a)},selectChild:function Pe(e){return this.select(null==e?Oe:function Ce(e){return function(){return xe.call(this.children,e)}}("function"==typeof e?e:Vt(e)))},selectChildren:function xn(e){return this.selectAll(null==e?bn:function pn(e){return function(){return dn.call(this.children,e)}}("function"==typeof e?e:Vt(e)))},filter:function Yr(e){"function"!=typeof e&&(e=Lt(e));for(var i=this._groups,r=i.length,s=new Array(r),a=0;a<r;++a)for(var S,l=i[a],d=l.length,m=s[a]=[],_=0;_<d;++_)(S=l[_])&&e.call(S,S.__data__,_,l)&&m.push(S);return new gn(s,this._parents)},data:function Ka(e,i){if(!arguments.length)return Array.from(this,qc);var r=i?ja:Do,s=this._parents,a=this._groups;"function"!=typeof e&&(e=Fi(e));for(var l=a.length,d=new Array(l),m=new Array(l),S=new Array(l),_=0;_<l;++_){var R=s[_],B=a[_],U=B.length,K=Va(e.call(R,R&&R.__data__,_,s)),gt=K.length,J=m[_]=new Array(gt),j=d[_]=new Array(gt),H=S[_]=new Array(U);r(R,B,J,j,H,K,i);for(var tt,Et,ot=0,mt=0;ot<gt;++ot)if(tt=J[ot]){for(ot>=mt&&(mt=ot+1);!(Et=j[mt])&&++mt<gt;);tt._next=Et||null}}return(d=new gn(d,s))._enter=m,d._exit=S,d},enter:function To(){return new gn(this._enter||this._groups.map(kr),this._parents)},exit:function Ds(){return new gn(this._exit||this._groups.map(kr),this._parents)},join:function Jc(e,i,r){var s=this.enter(),a=this,l=this.exit();return"function"==typeof e?(s=e(s))&&(s=s.selection()):s=s.append(e+""),null!=i&&(a=i(a))&&(a=a.selection()),null==r?l.remove():r(l),s&&a?s.merge(a).order():a},merge:function qa(e){for(var i=e.selection?e.selection():e,r=this._groups,s=i._groups,a=r.length,d=Math.min(a,s.length),m=new Array(a),S=0;S<d;++S)for(var K,_=r[S],R=s[S],B=_.length,U=m[S]=new Array(B),gt=0;gt<B;++gt)(K=_[gt]||R[gt])&&(U[gt]=K);for(;S<a;++S)m[S]=r[S];return new gn(m,this._parents)},selection:function _u(){return this},order:function Ls(){for(var e=this._groups,i=-1,r=e.length;++i<r;)for(var d,s=e[i],a=s.length-1,l=s[a];--a>=0;)(d=s[a])&&(l&&4^d.compareDocumentPosition(l)&&l.parentNode.insertBefore(d,l),l=d);return this},sort:function Rs(e){function i(B,U){return B&&U?e(B.__data__,U.__data__):!B-!U}e||(e=yi);for(var r=this._groups,s=r.length,a=new Array(s),l=0;l<s;++l){for(var _,d=r[l],m=d.length,S=a[l]=new Array(m),R=0;R<m;++R)(_=d[R])&&(S[R]=_);S.sort(i)}return new gn(a,this._parents).order()},call:function Ja(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function Qa(){return Array.from(this)},node:function Qc(){for(var e=this._groups,i=0,r=e.length;i<r;++i)for(var s=e[i],a=0,l=s.length;a<l;++a){var d=s[a];if(d)return d}return null},size:function tu(){let e=0;for(const i of this)++e;return e},empty:function eu(){return!this.node()},each:function nu(e){for(var i=this._groups,r=0,s=i.length;r<s;++r)for(var m,a=i[r],l=0,d=a.length;l<d;++l)(m=a[l])&&e.call(m,m.__data__,l,a);return this},attr:function zs(e,i){var r=Ro(e);if(arguments.length<2){var s=this.node();return r.local?s.getAttributeNS(r.space,r.local):s.getAttribute(r)}return this.each((null==i?r.local?iu:tf:"function"==typeof i?r.local?of:rf:r.local?nf:ef)(r,i))},style:function cf(e,i,r){return arguments.length>1?this.each((null==i?sf:"function"==typeof i?uf:af)(e,i,null==r?"":r)):Ae(this.node(),e)},property:function lf(e,i){return arguments.length>1?this.each((null==i?Ie:"function"==typeof i?hf:ff)(e,i)):this.node()[e]},classed:function fu(e,i){var r=su(e+"");if(arguments.length<2){for(var s=Gs(this.node()),a=-1,l=r.length;++a<l;)if(!s.contains(r[a]))return!1;return!0}return this.each(("function"==typeof i?Zi:i?Ke:cu)(r,i))},text:function lu(e){return arguments.length?this.each(null==e?Ps:("function"==typeof e?hu:Ln)(e)):this.node().textContent},html:function vu(e){return arguments.length?this.each(null==e?du:("function"==typeof e?gu:pu)(e)):this.node().innerHTML},raise:function df(){return this.each(In)},lower:function pf(){return this.each(Rn)},append:function Ws(e){var i="function"==typeof e?e:mi(e);return this.select(function(){return this.appendChild(i.apply(this,arguments))})},insert:function Ir(e,i){var r="function"==typeof e?e:mi(e),s=null==i?De:"function"==typeof i?i:k(i);return this.select(function(){return this.insertBefore(r.apply(this,arguments),s.apply(this,arguments)||null)})},remove:function gf(){return this.each(Us)},clone:function yf(e){return this.select(e?vf:Bs)},datum:function mf(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function wu(e,i,r){var a,d,s=zo(e+""),l=s.length;if(!(arguments.length<2)){for(m=i?wf:wi,a=0;a<l;++a)this.each(m(s[a],i,r));return this}var m=this.node().__on;if(m)for(var R,S=0,_=m.length;S<_;++S)for(a=0,R=m[S];a<l;++a)if((d=s[a]).type===R.type&&d.name===R.name)return R.value},dispatch:function bu(e,i){return this.each(("function"==typeof i?$s:Zs)(e,i))},[Symbol.iterator]:function*bf(){for(var e=this._groups,i=0,r=e.length;i<r;++i)for(var d,s=e[i],a=0,l=s.length;a<l;++a)(d=s[a])&&(yield d)}};const Ve=xu;var Ys={value:()=>{}};function bi(){for(var s,e=0,i=arguments.length,r={};e<i;++e){if(!(s=arguments[e]+"")||s in r||/[\s.]/.test(s))throw new Error("illegal type: "+s);r[s]=[]}return new $i(r)}function $i(e){this._=e}function Au(e,i){return e.trim().split(/^|\s+/).map(function(r){var s="",a=r.indexOf(".");if(a>=0&&(s=r.slice(a+1),r=r.slice(0,a)),r&&!i.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:s}})}function xf(e,i){for(var a,r=0,s=e.length;r<s;++r)if((a=e[r]).name===i)return a.value}function Eu(e,i,r){for(var s=0,a=e.length;s<a;++s)if(e[s].name===i){e[s]=Ys,e=e.slice(0,s).concat(e.slice(s+1));break}return null!=r&&e.push({name:i,value:r}),e}$i.prototype=bi.prototype={constructor:$i,on:function(e,i){var a,r=this._,s=Au(e+"",r),l=-1,d=s.length;if(!(arguments.length<2)){if(null!=i&&"function"!=typeof i)throw new Error("invalid callback: "+i);for(;++l<d;)if(a=(e=s[l]).type)r[a]=Eu(r[a],e.name,i);else if(null==i)for(a in r)r[a]=Eu(r[a],e.name,null);return this}for(;++l<d;)if((a=(e=s[l]).type)&&(a=xf(r[a],e.name)))return a},copy:function(){var e={},i=this._;for(var r in i)e[r]=i[r].slice();return new $i(e)},call:function(e,i){if((a=arguments.length-2)>0)for(var a,l,r=new Array(a),s=0;s<a;++s)r[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=0,a=(l=this._[e]).length;s<a;++s)l[s].value.apply(i,r)},apply:function(e,i,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],a=0,l=s.length;a<l;++a)s[a].value.apply(i,r)}};const Oo=bi;var Po,Hr,xi=0,Yi=0,Jn=0,Hi=0,_n=0,Xr=0,Xi="object"==typeof performance&&performance.now?performance:Date,Su="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Hs(){return _n||(Su(_i),_n=Xi.now()+Xr)}function _i(){_n=0}function An(){this._call=this._time=this._next=null}function Wo(e,i,r){var s=new An;return s.restart(e,i,r),s}function ku(){_n=(Hi=Xi.now())+Xr,xi=Yi=0;try{!function _f(){Hs(),++xi;for(var i,e=Po;e;)(i=_n-e._time)>=0&&e._call.call(void 0,i),e=e._next;--xi}()}finally{xi=0,function Ef(){for(var e,r,i=Po,s=1/0;i;)i._call?(s>i._time&&(s=i._time),e=i,i=i._next):(r=i._next,i._next=null,i=e?e._next=r:Po=r);Hr=e,Xs(s)}(),_n=0}}function Af(){var e=Xi.now(),i=e-Hi;i>1e3&&(Xr-=i,Hi=e)}function Xs(e){xi||(Yi&&(Yi=clearTimeout(Yi)),e-_n>24?(e<1/0&&(Yi=setTimeout(ku,e-Xi.now()-Xr)),Jn&&(Jn=clearInterval(Jn))):(Jn||(Hi=Xi.now(),Jn=setInterval(Af,1e3)),xi=1,Su(ku)))}function ji(e,i,r){var s=new An;return s.restart(a=>{s.stop(),e(a+i)},i=null==i?0:+i,r),s}An.prototype=Wo.prototype={constructor:An,restart:function(e,i,r){if("function"!=typeof e)throw new TypeError("callback is not a function");r=(null==r?Hs():+r)+(null==i?0:+i),!this._next&&Hr!==this&&(Hr?Hr._next=this:Po=this,Hr=this),this._call=e,this._time=r,Xs()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xs())}};var V=Oo("start","end","cancel","interrupt"),lt=[];function Uo(e,i,r,s,a,l){var d=e.__transition;if(d){if(r in d)return}else e.__transition={};!function Ei(e,i,r){var a,s=e.__transition;function d(_){var R,B,U,K;if(1!==r.state)return S();for(R in s)if((K=s[R]).name===r.name){if(3===K.state)return ji(d);4===K.state?(K.state=6,K.timer.stop(),K.on.call("interrupt",e,e.__data__,K.index,K.group),delete s[R]):+R<i&&(K.state=6,K.timer.stop(),K.on.call("cancel",e,e.__data__,K.index,K.group),delete s[R])}if(ji(function(){3===r.state&&(r.state=4,r.timer.restart(m,r.delay,r.time),m(_))}),r.state=2,r.on.call("start",e,e.__data__,r.index,r.group),2===r.state){for(r.state=3,a=new Array(U=r.tween.length),R=0,B=-1;R<U;++R)(K=r.tween[R].value.call(e,e.__data__,r.index,r.group))&&(a[++B]=K);a.length=B+1}}function m(_){for(var R=_<r.duration?r.ease.call(null,_/r.duration):(r.timer.restart(S),r.state=5,1),B=-1,U=a.length;++B<U;)a[B].call(e,R);5===r.state&&(r.on.call("end",e,e.__data__,r.index,r.group),S())}function S(){for(var _ in r.state=6,r.timer.stop(),delete s[i],s)return;delete e.__transition}s[i]=r,r.timer=Wo(function l(_){r.state=1,r.timer.restart(d,r.delay,r.time),r.delay<=_&&d(_-r.delay)},0,r.time)}(e,r,{name:i,index:s,group:a,on:V,tween:lt,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:0})}function En(e,i){var r=Bn(e,i);if(r.state>0)throw new Error("too late; already scheduled");return r}function Nn(e,i){var r=Bn(e,i);if(r.state>3)throw new Error("too late; already running");return r}function Bn(e,i){var r=e.__transition;if(!r||!(r=r[i]))throw new Error("transition not found");return r}function jr(e,i){var s,a,d,r=e.__transition,l=!0;if(r){for(d in i=null==i?null:i+"",r)(s=r[d]).name===i?(a=s.state>2&&s.state<5,s.state=6,s.timer.stop(),s.on.call(a?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete r[d]):l=!1;l&&delete e.__transition}}function he(e,i){return e=+e,i=+i,function(r){return e*(1-r)+i*r}}var Zo,Mu=180/Math.PI,Fo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ki(e,i,r,s,a,l){var d,m,S;return(d=Math.sqrt(e*e+i*i))&&(e/=d,i/=d),(S=e*r+i*s)&&(r-=e*S,s-=i*S),(m=Math.sqrt(r*r+s*s))&&(r/=m,s/=m,S/=m),e*s<i*r&&(e=-e,i=-i,S=-S,d=-d),{translateX:a,translateY:l,rotate:Math.atan2(i,e)*Mu,skewX:Math.atan(S)*Mu,scaleX:d,scaleY:m}}function Vi(e,i,r,s){function a(_){return _.length?_.pop()+" ":""}return function(_,R){var B=[],U=[];return _=e(_),R=e(R),function l(_,R,B,U,K,gt){if(_!==B||R!==U){var J=K.push("translate(",null,i,null,r);gt.push({i:J-4,x:he(_,B)},{i:J-2,x:he(R,U)})}else(B||U)&&K.push("translate("+B+i+U+r)}(_.translateX,_.translateY,R.translateX,R.translateY,B,U),function d(_,R,B,U){_!==R?(_-R>180?R+=360:R-_>180&&(_+=360),U.push({i:B.push(a(B)+"rotate(",null,s)-2,x:he(_,R)})):R&&B.push(a(B)+"rotate("+R+s)}(_.rotate,R.rotate,B,U),function m(_,R,B,U){_!==R?U.push({i:B.push(a(B)+"skewX(",null,s)-2,x:he(_,R)}):R&&B.push(a(B)+"skewX("+R+s)}(_.skewX,R.skewX,B,U),function S(_,R,B,U,K,gt){if(_!==B||R!==U){var J=K.push(a(K)+"scale(",null,",",null,")");gt.push({i:J-4,x:he(_,B)},{i:J-2,x:he(R,U)})}else(1!==B||1!==U)&&K.push(a(K)+"scale("+B+","+U+")")}(_.scaleX,_.scaleY,R.scaleX,R.scaleY,B,U),_=R=null,function(K){for(var j,gt=-1,J=U.length;++gt<J;)B[(j=U[gt]).i]=j.x(K);return B.join("")}}}var Nr=Vi(function Cf(e){const i=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return i.isIdentity?Fo:Ki(i.a,i.b,i.c,i.d,i.e,i.f)},"px, ","px)","deg)"),$o=Vi(function Sf(e){return null!=e&&(Zo||(Zo=document.createElementNS("http://www.w3.org/2000/svg","g")),Zo.setAttribute("transform",e),e=Zo.transform.baseVal.consolidate())?Ki((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Fo},", ",")",")");function Iu(e,i){var r,s;return function(){var a=Nn(this,e),l=a.tween;if(l!==r)for(var d=0,m=(s=r=l).length;d<m;++d)if(s[d].name===i){(s=s.slice()).splice(d,1);break}a.tween=s}}function Yo(e,i,r){var s,a;if("function"!=typeof r)throw new Error;return function(){var l=Nn(this,e),d=l.tween;if(d!==s){a=(s=d).slice();for(var m={name:i,value:r},S=0,_=a.length;S<_;++S)if(a[S].name===i){a[S]=m;break}S===_&&a.push(m)}l.tween=a}}function Ho(e,i,r){var s=e._id;return e.each(function(){var a=Nn(this,s);(a.value||(a.value={}))[i]=r.apply(this,arguments)}),function(a){return Bn(a,s).value[i]}}function Ci(e,i,r){e.prototype=i.prototype=r,r.constructor=e}function js(e,i){var r=Object.create(e.prototype);for(var s in i)r[s]=i[s];return r}function cr(){}var Kr=1/.7,Si="\\s*([+-]?\\d+)\\s*",qi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xo=/^#([0-9a-f]{3,8})$/,jo=new RegExp(`^rgb\\(${Si},${Si},${Si}\\)$`),Ks=new RegExp(`^rgb\\(${Qn},${Qn},${Qn}\\)$`),kf=new RegExp(`^rgba\\(${Si},${Si},${Si},${qi}\\)$`),Tu=new RegExp(`^rgba\\(${Qn},${Qn},${Qn},${qi}\\)$`),Mf=new RegExp(`^hsl\\(${qi},${Qn},${Qn}\\)$`),If=new RegExp(`^hsla\\(${qi},${Qn},${Qn},${qi}\\)$`),Ue={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function qe(){return this.rgb().formatHex()}function Vs(){return this.rgb().formatRgb()}function Vr(e){var i,r;return e=(e+"").trim().toLowerCase(),(i=Xo.exec(e))?(r=i[1].length,i=parseInt(i[1],16),6===r?Ko(i):3===r?new He(i>>8&15|i>>4&240,i>>4&15|240&i,(15&i)<<4|15&i,1):8===r?Tr(i>>24&255,i>>16&255,i>>8&255,(255&i)/255):4===r?Tr(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|240&i,((15&i)<<4|15&i)/255):null):(i=jo.exec(e))?new He(i[1],i[2],i[3],1):(i=Ks.exec(e))?new He(255*i[1]/100,255*i[2]/100,255*i[3]/100,1):(i=kf.exec(e))?Tr(i[1],i[2],i[3],i[4]):(i=Tu.exec(e))?Tr(255*i[1]/100,255*i[2]/100,255*i[3]/100,i[4]):(i=Mf.exec(e))?Du(i[1],i[2]/100,i[3]/100,1):(i=If.exec(e))?Du(i[1],i[2]/100,i[3]/100,i[4]):Ue.hasOwnProperty(e)?Ko(Ue[e]):"transparent"===e?new He(NaN,NaN,NaN,0):null}function Ko(e){return new He(e>>16&255,e>>8&255,255&e,1)}function Tr(e,i,r,s){return s<=0&&(e=i=r=NaN),new He(e,i,r,s)}function qs(e){return e instanceof cr||(e=Vr(e)),e?new He((e=e.rgb()).r,e.g,e.b,e.opacity):new He}function fr(e,i,r,s){return 1===arguments.length?qs(e):new He(e,i,r,null==s?1:s)}function He(e,i,r,s){this.r=+e,this.g=+i,this.b=+r,this.opacity=+s}function ki(){return`#${Qr(this.r)}${Qr(this.g)}${Qr(this.b)}`}function qr(){const e=qo(this.opacity);return`${1===e?"rgb(":"rgba("}${Jr(this.r)}, ${Jr(this.g)}, ${Jr(this.b)}${1===e?")":`, ${e})`}`}function qo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qr(e){return((e=Jr(e))<16?"0":"")+e.toString(16)}function Du(e,i,r,s){return s<=0?e=i=r=NaN:r<=0||r>=1?e=i=NaN:i<=0&&(e=NaN),new vn(e,i,r,s)}function Lu(e){if(e instanceof vn)return new vn(e.h,e.s,e.l,e.opacity);if(e instanceof cr||(e=Vr(e)),!e)return new vn;if(e instanceof vn)return e;var i=(e=e.rgb()).r/255,r=e.g/255,s=e.b/255,a=Math.min(i,r,s),l=Math.max(i,r,s),d=NaN,m=l-a,S=(l+a)/2;return m?(d=i===l?(r-s)/m+6*(r<s):r===l?(s-i)/m+2:(i-r)/m+4,m/=S<.5?l+a:2-l-a,d*=60):m=S>0&&S<1?0:d,new vn(d,m,S,e.opacity)}function vn(e,i,r,s){this.h=+e,this.s=+i,this.l=+r,this.opacity=+s}function Js(e){return(e=(e||0)%360)<0?e+360:e}function A(e){return Math.max(0,Math.min(1,e||0))}function Dr(e,i,r){return 255*(e<60?i+(r-i)*e/60:e<180?r:e<240?i+(r-i)*(240-e)/60:i)}function Ji(e,i,r,s,a){var l=e*e,d=l*e;return((1-3*e+3*l-d)*i+(4-6*l+3*d)*r+(1+3*e+3*l-3*d)*s+d*a)/6}Ci(cr,Vr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qe,formatHex:qe,formatHex8:function Nf(){return this.rgb().formatHex8()},formatHsl:function Tf(){return Lu(this).formatHsl()},formatRgb:Vs,toString:Vs}),Ci(He,fr,js(cr,{brighter(e){return e=null==e?Kr:Math.pow(Kr,e),new He(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new He(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new He(Jr(this.r),Jr(this.g),Jr(this.b),qo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ki,formatHex:ki,formatHex8:function Vo(){return`#${Qr(this.r)}${Qr(this.g)}${Qr(this.b)}${Qr(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:qr,toString:qr})),Ci(vn,function Jo(e,i,r,s){return 1===arguments.length?Lu(e):new vn(e,i,r,null==s?1:s)},js(cr,{brighter(e){return e=null==e?Kr:Math.pow(Kr,e),new vn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new vn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),i=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*i,a=2*r-s;return new He(Dr(e>=240?e-240:e+120,a,s),Dr(e,a,s),Dr(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new vn(Js(this.h),A(this.s),A(this.l),qo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qo(this.opacity);return`${1===e?"hsl(":"hsla("}${Js(this.h)}, ${100*A(this.s)}%, ${100*A(this.l)}%${1===e?")":`, ${e})`}`}}));const Qs=e=>()=>e;function zu(e,i){var r=i-e;return r?function Ru(e,i){return function(r){return e+r*i}}(e,r):Qs(isNaN(e)?i:e)}const Qo=function e(i){var r=function Lf(e){return 1==(e=+e)?zu:function(i,r){return r-i?function Df(e,i,r){return e=Math.pow(e,r),i=Math.pow(i,r)-e,r=1/r,function(s){return Math.pow(e+s*i,r)}}(i,r,e):Qs(isNaN(i)?r:i)}}(i);function s(a,l){var d=r((a=fr(a)).r,(l=fr(l)).r),m=r(a.g,l.g),S=r(a.b,l.b),_=zu(a.opacity,l.opacity);return function(R){return a.r=d(R),a.g=m(R),a.b=S(R),a.opacity=_(R),a+""}}return s.gamma=e,s}(1);function Gu(e){return function(i){var d,m,r=i.length,s=new Array(r),a=new Array(r),l=new Array(r);for(d=0;d<r;++d)m=fr(i[d]),s[d]=m.r||0,a[d]=m.g||0,l[d]=m.b||0;return s=e(s),a=e(a),l=e(l),m.opacity=1,function(S){return m.r=s(S),m.g=a(S),m.b=l(S),m+""}}}Gu(function zn(e){var i=e.length-1;return function(r){var s=r<=0?r=0:r>=1?(r=1,i-1):Math.floor(r*i),a=e[s],l=e[s+1];return Ji((r-s/i)*i,s>0?e[s-1]:2*a-l,a,l,s<i-1?e[s+2]:2*l-a)}}),Gu(function pe(e){var i=e.length;return function(r){var s=Math.floor(((r%=1)<0?++r:r)*i);return Ji((r-s/i)*i,e[(s+i-1)%i],e[s%i],e[(s+1)%i],e[(s+2)%i])}});var ta=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ea=new RegExp(ta.source,"g");function Ou(e,i){var s,a,l,r=ta.lastIndex=ea.lastIndex=0,d=-1,m=[],S=[];for(e+="",i+="";(s=ta.exec(e))&&(a=ea.exec(i));)(l=a.index)>r&&(l=i.slice(r,l),m[d]?m[d]+=l:m[++d]=l),(s=s[0])===(a=a[0])?m[d]?m[d]+=a:m[++d]=a:(m[++d]=null,S.push({i:d,x:he(s,a)})),r=ea.lastIndex;return r<i.length&&(l=i.slice(r),m[d]?m[d]+=l:m[++d]=l),m.length<2?S[0]?function zf(e){return function(i){return e(i)+""}}(S[0].x):function Rf(e){return function(){return e}}(i):(i=S.length,function(_){for(var B,R=0;R<i;++R)m[(B=S[R]).i]=B.x(_);return m.join("")})}function tr(e,i){var r;return("number"==typeof i?he:i instanceof Vr?Qo:(r=Vr(i))?(i=r,Qo):Ou)(e,i)}function Gf(e){return function(){this.removeAttribute(e)}}function Of(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Pf(e,i,r){var s,l,a=r+"";return function(){var d=this.getAttribute(e);return d===a?null:d===s?l:l=i(s=d,r)}}function Wf(e,i,r){var s,l,a=r+"";return function(){var d=this.getAttributeNS(e.space,e.local);return d===a?null:d===s?l:l=i(s=d,r)}}function Uf(e,i,r){var s,a,l;return function(){var d,S,m=r(this);return null==m?void this.removeAttribute(e):(d=this.getAttribute(e))===(S=m+"")?null:d===s&&S===a?l:(a=S,l=i(s=d,m))}}function ti(e,i,r){var s,a,l;return function(){var d,S,m=r(this);return null==m?void this.removeAttributeNS(e.space,e.local):(d=this.getAttributeNS(e.space,e.local))===(S=m+"")?null:d===s&&S===a?l:(a=S,l=i(s=d,m))}}function Ff(e,i){return function(r){this.setAttribute(e,i.call(this,r))}}function Zn(e,i){return function(r){this.setAttributeNS(e.space,e.local,i.call(this,r))}}function Zf(e,i){var r,s;function a(){var l=i.apply(this,arguments);return l!==s&&(r=(s=l)&&Zn(e,l)),r}return a._value=i,a}function $f(e,i){var r,s;function a(){var l=i.apply(this,arguments);return l!==s&&(r=(s=l)&&Ff(e,l)),r}return a._value=i,a}function Hf(e,i){return function(){En(this,e).delay=+i.apply(this,arguments)}}function Xf(e,i){return i=+i,function(){En(this,e).delay=i}}function Wu(e,i){return function(){Nn(this,e).duration=+i.apply(this,arguments)}}function jf(e,i){return i=+i,function(){Nn(this,e).duration=i}}function na(e,i){if("function"!=typeof i)throw new Error;return function(){Nn(this,e).ease=i}}function ra(e,i,r){var s,a,l=function hr(e){return(e+"").trim().split(/^|\s+/).every(function(i){var r=i.indexOf(".");return r>=0&&(i=i.slice(0,r)),!i||"start"===i})}(i)?En:Nn;return function(){var d=l(this,e),m=d.on;m!==s&&(a=(s=m).copy()).on(i,r),d.on=a}}var to=Ve.prototype.constructor;function $u(e){return function(){this.style.removeProperty(e)}}function ia(e,i,r){return function(s){this.style.setProperty(e,i.call(this,s),r)}}function Hu(e,i,r){var s,a;function l(){var d=i.apply(this,arguments);return d!==a&&(s=(a=d)&&ia(e,d,r)),s}return l._value=i,l}function Xu(e){return function(i){this.textContent=e.call(this,i)}}function yn(e){var i,r;function s(){var a=e.apply(this,arguments);return a!==r&&(i=(r=a)&&Xu(a)),i}return s._value=e,s}var nh=0;function $n(e,i,r,s){this._groups=e,this._parents=i,this._name=r,this._id=s}function Ii(){return++nh}var nr=Ve.prototype;$n.prototype=function rh(e){return Ve().transition(e)}.prototype={constructor:$n,select:function Bu(e){var i=this._name,r=this._id;"function"!=typeof e&&(e=k(e));for(var s=this._groups,a=s.length,l=new Array(a),d=0;d<a;++d)for(var R,B,m=s[d],S=m.length,_=l[d]=new Array(S),U=0;U<S;++U)(R=m[U])&&(B=e.call(R,R.__data__,U,m))&&("__data__"in R&&(B.__data__=R.__data__),_[U]=B,Uo(_[U],i,r,U,_,Bn(R,r)));return new $n(l,this._parents,i,r)},selectAll:function Fu(e){var i=this._name,r=this._id;"function"!=typeof e&&(e=_t(e));for(var s=this._groups,a=s.length,l=[],d=[],m=0;m<a;++m)for(var R,S=s[m],_=S.length,B=0;B<_;++B)if(R=S[B]){for(var K,U=e.call(R,R.__data__,B,S),gt=Bn(R,r),J=0,j=U.length;J<j;++J)(K=U[J])&&Uo(K,i,r,J,U,gt);l.push(U),d.push(R)}return new $n(l,d,i,r)},selectChild:nr.selectChild,selectChildren:nr.selectChildren,filter:function Uu(e){"function"!=typeof e&&(e=Lt(e));for(var i=this._groups,r=i.length,s=new Array(r),a=0;a<r;++a)for(var S,l=i[a],d=l.length,m=s[a]=[],_=0;_<d;++_)(S=l[_])&&e.call(S,S.__data__,_,l)&&m.push(S);return new $n(s,this._parents,this._name,this._id)},merge:function qf(e){if(e._id!==this._id)throw new Error;for(var i=this._groups,r=e._groups,s=i.length,l=Math.min(s,r.length),d=new Array(s),m=0;m<l;++m)for(var U,S=i[m],_=r[m],R=S.length,B=d[m]=new Array(R),K=0;K<R;++K)(U=S[K]||_[K])&&(B[K]=U);for(;m<s;++m)d[m]=i[m];return new $n(d,this._parents,this._name,this._id)},selection:function Rr(){return new to(this._groups,this._parents)},transition:function th(){for(var e=this._name,i=this._id,r=Ii(),s=this._groups,a=s.length,l=0;l<a;++l)for(var S,d=s[l],m=d.length,_=0;_<m;++_)if(S=d[_]){var R=Bn(S,i);Uo(S,e,r,_,d,{time:R.time+R.delay+R.duration,delay:0,duration:R.duration,ease:R.ease})}return new $n(s,this._parents,e,r)},call:nr.call,nodes:nr.nodes,node:nr.node,size:nr.size,empty:nr.empty,each:nr.each,on:function ei(e,i){var r=this._id;return arguments.length<2?Bn(this.node(),r).on.on(e):this.each(ra(r,e,i))},attr:function Bf(e,i){var r=Ro(e),s="transform"===r?$o:tr;return this.attrTween(e,"function"==typeof i?(r.local?ti:Uf)(r,s,Ho(this,"attr."+e,i)):null==i?(r.local?Of:Gf)(r):(r.local?Wf:Pf)(r,s,i))},attrTween:function Yf(e,i){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==i)return this.tween(r,null);if("function"!=typeof i)throw new Error;var s=Ro(e);return this.tween(r,(s.local?Zf:$f)(s,i))},style:function Je(e,i,r){var s="transform"==(e+="")?Nr:tr;return null==i?this.styleTween(e,function Zu(e,i){var r,s,a;return function(){var l=Ae(this,e),d=(this.style.removeProperty(e),Ae(this,e));return l===d?null:l===r&&d===s?a:a=i(r=l,s=d)}}(e,s)).on("end.style."+e,$u(e)):"function"==typeof i?this.styleTween(e,function Qf(e,i,r){var s,a,l;return function(){var d=Ae(this,e),m=r(this),S=m+"";return null==m&&(this.style.removeProperty(e),S=m=Ae(this,e)),d===S?null:d===s&&S===a?l:(a=S,l=i(s=d,m))}}(e,s,Ho(this,"style."+e,i))).each(function Yu(e,i){var r,s,a,m,l="style."+i,d="end."+l;return function(){var S=Nn(this,e),_=S.on,R=null==S.value[l]?m||(m=$u(i)):void 0;(_!==r||a!==R)&&(s=(r=_).copy()).on(d,a=R),S.on=s}}(this._id,e)):this.styleTween(e,function es(e,i,r){var s,l,a=r+"";return function(){var d=Ae(this,e);return d===a?null:d===s?l:l=i(s=d,r)}}(e,s,i),r).on("end.style."+e,null)},styleTween:function er(e,i,r){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(null==i)return this.tween(s,null);if("function"!=typeof i)throw new Error;return this.tween(s,Hu(e,i,null==r?"":r))},text:function ni(e){return this.tween("text","function"==typeof e?function ns(e){return function(){var i=e(this);this.textContent=null==i?"":i}}(Ho(this,"text",e)):function oa(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function sa(e){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,yn(e))},remove:function Jf(){return this.on("end.remove",function Gn(e){return function(){var i=this.parentNode;for(var r in this.__transition)if(+r!==e)return;i&&i.removeChild(this)}}(this._id))},tween:function Nu(e,i){var r=this._id;if(e+="",arguments.length<2){for(var d,s=Bn(this.node(),r).tween,a=0,l=s.length;a<l;++a)if((d=s[a]).name===e)return d.value;return null}return this.each((null==i?Iu:Yo)(r,e,i))},delay:function Pu(e){var i=this._id;return arguments.length?this.each(("function"==typeof e?Hf:Xf)(i,e)):Bn(this.node(),i).delay},duration:function Kf(e){var i=this._id;return arguments.length?this.each(("function"==typeof e?Wu:jf)(i,e)):Bn(this.node(),i).duration},ease:function Qi(e){var i=this._id;return arguments.length?this.each(na(i,e)):Bn(this.node(),i).ease},easeVarying:function Vf(e){if("function"!=typeof e)throw new Error;return this.each(function ts(e,i){return function(){var r=i.apply(this,arguments);if("function"!=typeof r)throw new Error;Nn(this,e).ease=r}}(this._id,e))},end:function eh(){var e,i,r=this,s=r._id,a=r.size();return new Promise(function(l,d){var m={value:d},S={value:function(){0==--a&&l()}};r.each(function(){var _=Nn(this,s),R=_.on;R!==e&&((i=(e=R).copy())._.cancel.push(m),i._.interrupt.push(m),i._.end.push(S)),_.on=i}),0===a&&l()})},[Symbol.iterator]:nr[Symbol.iterator]};var ih={time:null,delay:0,duration:250,ease:function eo(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function oh(e,i){for(var r;!(r=e.__transition)||!(r=r[i]);)if(!(e=e.parentNode))throw new Error(`transition ${i} not found`);return r}Ve.prototype.interrupt=function Bo(e){return this.each(function(){jr(this,e)})},Ve.prototype.transition=function aa(e){var i,r;e instanceof $n?(i=e._id,e=e._name):(i=Ii(),(r=ih).time=Hs(),e=null==e?null:e+"");for(var s=this._groups,a=s.length,l=0;l<a;++l)for(var S,d=s[l],m=d.length,_=0;_<m;++_)(S=d[_])&&Uo(S,e,i,_,d,r||oh(S,i));return new $n(s,this._parents,e,i)};Math;function io(e){return{type:e}}function on(e){return"string"==typeof e?new gn([[document.querySelector(e)]],[document.documentElement]):new gn([[e]],Go)}function Be(e,i){if(e=function ah(e){let i;for(;i=e.sourceEvent;)e=i;return e}(e),void 0===i&&(i=e.currentTarget),i){var r=i.ownerSVGElement||i;if(r.createSVGPoint){var s=r.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,[(s=s.matrixTransform(i.getScreenCTM().inverse())).x,s.y]}if(i.getBoundingClientRect){var a=i.getBoundingClientRect();return[e.clientX-a.left-i.clientLeft,e.clientY-a.top-i.clientTop]}}return[e.pageX,e.pageY]}["w","e"].map(io),["n","s"].map(io),["n","w","e","s","nw","ne","sw","se"].map(io);const uh={passive:!1},zr={capture:!0,passive:!1};function oo(e){e.stopImmediatePropagation()}function ri(e){e.preventDefault(),e.stopImmediatePropagation()}function ya(e){var i=e.document.documentElement,r=on(e).on("dragstart.drag",ri,zr);"onselectstart"in i?r.on("selectstart.drag",ri,zr):(i.__noselect=i.style.MozUserSelect,i.style.MozUserSelect="none")}function Cn(e,i){var r=e.document.documentElement,s=on(e).on("dragstart.drag",null);i&&(s.on("click.drag",ri,zr),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in r?s.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Yn=e=>()=>e;function so(e,{sourceEvent:i,subject:r,target:s,identifier:a,active:l,x:d,y:m,dx:S,dy:_,dispatch:R}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:d,enumerable:!0,configurable:!0},y:{value:m,enumerable:!0,configurable:!0},dx:{value:S,enumerable:!0,configurable:!0},dy:{value:_,enumerable:!0,configurable:!0},_:{value:R}})}function Vu(e){return!e.ctrlKey&&!e.button}function us(){return this.parentNode}function qu(e,i){return null==i?{x:e.x,y:e.y}:i}function ma(){return navigator.maxTouchPoints||"ontouchstart"in this}function dr(e,i,r,s){if(isNaN(i)||isNaN(r))return e;var a,B,U,K,gt,J,j,H,ot,l=e._root,d={data:s},m=e._x0,S=e._y0,_=e._x1,R=e._y1;if(!l)return e._root=d,e;for(;l.length;)if((J=i>=(B=(m+_)/2))?m=B:_=B,(j=r>=(U=(S+R)/2))?S=U:R=U,a=l,!(l=l[H=j<<1|J]))return a[H]=d,e;if(K=+e._x.call(null,l.data),gt=+e._y.call(null,l.data),i===K&&r===gt)return d.next=l,a?a[H]=d:e._root=d,e;do{a=a?a[H]=new Array(4):e._root=new Array(4),(J=i>=(B=(m+_)/2))?m=B:_=B,(j=r>=(U=(S+R)/2))?S=U:R=U}while((H=j<<1|J)==(ot=(gt>=U)<<1|K>=B));return a[ot]=l,a[H]=d,e}function Qe(e,i,r,s,a){this.node=e,this.x0=i,this.y0=r,this.x1=s,this.y1=a}function ic(e){return e[0]}function rr(e){return e[1]}function xa(e,i,r){var s=new Di(null==i?ic:i,null==r?rr:r,NaN,NaN,NaN,NaN);return null==e?s:s.addAll(e)}function Di(e,i,r,s,a,l){this._x=e,this._y=i,this._x0=r,this._y0=s,this._x1=a,this._y1=l,this._root=void 0}function ii(e){for(var i={data:e.data},r=i;e=e.next;)r=r.next={data:e.data};return i}so.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var sn=xa.prototype=Di.prototype;function Or(e){return function(){return e}}function Pr(e){return 1e-6*(e()-.5)}function oc(e){return e.x+e.vx}function Li(e){return e.y+e.vy}function gh(e){return e.index}function _a(e,i){var r=e.get(i);if(!r)throw new Error("node not found: "+i);return r}sn.copy=function(){var r,s,e=new Di(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return e;if(!i.length)return e._root=ii(i),e;for(r=[{source:i,target:e._root=new Array(4)}];i=r.pop();)for(var a=0;a<4;++a)(s=i.source[a])&&(s.length?r.push({source:s,target:i.target[a]=new Array(4)}):i.target[a]=ii(s));return e},sn.add=function ba(e){const i=+this._x.call(null,e),r=+this._y.call(null,e);return dr(this.cover(i,r),i,r,e)},sn.addAll=function ch(e){var i,r,a,l,s=e.length,d=new Array(s),m=new Array(s),S=1/0,_=1/0,R=-1/0,B=-1/0;for(r=0;r<s;++r)isNaN(a=+this._x.call(null,i=e[r]))||isNaN(l=+this._y.call(null,i))||(d[r]=a,m[r]=l,a<S&&(S=a),a>R&&(R=a),l<_&&(_=l),l>B&&(B=l));if(S>R||_>B)return this;for(this.cover(S,_).cover(R,B),r=0;r<s;++r)dr(this,d[r],m[r],e[r]);return this},sn.cover=function Gr(e,i){if(isNaN(e=+e)||isNaN(i=+i))return this;var r=this._x0,s=this._y0,a=this._x1,l=this._y1;if(isNaN(r))a=(r=Math.floor(e))+1,l=(s=Math.floor(i))+1;else{for(var S,_,d=a-r||1,m=this._root;r>e||e>=a||s>i||i>=l;)switch(_=(i<s)<<1|e<r,S=new Array(4),S[_]=m,m=S,d*=2,_){case 0:a=r+d,l=s+d;break;case 1:r=a-d,l=s+d;break;case 2:a=r+d,s=l-d;break;case 3:r=a-d,s=l-d}this._root&&this._root.length&&(this._root=m)}return this._x0=r,this._y0=s,this._x1=a,this._y1=l,this},sn.data=function Qu(){var e=[];return this.visit(function(i){if(!i.length)do{e.push(i.data)}while(i=i.next)}),e},sn.extent=function tc(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},sn.find=function fh(e,i,r){var s,d,m,S,_,gt,J,a=this._x0,l=this._y0,R=this._x1,B=this._y1,U=[],K=this._root;for(K&&U.push(new Qe(K,a,l,R,B)),null==r?r=1/0:(a=e-r,l=i-r,R=e+r,B=i+r,r*=r);gt=U.pop();)if(!(!(K=gt.node)||(d=gt.x0)>R||(m=gt.y0)>B||(S=gt.x1)<a||(_=gt.y1)<l))if(K.length){var j=(d+S)/2,H=(m+_)/2;U.push(new Qe(K[3],j,H,S,_),new Qe(K[2],d,H,j,_),new Qe(K[1],j,m,S,H),new Qe(K[0],d,m,j,H)),(J=(i>=H)<<1|e>=j)&&(gt=U[U.length-1],U[U.length-1]=U[U.length-1-J],U[U.length-1-J]=gt)}else{var ot=e-+this._x.call(null,K.data),mt=i-+this._y.call(null,K.data),tt=ot*ot+mt*mt;if(tt<r){var Et=Math.sqrt(r=tt);a=e-Et,l=i-Et,R=e+Et,B=i+Et,s=K.data}}return s},sn.remove=function hh(e){if(isNaN(R=+this._x.call(null,e))||isNaN(B=+this._y.call(null,e)))return this;var i,s,a,l,R,B,U,K,gt,J,j,H,r=this._root,d=this._x0,m=this._y0,S=this._x1,_=this._y1;if(!r)return this;if(r.length)for(;;){if((gt=R>=(U=(d+S)/2))?d=U:S=U,(J=B>=(K=(m+_)/2))?m=K:_=K,i=r,!(r=r[j=J<<1|gt]))return this;if(!r.length)break;(i[j+1&3]||i[j+2&3]||i[j+3&3])&&(s=i,H=j)}for(;r.data!==e;)if(a=r,!(r=r.next))return this;return(l=r.next)&&delete r.next,a?(l?a.next=l:delete a.next,this):i?(l?i[j]=l:delete i[j],(r=i[0]||i[1]||i[2]||i[3])&&r===(i[3]||i[2]||i[1]||i[0])&&!r.length&&(s?s[H]=r:this._root=r),this):(this._root=l,this)},sn.removeAll=function lh(e){for(var i=0,r=e.length;i<r;++i)this.remove(e[i]);return this},sn.root=function ec(){return this._root},sn.size=function nc(){var e=0;return this.visit(function(i){if(!i.length)do{++e}while(i=i.next)}),e},sn.visit=function dh(e){var r,a,l,d,m,S,i=[],s=this._root;for(s&&i.push(new Qe(s,this._x0,this._y0,this._x1,this._y1));r=i.pop();)if(!e(s=r.node,l=r.x0,d=r.y0,m=r.x1,S=r.y1)&&s.length){var _=(l+m)/2,R=(d+S)/2;(a=s[3])&&i.push(new Qe(a,_,R,m,S)),(a=s[2])&&i.push(new Qe(a,l,R,_,S)),(a=s[1])&&i.push(new Qe(a,_,d,m,R)),(a=s[0])&&i.push(new Qe(a,l,d,_,R))}return this},sn.visitAfter=function rc(e){var s,i=[],r=[];for(this._root&&i.push(new Qe(this._root,this._x0,this._y0,this._x1,this._y1));s=i.pop();){var a=s.node;if(a.length){var l,d=s.x0,m=s.y0,S=s.x1,_=s.y1,R=(d+S)/2,B=(m+_)/2;(l=a[0])&&i.push(new Qe(l,d,m,R,B)),(l=a[1])&&i.push(new Qe(l,R,m,S,B)),(l=a[2])&&i.push(new Qe(l,d,B,R,_)),(l=a[3])&&i.push(new Qe(l,R,B,S,_))}r.push(s)}for(;s=r.pop();)e(s.node,s.x0,s.y0,s.x1,s.y1);return this},sn.x=function Sn(e){return arguments.length?(this._x=e,this):this._x},sn.y=function ph(e){return arguments.length?(this._y=e,this):this._y};const uo=4294967296;function fs(e){return e.x}function vh(e){return e.y}var hs=Math.PI*(3-Math.sqrt(5));function co(e,i){if((r=(e=i?e.toExponential(i-1):e.toExponential()).indexOf("e"))<0)return null;var r,s=e.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+e.slice(r+1)]}function kn(e){return(e=co(Math.abs(e)))?e[1]:NaN}var ir,mh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fo(e){if(!(i=mh.exec(e)))throw new Error("invalid format: "+e);var i;return new Ca({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10]})}function Ca(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function ls(e,i){var r=co(e,i);if(!r)return e+"";var s=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}fo.prototype=Ca.prototype,Ca.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ds={"%":(e,i)=>(100*e).toFixed(i),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function yh(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,i)=>e.toExponential(i),f:(e,i)=>e.toFixed(i),g:(e,i)=>e.toPrecision(i),o:e=>Math.round(e).toString(8),p:(e,i)=>ls(100*e,i),r:ls,s:function Sa(e,i){var r=co(e,i);if(!r)return e+"";var s=r[0],a=r[1],l=a-(ir=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,d=s.length;return l===d?s:l>d?s+new Array(l-d+1).join("0"):l>0?s.slice(0,l)+"."+s.slice(l):"0."+new Array(1-l).join("0")+co(e,Math.max(0,i+l-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ho(e){return e}var Ri,or,lc,oi=Array.prototype.map,qt=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function tn(e,i){var d,r=i?i.length:0,s=e?Math.min(r,e.length):0,a=new Array(s),l=new Array(r);for(d=0;d<s;++d)a[d]=si(e[d],i[d]);for(;d<r;++d)l[d]=i[d];return function(m){for(d=0;d<s;++d)l[d]=a[d](m);return l}}function xh(e,i){var r=new Date;return e=+e,i=+i,function(s){return r.setTime(e*(1-s)+i*s),r}}function _h(e,i){var a,r={},s={};for(a in(null===e||"object"!=typeof e)&&(e={}),(null===i||"object"!=typeof i)&&(i={}),i)a in e?r[a]=si(e[a],i[a]):s[a]=i[a];return function(l){for(a in r)s[a]=r[a](l);return s}}function dc(e,i){i||(i=[]);var a,r=e?Math.min(i.length,e.length):0,s=i.slice();return function(l){for(a=0;a<r;++a)s[a]=e[a]*(1-l)+i[a]*l;return s}}function si(e,i){var s,r=typeof i;return null==i||"boolean"===r?Qs(i):("number"===r?he:"string"===r?(s=Vr(i))?(i=s,Qo):Ou:i instanceof Vr?Qo:i instanceof Date?xh:function Ah(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(i)?dc:Array.isArray(i)?tn:"function"!=typeof i.valueOf&&"function"!=typeof i.toString||isNaN(i)?_h:he)(e,i)}function Ma(e,i){return e=+e,i=+i,function(r){return Math.round(e*(1-r)+i*r)}}function pc(e,i){for(var r=new Array(i),s=0;s<i;++s)r[s]=e(s/(i-1));return r}function Ia(e,i){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(i).domain(e)}return this}function pr(e,i){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof i?this.interpolator(i):this.range(i)}return this}!function ka(e){Ri=function ps(e){var i=void 0===e.grouping||void 0===e.thousands?ho:function fc(e,i){return function(r,s){for(var a=r.length,l=[],d=0,m=e[0],S=0;a>0&&m>0&&(S+m+1>s&&(m=Math.max(1,s-S)),l.push(r.substring(a-=m,a+m)),!((S+=m+1)>s));)m=e[d=(d+1)%e.length];return l.reverse().join(i)}}(oi.call(e.grouping,Number),e.thousands+""),r=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",l=void 0===e.numerals?ho:function hc(e){return function(i){return i.replace(/[0-9]/g,function(r){return e[+r]})}}(oi.call(e.numerals,String)),d=void 0===e.percent?"%":e.percent+"",m=void 0===e.minus?"\u2212":e.minus+"",S=void 0===e.nan?"NaN":e.nan+"";function _(B){var U=(B=fo(B)).fill,K=B.align,gt=B.sign,J=B.symbol,j=B.zero,H=B.width,ot=B.comma,mt=B.precision,tt=B.trim,Et=B.type;"n"===Et?(ot=!0,Et="g"):ds[Et]||(void 0===mt&&(mt=12),tt=!0,Et="g"),(j||"0"===U&&"="===K)&&(j=!0,U="0",K="=");var Wt="$"===J?r:"#"===J&&/[boxX]/.test(Et)?"0"+Et.toLowerCase():"",Zt="$"===J?s:/[%p]/.test(Et)?d:"",Ft=ds[Et],ue=/[defgprs%]/.test(Et);function $t(zt){var it,It,ut,re=Wt,Jt=Zt;if("c"===Et)Jt=Ft(zt)+Jt,zt="";else{var Rt=(zt=+zt)<0||1/zt<0;if(zt=isNaN(zt)?S:Ft(Math.abs(zt),mt),tt&&(zt=function wh(e){t:for(var a,i=e.length,r=1,s=-1;r<i;++r)switch(e[r]){case".":s=a=r;break;case"0":0===s&&(s=r),a=r;break;default:if(!+e[r])break t;s>0&&(s=0)}return s>0?e.slice(0,s)+e.slice(a+1):e}(zt)),Rt&&0==+zt&&"+"!==gt&&(Rt=!1),re=(Rt?"("===gt?gt:m:"-"===gt||"("===gt?"":gt)+re,Jt=("s"===Et?qt[8+ir/3]:"")+Jt+(Rt&&"("===gt?")":""),ue)for(it=-1,It=zt.length;++it<It;)if(48>(ut=zt.charCodeAt(it))||ut>57){Jt=(46===ut?a+zt.slice(it+1):zt.slice(it))+Jt,zt=zt.slice(0,it);break}}ot&&!j&&(zt=i(zt,1/0));var Xt=re.length+zt.length+Jt.length,Bt=Xt<H?new Array(H-Xt+1).join(U):"";switch(ot&&j&&(zt=i(Bt+zt,Bt.length?H-Jt.length:1/0),Bt=""),K){case"<":zt=re+zt+Jt+Bt;break;case"=":zt=re+Bt+zt+Jt;break;case"^":zt=Bt.slice(0,Xt=Bt.length>>1)+re+zt+Jt+Bt.slice(Xt);break;default:zt=Bt+re+zt+Jt}return l(zt)}return mt=void 0===mt?6:/[gprs]/.test(Et)?Math.max(1,Math.min(21,mt)):Math.max(0,Math.min(20,mt)),$t.toString=function(){return B+""},$t}return{format:_,formatPrefix:function R(B,U){var K=_(((B=fo(B)).type="f",B)),gt=3*Math.max(-8,Math.min(8,Math.floor(kn(U)/3))),J=Math.pow(10,-gt),j=qt[8+gt/3];return function(H){return K(J*H)+j}}}}(e),or=Ri.format,lc=Ri.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});class an extends Map{constructor(i,r=yc){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),null!=i)for(const[s,a]of i)this.set(s,a)}get(i){return super.get(Na(this,i))}has(i){return super.has(Na(this,i))}set(i,r){return super.set(function gs({_intern:e,_key:i},r){const s=i(r);return e.has(s)?e.get(s):(e.set(s,r),r)}(this,i),r)}delete(i){return super.delete(function vc({_intern:e,_key:i},r){const s=i(r);return e.has(s)&&(r=e.get(s),e.delete(s)),r}(this,i))}}function Na({_intern:e,_key:i},r){const s=i(r);return e.has(s)?e.get(s):r}function yc(e){return null!==e&&"object"==typeof e?e.valueOf():e}Set;const zi=Symbol("implicit");function vs(){var e=new an,i=[],r=[],s=zi;function a(l){let d=e.get(l);if(void 0===d){if(s!==zi)return s;e.set(l,d=i.push(l)-1)}return r[d%r.length]}return a.domain=function(l){if(!arguments.length)return i.slice();i=[],e=new an;for(const d of l)e.has(d)||e.set(d,i.push(d)-1);return a},a.range=function(l){return arguments.length?(r=Array.from(l),a):r.slice()},a.unknown=function(l){return arguments.length?(s=l,a):s},a.copy=function(){return vs(i,r).unknown(s)},Ia.apply(a,arguments),a}function lo(){var l,d,e=vs().unknown(void 0),i=e.domain,r=e.range,s=0,a=1,m=!1,S=0,_=0,R=.5;function B(){var U=i().length,K=a<s,gt=K?a:s,J=K?s:a;l=(J-gt)/Math.max(1,U-S+2*_),m&&(l=Math.floor(l)),gt+=(J-gt-l*(U-S))*R,d=l*(1-S),m&&(gt=Math.round(gt),d=Math.round(d));var j=Zr(U).map(function(H){return gt+l*H});return r(K?j.reverse():j)}return delete e.unknown,e.domain=function(U){return arguments.length?(i(U),B()):i()},e.range=function(U){return arguments.length?([s,a]=U,s=+s,a=+a,B()):[s,a]},e.rangeRound=function(U){return[s,a]=U,s=+s,a=+a,m=!0,B()},e.bandwidth=function(){return d},e.step=function(){return l},e.round=function(U){return arguments.length?(m=!!U,B()):m},e.padding=function(U){return arguments.length?(S=Math.min(1,_=+U),B()):S},e.paddingInner=function(U){return arguments.length?(S=Math.min(1,U),B()):S},e.paddingOuter=function(U){return arguments.length?(_=+U,B()):_},e.align=function(U){return arguments.length?(R=Math.max(0,Math.min(1,U)),B()):R},e.copy=function(){return lo(i(),[s,a]).round(m).paddingInner(S).paddingOuter(_).align(R)},Ia.apply(B(),arguments)}const Eh=Math.sqrt(50),Ch=Math.sqrt(10),wc=Math.sqrt(2);function po(e,i,r){const s=(i-e)/Math.max(0,r),a=Math.floor(Math.log10(s)),l=s/Math.pow(10,a),d=l>=Eh?10:l>=Ch?5:l>=wc?2:1;let m,S,_;return a<0?(_=Math.pow(10,-a)/d,m=Math.round(e*_),S=Math.round(i*_),m/_<e&&++m,S/_>i&&--S,_=-_):(_=Math.pow(10,a)*d,m=Math.round(e/_),S=Math.round(i/_),m*_<e&&++m,S*_>i&&--S),S<m&&.5<=r&&r<2?po(e,i,2*r):[m,S,_]}function go(e,i,r){return po(e=+e,i=+i,r=+r)[2]}function vo(e,i){return null==e||null==i?NaN:i<e?-1:i>e?1:i>=e?0:NaN}function ys(e){let i,r,s;function a(m,S,_=0,R=m.length){if(_<R){if(0!==i(S,S))return R;do{const B=_+R>>>1;r(m[B],S)<0?_=B+1:R=B}while(_<R)}return _}return 2!==e.length?(i=Dn,r=(m,S)=>Dn(e(m),S),s=(m,S)=>e(m)-S):(i=e===Dn||e===vo?e:xc,r=e,s=e),{left:a,center:function d(m,S,_=0,R=m.length){const B=a(m,S,_,R-1);return B>_&&s(m[B-1],S)>-s(m[B],S)?B-1:B},right:function l(m,S,_=0,R=m.length){if(_<R){if(0!==i(S,S))return R;do{const B=_+R>>>1;r(m[B],S)<=0?_=B+1:R=B}while(_<R)}return _}}}function xc(){return 0}const ms=ys(Dn).right,ai=(ys(function Ns(e){return null===e?NaN:+e}),ms);function _c(e){return+e}var Ac=[0,1];function Wr(e){return e}function Da(e,i){return(i-=e=+e)?function(r){return(r-e)/i}:function Mh(e){return function(){return e}}(isNaN(i)?NaN:.5)}function Nh(e,i,r){var s=e[0],a=e[1],l=i[0],d=i[1];return a<s?(s=Da(a,s),l=r(d,l)):(s=Da(s,a),l=r(l,d)),function(m){return l(s(m))}}function Th(e,i,r){var s=Math.min(e.length,i.length)-1,a=new Array(s),l=new Array(s),d=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),i=i.slice().reverse());++d<s;)a[d]=Da(e[d],e[d+1]),l[d]=r(i[d],i[d+1]);return function(m){var S=ai(e,m,1,s)-1;return l[S](a[S](m))}}function Dh(e,i){return i.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Rh(){return function Lh(){var s,a,l,m,S,_,e=Ac,i=Ac,r=si,d=Wr;function R(){var U=Math.min(e.length,i.length);return d!==Wr&&(d=function Ih(e,i){var r;return e>i&&(r=e,e=i,i=r),function(s){return Math.max(e,Math.min(i,s))}}(e[0],e[U-1])),m=U>2?Th:Nh,S=_=null,B}function B(U){return null==U||isNaN(U=+U)?l:(S||(S=m(e.map(s),i,r)))(s(d(U)))}return B.invert=function(U){return d(a((_||(_=m(i,e.map(s),he)))(U)))},B.domain=function(U){return arguments.length?(e=Array.from(U,_c),R()):e.slice()},B.range=function(U){return arguments.length?(i=Array.from(U),R()):i.slice()},B.rangeRound=function(U){return i=Array.from(U),r=Ma,R()},B.clamp=function(U){return arguments.length?(d=!!U||Wr,R()):d!==Wr},B.interpolate=function(U){return arguments.length?(r=U,R()):r},B.unknown=function(U){return arguments.length?(l=U,B):l},function(U,K){return s=U,a=K,R()}}()(Wr,Wr)}function La(e){var i=e.domain;return e.ticks=function(r){var s=i();return function Sh(e,i,r){if(!((r=+r)>0))return[];if((e=+e)==(i=+i))return[e];const s=i<e,[a,l,d]=s?po(i,e,r):po(e,i,r);if(!(l>=a))return[];const m=l-a+1,S=new Array(m);if(s)if(d<0)for(let _=0;_<m;++_)S[_]=(l-_)/-d;else for(let _=0;_<m;++_)S[_]=(l-_)*d;else if(d<0)for(let _=0;_<m;++_)S[_]=(a+_)/-d;else for(let _=0;_<m;++_)S[_]=(a+_)*d;return S}(s[0],s[s.length-1],null==r?10:r)},e.tickFormat=function(r,s){var a=i();return function Cc(e,i,r,s){var l,a=function bc(e,i,r){r=+r;const s=(i=+i)<(e=+e),a=s?go(i,e,r):go(e,i,r);return(s?-1:1)*(a<0?1/-a:a)}(e,i,r);switch((s=fo(null==s?",f":s)).type){case"s":var d=Math.max(Math.abs(e),Math.abs(i));return null==s.precision&&!isNaN(l=function zh(e,i){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(kn(i)/3)))-kn(Math.abs(e)))}(a,d))&&(s.precision=l),lc(s,d);case"":case"e":case"g":case"p":case"r":null==s.precision&&!isNaN(l=function Gh(e,i){return e=Math.abs(e),i=Math.abs(i)-e,Math.max(0,kn(i)-kn(e))+1}(a,Math.max(Math.abs(e),Math.abs(i))))&&(s.precision=l-("e"===s.type));break;case"f":case"%":null==s.precision&&!isNaN(l=function Ec(e){return Math.max(0,-kn(Math.abs(e)))}(a))&&(s.precision=l-2*("%"===s.type))}return or(s)}(a[0],a[a.length-1],null==r?10:r,s)},e.nice=function(r){null==r&&(r=10);var S,_,s=i(),a=0,l=s.length-1,d=s[a],m=s[l],R=10;for(m<d&&(_=d,d=m,m=_,_=a,a=l,l=_);R-- >0;){if((_=go(d,m,r))===S)return s[a]=d,s[l]=m,i(s);if(_>0)d=Math.floor(d/_)*_,m=Math.ceil(m/_)*_;else{if(!(_<0))break;d=Math.ceil(d*_)/_,m=Math.floor(m*_)/_}S=_}return e},e}function yo(){var e=Rh();return e.copy=function(){return Dh(e,yo())},Ia.apply(e,arguments),La(e)}function ws(){var r,s,a,l,S,e=0,i=1,d=Wr,m=!1;function _(B){return null==B||isNaN(B=+B)?S:d(0===a?.5:(B=(l(B)-r)*a,m?Math.max(0,Math.min(1,B)):B))}function R(B){return function(U){var K,gt;return arguments.length?([K,gt]=U,d=B(K,gt),_):[d(0),d(1)]}}return _.domain=function(B){return arguments.length?([e,i]=B,r=l(e=+e),s=l(i=+i),a=r===s?0:1/(s-r),_):[e,i]},_.clamp=function(B){return arguments.length?(m=!!B,_):m},_.interpolator=function(B){return arguments.length?(d=B,_):d},_.range=R(si),_.rangeRound=R(Ma),_.unknown=function(B){return arguments.length?(S=B,_):S},function(B){return l=B,r=B(e),s=B(i),a=r===s?0:1/(s-r),_}}function bs(e,i){return i.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ra(){var e=La(ws()(Wr));return e.copy=function(){return bs(e,Ra())},pr.apply(e,arguments)}function mo(e){for(var i=e.length/6|0,r=new Array(i),s=0;s<i;)r[s]="#"+e.slice(6*s,6*++s);return r}const Wh=mo("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function mn(e){var i=e.length;return function(r){return e[Math.max(0,Math.min(i-1,Math.floor(r*i)))]}}const Uh=mn(mo("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));function kc(e){return on(mi(e).call(document.documentElement))}function Mc(e){return((e=Math.exp(e))+1/e)/2}mn(mo("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),mn(mo("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),mn(mo("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const $h=function e(i,r,s){function a(l,d){var j,H,m=l[0],S=l[1],_=l[2],U=d[2],K=d[0]-m,gt=d[1]-S,J=K*K+gt*gt;if(J<1e-12)H=Math.log(U/_)/i,j=function(Zt){return[m+Zt*K,S+Zt*gt,_*Math.exp(i*Zt*H)]};else{var ot=Math.sqrt(J),mt=(U*U-_*_+s*J)/(2*_*r*ot),tt=(U*U-_*_-s*J)/(2*U*r*ot),Et=Math.log(Math.sqrt(mt*mt+1)-mt),Wt=Math.log(Math.sqrt(tt*tt+1)-tt);H=(Wt-Et)/i,j=function(Zt){var Ft=Zt*H,ue=Mc(Et),$t=_/(r*ot)*(ue*function za(e){return((e=Math.exp(2*e))-1)/(e+1)}(i*Ft+Et)-function Zh(e){return((e=Math.exp(e))-1/e)/2}(Et));return[m+$t*K,S+$t*gt,_*ue/Mc(i*Ft+Et)]}}return j.duration=1e3*H*i/Math.SQRT2,j}return a.rho=function(l){var d=Math.max(.001,+l),m=d*d;return e(d,m,m*m)},a}(Math.SQRT2,2,4),xs=e=>()=>e;function Yh(e,{sourceEvent:i,target:r,transform:s,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:a}})}function vr(e,i,r){this.k=e,this.x=i,this.y=r}vr.prototype={constructor:vr,scale:function(e){return 1===e?this:new vr(this.k*e,this.x,this.y)},translate:function(e,i){return 0===e&0===i?this:new vr(this.k,this.x+this.k*e,this.y+this.k*i)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ga=new vr(1,0,0);function Oa(e){e.stopImmediatePropagation()}function wo(e){e.preventDefault(),e.stopImmediatePropagation()}function Xh(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function jh(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function Ic(){return this.__zoom||Ga}function Kh(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Vh(){return navigator.maxTouchPoints||"ontouchstart"in this}function qh(e,i,r){var s=e.invertX(i[0][0])-r[0][0],a=e.invertX(i[1][0])-r[1][0],l=e.invertY(i[0][1])-r[0][1],d=e.invertY(i[1][1])-r[1][1];return e.translate(a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a),d>l?(l+d)/2:Math.min(0,l)||Math.max(0,d))}var Qh=P(4825);let Nc=(()=>{class e extends ur.H{constructor(){super(),this.nodes=[],this.links=[],this.width=window.screen.availWidth,this.height=window.screen.availHeight,this.characterLinks=[],this.defaultOptions={zoom:!0,edgeRadius:0},this.id=(0,X.V)(),this.groups=[]}ngOnChanges(r){this.nodes.length>0&&this.links.length>0&&this.create()}ngAfterViewInit(){this.nodes.length>0&&this.links.length>0&&this.create()}create(){this.options=Object.assign(Object.assign({},this.defaultOptions),this.options),this.element=document.getElementById(this.id+"-network"),on(this.element).selectChildren().remove(),this.createCharacterLinks(),this.initializeColor(),this.createSvg(),this.createLink(),this.createSimulation(),this.createNode()}initializeColor(){this.groups=Array.from(new Set(this.characterLinks.map(r=>r.group))),this.color=vs(this.groups,Wh)}createCharacterLinks(){const r=this.nodes.map(s=>s.id);this.characterLinks=this.links.filter(s=>r.includes(s.source)&&r.includes(s.target))}createSimulation(){this.simulation=function cc(e){var i,r=1,s=.001,a=1-Math.pow(s,1/300),l=0,d=.6,m=new Map,S=Wo(B),_=Oo("tick","end"),R=function Aa(){let e=1;return()=>(e=(1664525*e+1013904223)%uo)/uo}();function B(){U(),_.call("tick",i),r<s&&(S.stop(),_.call("end",i))}function U(J){var j,ot,H=e.length;void 0===J&&(J=1);for(var mt=0;mt<J;++mt)for(r+=(l-r)*a,m.forEach(function(tt){tt(r)}),j=0;j<H;++j)null==(ot=e[j]).fx?ot.x+=ot.vx*=d:(ot.x=ot.fx,ot.vx=0),null==ot.fy?ot.y+=ot.vy*=d:(ot.y=ot.fy,ot.vy=0);return i}function K(){for(var H,J=0,j=e.length;J<j;++J){if((H=e[J]).index=J,null!=H.fx&&(H.x=H.fx),null!=H.fy&&(H.y=H.fy),isNaN(H.x)||isNaN(H.y)){var ot=10*Math.sqrt(.5+J),mt=J*hs;H.x=ot*Math.cos(mt),H.y=ot*Math.sin(mt)}(isNaN(H.vx)||isNaN(H.vy))&&(H.vx=H.vy=0)}}function gt(J){return J.initialize&&J.initialize(e,R),J}return null==e&&(e=[]),K(),i={tick:U,restart:function(){return S.restart(B),i},stop:function(){return S.stop(),i},nodes:function(J){return arguments.length?(e=J,K(),m.forEach(gt),i):e},alpha:function(J){return arguments.length?(r=+J,i):r},alphaMin:function(J){return arguments.length?(s=+J,i):s},alphaDecay:function(J){return arguments.length?(a=+J,i):+a},alphaTarget:function(J){return arguments.length?(l=+J,i):l},velocityDecay:function(J){return arguments.length?(d=1-J,i):1-d},randomSource:function(J){return arguments.length?(R=J,m.forEach(gt),i):R},force:function(J,j){return arguments.length>1?(null==j?m.delete(J):m.set(J,gt(j)),i):m.get(J)},find:function(J,j,H){var tt,Et,Wt,Zt,Ft,ot=0,mt=e.length;for(null==H?H=1/0:H*=H,ot=0;ot<mt;++ot)(Wt=(tt=J-(Zt=e[ot]).x)*tt+(Et=j-Zt.y)*Et)<H&&(Ft=Zt,H=Wt);return Ft},on:function(J,j){return arguments.length>1?(_.on(J,j),i):_.on(J)}}}(this.nodes).force("link",function sc(e){var s,l,d,m,S,_,i=gh,r=function B(j){return 1/Math.min(m[j.source.index],m[j.target.index])},a=Or(30),R=1;function U(j){for(var H=0,ot=e.length;H<R;++H)for(var tt,Et,Wt,Zt,Ft,ue,$t,mt=0;mt<ot;++mt)Zt=(Wt=(tt=e[mt]).target).x+Wt.vx-(Et=tt.source).x-Et.vx||Pr(_),Ft=Wt.y+Wt.vy-Et.y-Et.vy||Pr(_),Ft*=ue=((ue=Math.sqrt(Zt*Zt+Ft*Ft))-l[mt])/ue*j*s[mt],Wt.vx-=(Zt*=ue)*($t=S[mt]),Wt.vy-=Ft*$t,Et.vx+=Zt*($t=1-$t),Et.vy+=Ft*$t}function K(){if(d){var j,tt,H=d.length,ot=e.length,mt=new Map(d.map((Et,Wt)=>[i(Et,Wt,d),Et]));for(j=0,m=new Array(H);j<ot;++j)(tt=e[j]).index=j,"object"!=typeof tt.source&&(tt.source=_a(mt,tt.source)),"object"!=typeof tt.target&&(tt.target=_a(mt,tt.target)),m[tt.source.index]=(m[tt.source.index]||0)+1,m[tt.target.index]=(m[tt.target.index]||0)+1;for(j=0,S=new Array(ot);j<ot;++j)S[j]=m[(tt=e[j]).source.index]/(m[tt.source.index]+m[tt.target.index]);s=new Array(ot),gt(),l=new Array(ot),J()}}function gt(){if(d)for(var j=0,H=e.length;j<H;++j)s[j]=+r(e[j],j,e)}function J(){if(d)for(var j=0,H=e.length;j<H;++j)l[j]=+a(e[j],j,e)}return null==e&&(e=[]),U.initialize=function(j,H){d=j,_=H,K()},U.links=function(j){return arguments.length?(e=j,K(),U):e},U.id=function(j){return arguments.length?(i=j,U):i},U.iterations=function(j){return arguments.length?(R=+j,U):R},U.strength=function(j){return arguments.length?(r="function"==typeof j?j:Or(+j),gt(),U):r},U.distance=function(j){return arguments.length?(a="function"==typeof j?j:Or(+j),J(),U):a},U}(this.characterLinks).distance(20).id(this.getId)).force("charge",function Ea(){var e,i,r,s,l,a=Or(-30),d=1,m=1/0,S=.81;function _(K){var gt,J=e.length,j=xa(e,fs,vh).visitAfter(B);for(s=K,gt=0;gt<J;++gt)i=e[gt],j.visit(U)}function R(){if(e){var K,J,gt=e.length;for(l=new Array(gt),K=0;K<gt;++K)l[(J=e[K]).index]=+a(J,K,e)}}function B(K){var J,j,ot,mt,tt,gt=0,H=0;if(K.length){for(ot=mt=tt=0;tt<4;++tt)(J=K[tt])&&(j=Math.abs(J.value))&&(gt+=J.value,H+=j,ot+=j*J.x,mt+=j*J.y);K.x=ot/H,K.y=mt/H}else{(J=K).x=J.data.x,J.y=J.data.y;do{gt+=l[J.data.index]}while(J=J.next)}K.value=gt}function U(K,gt,J,j){if(!K.value)return!0;var H=K.x-i.x,ot=K.y-i.y,mt=j-gt,tt=H*H+ot*ot;if(mt*mt/S<tt)return tt<m&&(0===H&&(tt+=(H=Pr(r))*H),0===ot&&(tt+=(ot=Pr(r))*ot),tt<d&&(tt=Math.sqrt(d*tt)),i.vx+=H*K.value*s/tt,i.vy+=ot*K.value*s/tt),!0;if(!(K.length||tt>=m)){(K.data!==i||K.next)&&(0===H&&(tt+=(H=Pr(r))*H),0===ot&&(tt+=(ot=Pr(r))*ot),tt<d&&(tt=Math.sqrt(d*tt)));do{K.data!==i&&(i.vx+=H*(mt=l[K.data.index]*s/tt),i.vy+=ot*mt)}while(K=K.next)}}return _.initialize=function(K,gt){e=K,r=gt,R()},_.strength=function(K){return arguments.length?(a="function"==typeof K?K:Or(+K),R(),_):a},_.distanceMin=function(K){return arguments.length?(d=K*K,_):Math.sqrt(d)},_.distanceMax=function(K){return arguments.length?(m=K*K,_):Math.sqrt(m)},_.theta=function(K){return arguments.length?(S=K*K,_):Math.sqrt(S)},_}().strength(r=>-100*r.score)).force("center",function wa(e,i){var r,s=1;function a(){var l,m,d=r.length,S=0,_=0;for(l=0;l<d;++l)S+=(m=r[l]).x,_+=m.y;for(S=(S/d-e)*s,_=(_/d-i)*s,l=0;l<d;++l)(m=r[l]).x-=S,m.y-=_}return null==e&&(e=0),null==i&&(i=0),a.initialize=function(l){r=l},a.x=function(l){return arguments.length?(e=+l,a):e},a.y=function(l){return arguments.length?(i=+l,a):i},a.strength=function(l){return arguments.length?(s=+l,a):s},a}(this.width/2,this.height/2)).force("radius",function ao(e){var i,r,s,a=1,l=1;function d(){for(var _,B,U,K,gt,J,j,R=i.length,H=0;H<l;++H)for(B=xa(i,oc,Li).visitAfter(m),_=0;_<R;++_)j=(J=r[(U=i[_]).index])*J,K=U.x+U.vx,gt=U.y+U.vy,B.visit(ot);function ot(mt,tt,Et,Wt,Zt){var Ft=mt.data,ue=mt.r,$t=J+ue;if(!Ft)return tt>K+$t||Wt<K-$t||Et>gt+$t||Zt<gt-$t;if(Ft.index>U.index){var zt=K-Ft.x-Ft.vx,re=gt-Ft.y-Ft.vy,Jt=zt*zt+re*re;Jt<$t*$t&&(0===zt&&(Jt+=(zt=Pr(s))*zt),0===re&&(Jt+=(re=Pr(s))*re),Jt=($t-(Jt=Math.sqrt(Jt)))/Jt*a,U.vx+=(zt*=Jt)*($t=(ue*=ue)/(j+ue)),U.vy+=(re*=Jt)*$t,Ft.vx-=zt*($t=1-$t),Ft.vy-=re*$t)}}}function m(_){if(_.data)return _.r=r[_.data.index];for(var R=_.r=0;R<4;++R)_[R]&&_[R].r>_.r&&(_.r=_[R].r)}function S(){if(i){var _,B,R=i.length;for(r=new Array(R),_=0;_<R;++_)r[(B=i[_]).index]=+e(B,_,i)}}return"function"!=typeof e&&(e=Or(null==e?1:+e)),d.initialize=function(_,R){i=_,s=R,S()},d.iterations=function(_){return arguments.length?(l=+_,d):l},d.strength=function(_){return arguments.length?(a=+_,d):a},d.radius=function(_){return arguments.length?(e="function"==typeof _?_:Or(+_),S(),d):e},d}(r=>r.score+20)).force("cluster",this.cluster(this.nodes)).on("tick",()=>{this.link.attr("d",r=>`\n            M${r.source.x},${r.source.y}\n            A${this.options.edgeRadius},${this.options.edgeRadius} 0 0,1 ${r.target.x},${r.target.y}\n          `),this.node.attr("transform",r=>`translate(${r.x}, ${r.y})`),(0,Qh.g)(1e4)}),setTimeout(()=>{this.simulation.stop()},1e4)}createSvg(){const r=this;this.svg=kc("svg").attr("viewBox",[0,0,this.width,this.height]).style("font","12px sans-serif"),this.g=this.svg.append("g"),this.options.zoom&&this.svg.call(function Jh(){var R,B,U,e=Xh,i=jh,r=qh,s=Kh,a=Vh,l=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],m=250,S=$h,_=Oo("start","zoom","end"),K=500,J=0,j=10;function H(it){it.property("__zoom",Ic).on("wheel.zoom",Ft,{passive:!1}).on("mousedown.zoom",ue).on("dblclick.zoom",$t).filter(a).on("touchstart.zoom",zt).on("touchmove.zoom",re).on("touchend.zoom touchcancel.zoom",Jt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function ot(it,It){return(It=Math.max(l[0],Math.min(l[1],It)))===it.k?it:new vr(It,it.x,it.y)}function mt(it,It,ut){var Rt=It[0]-ut[0]*it.k,Xt=It[1]-ut[1]*it.k;return Rt===it.x&&Xt===it.y?it:new vr(it.k,Rt,Xt)}function tt(it){return[(+it[0][0]+ +it[1][0])/2,(+it[0][1]+ +it[1][1])/2]}function Et(it,It,ut,Rt){it.on("start.zoom",function(){Wt(this,arguments).event(Rt).start()}).on("interrupt.zoom end.zoom",function(){Wt(this,arguments).event(Rt).end()}).tween("zoom",function(){var Xt=this,Bt=arguments,Ht=Wt(Xt,Bt).event(Rt),se=i.apply(Xt,Bt),fe=null==ut?tt(se):"function"==typeof ut?ut.apply(Xt,Bt):ut,Mn=Math.max(se[1][0]-se[0][0],se[1][1]-se[0][1]),Re=Xt.__zoom,Fe="function"==typeof It?It.apply(Xt,Bt):It,un=S(Re.invert(fe).concat(Mn/Re.k),Fe.invert(fe).concat(Mn/Fe.k));return function(Ne){if(1===Ne)Ne=Fe;else{var cn=un(Ne),yr=Mn/cn[2];Ne=new vr(yr,fe[0]-cn[0]*yr,fe[1]-cn[1]*yr)}Ht.zoom(null,Ne)}})}function Wt(it,It,ut){return!ut&&it.__zooming||new Zt(it,It)}function Zt(it,It){this.that=it,this.args=It,this.active=0,this.sourceEvent=null,this.extent=i.apply(it,It),this.taps=0}function Ft(it,...It){if(e.apply(this,arguments)){var ut=Wt(this,It).event(it),Rt=this.__zoom,Xt=Math.max(l[0],Math.min(l[1],Rt.k*Math.pow(2,s.apply(this,arguments)))),Bt=Be(it);if(ut.wheel)(ut.mouse[0][0]!==Bt[0]||ut.mouse[0][1]!==Bt[1])&&(ut.mouse[1]=Rt.invert(ut.mouse[0]=Bt)),clearTimeout(ut.wheel);else{if(Rt.k===Xt)return;ut.mouse=[Bt,Rt.invert(Bt)],jr(this),ut.start()}wo(it),ut.wheel=setTimeout(Ht,150),ut.zoom("mouse",r(mt(ot(Rt,Xt),ut.mouse[0],ut.mouse[1]),ut.extent,d))}function Ht(){ut.wheel=null,ut.end()}}function ue(it,...It){if(!U&&e.apply(this,arguments)){var ut=it.currentTarget,Rt=Wt(this,It,!0).event(it),Xt=on(it.view).on("mousemove.zoom",fe,!0).on("mouseup.zoom",Mn,!0),Bt=Be(it,ut),Ht=it.clientX,se=it.clientY;ya(it.view),Oa(it),Rt.mouse=[Bt,this.__zoom.invert(Bt)],jr(this),Rt.start()}function fe(Re){if(wo(Re),!Rt.moved){var Fe=Re.clientX-Ht,un=Re.clientY-se;Rt.moved=Fe*Fe+un*un>J}Rt.event(Re).zoom("mouse",r(mt(Rt.that.__zoom,Rt.mouse[0]=Be(Re,ut),Rt.mouse[1]),Rt.extent,d))}function Mn(Re){Xt.on("mousemove.zoom mouseup.zoom",null),Cn(Re.view,Rt.moved),wo(Re),Rt.event(Re).end()}}function $t(it,...It){if(e.apply(this,arguments)){var ut=this.__zoom,Rt=Be(it.changedTouches?it.changedTouches[0]:it,this),Xt=ut.invert(Rt),Ht=r(mt(ot(ut,ut.k*(it.shiftKey?.5:2)),Rt,Xt),i.apply(this,It),d);wo(it),m>0?on(this).transition().duration(m).call(Et,Ht,Rt,it):on(this).call(H.transform,Ht,Rt,it)}}function zt(it,...It){if(e.apply(this,arguments)){var Bt,Ht,se,fe,ut=it.touches,Rt=ut.length,Xt=Wt(this,It,it.changedTouches.length===Rt).event(it);for(Oa(it),Ht=0;Ht<Rt;++Ht)fe=[fe=Be(se=ut[Ht],this),this.__zoom.invert(fe),se.identifier],Xt.touch0?!Xt.touch1&&Xt.touch0[2]!==fe[2]&&(Xt.touch1=fe,Xt.taps=0):(Xt.touch0=fe,Bt=!0,Xt.taps=1+!!R);R&&(R=clearTimeout(R)),Bt&&(Xt.taps<2&&(B=fe[0],R=setTimeout(function(){R=null},K)),jr(this),Xt.start())}}function re(it,...It){if(this.__zooming){var Bt,Ht,se,fe,ut=Wt(this,It).event(it),Rt=it.changedTouches,Xt=Rt.length;for(wo(it),Bt=0;Bt<Xt;++Bt)se=Be(Ht=Rt[Bt],this),ut.touch0&&ut.touch0[2]===Ht.identifier?ut.touch0[0]=se:ut.touch1&&ut.touch1[2]===Ht.identifier&&(ut.touch1[0]=se);if(Ht=ut.that.__zoom,ut.touch1){var Mn=ut.touch0[0],Re=ut.touch0[1],Fe=ut.touch1[0],un=ut.touch1[1],Ne=(Ne=Fe[0]-Mn[0])*Ne+(Ne=Fe[1]-Mn[1])*Ne,cn=(cn=un[0]-Re[0])*cn+(cn=un[1]-Re[1])*cn;Ht=ot(Ht,Math.sqrt(Ne/cn)),se=[(Mn[0]+Fe[0])/2,(Mn[1]+Fe[1])/2],fe=[(Re[0]+un[0])/2,(Re[1]+un[1])/2]}else{if(!ut.touch0)return;se=ut.touch0[0],fe=ut.touch0[1]}ut.zoom("touch",r(mt(Ht,se,fe),ut.extent,d))}}function Jt(it,...It){if(this.__zooming){var Bt,Ht,ut=Wt(this,It).event(it),Rt=it.changedTouches,Xt=Rt.length;for(Oa(it),U&&clearTimeout(U),U=setTimeout(function(){U=null},K),Bt=0;Bt<Xt;++Bt)Ht=Rt[Bt],ut.touch0&&ut.touch0[2]===Ht.identifier?delete ut.touch0:ut.touch1&&ut.touch1[2]===Ht.identifier&&delete ut.touch1;if(ut.touch1&&!ut.touch0&&(ut.touch0=ut.touch1,delete ut.touch1),ut.touch0)ut.touch0[1]=this.__zoom.invert(ut.touch0[0]);else if(ut.end(),2===ut.taps&&(Ht=Be(Ht,this),Math.hypot(B[0]-Ht[0],B[1]-Ht[1])<j)){var se=on(this).on("dblclick.zoom");se&&se.apply(this,arguments)}}}return H.transform=function(it,It,ut,Rt){var Xt=it.selection?it.selection():it;Xt.property("__zoom",Ic),it!==Xt?Et(it,It,ut,Rt):Xt.interrupt().each(function(){Wt(this,arguments).event(Rt).start().zoom(null,"function"==typeof It?It.apply(this,arguments):It).end()})},H.scaleBy=function(it,It,ut,Rt){H.scaleTo(it,function(){return this.__zoom.k*("function"==typeof It?It.apply(this,arguments):It)},ut,Rt)},H.scaleTo=function(it,It,ut,Rt){H.transform(it,function(){var Xt=i.apply(this,arguments),Bt=this.__zoom,Ht=null==ut?tt(Xt):"function"==typeof ut?ut.apply(this,arguments):ut,se=Bt.invert(Ht),fe="function"==typeof It?It.apply(this,arguments):It;return r(mt(ot(Bt,fe),Ht,se),Xt,d)},ut,Rt)},H.translateBy=function(it,It,ut,Rt){H.transform(it,function(){return r(this.__zoom.translate("function"==typeof It?It.apply(this,arguments):It,"function"==typeof ut?ut.apply(this,arguments):ut),i.apply(this,arguments),d)},null,Rt)},H.translateTo=function(it,It,ut,Rt,Xt){H.transform(it,function(){var Bt=i.apply(this,arguments),Ht=this.__zoom,se=null==Rt?tt(Bt):"function"==typeof Rt?Rt.apply(this,arguments):Rt;return r(Ga.translate(se[0],se[1]).scale(Ht.k).translate("function"==typeof It?-It.apply(this,arguments):-It,"function"==typeof ut?-ut.apply(this,arguments):-ut),Bt,d)},Rt,Xt)},Zt.prototype={event:function(it){return it&&(this.sourceEvent=it),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(it,It){return this.mouse&&"mouse"!==it&&(this.mouse[1]=It.invert(this.mouse[0])),this.touch0&&"touch"!==it&&(this.touch0[1]=It.invert(this.touch0[0])),this.touch1&&"touch"!==it&&(this.touch1[1]=It.invert(this.touch1[0])),this.that.__zoom=It,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(it){var It=on(this.that).datum();_.call(it,this.that,new Yh(it,{sourceEvent:this.sourceEvent,target:H,type:it,transform:this.that.__zoom,dispatch:_}),It)}},H.wheelDelta=function(it){return arguments.length?(s="function"==typeof it?it:xs(+it),H):s},H.filter=function(it){return arguments.length?(e="function"==typeof it?it:xs(!!it),H):e},H.touchable=function(it){return arguments.length?(a="function"==typeof it?it:xs(!!it),H):a},H.extent=function(it){return arguments.length?(i="function"==typeof it?it:xs([[+it[0][0],+it[0][1]],[+it[1][0],+it[1][1]]]),H):i},H.scaleExtent=function(it){return arguments.length?(l[0]=+it[0],l[1]=+it[1],H):[l[0],l[1]]},H.translateExtent=function(it){return arguments.length?(d[0][0]=+it[0][0],d[1][0]=+it[1][0],d[0][1]=+it[0][1],d[1][1]=+it[1][1],H):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},H.constrain=function(it){return arguments.length?(r=it,H):r},H.duration=function(it){return arguments.length?(m=+it,H):m},H.interpolate=function(it){return arguments.length?(S=it,H):S},H.on=function(){var it=_.on.apply(_,arguments);return it===_?H:it},H.clickDistance=function(it){return arguments.length?(J=(it=+it)*it,H):Math.sqrt(J)},H.tapDistance=function(it){return arguments.length?(j=+it,H):j},H}().extent([[0,0],[this.width,this.height]]).on("zoom",function s({transform:a}){r.g.attr("transform",a)})),this.element.append(this.svg.node()),this.svg.attr("width",this.width).attr("height",this.height),this.svg.append("defs").selectAll("marker").data(this.groups).join("marker").attr("id",a=>`arrow-${a}`).attr("viewBox","0 -5 10 10").attr("refX",15).attr("refY",-.5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("fill",this.color).attr("d","M0,-5L10,0L0,5")}createLink(){this.link=this.g.append("g").attr("fill","none").attr("stroke-width",1.5).selectAll("path").data(this.characterLinks).join("path").attr("stroke",r=>this.color(r.group))}createNode(){this.node=this.g.append("g").attr("fill","currentColor").attr("stroke-linecap","round").attr("stroke-linejoin","round").selectAll("g").data(this.nodes).join("g"),this.node.append("circle").attr("stroke","black").attr("stroke-width",1).attr("r",r=>r.score).style("fill",r=>this.color(r.group)),this.node.append("text").text(r=>r.label).style("font-size","1rem").style("color","white").style("text-anchor","middle").style("dominant-baseline","central")}getId(r){return r.id}drag(r){return function Ju(){var m,S,_,R,e=Vu,i=us,r=qu,s=ma,a={},l=Oo("start","drag","end"),d=0,B=0;function U(tt){tt.on("mousedown.drag",K).filter(s).on("touchstart.drag",j).on("touchmove.drag",H,uh).on("touchend.drag touchcancel.drag",ot).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function K(tt,Et){if(!R&&e.call(this,tt,Et)){var Wt=mt(this,i.call(this,tt,Et),tt,Et,"mouse");!Wt||(on(tt.view).on("mousemove.drag",gt,zr).on("mouseup.drag",J,zr),ya(tt.view),oo(tt),_=!1,m=tt.clientX,S=tt.clientY,Wt("start",tt))}}function gt(tt){if(ri(tt),!_){var Et=tt.clientX-m,Wt=tt.clientY-S;_=Et*Et+Wt*Wt>B}a.mouse("drag",tt)}function J(tt){on(tt.view).on("mousemove.drag mouseup.drag",null),Cn(tt.view,_),ri(tt),a.mouse("end",tt)}function j(tt,Et){if(e.call(this,tt,Et)){var ue,$t,Wt=tt.changedTouches,Zt=i.call(this,tt,Et),Ft=Wt.length;for(ue=0;ue<Ft;++ue)($t=mt(this,Zt,tt,Et,Wt[ue].identifier,Wt[ue]))&&(oo(tt),$t("start",tt,Wt[ue]))}}function H(tt){var Zt,Ft,Et=tt.changedTouches,Wt=Et.length;for(Zt=0;Zt<Wt;++Zt)(Ft=a[Et[Zt].identifier])&&(ri(tt),Ft("drag",tt,Et[Zt]))}function ot(tt){var Zt,Ft,Et=tt.changedTouches,Wt=Et.length;for(R&&clearTimeout(R),R=setTimeout(function(){R=null},500),Zt=0;Zt<Wt;++Zt)(Ft=a[Et[Zt].identifier])&&(oo(tt),Ft("end",tt,Et[Zt]))}function mt(tt,Et,Wt,Zt,Ft,ue){var re,Jt,it,$t=l.copy(),zt=Be(ue||Wt,Et);if(null!=(it=r.call(tt,new so("beforestart",{sourceEvent:Wt,target:U,identifier:Ft,active:d,x:zt[0],y:zt[1],dx:0,dy:0,dispatch:$t}),Zt)))return re=it.x-zt[0]||0,Jt=it.y-zt[1]||0,function It(ut,Rt,Xt){var Ht,Bt=zt;switch(ut){case"start":a[Ft]=It,Ht=d++;break;case"end":delete a[Ft],--d;case"drag":zt=Be(Xt||Rt,Et),Ht=d}$t.call(ut,tt,new so(ut,{sourceEvent:Rt,subject:it,target:U,identifier:Ft,active:Ht,x:zt[0]+re,y:zt[1]+Jt,dx:zt[0]-Bt[0],dy:zt[1]-Bt[1],dispatch:$t}),Zt)}}return U.filter=function(tt){return arguments.length?(e="function"==typeof tt?tt:Yn(!!tt),U):e},U.container=function(tt){return arguments.length?(i="function"==typeof tt?tt:Yn(tt),U):i},U.subject=function(tt){return arguments.length?(r="function"==typeof tt?tt:Yn(tt),U):r},U.touchable=function(tt){return arguments.length?(s="function"==typeof tt?tt:Yn(!!tt),U):s},U.on=function(){var tt=l.on.apply(l,arguments);return tt===l?U:tt},U.clickDistance=function(tt){return arguments.length?(B=(tt=+tt)*tt,U):Math.sqrt(B)},U}().on("start",function s(d,m){d.active||r.alphaTarget(.3).restart(),m.fx=m.x,m.fy=m.y}).on("drag",function a(d,m){m.fx=d.x,m.fy=d.y}).on("end",function l(d,m){d.active||r.alphaTarget(0),m.fx=null,m.fy=null})}cluster(r){return function a(l){for(const d of r){const m=r.filter(R=>R.group===d.group),S=m.reduce((R,B)=>R+B.x,0)/m.length,_=m.reduce((R,B)=>R+B.y,0)/m.length;d.vx+=(S-d.x)*l*.2,d.vy+=(_-d.y)*l*.2}}}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["d3-network"]],inputs:{nodes:"nodes",links:"links",options:"options",width:"width",height:"height"},features:[h.qOj,h.TTD],decls:1,vars:1,consts:[[1,"flex","flex-1",3,"id"]],template:function(r,s){1&r&&h._UZ(0,"div",0),2&r&&h.MGl("id","",s.id,"-network")},encapsulation:2}),e})();var Pa=P(7423),Tc=P(2108);const tl=function(){return["/wiki/network"]},Wa=function(){return["/wiki/analysis"]},nl=[{path:"",component:(()=>{class e extends G{constructor(r,s){super(),this.characterApi=r,this.relationshipApi=s,this.navigation=nt.o,this.nodes=[],this.edges=[],this.characters=[],this.relationships=[],this.networkOptions={zoom:!1}}ngOnInit(){var r=this;this.subscribe(this.characterApi.cosmereCharacters(),s=>this.onCharactersChanges(s)),this.subscribe(this.relationshipApi.relationshipsByBook("mistborn1"),s=>this.onRelationshipsChanges(s)),(0,N.defer)((0,C.Z)(function*(){yield r.characterApi.fetchAllCosmereCharacter(),yield r.relationshipApi.fetchAllCosmereRelationship()}))}generateNetworkParameters(){this.edges=w(this.relationships);const r=new q.UndirectedGraph;E(this.relationships).forEach(l=>r.addNode(l)),this.relationships.forEach(l=>r.addEdge(l.characterId1,l.characterId2));const a=ct()(r);this.nodes=x(this.characters,this.relationships).filter(l=>this.edges.map(d=>d.source).includes(l.id)||this.edges.map(d=>d.target).includes(l.id)),this.nodes=this.nodes.map(l=>Object.assign(Object.assign({},l),{group:a[l.id]}))}onCharactersChanges(r){this.characters=r,this.generateNetworkParameters()}onRelationshipsChanges(r){this.relationships=r,this.generateNetworkParameters()}}return e.\u0275fac=function(r){return new(r||e)(h.Y36(di),h.Y36(Fr))},e.\u0275cmp=h.Xpm({type:e,selectors:[["home"]],features:[h.qOj],decls:24,vars:20,consts:[[1,"inset-0","flex","flex-col","min-w-0","w-full"],[1,"flex","flex-col","mx-100","text-center","p-6","gap-5"],[1,"font-black","mt-3","text-7xl","text-center","mb-7"],[3,"nodes","links","height","options"],[1,"flex","flex-col"],[1,"font-black","mt-3","text-2xl","text-center","mb-3"],["mat-button","",1,"bg-primary","text-lg",3,"routerLink"],[1,"font-black","mt-3","text-2xl","text-center","mb-7"]],template:function(r,s){1&r&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h._uU(3),h.ALo(4,"trans"),h.qZA(),h._UZ(5,"d3-network",3),h.TgZ(6,"div",4),h.TgZ(7,"div",5),h._uU(8),h.ALo(9,"trans"),h.qZA(),h.TgZ(10,"div"),h.TgZ(11,"button",6),h._uU(12," Conexiones "),h.qZA(),h.qZA(),h.qZA(),h.TgZ(13,"div",4),h.TgZ(14,"div",5),h._uU(15),h.ALo(16,"trans"),h.qZA(),h.TgZ(17,"div"),h.TgZ(18,"button",6),h._uU(19," An\xe1lisis "),h.qZA(),h.qZA(),h.qZA(),h.TgZ(20,"div",4),h.TgZ(21,"div",7),h._uU(22),h.ALo(23,"trans"),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&r&&(h.xp6(3),h.hij(" ",h.lcZ(4,10,"home.title")," "),h.xp6(2),h.Q6J("nodes",s.nodes)("links",s.edges)("height",600)("options",s.networkOptions),h.xp6(3),h.hij(" ",h.lcZ(9,12,"home.network.1")," "),h.xp6(3),h.Q6J("routerLink",h.DdM(18,tl)),h.xp6(4),h.hij(" ",h.lcZ(16,14,"home.analysis.1")," "),h.xp6(3),h.Q6J("routerLink",h.DdM(19,Wa)),h.xp6(4),h.hij(" ",h.lcZ(23,16,"home.me.1")," "))},directives:[Nc,Pa.lW,ft.rH],pipes:[Tc.u],encapsulation:2}),e})()}];var rl=P(5245),_s=P(4613),Dc=P(6767),As=P(393);let Ua=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[]]}),e})();var Ba=P(3564),il=P(3812);let Lc=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[ft.Bz.forChild(nl),Pa.ot,rl.Ps,_s.m,Ba.J,Dc.d,As.ZD,As.Cl,Ua,il.P]]}),e})();const Rc=()=>({id:(0,X.V)(),books:[]}),bo=()=>({configuration:Rc()});let ol=(()=>{class e extends Wn{constructor(){super(bo()),this.configuration$=this.select(r=>r.configuration)}saveConfiguration(r){(0,N.isEqual)(this.get().configuration,r)||this.patchState(s=>({configuration:r}))}syncState(){return this.get()}syncConfiguration(){return this.get().configuration}reset(){this.patchState(bo())}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Fa=(()=>{class e{constructor(r){this.store=r}syncConfiguration(){return this.store.syncState().configuration}configuration(){return this.store.configuration$}saveConfiguration(r){this.store.saveConfiguration(r)}}return e.\u0275fac=function(r){return new(r||e)(h.LFG(ol))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var zc=P(1999),ui=P(3075);let Gc=(()=>{class e{constructor(r){this.formBuilder=r}build(r,s=[],a=[]){const l={};return Object.keys(r).forEach(d=>{const m=r[d],S=this.getValidator(d,s);if(l[d]=[m,S],a.includes(d)&&(0,N.isArray)(m)){const _=[];m.forEach(R=>{_.push((0,zc.Z)(R)?this.build(R,s):R)}),l[d]=this.formBuilder.array(_)}if(!a.includes(d)&&!(0,N.isArray)(m)&&(0,zc.Z)(m)){const _=this.extractSubValidator(d,s);l[d]=this.build(m,_)}}),this.formBuilder.group(l)}extractSubValidator(r,s){return s.filter(a=>a.key.startsWith(r)).map(a=>({key:a.key.replace(r+".",""),validators:a.validators}))}getValidator(r,s){const a=s.find(l=>l.key===r);return a?a.validators:[]}}return e.\u0275fac=function(r){return new(r||e)(h.LFG(ui.qu))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),sl=(()=>{class e extends Wn{constructor(){super({books:[]}),this.books$=this.select(r=>r.books)}saveAllBooks(r){(0,N.isEqual)(this.get().books,r)||this.patchState(s=>({books:ar(s.books,r)}))}syncState(){return this.get()}syncBook(r){return br(r,this.get().books)}reset(){this.patchState({books:[]})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Pc=(()=>{class e{constructor(r,s){this.api=r,this.store=s}fetchAllBooks(){var r=this;return(0,C.Z)(function*(){const s=yield r.api.get("books");r.store.saveAllBooks(s)})()}syncAllBooks(){return this.store.syncState().books}allBooks(){return this.store.books$}}return e.\u0275fac=function(r){return new(r||e)(h.LFG(ht),h.LFG(sl))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var al=P(96),Ur=P(9808),Wc=P(9602),Za=P(7322),Uc=P(4107),ul=P(508);function cl(e,i){if(1&e&&(h.TgZ(0,"mat-option",11),h._uU(1),h.ALo(2,"uppercase"),h.ALo(3,"trans"),h.qZA()),2&e){const r=i.$implicit;h.Q6J("value",r.id),h.xp6(1),h.hij(" ",h.lcZ(2,2,h.lcZ(3,4,r.title))," ")}}function fl(e,i){if(1&e&&(h.TgZ(0,"div",5),h.TgZ(1,"fuse-card",6),h.TgZ(2,"form",7),h.TgZ(3,"mat-form-field",8),h.TgZ(4,"mat-label"),h._uU(5),h.ALo(6,"titlecase"),h.ALo(7,"trans"),h.qZA(),h.TgZ(8,"mat-select",9),h.YNc(9,cl,4,6,"mat-option",10),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&e){const r=h.oxw();h.xp6(2),h.Q6J("formGroup",r.configurationForm),h.xp6(3),h.Oqu(h.lcZ(6,3,h.lcZ(7,5,"books"))),h.xp6(4),h.Q6J("ngForOf",r.data.books)}}let $a=(()=>{class e extends ur.H{constructor(r,s,a){super(),this.configurationApi=r,this.formBuilder=s,this.bookApi=a,this.configurationChanges=new h.vpe,this.showCard=!1,this.data={books:[]}}ngOnInit(){var r=this;this.subscribe(this.bookApi.allBooks(),s=>this.data.books=s),this.subscribe(this.configurationApi.configuration(),s=>this.setConfiguration(s)),(0,N.defer)((0,C.Z)(function*(){yield r.bookApi.fetchAllBooks()})),this.buildForm()}buildForm(){this.configurationForm=this.formBuilder.build(this.configuration),this.configurationForm.get("books").valueChanges.subscribe(r=>{this.configuration.books=r,this.saveConfiguration()})}toggle(){this.showCard=!this.showCard}setConfiguration(r){this.configuration=Object.assign({},r),this.configurationForm&&this.configurationForm.patchValue(r)}saveConfiguration(){this.configurationApi.saveConfiguration(this.configuration)}}return e.\u0275fac=function(r){return new(r||e)(h.Y36(Fa),h.Y36(Gc),h.Y36(Pc))},e.\u0275cmp=h.Xpm({type:e,selectors:[["configuration"]],outputs:{configurationChanges:"configurationChanges"},features:[h.qOj],decls:5,vars:1,consts:[[1,"absolute","top-0","right-0","z-50"],[1,"flex","flex-col","items-end","pr-6"],["mat-icon-button","",3,"click"],["icon","settings","size","10"],["class","z-50",4,"ngIf"],[1,"z-50"],[1,"flex","flex-col","h-full","p-6","gap-5","w-100"],[1,"w-full",3,"formGroup"],["floatLabel","always",1,"w-full"],["multiple","","formControlName","books","placeholder","Libros: Todos"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,s){1&r&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"button",2),h.NdJ("click",function(){return s.toggle()}),h._UZ(3,"app-icon",3),h.qZA(),h.YNc(4,fl,10,7,"div",4),h.qZA(),h.qZA()),2&r&&(h.xp6(4),h.Q6J("ngIf",s.showCard))},directives:[Pa.lW,al.o,Ur.O5,Wc.y,ui._Y,ui.JL,ui.sg,Za.KE,Za.hX,Uc.gD,ui.JJ,ui.u,Ur.sg,ul.ey],pipes:[Ur.rS,Tc.u,Ur.gd],encapsulation:2,changeDetection:0}),e})();var Bc=P(340);let hl=(()=>{class e extends Wn{constructor(){super({planets:[]}),this.planets$=this.select(r=>r.planets)}saveAllPlanets(r){(0,N.isEqual)(this.get().planets,r)||this.patchState(s=>({planets:ar(s.planets,r)}))}syncState(){return this.get()}syncPlanet(r){return br(r,this.get().planets)}reset(){this.patchState({planets:[]})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ll=(()=>{class e{constructor(r,s){this.api=r,this.store=s}fetchAllPlanets(){var r=this;return(0,C.Z)(function*(){const s=yield r.api.get("planets");r.store.saveAllPlanets(s)})()}syncAllPlanets(){return this.store.syncState().planets}allPlanets(){return this.store.planets$}}return e.\u0275fac=function(r){return new(r||e)(h.LFG(ht),h.LFG(hl))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var dl=P(4344);let Es=(()=>{class e extends ur.H{constructor(r,s,a,l,d,m,S){super(),this.characterApi=r,this.relationshipApi=s,this.formBuilder=a,this.bookApi=l,this.planetApi=d,this.modal=m,this.configurationApi=S,this.nodes=[],this.edges=[],this.characters=[],this.relationships=[]}ngOnInit(){var r=this;return(0,C.Z)(function*(){r.subscribe(r.characterApi.cosmereCharacters(),s=>{r.onCharactersChanges(s)}),r.subscribe(r.relationshipApi.cosmereRelationships(),s=>{r.onRelationshipsChanges(s)}),r.subscribe(r.configurationApi.configuration(),s=>r.onConfigurationChanges(s)),(0,N.defer)(()=>{r.characterApi.fetchAllCosmereCharacter(),r.relationshipApi.fetchAllCosmereRelationship()})})()}regenerateNetworkParameters(){this.edges=w(this.filterRelationships(this.relationships));const r=new q.UndirectedGraph;E(this.relationships).forEach(l=>r.addNode(l)),this.filterRelationships(this.relationships).forEach(l=>r.addEdge(l.characterId1,l.characterId2));const a=ct()(r,{rng:Bc("1231312"),resolution:2});this.nodes=x(this.filterCharacters(this.characters),this.filterRelationships(this.relationships)).filter(l=>this.edges.map(d=>d.source).includes(l.id)||this.edges.map(d=>d.target).includes(l.id)),this.nodes=this.nodes.map(l=>Object.assign(Object.assign({},l),{group:a[l.id]})),this.edges=this.edges.map(l=>{const d=this.nodes.find(_=>_.id===l.target),m=this.nodes.find(_=>_.id===l.source);if(void 0===d||void 0===m)return l;const S=d.score>m.score?a[d.id]:a[m.id];return Object.assign(Object.assign({},l),{group:S})})}filterCharacters(r){return r}filterRelationships(r){if(!this.configuration)return r;let s=r;return this.configuration.books.length>0&&(s=s.filter(a=>this.configuration.books.includes(a.bookId))),s}onCharactersChanges(r){this.characters=r,this.regenerateNetworkParameters()}onRelationshipsChanges(r){this.relationships=r,this.regenerateNetworkParameters()}onConfigurationChanges(r){this.configuration=r,this.regenerateNetworkParameters()}}return e.\u0275fac=function(r){return new(r||e)(h.Y36(di),h.Y36(Fr),h.Y36(Gc),h.Y36(Pc),h.Y36(ll),h.Y36(dl.u),h.Y36(Fa))},e.\u0275cmp=h.Xpm({type:e,selectors:[["characters-relationships-graph"]],features:[h.qOj],decls:2,vars:2,consts:[[1,"relative","w-full","h-full","justify-center"],[3,"nodes","links"]],template:function(r,s){1&r&&(h.TgZ(0,"div",0),h._UZ(1,"d3-network",1),h.qZA()),2&r&&(h.xp6(1),h.Q6J("nodes",s.nodes)("links",s.edges))},directives:[Nc],encapsulation:2}),e})();const pl=[{path:"",component:(()=>{class e extends G{constructor(){super()}ngOnInit(){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["network"]],features:[h.qOj],decls:4,vars:0,consts:[[1,"inset-0","flex","flex-col","min-w-0","w-full","overflow-hidden"],[1,"flex","flex-row","h-full","grow","justify-center"],[1,"w-full"]],template:function(r,s){1&r&&(h.TgZ(0,"div",0),h._UZ(1,"configuration"),h.TgZ(2,"div",1),h._UZ(3,"characters-relationships-graph",2),h.qZA(),h.qZA())},directives:[$a,Es],encapsulation:2}),e})()}];var gl=P(5836);let vl=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[]]}),e})(),yl=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[gl.J,Za.lN,Uc.LD,Ur.ez,Dc.d,ui.UX,_s.m,vl,Ua]]}),e})(),ml=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[ft.Bz.forChild(pl),yl,As.ZD,Ba.J,_s.m]]}),e})();var wl=P(5547),bl=P(3378),xl=P.n(bl),_l=P(5894),Al=P.n(_l),Cs=P(1063),El=P.n(Cs);const Gi=e=>(e=>e.map(([i,r])=>({label:i,value:r})))(D().map((e=>(0,N.fromPairs)((0,N.sortBy)((0,N.toPairs)(e),1).reverse()))(e),(i,r)=>[r,i])),xo=e=>{const i=Math.min(...e.map(s=>s.value)),r=Math.max(...e.map(s=>s.value));return e.map(s=>Object.assign(Object.assign({},s),{value:(s.value-i)/(r-i)}))};var $c=P(5408);let Yc=(()=>{class e extends ur.H{constructor(){super(),this.options={colors:{highlight:"#b11adc",highlightLight:"#d975f6",text:"#777",xAxis:"#eee",yAxis:"#999"},height:200,width:600,margin:{top:10,left:40,right:10,bottom:20},animationDuration:300,ticksInterval:10},this.id=(0,X.V)()}ngOnChanges(r){this.create()}ngAfterViewInit(){this.create()}create(){!this.data||0===this.data.length||(this.data=this.data.splice(0,10),this.element=document.getElementById(this.id+"-barchart"),this.initValues(),this.initScales(),this.initChart(),this.createAxis(),this.createBars())}initChart(){on(this.element).select("svg").remove(),this.svg=on(this.element).append("svg").attr("viewBox",`0 0 ${this.options.width} ${this.options.height+100}`)}initValues(){const r=Number(Un(this.data.map(a=>a.value))),s=Number(Vn(this.data.map(a=>a.value)));this.minValue=r<0?r-this.options.ticksInterval:0,this.maxValue=s}initScales(){this.yScale=yo().domain([this.minValue,this.maxValue]).range([this.options.height-this.options.margin.bottom,this.options.margin.top]),this.xScale=lo().domain(Zr(this.data.length)).range([this.options.margin.left+this.options.margin.right,this.options.width-this.options.margin.right]).paddingInner(this.calculatePadding(this.data.length))}getBarMaxWidth(){const r=window.innerWidth;return r<=768?r<=480?10:15:20}getBarColor(r,s=0){return`rgb(${(210+s).toString()}, ${(10+20*r+s).toString()}, ${(220-20*r+s).toString()})`}createBars(){this.svg.selectAll(".bar").data(this.data).enter().append("rect").classed("bar",!0).style("fill","transparent").style("display",s=>"number"==typeof s.value?"initial":"none").attr("x",(s,a)=>this.xScale(a)).attr("y",this.yScale(0)).attr("width",this.xScale.bandwidth()).attr("height",0).transition().style("fill",(s,a)=>this.getBarColor(a)).duration(this.options.animationDuration).delay((s,a)=>a*this.options.animationDuration/3).attr("x",(s,a)=>this.xScale(a)).attr("y",(s,a)=>this.yScale(s.value<0?0:s.value)).attr("width",this.xScale.bandwidth()).attr("height",(s,a)=>s.value<0?this.yScale(s.value)-this.yScale(0):this.yScale(0)-this.yScale(s.value))}createAxis(){const r=u(this.xScale).tickSize(-this.options.width).tickFormat((a,l)=>this.data[l].label.toUpperCase()),s=c(this.yScale).tickSize(-this.options.width).tickFormat(a=>`${a}`).ticks(this.options.ticksInterval);this.svg.append("g").attr("class","axis x-axis").attr("transform",`translate(0, ${this.options.height-15})`).call(r).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end"),this.svg.append("g").attr("class","axis y-axis").attr("transform",`translate(${+this.options.margin.left}, 0)`).call(s),this.svg.selectAll(".axis .domain").remove(),this.svg.selectAll(".axis .tick text").style("fill",this.options.colors.text),this.svg.selectAll(".y-axis .tick line").style("stroke",this.options.colors.yAxis),this.svg.selectAll(".x-axis .tick line").style("stroke",this.options.colors.xAxis)}calculatePadding(r){return 1-r*this.getBarMaxWidth()/this.options.width}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["bar-chart"]],inputs:{data:"data",options:"options"},features:[h.qOj,h.TTD],decls:1,vars:1,consts:[[1,"flex","flex-1",3,"id"]],template:function(r,s){1&r&&h._UZ(0,"div",0),2&r&&h.MGl("id","",s.id,"-barchart")},encapsulation:2}),e})();const Hc=({color:e,title:i,tickSize:r=6,width:s=36+r,height:a=320,marginTop:l=20,marginRight:d=10+r,marginBottom:m=20,marginLeft:S=5,ticks:_=a/64,tickFormat:R,tickValues:B}={})=>{const U=kc("svg").attr("width",s).attr("height",a).attr("viewBox",[0,0,s,a]).style("overflow","visible").style("display","block");let gt,K=J=>J.selectAll(".tick line").attr("x1",S-s+d);if(e.interpolate){const J=Math.min(e.domain().length,e.range().length);gt=e.copy().rangeRound(pc(si(a-m,l),J)),U.append("image").attr("x",S).attr("y",l).attr("width",s-S-d).attr("height",a-l-m).attr("preserveAspectRatio","none").attr("xlink:href",Ya(e.copy().domain(pc(si(0,1),J))).toDataURL())}else if(e.interpolator){if(gt=Object.assign(e.copy().interpolator(Ma(a-m,l)),{range:()=>[a-m,l]}),U.append("image").attr("x",S).attr("y",l).attr("width",s-S-d).attr("height",a-l-m).attr("preserveAspectRatio","none").attr("xlink:href",Ya(e.interpolator()).toDataURL()),!gt.ticks){if(void 0===B){const J=Math.round(_+1);B=Zr(J).map(j=>function Ts(e,i,r){if(e=Float64Array.from(function*Eo(e,i){if(void 0===i)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let s of e)null!=(s=i(s,++r,e))&&(s=+s)>=s&&(yield s)}}(e,r)),(s=e.length)&&!isNaN(i=+i)){if(i<=0||s<2)return Un(e);if(i>=1)return Vn(e);var s,a=(s-1)*i,l=Math.floor(a),d=Vn(Ar(e,l).subarray(0,l+1));return d+(Un(e.subarray(l+1))-d)*(a-l)}}(e.domain(),j/(J-1)))}"function"!=typeof R&&(R=or(void 0===R?",f":R))}}else if(e.invertExtent){const J=e.thresholds?e.thresholds():e.quantiles?e.quantiles():e.domain(),j=void 0===R?H=>H:"string"==typeof R?or(R):R;gt=yo().domain([-1,e.range().length-1]).rangeRound([a-m,l]),U.append("g").selectAll("rect").data(e.range()).join("rect").attr("y",(H,ot)=>gt(ot)).attr("x",S).attr("height",(H,ot)=>gt(ot-1)-gt(ot)).attr("width",s-d-S).attr("fill",H=>H),B=Zr(J.length),R=H=>j(J[H],H)}else gt=lo().domain(e.domain()).rangeRound([a-m,l]),U.append("g").selectAll("rect").data(e.domain()).join("rect").attr("y",gt).attr("x",S).attr("height",Math.max(0,gt.bandwidth()-1)).attr("width",s-S-d).attr("fill",e),K=()=>{};return U.append("g").attr("transform",`translate(${s-d},0)`).call(function g(e){return p(2,e)}(gt).ticks(_,"string"==typeof R?R:void 0).tickFormat("function"==typeof R?R:void 0).tickSize(r).tickValues(B)).call(K).call(J=>J.select(".domain").remove()).call(J=>J.append("text").attr("x",S-s+d).attr("y",0).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").attr("class","title").text(i)),U.node()};function Ya(e,i=256){const r=document.createElement("canvas");r.width=1,r.height=i;const s=r.getContext("2d");for(let a=0;a<i;++a)s.fillStyle=e(a/(i-1)),s.fillRect(0,i-a,1,1);return r}let Cl=(()=>{class e extends ur.H{constructor(){super(),this.xLabel="",this.yLabel="",this.config={height:500,width:500,margin:{top:20,left:40,right:30,bottom:30},inset:{top:6,right:6,bottom:6,left:6},dot:{radius:20,strokeWidth:0,strokeColor:"white"},domain:{x:[0,1],y:[0,1]},padding:10,animationDuration:300,ticksInterval:10,color:Uh},this.id=(0,X.V)()}ngOnChanges(r){this.create()}ngAfterViewInit(){this.create()}create(){!this.data||0===this.data.length||(this.element=document.getElementById(this.id+"-chart-3d"),this.initValues(),this.createColorBar(),this.initScales(),this.createAxis(),this.createSvg())}createColorBar(){const r=Hc({color:Ra([0,1],this.color),title:"Degree"});this.legendElement=document.getElementById(this.id+"-legend-bar"),this.legendElement&&(on(this.legendElement).select("svg").remove(),this.legendElement.append(r))}initValues(){this.color=this.config.color,this.X=this.data.map(r=>r.x),this.Y=this.data.map(r=>r.y),this.Z=this.data.map(r=>r.z),this.labels=this.data.map(r=>r.label)}initScales(){const s=[this.config.height-this.config.margin.bottom-this.config.inset.bottom,this.config.margin.top+this.config.inset.top];this.xScale=yo(this.config.domain.x,[this.config.margin.left+this.config.inset.left,this.config.width-this.config.margin.right-this.config.inset.right]),this.yScale=yo(this.config.domain.y,s)}createAxis(){this.xAxis=u(this.xScale).ticks(this.config.width/80),this.yAxis=c(this.yScale).ticks(this.config.height/50)}createSvg(){on(this.element).select("svg").remove(),this.svg=on(this.element).append("svg").attr("width",this.config.width).attr("height",this.config.height).attr("viewBox",[0,0,this.config.width,this.config.height]).attr("style","max-width: 100%; this.options.height: auto; height: intrinsic;"),this.svg.append("g").attr("transform",`translate(0,${this.config.height-this.config.margin.bottom})`).call(this.xAxis).call(a=>a.select(".domain").remove()).call(a=>a.selectAll(".tick line").clone().attr("y2",this.config.margin.top+this.config.margin.bottom-this.config.height).attr("stroke-opacity",.1)).call(a=>a.append("text").attr("x",this.config.width).attr("y",this.config.margin.bottom-4).attr("fill","currentColor").attr("text-anchor","end").text(this.xLabel)),this.svg.append("g").attr("transform",`translate(${this.config.margin.left},0)`).call(this.yAxis).call(a=>a.select(".domain").remove()).call(a=>a.selectAll(".tick line").clone().attr("x2",this.config.width-this.config.margin.left-this.config.margin.right).attr("stroke-opacity",.1)).call(a=>a.append("text").attr("x",-this.config.margin.left).attr("y",10).attr("fill","currentColor").attr("text-anchor","start").text(this.yLabel));const s=Zr(this.X.length).filter(a=>!isNaN(this.X[a])&&!isNaN(this.Y[a]));this.svg.append("g").attr("stroke",this.config.dot.strokeColor).attr("stroke-width",this.config.dot.strokeWidth).selectAll("circle").data(s).join("circle").attr("cx",a=>this.xScale(this.X[a])).attr("cy",a=>this.yScale(this.Y[a])).attr("fill",a=>this.color(this.Z[a])).attr("r",this.config.dot.radius),this.svg.append("g").attr("font-family","sans-serif").attr("font-size",20).attr("stroke-linejoin","round").attr("stroke-linecap","round").selectAll("text").data(s).join("text").attr("x",a=>this.xScale(this.X[a])).attr("y",a=>this.yScale(this.Y[a])).text(a=>this.labels[a]).style("fill","white").style("text-anchor","middle").style("dominant-baseline","central")}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["chart-3d"]],inputs:{data:"data",xLabel:"xLabel",yLabel:"yLabel",config:"config"},features:[h.qOj,h.TTD],decls:3,vars:2,consts:[[1,"flex","flex-row"],[3,"id"],[1,"flex","flex-1","items-end","pb-10",3,"id"]],template:function(r,s){1&r&&(h.TgZ(0,"div",0),h._UZ(1,"div",1),h._UZ(2,"div",2),h.qZA()),2&r&&(h.xp6(1),h.MGl("id","",s.id,"-chart-3d"),h.xp6(1),h.MGl("id","",s.id,"-legend-bar"))},encapsulation:2}),e})();function Sl(e,i){if(1&e&&(h.TgZ(0,"div",16),h._uU(1),h.qZA()),2&e){const r=h.oxw(),s=r.index,a=r.$implicit;h.xp6(1),h.AsE("",s+1," \xba ",a.label,"")}}function kl(e,i){if(1&e&&(h.TgZ(0,"div"),h.YNc(1,Sl,2,2,"div",15),h.qZA()),2&e){const r=i.index,s=h.oxw().$implicit;h.xp6(1),h.Q6J("ngIf",r>=10*s&&r<10*s+10)}}function Ss(e,i){if(1&e&&(h.TgZ(0,"div"),h.TgZ(1,"div",13),h.YNc(2,kl,2,1,"div",6),h.qZA(),h.qZA()),2&e){const r=h.oxw();h.xp6(2),h.Q6J("ngForOf",r.pagerankCosmere)}}const ks=function(){return[0,1,2,3,4,5,6,7,8]},Ml=[{path:"",component:(()=>{class e extends G{constructor(r,s){super(),this.relationshipApi=r,this.configurationApi=s,this.pagerankEigenvectorAndDegreeCentrality=[],this.configuration=Rc()}ngOnInit(){var r=this;this.subscribe(this.relationshipApi.cosmereRelationships(),s=>this.onRelationshipsChanges(s)),this.subscribe(this.configurationApi.configuration(),s=>this.onConfigurationChanges(s)),(0,N.defer)((0,C.Z)(function*(){return yield r.relationshipApi.fetchAllCosmereRelationship()}))}analyseNetwork(r){const s=r.nodes(),a=(0,wl.pagerank)(r,{getEdgeWeight:void 0,maxIterations:300});this.pagerankCosmere=Gi(a);const l=El()(r);this.betweennessCosmere=Gi(l);const d=xl()(r);this.closenessCosmere=Gi(d),this.closenessCosmere=(0,N.reject)(this.closenessCosmere,U=>1===U.value);const m=Al()(r,{maxIterations:200});this.eigenvectorCosmere=Gi(m);const S=(0,$c.degreeCentrality)(r);this.degreeCentralityCosmere=Gi(S);const _=xo(this.pagerankCosmere),R=xo(this.eigenvectorCosmere),B=xo(this.degreeCentralityCosmere);this.pagerankEigenvectorAndDegreeCentrality=s.map(U=>({label:U,x:_.find(K=>K.label===U).value,y:R.find(K=>K.label===U).value,z:B.find(K=>K.label===U).value})).filter(U=>U.x>=.1&&U.y>.1)}onRelationshipsChanges(r){this.relationships=r,this.analyseNetwork(this.graph())}onConfigurationChanges(r){this.configuration=r,this.analyseNetwork(this.graph())}filterRelationships(r){if(!this.configuration)return r;let s=r;return this.configuration.books.length>0&&(s=s.filter(a=>this.configuration.books.includes(a.bookId))),s}graph(){const r=this.filterRelationships(this.relationships),s=new q.UndirectedGraph;return E(r).forEach(l=>s.addNode(l)),r.forEach(l=>s.addEdge(l.characterId1,l.characterId2)),s}}return e.\u0275fac=function(r){return new(r||e)(h.Y36(Fr),h.Y36(Fa))},e.\u0275cmp=h.Xpm({type:e,selectors:[["network"]],features:[h.qOj],decls:30,vars:6,consts:[[1,"inset-0","flex","flex-col","min-w-0","w-full","h-screen"],[1,"mr-6"],[1,"flex","flex-col","p-10"],[1,"flex","flex-col","p-10","grow"],[1,"text-xl","mb-5"],[1,"flex","flex-row","gap-10"],[4,"ngFor","ngForOf"],[1,"flex","flex-row","mt-5","gap-5"],[1,"flex","flex-auto","grow","p-6"],[1,"flex","flex-col","grow"],[1,"w-full",3,"data"],[1,"flex","flex-row","mt-5"],[1,"p-6"],[1,"flex","flex-col"],[1,"flex","flex-auto","w-full",3,"data"],["class","mb-3",4,"ngIf"],[1,"mb-3"]],template:function(r,s){1&r&&(h.TgZ(0,"div",0),h._UZ(1,"configuration",1),h.TgZ(2,"div",2),h.TgZ(3,"fuse-card",3),h.TgZ(4,"div",4),h._uU(5,"Lista de personajes m\xe1s relevantes por PageRank"),h.qZA(),h.TgZ(6,"div",5),h.YNc(7,Ss,3,1,"div",6),h.qZA(),h.qZA(),h.TgZ(8,"div",7),h.TgZ(9,"fuse-card",8),h.TgZ(10,"div",9),h.TgZ(11,"div",4),h._uU(12,"Eigenvector"),h.qZA(),h._UZ(13,"bar-chart",10),h.qZA(),h.qZA(),h.TgZ(14,"fuse-card",8),h.TgZ(15,"div",9),h.TgZ(16,"div",4),h._uU(17,"Betweenness"),h.qZA(),h._UZ(18,"bar-chart",10),h.qZA(),h.qZA(),h.TgZ(19,"fuse-card",8),h.TgZ(20,"div",9),h.TgZ(21,"div",4),h._uU(22,"Closeness"),h.qZA(),h._UZ(23,"bar-chart",10),h.qZA(),h.qZA(),h.qZA(),h.TgZ(24,"div",11),h.TgZ(25,"fuse-card",12),h.TgZ(26,"div",13),h.TgZ(27,"div",4),h._uU(28,"Protagonismo"),h.qZA(),h._UZ(29,"chart-3d",14),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&r&&(h.xp6(7),h.Q6J("ngForOf",h.DdM(5,ks)),h.xp6(6),h.Q6J("data",s.eigenvectorCosmere),h.xp6(5),h.Q6J("data",s.betweennessCosmere),h.xp6(5),h.Q6J("data",s.closenessCosmere),h.xp6(6),h.Q6J("data",s.pagerankEigenvectorAndDegreeCentrality))},directives:[$a,Wc.y,Ur.sg,Ur.O5,Yc,Cl],encapsulation:2}),e})()}];let Ha=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[ft.Bz.forChild(Ml),As.ZD,Ba.J,Ua,Ur.ez,_s.m]]}),e})();const Xc=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>Lc},{path:"network",loadChildren:()=>ml},{path:"analysis",loadChildren:()=>Ha}];let Il=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[ft.Bz.forChild(Xc)]]}),e})()},7749:(Nt,At,P)=>{var ft=P(8487),C=P(6714),X=P(5568),h=P(8090),G=P(5766),T=P(8859).createRandomIndex,O=P(6956),x=O.UndirectedLouvainIndex,w=O.DirectedLouvainIndex,E={nodeCommunityAttribute:"community",getEdgeWeight:"weight",fastLocalMoves:!0,randomWalk:!0,resolution:1,rng:Math.random};function I(Z,$,F){var L=Z.get($);void 0===L&&(L=0),Z.set($,L+=F)}function D(Z,$,F,L,at){return Math.abs(L-at)<1e-10?Z!==$&&F>Z:L>at}function nt(Z,$,F){var ht,dt,Tt,Pt,jt,te,Kt,Qt,ve,we,Le,ie,ke,ye,kt,Gt,Ze,Te,L=new x($,{getEdgeWeight:F.getEdgeWeight,keepDendrogram:Z,resolution:F.resolution}),at=T(F.rng),vt=!0,bt=!0,St=new h(Float64Array,L.C),ze=0,je=0,hn=[];for(F.fastLocalMoves&&(Tt=new G(L.C));vt;){if(ie=L.C,vt=!1,bt=!0,F.fastLocalMoves){for(Te=0,Qt=F.randomWalk?at(ie):0,ve=0;ve<ie;ve++,Qt++)Tt.enqueue(we=Qt%ie);for(;0!==Tt.size;){for(we=Tt.dequeue(),je++,ke=0,St.clear(),ht=L.belongings[we],Pt=L.starts[we],jt=L.starts[we+1];Pt<jt;Pt++)ke+=te=L.weights[Pt],I(St,dt=L.belongings[Le=L.neighborhood[Pt]],te);for(kt=L.fastDeltaWithOwnCommunity(we,ke,St.get(ht)||0,ht),ye=ht,Kt=0;Kt<St.size;Kt++)(dt=St.dense[Kt])!==ht&&(ze++,D(ye,ht,dt,Gt=L.fastDelta(we,ke,St.vals[Kt],dt),kt)&&(kt=Gt,ye=dt));if(kt<0){if((ye=L.isolate(we,ke))===ht)continue}else{if(ye===ht)continue;L.move(we,ke,ye)}for(vt=!0,Te++,Pt=L.starts[we],jt=L.starts[we+1];Pt<jt;Pt++)(dt=L.belongings[Le=L.neighborhood[Pt]])!==ye&&Tt.enqueue(Le)}hn.push(Te)}else for(hn.push(Ze=[]);bt;){for(bt=!1,Te=0,Qt=F.randomWalk?at(ie):0,ve=0;ve<ie;ve++,Qt++){for(we=Qt%ie,je++,ke=0,St.clear(),ht=L.belongings[we],Pt=L.starts[we],jt=L.starts[we+1];Pt<jt;Pt++)ke+=te=L.weights[Pt],I(St,dt=L.belongings[Le=L.neighborhood[Pt]],te);for(kt=L.fastDeltaWithOwnCommunity(we,ke,St.get(ht)||0,ht),ye=ht,Kt=0;Kt<St.size;Kt++)(dt=St.dense[Kt])!==ht&&(ze++,D(ye,ht,dt,Gt=L.fastDelta(we,ke,St.vals[Kt],dt),kt)&&(kt=Gt,ye=dt));if(kt<0){if((ye=L.isolate(we,ke))===ht)continue}else{if(ye===ht)continue;L.move(we,ke,ye)}bt=!0,Te++}Ze.push(Te),vt=bt||vt}vt&&L.zoomOut()}return{index:L,deltaComputations:ze,nodesVisited:je,moves:hn}}function q(Z,$,F){var ht,dt,Tt,Pt,jt,te,Qt,ve,we,Le,ie,ke,nn,ye,kt,Gt,ze,hn,Ge,wn,L=new w($,{getEdgeWeight:F.getEdgeWeight,keepDendrogram:Z,resolution:F.resolution}),at=T(F.rng),vt=!0,bt=!0,St=new h(Float64Array,L.C),Ze=0,Te=0,jn=[];for(F.fastLocalMoves&&(Tt=new G(L.C));vt;){if(nn=L.C,vt=!1,bt=!0,F.fastLocalMoves){for(wn=0,we=F.randomWalk?at(nn):0,Le=0;Le<nn;Le++,we++)Tt.enqueue(ie=we%nn);for(;0!==Tt.size;){for(ie=Tt.dequeue(),Te++,ye=0,kt=0,St.clear(),ht=L.belongings[ie],Pt=L.starts[ie],jt=L.starts[ie+1],te=L.offsets[ie];Pt<jt;Pt++)Qt=L.weights[Pt],Pt<te?kt+=Qt:ye+=Qt,I(St,dt=L.belongings[ke=L.neighborhood[Pt]],Qt);for(ze=L.deltaWithOwnCommunity(ie,ye,kt,St.get(ht)||0,ht),Gt=ht,ve=0;ve<St.size;ve++)(dt=St.dense[ve])!==ht&&(Ze++,D(Gt,ht,dt,hn=L.delta(ie,ye,kt,St.vals[ve],dt),ze)&&(ze=hn,Gt=dt));if(ze<0){if((Gt=L.isolate(ie,ye,kt))===ht)continue}else{if(Gt===ht)continue;L.move(ie,ye,kt,Gt)}for(vt=!0,wn++,Pt=L.starts[ie],jt=L.starts[ie+1];Pt<jt;Pt++)(dt=L.belongings[ke=L.neighborhood[Pt]])!==Gt&&Tt.enqueue(ke)}jn.push(wn)}else for(jn.push(Ge=[]);bt;){for(bt=!1,wn=0,we=F.randomWalk?at(nn):0,Le=0;Le<nn;Le++,we++){for(ie=we%nn,Te++,ye=0,kt=0,St.clear(),ht=L.belongings[ie],Pt=L.starts[ie],jt=L.starts[ie+1],te=L.offsets[ie];Pt<jt;Pt++)Qt=L.weights[Pt],Pt<te?kt+=Qt:ye+=Qt,I(St,dt=L.belongings[ke=L.neighborhood[Pt]],Qt);for(ze=L.deltaWithOwnCommunity(ie,ye,kt,St.get(ht)||0,ht),Gt=ht,ve=0;ve<St.size;ve++)(dt=St.dense[ve])!==ht&&(Ze++,D(Gt,ht,dt,hn=L.delta(ie,ye,kt,St.vals[ve],dt),ze)&&(ze=hn,Gt=dt));if(ze<0){if((Gt=L.isolate(ie,ye,kt))===ht)continue}else{if(Gt===ht)continue;L.move(ie,ye,kt,Gt)}bt=!0,wn++}Ge.push(wn),vt=bt||vt}vt&&L.zoomOut()}return{index:L,deltaComputations:Ze,nodesVisited:Te,moves:jn}}function rt(Z,$,F,L){if(!C(F))throw new Error("graphology-communities-louvain: the given graph is not a valid graphology instance.");var at=X(F);if("mixed"===at)throw new Error("graphology-communities-louvain: cannot run the algorithm on a true mixed graph.");L=ft(L,E);var vt=0;if(0===F.size){if(Z)return void F.forEachNode(function(Pt){F.setNodeAttribute(Pt,L.nodeCommunityAttribute,vt++)});var bt={};return F.forEachNode(function(Pt){bt[Pt]=vt++}),$?{communities:bt,count:F.order,deltaComputations:0,dendrogram:null,level:0,modularity:NaN,moves:null,nodesVisited:0,resolution:L.resolution}:bt}var dt=("undirected"===at?nt:q)($,F,L),St=dt.index;if(!$)return Z?void St.assign(L.nodeCommunityAttribute):St.collect();var Tt={count:St.C,deltaComputations:dt.deltaComputations,dendrogram:St.dendrogram,level:St.level,modularity:St.modularity(),moves:dt.moves,nodesVisited:dt.nodesVisited,resolution:L.resolution};return Z?(St.assign(L.nodeCommunityAttribute),Tt):(Tt.communities=St.collect(),Tt)}var ct=rt.bind(null,!1,!1);ct.assign=rt.bind(null,!0,!1),ct.detailed=rt.bind(null,!1,!0),ct.defaults=E,Nt.exports=ct},6956:(Nt,At,P)=>{var ft=P(6116),C=P(8487),X=P(2954).Q6,h=Symbol.for("nodejs.util.inspect.custom"),G={getEdgeWeight:"weight",keepDendrogram:!1,resolution:1};function T(x,w){var E=(w=C(w,G)).resolution,I=X(w.getEdgeWeight).fromEntry,N=2*(x.size-x.selfLoopCount),D=ft.getPointerArray(N),nt=ft.getPointerArray(x.order+1),q=w.getEdgeWeight?Float64Array:ft.getPointerArray(2*x.size);this.C=x.order,this.M=0,this.E=N,this.U=0,this.resolution=E,this.level=0,this.graph=x,this.nodes=new Array(x.order),this.keepDendrogram=w.keepDendrogram,this.neighborhood=new nt(N),this.weights=new q(N),this.loops=new q(x.order),this.starts=new D(x.order+1),this.belongings=new nt(x.order),this.dendrogram=[],this.mapping=null,this.counts=new nt(x.order),this.unused=new nt(x.order),this.totalWeights=new q(x.order);var ct,rt={},Z=0,$=0,F=this;x.forEachNode(function(L){F.nodes[Z]=L,rt[L]=Z,$+=x.undirectedDegreeWithoutSelfLoops(L),F.starts[Z]=$,F.belongings[Z]=Z,F.counts[Z]=1,Z++}),x.forEachEdge(function(L,at,vt,bt,ht,dt,St){if(ct=I(L,at,vt,bt,ht,dt,St),vt=rt[vt],bt=rt[bt],F.M+=ct,vt===bt)F.totalWeights[vt]+=2*ct,F.loops[vt]=2*ct;else{F.totalWeights[vt]+=ct,F.totalWeights[bt]+=ct;var Tt=--F.starts[vt],Pt=--F.starts[bt];F.neighborhood[Tt]=bt,F.neighborhood[Pt]=vt,F.weights[Tt]=ct,F.weights[Pt]=ct}}),this.starts[Z]=this.E,this.keepDendrogram?this.dendrogram.push(this.belongings.slice()):this.mapping=this.belongings.slice()}function O(x,w){var E=(w=C(w,G)).resolution,I=X(w.getEdgeWeight).fromEntry,N=2*(x.size-x.selfLoopCount),D=ft.getPointerArray(N),nt=ft.getPointerArray(x.order+1),q=w.getEdgeWeight?Float64Array:ft.getPointerArray(2*x.size);this.C=x.order,this.M=0,this.E=N,this.U=0,this.resolution=E,this.level=0,this.graph=x,this.nodes=new Array(x.order),this.keepDendrogram=w.keepDendrogram,this.neighborhood=new nt(N),this.weights=new q(N),this.loops=new q(x.order),this.starts=new D(x.order+1),this.offsets=new D(x.order),this.belongings=new nt(x.order),this.dendrogram=[],this.counts=new nt(x.order),this.unused=new nt(x.order),this.totalInWeights=new q(x.order),this.totalOutWeights=new q(x.order);var ct,rt={},Z=0,$=0,F=this;x.forEachNode(function(L){F.nodes[Z]=L,rt[L]=Z,$+=x.outDegreeWithoutSelfLoops(L),F.starts[Z]=$,$+=x.inDegreeWithoutSelfLoops(L),F.offsets[Z]=$,F.belongings[Z]=Z,F.counts[Z]=1,Z++}),x.forEachEdge(function(L,at,vt,bt,ht,dt,St){if(ct=I(L,at,vt,bt,ht,dt,St),vt=rt[vt],bt=rt[bt],F.M+=ct,vt===bt)F.loops[vt]+=ct,F.totalInWeights[vt]+=ct,F.totalOutWeights[vt]+=ct;else{F.totalOutWeights[vt]+=ct,F.totalInWeights[bt]+=ct;var Tt=--F.starts[vt],Pt=--F.offsets[bt];F.neighborhood[Tt]=bt,F.neighborhood[Pt]=vt,F.weights[Tt]=ct,F.weights[Pt]=ct}}),this.starts[Z]=this.E,this.keepDendrogram?this.dendrogram.push(this.belongings.slice()):this.mapping=this.belongings.slice()}T.prototype.isolate=function(x,w){var E=this.belongings[x];if(1===this.counts[E])return E;var I=this.unused[--this.U],N=this.loops[x];return this.totalWeights[E]-=w+N,this.totalWeights[I]+=w+N,this.belongings[x]=I,this.counts[E]--,this.counts[I]++,I},T.prototype.move=function(x,w,E){var I=this.belongings[x],N=this.loops[x];this.totalWeights[I]-=w+N,this.totalWeights[E]+=w+N,this.belongings[x]=E;var D=1==this.counts[I]--;this.counts[E]++,D&&(this.unused[this.U++]=I)},T.prototype.computeNodeDegree=function(x){var w,E,N=0;for(w=this.starts[x],E=this.starts[x+1];w<E;w++)N+=this.weights[w];return N},T.prototype.expensiveIsolate=function(x){var w=this.computeNodeDegree(x);return this.isolate(x,w)},T.prototype.expensiveMove=function(x,w){var E=this.computeNodeDegree(x);this.move(x,E,w)},T.prototype.zoomOut=function(){var D,nt,q,rt,ct,Z,$,F,L,at,vt,x=new Array(this.C-this.U),w={},E=this.nodes.length,I=0,N=0;for(D=0,q=this.C;D<q;D++)(Z=this.belongings[D])in w||(w[Z]=I,x[I]={adj:{},totalWeights:this.totalWeights[Z],internalWeights:0},I++),this.belongings[D]=w[Z];if(this.keepDendrogram){for(at=this.dendrogram[this.level],vt=new(ft.getPointerArray(I))(E),D=0;D<E;D++)vt[D]=this.belongings[at[D]];this.dendrogram.push(vt)}else for(D=0;D<E;D++)this.mapping[D]=this.belongings[this.mapping[D]];for(D=0,q=this.C;D<q;D++)for(L=(F=x[Z=this.belongings[D]]).adj,F.internalWeights+=this.loops[D],nt=this.starts[D],rt=this.starts[D+1];nt<rt;nt++)Z!==($=this.belongings[ct=this.neighborhood[nt]])?($ in L||(L[$]=0),L[$]+=this.weights[nt]):F.internalWeights+=this.weights[nt];for(this.C=I,ct=0,Z=0;Z<I;Z++)for($ in L=(F=x[Z]).adj,this.totalWeights[Z=+Z]=F.totalWeights,this.loops[Z]=F.internalWeights,this.counts[Z]=1,this.starts[Z]=ct,this.belongings[Z]=Z,L)this.neighborhood[ct]=+$,this.weights[ct]=L[$],N++,ct++;return this.starts[I]=N,this.E=N,this.U=0,this.level++,w},T.prototype.modularity=function(){var x,E,I,N,D=0,nt=2*this.M,q=new Float64Array(this.C);for(E=0;E<this.C;E++)for(q[x=this.belongings[E]]+=this.loops[E],I=this.starts[E],N=this.starts[E+1];I<N;I++)x===this.belongings[this.neighborhood[I]]&&(q[x]+=this.weights[I]);for(E=0;E<this.C;E++)D+=q[E]/nt-Math.pow(this.totalWeights[E]/nt,2)*this.resolution;return D},T.prototype.delta=function(x,w,E,I){var N=this.M;return E/N-this.totalWeights[I]*(w+=this.loops[x])*this.resolution/(2*N*N)},T.prototype.deltaWithOwnCommunity=function(x,w,E,I){var N=this.M;return E/N-(this.totalWeights[I]-(w+=this.loops[x]))*w*this.resolution/(2*N*N)},T.prototype.fastDelta=function(x,w,E,I){return E-(w+=this.loops[x])*this.totalWeights[I]*this.resolution/(2*this.M)},T.prototype.fastDeltaWithOwnCommunity=function(x,w,E,I){return E-(w+=this.loops[x])*(this.totalWeights[I]-w)*this.resolution/(2*this.M)},T.prototype.bounds=function(x){return[this.starts[x],this.starts[x+1]]},T.prototype.project=function(){var x=this,w={};return x.nodes.slice(0,this.C).forEach(function(E,I){w[E]=Array.from(x.neighborhood.slice(x.starts[I],x.starts[I+1])).map(function(N){return x.nodes[N]})}),w},T.prototype.collect=function(x){arguments.length<1&&(x=this.level);var I,N,w={},E=this.keepDendrogram?this.dendrogram[x]:this.mapping;for(I=0,N=E.length;I<N;I++)w[this.nodes[I]]=E[I];return w},T.prototype.assign=function(x,w){arguments.length<2&&(w=this.level);var I,N,E=this.keepDendrogram?this.dendrogram[w]:this.mapping;for(I=0,N=E.length;I<N;I++)this.graph.setNodeAttribute(this.nodes[I],x,E[I])},T.prototype[h]=function(){var x={};Object.defineProperty(x,"constructor",{value:T,enumerable:!1}),x.C=this.C,x.M=this.M,x.E=this.E,x.U=this.U,x.resolution=this.resolution,x.level=this.level,x.nodes=this.nodes,x.starts=this.starts.slice(0,x.C+1);var I=this;return["neighborhood","weights"].forEach(function(N){x[N]=I[N].slice(0,x.E)}),["counts","loops","belongings","totalWeights"].forEach(function(N){x[N]=I[N].slice(0,x.C)}),x.unused=this.unused.slice(0,this.U),this.keepDendrogram?x.dendrogram=this.dendrogram:x.mapping=this.mapping,x},O.prototype.bounds=T.prototype.bounds,O.prototype.inBounds=function(x){return[this.offsets[x],this.starts[x+1]]},O.prototype.outBounds=function(x){return[this.starts[x],this.offsets[x]]},O.prototype.project=T.prototype.project,O.prototype.projectIn=function(){var x=this,w={};return x.nodes.slice(0,this.C).forEach(function(E,I){w[E]=Array.from(x.neighborhood.slice(x.offsets[I],x.starts[I+1])).map(function(N){return x.nodes[N]})}),w},O.prototype.projectOut=function(){var x=this,w={};return x.nodes.slice(0,this.C).forEach(function(E,I){w[E]=Array.from(x.neighborhood.slice(x.starts[I],x.offsets[I])).map(function(N){return x.nodes[N]})}),w},O.prototype.isolate=function(x,w,E){var I=this.belongings[x];if(1===this.counts[I])return I;var N=this.unused[--this.U],D=this.loops[x];return this.totalInWeights[I]-=w+D,this.totalInWeights[N]+=w+D,this.totalOutWeights[I]-=E+D,this.totalOutWeights[N]+=E+D,this.belongings[x]=N,this.counts[I]--,this.counts[N]++,N},O.prototype.move=function(x,w,E,I){var N=this.belongings[x],D=this.loops[x];this.totalInWeights[N]-=w+D,this.totalInWeights[I]+=w+D,this.totalOutWeights[N]-=E+D,this.totalOutWeights[I]+=E+D,this.belongings[x]=I;var nt=1==this.counts[N]--;this.counts[I]++,nt&&(this.unused[this.U++]=N)},O.prototype.computeNodeInDegree=function(x){var w,E,N=0;for(w=this.offsets[x],E=this.starts[x+1];w<E;w++)N+=this.weights[w];return N},O.prototype.computeNodeOutDegree=function(x){var w,E,N=0;for(w=this.starts[x],E=this.offsets[x];w<E;w++)N+=this.weights[w];return N},O.prototype.expensiveMove=function(x,w){var E=this.computeNodeInDegree(x),I=this.computeNodeOutDegree(x);this.move(x,E,I,w)},O.prototype.zoomOut=function(){var D,nt,q,rt,ct,Z,$,F,L,at,vt,bt,ht,dt,St,x=new Array(this.C-this.U),w={},E=this.nodes.length,I=0,N=0;for(D=0,q=this.C;D<q;D++)(Z=this.belongings[D])in w||(w[Z]=I,x[I]={inAdj:{},outAdj:{},totalInWeights:this.totalInWeights[Z],totalOutWeights:this.totalOutWeights[Z],internalWeights:0},I++),this.belongings[D]=w[Z];if(this.keepDendrogram){for(dt=this.dendrogram[this.level],St=new(ft.getPointerArray(I))(E),D=0;D<E;D++)St[D]=this.belongings[dt[D]];this.dendrogram.push(St)}else for(D=0;D<E;D++)this.mapping[D]=this.belongings[this.mapping[D]];for(D=0,q=this.C;D<q;D++)for(L=this.offsets[D],bt=(F=x[Z=this.belongings[D]]).inAdj,ht=F.outAdj,F.internalWeights+=this.loops[D],nt=this.starts[D],rt=this.starts[D+1];nt<rt;nt++)vt=(at=nt<L)?ht:bt,Z!==($=this.belongings[ct=this.neighborhood[nt]])?($ in vt||(vt[$]=0),vt[$]+=this.weights[nt]):at&&(F.internalWeights+=this.weights[nt]);for(this.C=I,ct=0,Z=0;Z<I;Z++){for($ in bt=(F=x[Z]).inAdj,ht=F.outAdj,this.totalInWeights[Z=+Z]=F.totalInWeights,this.totalOutWeights[Z]=F.totalOutWeights,this.loops[Z]=F.internalWeights,this.counts[Z]=1,this.starts[Z]=ct,this.belongings[Z]=Z,ht)this.neighborhood[ct]=+$,this.weights[ct]=ht[$],N++,ct++;for($ in this.offsets[Z]=ct,bt)this.neighborhood[ct]=+$,this.weights[ct]=bt[$],N++,ct++}return this.starts[I]=N,this.E=N,this.U=0,this.level++,w},O.prototype.modularity=function(){var x,E,I,N,D=0,nt=this.M,q=new Float64Array(this.C);for(E=0;E<this.C;E++)for(q[x=this.belongings[E]]+=this.loops[E],I=this.starts[E],N=this.offsets[E];I<N;I++)x===this.belongings[this.neighborhood[I]]&&(q[x]+=this.weights[I]);for(E=0;E<this.C;E++)D+=q[E]/nt-this.totalInWeights[E]*this.totalOutWeights[E]/Math.pow(nt,2)*this.resolution;return D},O.prototype.delta=function(x,w,E,I,N){var D=this.M,rt=this.loops[x];return I/D-((E+=rt)*this.totalInWeights[N]+(w+=rt)*this.totalOutWeights[N])*this.resolution/(D*D)},O.prototype.deltaWithOwnCommunity=function(x,w,E,I,N){var D=this.M,rt=this.loops[x];return I/D-((E+=rt)*(this.totalInWeights[N]-(w+=rt))+w*(this.totalOutWeights[N]-E))*this.resolution/(D*D)},O.prototype.collect=T.prototype.collect,O.prototype.assign=T.prototype.assign,O.prototype[h]=function(){var x={};Object.defineProperty(x,"constructor",{value:O,enumerable:!1}),x.C=this.C,x.M=this.M,x.E=this.E,x.U=this.U,x.resolution=this.resolution,x.level=this.level,x.nodes=this.nodes,x.starts=this.starts.slice(0,x.C+1);var I=this;return["neighborhood","weights"].forEach(function(N){x[N]=I[N].slice(0,x.E)}),["counts","offsets","loops","belongings","totalInWeights","totalOutWeights"].forEach(function(N){x[N]=I[N].slice(0,x.C)}),x.unused=this.unused.slice(0,this.U),this.keepDendrogram?x.dendrogram=this.dendrogram:x.mapping=this.mapping,x},At.UndirectedLouvainIndex=T,At.DirectedLouvainIndex=O},6078:(Nt,At,P)=>{var ft=P(6116),C=P(2954).Q6;function X(T,O){return"outbound"===T||"inbound"===T?O.directedSize+2*O.undirectedSize:"in"===T||"out"===T||"directed"===T?O.directedSize:2*O.undirectedSize}function h(T,O){var x=T[(O=O||"outbound")+"Neighbors"].bind(T),w=X(O,T),E=ft.getPointerArray(w),I=ft.getPointerArray(T.order);this.graph=T,this.neighborhood=new I(w),this.starts=new E(T.order+1),this.nodes=T.nodes();var D,nt,q,rt,Z,N={},$=0;for(D=0,nt=T.order;D<nt;D++)N[this.nodes[D]]=D;for(D=0,nt=T.order;D<nt;D++)for(Z=x(this.nodes[D]),this.starts[D]=$,q=0,rt=Z.length;q<rt;q++)this.neighborhood[$++]=N[Z[q]];this.starts[D]=w}function G(T,O,x){var w=T[(x=x||"outbound")+"Edges"].bind(T),E=X(x,T),I=ft.getPointerArray(E),N=ft.getPointerArray(T.order),D=C(O).fromMinimalEntry;this.graph=T,this.neighborhood=new N(E),this.weights=new Float64Array(E),this.outDegrees=new Float64Array(T.order),this.starts=new I(T.order+1),this.nodes=T.nodes();var q,rt,ct,Z,$,F,L,at,vt,nt={},bt=0;for(q=0,rt=T.order;q<rt;q++)nt[this.nodes[q]]=q;for(q=0,rt=T.order;q<rt;q++)for(L=w($=this.nodes[q]),this.starts[q]=bt,ct=0,Z=L.length;ct<Z;ct++)F=T.opposite($,at=L[ct]),vt=D(at,T.getEdgeAttributes(at)),this.neighborhood[bt]=nt[F],this.weights[bt++]=vt,this.outDegrees[q]+=vt;this.starts[q]=E}h.prototype.bounds=function(T){return[this.starts[T],this.starts[T+1]]},h.prototype.project=function(){var T=this,O={};return T.nodes.forEach(function(x,w){O[x]=Array.from(T.neighborhood.slice(T.starts[w],T.starts[w+1])).map(function(E){return T.nodes[E]})}),O},h.prototype.collect=function(T){var O,x,w={};for(O=0,x=T.length;O<x;O++)w[this.nodes[O]]=T[O];return w},h.prototype.assign=function(T,O){var x=0;this.graph.updateEachNodeAttributes(function(w,E){return E[T]=O[x++],E},{attributes:[T]})},At.NeighborhoodIndex=h,G.prototype.bounds=h.prototype.bounds,G.prototype.project=h.prototype.project,G.prototype.collect=h.prototype.collect,G.prototype.assign=h.prototype.assign,At.WeightedNeighborhoodIndex=G},1063:(Nt,At,P)=>{var ft=P(6714),C=P(3933),X=P(8487),h=C.createUnweightedIndexedBrandes,G=C.createDijkstraIndexedBrandes,T={nodeCentralityAttribute:"betweennessCentrality",getEdgeWeight:"weight",normalized:!0};function O(w,E,I){if(!ft(E))throw new Error("graphology-centrality/beetweenness-centrality: the given graph is not a valid graphology instance.");var rt,ct,Z,$,F,L,at,vt,bt,ht,N=(I=X(I,T)).nodeCentralityAttribute,D=I.normalized,nt=I.getEdgeWeight?G(E,I.getEdgeWeight):h(E),q=E.order,dt=new Float64Array(q),St=new Float64Array(q);for(L=0;L<q;L++){for(Z=(rt=nt(L))[1],$=rt[2],at=(ct=rt[0]).size;at--;)dt[ct.items[ct.size-at]]=0;for(;0!==ct.size;){for(F=(1+dt[ht=ct.pop()])/$[ht],at=0,vt=Z[ht].length;at<vt;at++)dt[bt=Z[ht][at]]+=$[bt]*F;ht!==L&&(St[ht]+=dt[ht])}}var Tt;if(null!==(Tt=D?q<=2?null:1/((q-1)*(q-2)):"undirected"===E.type?.5:null))for(L=0;L<q;L++)St[L]*=Tt;return w?nt.index.assign(N,St):nt.index.collect(St)}var x=O.bind(null,!1);x.assign=O.bind(null,!0),Nt.exports=x},3378:(Nt,At,P)=>{var ft=P(6714),C=P(8487),X=P(8740),h=P(4268),G=P(6078).NeighborhoodIndex,T={nodeCentralityAttribute:"closenessCentrality",wassermanFaust:!1};function O(E){this.index=new G(E,"inbound"),this.queue=new X(Array,E.order),this.seen=new h(E.order)}function x(E,I,N){if(!ft(I))throw new Error("graphology-metrics/centrality/closeness: the given graph is not a valid graphology instance.");var rt,ct,Z,$,F,D=(N=C(N,T)).wassermanFaust,nt=new O(I),q=I.order,L=new Float64Array(q);for(rt=0;rt<q;rt++)Z=(ct=nt.fromNode(rt))[0],F=0,($=ct[1])>0&&q>1&&(F=Z/$,D&&(F*=Z/(q-1))),L[rt]=F;return E?nt.index.assign(N.nodeCentralityAttribute,L):nt.index.collect(L)}O.prototype.fromNode=function(E){var I=this.index,N=this.queue,D=this.seen;D.clear(),N.clear(),D.add(E),N.push([E,0]);for(var nt,q,rt,ct,Z,$,F=0,L=0;0!==N.size;)for(0!==(rt=(nt=N.shift())[1])&&(F+=rt,L+=1),Z=I.starts[(q=nt[0])+1],ct=I.starts[q];ct<Z;ct++)!D.has($=I.neighborhood[ct])&&(D.add($),N.push([$,rt+1]));return[L,F]};var w=x.bind(null,!1);w.assign=x.bind(null,!0),Nt.exports=w},5408:(Nt,At,P)=>{var ft=P(6714);function C(T,O,x,w){var E=O+"Centrality";if(!ft(x))throw new Error("graphology-centrality/"+E+": the given graph is not a valid graphology instance.");if("degree"!==O&&"undirected"===x.type)throw new Error("graphology-centrality/"+E+": cannot compute "+O+" centrality on an undirected graph.");var I=(w=w||{}).nodeCentralityAttribute||E,N=x.order-1,D=x[O].bind(x);if(!T){var nt={};return x.forEachNode(function(q){nt[q]=D(q)/N}),nt}x.updateEachNodeAttributes(function(q,rt){return rt[I]=D(q)/N,rt},{attributes:[I]})}var X=C.bind(null,!1,"degree"),h=C.bind(null,!1,"inDegree"),G=C.bind(null,!1,"outDegree");X.assign=C.bind(null,!0,"degree"),h.assign=C.bind(null,!0,"inDegree"),G.assign=C.bind(null,!0,"outDegree"),At.degreeCentrality=X,At.inDegreeCentrality=h,At.outDegreeCentrality=G},5894:(Nt,At,P)=>{var ft=P(6714),C=P(8487),X=P(6078).WeightedNeighborhoodIndex,h={nodeCentralityAttribute:"eigenvectorCentrality",getEdgeWeight:"weight",maxIterations:100,tolerance:1e-6};function G(x){for(var w=0,E=0,I=0,N=x.length;I<N;I++){var D=Math.abs(x[I]);D>w&&(E*=w/D*(w/D),w=D),E+=0===D&&0===w?0:D/w*(D/w)}return w===1/0?1:w*Math.sqrt(E)}function T(x,w,E){if(!ft(w))throw new Error("graphology-metrics/centrality/eigenvector: the given graph is not a valid graphology instance.");var q,rt,ct,I=(E=C(E,h)).maxIterations,N=E.tolerance,D=w.order,nt=new X(w,E.getEdgeWeight),$=new Float64Array(w.order);for(q=0;q<D;q++)$[q]=1/D;for(var vt,bt,F=0,L=0,ht=!1;F<I;){for(vt=$,$=new Float64Array(vt),q=0;q<D;q++)for(ct=nt.starts[q+1],rt=nt.starts[q];rt<ct;rt++)$[nt.neighborhood[rt]]+=vt[q]*nt.weights[rt];for(bt=G($),q=0;q<D;q++)$[q]/=bt;for(L=0,q=0;q<D;q++)L+=Math.abs($[q]-vt[q]);if(L<D*N){ht=!0;break}F++}if(!ht)throw Error("graphology-metrics/centrality/eigenvector: failed to converge.");if(!x)return nt.collect($);nt.assign(E.nodeCentralityAttribute,$)}var O=T.bind(null,!1);O.assign=T.bind(null,!0),Nt.exports=O},9850:(Nt,At,P)=>{var ft=P(8487),C=P(6714),X=P(2954).Q6,h={nodeAuthorityAttribute:"authority",nodeHubAttribute:"hub",getEdgeWeight:"weight",maxIterations:100,normalize:!0,tolerance:1e-8};function G(w,E){var N,D,I=Object.create(null);for(N=0,D=w.length;N<D;N++)I[w[N]]=E;return I}function T(w){var E=0;for(var I in w)E+=w[I];return E}function O(w,E,I){if(!C(E))throw new Error("graphology-hits: the given graph is not a valid graphology instance.");if(E.multi)throw new Error("graphology-hits: the HITS algorithm does not work with MultiGraphs.");I=ft(I,h);var q,$,F,L,at,vt,bt,ht,dt,St,Tt,Pt,jt,te,N=X(I.getEdgeWeight).fromEntry,D=E.order,nt=E.nodes(),rt=G(nt,1/D),ct={},Z=!1;for(E.forEachEdge(function(Kt,Qt,ve,we,Le,ie,ke){ct[Kt]=N(Kt,Qt,ve,we,Le,ie,ke)}),bt=0;bt<I.maxIterations;bt++){for($=rt,rt=G(nt,0),F=G(nt,0),dt=0,ht=0,Pt=0;Pt<D;Pt++)for(jt=0,te=(q=E.outboundEdges(L=nt[Pt])).length;jt<te;jt++)at=E.opposite(L,vt=q[jt]),F[at]+=$[L]*ct[vt],F[at]>ht&&(ht=F[at]);for(Pt=0;Pt<D;Pt++)for(jt=0,te=(q=E.outboundEdges(L=nt[Pt])).length;jt<te;jt++)at=E.opposite(L,vt=q[jt]),rt[L]+=F[at]*ct[vt],rt[at]>dt&&(dt=rt[at]);for(L in Tt=1/dt,rt)rt[L]*=Tt;for(L in Tt=1/ht,F)F[L]*=Tt;for(L in St=0,rt)St+=Math.abs(rt[L]-$[L]);if(St<I.tolerance){Z=!0;break}}if(!Z)throw Error("graphology-metrics/centrality/hits: failed to converge.");if(I.normalize){for(L in Tt=1/T(F),F)F[L]*=Tt;for(L in Tt=1/T(rt),rt)rt[L]*=Tt}if(!w)return{hubs:rt,authorities:F};E.updateEachNodeAttributes(function(Kt,Qt){return Qt[I.nodeAuthorityAttribute]=F[Kt],Qt[I.nodeHubAttribute]=rt[Kt],Qt},{attributes:[I.nodeAuthorityAttribute,I.nodeHubAttribute]})}var x=O.bind(null,!1);x.assign=O.bind(null,!0),Nt.exports=x},5547:(Nt,At,P)=>{P(5408);P(1063),P(3378),P(5894),P(9850),At.pagerank=P(593)},593:(Nt,At,P)=>{var ft=P(6714),C=P(8487),X=P(6078).WeightedNeighborhoodIndex,h={nodePagerankAttribute:"pagerank",getEdgeWeight:"weight",alpha:.85,maxIterations:100,tolerance:1e-6};function G(O,x,w){if(!ft(x))throw new Error("graphology-metrics/centrality/pagerank: the given graph is not a valid graphology instance.");var ct,Z,$,F,E=(w=C(w,h)).alpha,I=w.maxIterations,N=w.tolerance,D=w.nodePagerankAttribute,nt=x.order,q=1/nt,rt=new X(x,w.getEdgeWeight),L=new Float64Array(x.order),at=new Float64Array(rt.weights.length),vt=[];for(ct=0;ct<nt;ct++)for(L[ct]=q,$=rt.starts[ct+1],0===(F=rt.outDegrees[ct])&&vt.push(ct),Z=rt.starts[ct];Z<$;Z++)at[Z]=rt.weights[Z]/F;for(var dt,Tt,bt=0,ht=0,Pt=!1;bt<I;){for(Tt=L,L=new Float64Array(x.order),dt=0,ct=0,$=vt.length;ct<$;ct++)dt+=Tt[vt[ct]];for(dt*=E,ct=0;ct<nt;ct++){for($=rt.starts[ct+1],Z=rt.starts[ct];Z<$;Z++)L[rt.neighborhood[Z]]+=E*Tt[ct]*at[Z];L[ct]+=dt*q+(1-E)*q}for(ht=0,ct=0;ct<nt;ct++)ht+=Math.abs(L[ct]-Tt[ct]);if(ht<nt*N){Pt=!0;break}bt++}if(!Pt)throw Error("graphology-metrics/centrality/pagerank: failed to converge.");if(!O)return rt.collect(L);rt.assign(D,L)}var T=G.bind(null,!1);T.assign=G.bind(null,!0),Nt.exports=T},3933:(Nt,At,P)=>{var ft=P(8740),C=P(7451),X=P(4547),h=P(6116),G=P(6078),T=G.NeighborhoodIndex,O=G.WeightedNeighborhoodIndex;function x(w,E){return w[0]>E[0]?1:w[0]<E[0]?-1:w[1]>E[1]?1:w[1]<E[1]?-1:w[2]>E[2]?1:w[2]<E[2]?-1:w[3]>E[3]?1:w[3]<E[3]?-1:0}At.createUnweightedIndexedBrandes=function(E){var I=new T(E),N=I.neighborhood,D=I.starts,nt=E.order,q=new C(h.getPointerArray(nt),nt),rt=new Uint32Array(nt),ct=new Array(nt),Z=new Int32Array(nt),$=new ft(Uint32Array,nt),F=function(L){var at,vt,ht,dt,St,Tt;for(St=0;St<nt;St++)ct[St]=[],rt[St]=0,Z[St]=-1;for(rt[L]=1,Z[L]=0,$.push(L);0!==$.size;)for(St=$.shift(),q.push(St),at=Z[St],vt=rt[St],ht=D[St+1],dt=D[St];dt<ht;dt++)-1===Z[Tt=N[dt]]&&($.push(Tt),Z[Tt]=at+1),Z[Tt]===at+1&&(rt[Tt]+=vt,ct[Tt].push(St));return[q,ct,rt]};return F.index=I,F},At.createDijkstraIndexedBrandes=function(E,I){var N=new O(E,I||"weight"),D=N.neighborhood,nt=N.weights,q=N.starts,rt=E.order,ct=new C(h.getPointerArray(rt),rt),Z=new Uint32Array(rt),$=new Array(rt),F=new Float64Array(rt),L=new Float64Array(rt),at=new X(x),vt=function(bt){var dt,St,Tt,Pt,jt,te,Kt,Qt,ve=0;for(Kt=0;Kt<rt;Kt++)$[Kt]=[],Z[Kt]=0,F[Kt]=-1,L[Kt]=-1;for(Z[bt]=1,L[bt]=0,at.push([0,ve++,bt,bt]);0!==at.size;)if(Tt=(St=at.pop())[0],Pt=St[2],-1===F[Kt=St[3]])for(ct.push(Kt),F[Kt]=Tt,Z[Kt]+=Z[Pt],dt=q[Kt+1],te=q[Kt];te<dt;te++)jt=Tt+nt[te],-1===F[Qt=D[te]]&&(-1===L[Qt]||jt<L[Qt])?(L[Qt]=jt,at.push([jt,ve++,Kt,Qt]),Z[Qt]=0,$[Qt]=[Kt]):jt===L[Qt]&&(Z[Qt]+=Z[Kt],$[Qt].push(Kt));return[ct,$,Z]};return vt.index=N,vt}},8487:Nt=>{function At(ft){return!ft||"object"!=typeof ft||"function"==typeof ft||Array.isArray(ft)||ft instanceof Set||ft instanceof Map||ft instanceof RegExp||ft instanceof Date}Nt.exports=function P(ft,C){ft=ft||{};var X={};for(var h in C){var G=ft[h],T=C[h];X[h]=At(T)?void 0===G?T:G:P(G,T)}return X}},2954:(Nt,At)=>{function ft(h){return"number"!=typeof h||isNaN(h)?1:h}At.Q6=function(h){return function X(h,G){var T={},O=function(E){return void 0===E?G:E};"function"==typeof G&&(O=G);var x=function(E){return O(E[h])},w=function(){return O(void 0)};return"string"==typeof h?(T.fromAttributes=x,T.fromGraph=function(E,I){return x(E.getEdgeAttributes(I))},T.fromEntry=function(E,I){return x(I)},T.fromPartialEntry=T.fromEntry,T.fromMinimalEntry=T.fromEntry):"function"==typeof h?(T.fromAttributes=function(){throw new Error("graphology-utils/getters/createEdgeValueGetter: irrelevant usage.")},T.fromGraph=function(E,I){var N=E.extremities(I);return O(h(I,E.getEdgeAttributes(I),N[0],N[1],E.getNodeAttributes(N[0]),E.getNodeAttributes(N[1]),E.isUndirected(I)))},T.fromEntry=function(E,I,N,D,nt,q,rt){return O(h(E,I,N,D,nt,q,rt))},T.fromPartialEntry=function(E,I,N,D){return O(h(E,I,N,D))},T.fromMinimalEntry=function(E,I){return O(h(E,I))}):(T.fromAttributes=w,T.fromGraph=w,T.fromEntry=w,T.fromMinimalEntry=w),T}(h,ft)}},5568:(Nt,At,P)=>{var ft=P(6714);Nt.exports=function(X){if(!ft(X))throw new Error("graphology-utils/infer-type: expecting a valid graphology instance.");var h=X.type;return"mixed"!==h?h:0===X.directedSize&&0===X.undirectedSize||X.directedSize>0&&X.undirectedSize>0?"mixed":X.directedSize>0?"directed":"undirected"}},6714:Nt=>{Nt.exports=function(P){return null!==P&&"object"==typeof P&&"function"==typeof P.addUndirectedEdgeWithKey&&"function"==typeof P.dropNode&&"boolean"==typeof P.multi}},5595:function(Nt){Nt.exports=function(){"use strict";function At(p){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(p)}function P(p,b){p.prototype=Object.create(b.prototype),p.prototype.constructor=p,C(p,b)}function ft(p){return(ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)})(p)}function C(p,b){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,u){return g.__proto__=u,g})(p,b)}function X(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(p){return!1}}function h(p,b,g){return(h=X()?Reflect.construct.bind():function(u,c,v){var k=[null];k.push.apply(k,c);var z=new(Function.bind.apply(u,k));return v&&C(z,v.prototype),z}).apply(null,arguments)}function G(p){var b="function"==typeof Map?new Map:void 0;return G=function(g){if(null===g||-1===Function.toString.call(g).indexOf("[native code]"))return g;if("function"!=typeof g)throw new TypeError("Super expression must either be null or a function");if(void 0!==b){if(b.has(g))return b.get(g);b.set(g,c)}function c(){return h(g,arguments,ft(this).constructor)}return c.prototype=Object.create(g.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),C(c,g)},G(p)}function T(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}var O=function(){for(var p=arguments[0],b=1,g=arguments.length;b<g;b++)if(arguments[b])for(var u in arguments[b])p[u]=arguments[b][u];return p};function x(p,b,g,u){var c=p._nodes.get(b),v=null;return c?v="mixed"===u?c.out&&c.out[g]||c.undirected&&c.undirected[g]:"directed"===u?c.out&&c.out[g]:c.undirected&&c.undirected[g]:v}function w(p){return"object"===At(p)&&null!==p&&p.constructor===Object}function E(p){var b;for(b in p)return!1;return!0}function I(p,b,g){Object.defineProperty(p,b,{enumerable:!1,configurable:!1,writable:!0,value:g})}function N(p,b,g){var u={enumerable:!0,configurable:!0};"function"==typeof g?u.get=g:(u.value=g,u.writable=!1),Object.defineProperty(p,b,u)}function D(p){return!(!w(p)||p.attributes&&!Array.isArray(p.attributes))}"function"==typeof Object.assign&&(O=Object.assign);var nt,q={exports:{}},rt="object"==typeof Reflect?Reflect:null,ct=rt&&"function"==typeof rt.apply?rt.apply:function(p,b,g){return Function.prototype.apply.call(p,b,g)};nt=rt&&"function"==typeof rt.ownKeys?rt.ownKeys:Object.getOwnPropertySymbols?function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:function(p){return Object.getOwnPropertyNames(p)};var Z=Number.isNaN||function(p){return p!=p};function $(){$.init.call(this)}q.exports=$,q.exports.once=function(p,b){return new Promise(function(g,u){function c(k){p.removeListener(b,v),u(k)}function v(){"function"==typeof p.removeListener&&p.removeListener("error",c),g([].slice.call(arguments))}var k;Pt(p,b,v,{once:!0}),"error"!==b&&("function"==typeof(k=p).on&&Pt(k,"error",c,{once:!0}))})},$.EventEmitter=$,$.prototype._events=void 0,$.prototype._eventsCount=0,$.prototype._maxListeners=void 0;var F=10;function L(p){if("function"!=typeof p)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof p)}function at(p){return void 0===p._maxListeners?$.defaultMaxListeners:p._maxListeners}function vt(p,b,g,u){var c,v,k;if(L(g),void 0===(v=p._events)?(v=p._events=Object.create(null),p._eventsCount=0):(void 0!==v.newListener&&(p.emit("newListener",b,g.listener?g.listener:g),v=p._events),k=v[b]),void 0===k)k=v[b]=g,++p._eventsCount;else if("function"==typeof k?k=v[b]=u?[g,k]:[k,g]:u?k.unshift(g):k.push(g),(c=at(p))>0&&k.length>c&&!k.warned){k.warned=!0;var et=new Error("Possible EventEmitter memory leak detected. "+k.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit");et.name="MaxListenersExceededWarning",et.emitter=p,et.type=b,et.count=k.length,console&&console.warn&&console.warn(et)}return p}function bt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ht(p,b,g){var u={fired:!1,wrapFn:void 0,target:p,type:b,listener:g},c=bt.bind(u);return c.listener=g,u.wrapFn=c,c}function dt(p,b,g){var u=p._events;if(void 0===u)return[];var c=u[b];return void 0===c?[]:"function"==typeof c?g?[c.listener||c]:[c]:g?function(v){for(var k=new Array(v.length),z=0;z<k.length;++z)k[z]=v[z].listener||v[z];return k}(c):Tt(c,c.length)}function St(p){var b=this._events;if(void 0!==b){var g=b[p];if("function"==typeof g)return 1;if(void 0!==g)return g.length}return 0}function Tt(p,b){for(var g=new Array(b),u=0;u<b;++u)g[u]=p[u];return g}function Pt(p,b,g,u){if("function"==typeof p.on)u.once?p.once(b,g):p.on(b,g);else{if("function"!=typeof p.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof p);p.addEventListener(b,function c(v){u.once&&p.removeEventListener(b,c),g(v)})}}function jt(p){if("function"!=typeof p)throw new Error("obliterator/iterator: expecting a function!");this.next=p}Object.defineProperty($,"defaultMaxListeners",{enumerable:!0,get:function(){return F},set:function(p){if("number"!=typeof p||p<0||Z(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+p+".");F=p}}),$.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},$.prototype.setMaxListeners=function(p){if("number"!=typeof p||p<0||Z(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this},$.prototype.getMaxListeners=function(){return at(this)},$.prototype.emit=function(p){for(var b=[],g=1;g<arguments.length;g++)b.push(arguments[g]);var u="error"===p,c=this._events;if(void 0!==c)u=u&&void 0===c.error;else if(!u)return!1;if(u){var v;if(b.length>0&&(v=b[0]),v instanceof Error)throw v;var k=new Error("Unhandled error."+(v?" ("+v.message+")":""));throw k.context=v,k}var z=c[p];if(void 0===z)return!1;if("function"==typeof z)ct(z,this,b);else{var et=z.length,xt=Tt(z,et);for(g=0;g<et;++g)ct(xt[g],this,b)}return!0},$.prototype.on=$.prototype.addListener=function(p,b){return vt(this,p,b,!1)},$.prototype.prependListener=function(p,b){return vt(this,p,b,!0)},$.prototype.once=function(p,b){return L(b),this.on(p,ht(this,p,b)),this},$.prototype.prependOnceListener=function(p,b){return L(b),this.prependListener(p,ht(this,p,b)),this},$.prototype.off=$.prototype.removeListener=function(p,b){var g,u,c,v,k;if(L(b),void 0===(u=this._events))return this;if(void 0===(g=u[p]))return this;if(g===b||g.listener===b)0==--this._eventsCount?this._events=Object.create(null):(delete u[p],u.removeListener&&this.emit("removeListener",p,g.listener||b));else if("function"!=typeof g){for(c=-1,v=g.length-1;v>=0;v--)if(g[v]===b||g[v].listener===b){k=g[v].listener,c=v;break}if(c<0)return this;0===c?g.shift():function(z,et){for(;et+1<z.length;et++)z[et]=z[et+1];z.pop()}(g,c),1===g.length&&(u[p]=g[0]),void 0!==u.removeListener&&this.emit("removeListener",p,k||b)}return this},$.prototype.removeAllListeners=function(p){var b,g,u;if(void 0===(g=this._events))return this;if(void 0===g.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==g[p]&&(0==--this._eventsCount?this._events=Object.create(null):delete g[p]),this;if(0===arguments.length){var c,v=Object.keys(g);for(u=0;u<v.length;++u)"removeListener"!==(c=v[u])&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(b=g[p]))this.removeListener(p,b);else if(void 0!==b)for(u=b.length-1;u>=0;u--)this.removeListener(p,b[u]);return this},$.prototype.listeners=function(p){return dt(this,p,!0)},$.prototype.rawListeners=function(p){return dt(this,p,!1)},$.listenerCount=function(p,b){return"function"==typeof p.listenerCount?p.listenerCount(b):St.call(p,b)},$.prototype.listenerCount=St,$.prototype.eventNames=function(){return this._eventsCount>0?nt(this._events):[]},"undefined"!=typeof Symbol&&(jt.prototype[Symbol.iterator]=function(){return this}),jt.of=function(){var p=arguments,b=p.length,g=0;return new jt(function(){return g>=b?{done:!0}:{done:!1,value:p[g++]}})},jt.empty=function(){return new jt(function(){return{done:!0}})},jt.fromSequence=function(p){var b=0,g=p.length;return new jt(function(){return b>=g?{done:!0}:{done:!1,value:p[b++]}})},jt.is=function(p){return p instanceof jt||"object"==typeof p&&null!==p&&"function"==typeof p.next};var te=jt,Kt={};Kt.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,Kt.SYMBOL_SUPPORT="undefined"!=typeof Symbol;var Qt=te,we=Kt.ARRAY_BUFFER_SUPPORT,Le=Kt.SYMBOL_SUPPORT,ie=function(p){var g,b="string"==typeof(g=p)||Array.isArray(g)||we&&ArrayBuffer.isView(g)?Qt.fromSequence(g):"object"!=typeof g||null===g?null:Le&&"function"==typeof g[Symbol.iterator]?g[Symbol.iterator]():"function"==typeof g.next?g:null;if(!b)throw new Error("obliterator: target is not iterable nor a valid iterator.");return b},ke=ie,nn=function(p,b){for(var g,u=arguments.length>1?b:1/0,c=u!==1/0?new Array(u):[],v=0,k=ke(p);;){if(v===u)return c;if((g=k.next()).done)return v!==b&&(c.length=v),c;c[v++]=g.value}},ye=function(p){function b(g){var u;return(u=p.call(this)||this).name="GraphError",u.message=g,u}return P(b,p),b}(G(Error)),kt=function(p){function b(g){var u;return(u=p.call(this,g)||this).name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(T(u),b.prototype.constructor),u}return P(b,p),b}(ye),Mt=function(p){function b(g){var u;return(u=p.call(this,g)||this).name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(T(u),b.prototype.constructor),u}return P(b,p),b}(ye),Gt=function(p){function b(g){var u;return(u=p.call(this,g)||this).name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(T(u),b.prototype.constructor),u}return P(b,p),b}(ye);function ze(p,b){this.key=p,this.attributes=b,this.clear()}function je(p,b){this.key=p,this.attributes=b,this.clear()}function hn(p,b){this.key=p,this.attributes=b,this.clear()}function Ze(p,b,g,u,c){this.key=b,this.attributes=c,this.undirected=p,this.source=g,this.target=u}function Te(p,b,g,u,c,v,k){var z,et,xt,_t;if(u=""+u,0===g){if(!(z=p._nodes.get(u)))throw new Mt("Graph.".concat(b,': could not find the "').concat(u,'" node in the graph.'));xt=c,_t=v}else if(3===g){if(!(et=p._edges.get(c=""+c)))throw new Mt("Graph.".concat(b,': could not find the "').concat(c,'" edge in the graph.'));var pt=et.source.key,Dt=et.target.key;if(u===pt)z=et.target;else{if(u!==Dt)throw new Mt("Graph.".concat(b,': the "').concat(u,'" node is not attached to the "').concat(c,'" edge (').concat(pt,", ").concat(Dt,")."));z=et.source}xt=v,_t=k}else{if(!(et=p._edges.get(u)))throw new Mt("Graph.".concat(b,': could not find the "').concat(u,'" edge in the graph.'));z=1===g?et.source:et.target,xt=c,_t=v}return[z,xt,_t]}ze.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}},je.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}},hn.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}},Ze.prototype.attach=function(){var p="out",b="in";this.undirected&&(p=b="undirected");var g=this.source.key,u=this.target.key;this.source[p][u]=this,this.undirected&&g===u||(this.target[b][g]=this)},Ze.prototype.attachMulti=function(){var p="out",b="in",g=this.source.key,u=this.target.key;this.undirected&&(p=b="undirected");var c=this.source[p],v=c[u];if(void 0===v)return c[u]=this,void(this.undirected&&g===u||(this.target[b][g]=this));v.previous=this,this.next=v,c[u]=this,this.target[b][g]=this},Ze.prototype.detach=function(){var p=this.source.key,g="out",u="in";this.undirected&&(g=u="undirected"),delete this.source[g][this.target.key],delete this.target[u][p]},Ze.prototype.detachMulti=function(){var p=this.source.key,b=this.target.key,g="out",u="in";this.undirected&&(g=u="undirected"),void 0===this.previous?void 0===this.next?(delete this.source[g][b],delete this.target[u][p]):(this.next.previous=void 0,this.source[g][b]=this.next,this.target[u][p]=this.next):(this.previous.next=this.next,void 0!==this.next&&(this.next.previous=this.previous))};var jn=[{name:function(p){return"get".concat(p,"Attribute")},attacher:function(p,b,g){p.prototype[b]=function(u,c,v){var k=Te(this,b,g,u,c,v);return k[0].attributes[k[1]]}}},{name:function(p){return"get".concat(p,"Attributes")},attacher:function(p,b,g){p.prototype[b]=function(u,c){return Te(this,b,g,u,c)[0].attributes}}},{name:function(p){return"has".concat(p,"Attribute")},attacher:function(p,b,g){p.prototype[b]=function(u,c,v){var k=Te(this,b,g,u,c,v);return k[0].attributes.hasOwnProperty(k[1])}}},{name:function(p){return"set".concat(p,"Attribute")},attacher:function(p,b,g){p.prototype[b]=function(u,c,v,k){var z=Te(this,b,g,u,c,v,k),et=z[0],xt=z[1];return et.attributes[xt]=z[2],this.emit("nodeAttributesUpdated",{key:et.key,type:"set",attributes:et.attributes,name:xt}),this}}},{name:function(p){return"update".concat(p,"Attribute")},attacher:function(p,b,g){p.prototype[b]=function(u,c,v,k){var z=Te(this,b,g,u,c,v,k),et=z[0],xt=z[1],_t=z[2];if("function"!=typeof _t)throw new kt("Graph.".concat(b,": updater should be a function."));var pt=et.attributes,Dt=_t(pt[xt]);return pt[xt]=Dt,this.emit("nodeAttributesUpdated",{key:et.key,type:"set",attributes:et.attributes,name:xt}),this}}},{name:function(p){return"remove".concat(p,"Attribute")},attacher:function(p,b,g){p.prototype[b]=function(u,c,v){var k=Te(this,b,g,u,c,v),z=k[0],et=k[1];return delete z.attributes[et],this.emit("nodeAttributesUpdated",{key:z.key,type:"remove",attributes:z.attributes,name:et}),this}}},{name:function(p){return"replace".concat(p,"Attributes")},attacher:function(p,b,g){p.prototype[b]=function(u,c,v){var k=Te(this,b,g,u,c,v),z=k[0],et=k[1];if(!w(et))throw new kt("Graph.".concat(b,": provided attributes are not a plain object."));return z.attributes=et,this.emit("nodeAttributesUpdated",{key:z.key,type:"replace",attributes:z.attributes}),this}}},{name:function(p){return"merge".concat(p,"Attributes")},attacher:function(p,b,g){p.prototype[b]=function(u,c,v){var k=Te(this,b,g,u,c,v),z=k[0],et=k[1];if(!w(et))throw new kt("Graph.".concat(b,": provided attributes are not a plain object."));return O(z.attributes,et),this.emit("nodeAttributesUpdated",{key:z.key,type:"merge",attributes:z.attributes,data:et}),this}}},{name:function(p){return"update".concat(p,"Attributes")},attacher:function(p,b,g){p.prototype[b]=function(u,c,v){var k=Te(this,b,g,u,c,v),z=k[0],et=k[1];if("function"!=typeof et)throw new kt("Graph.".concat(b,": provided updater is not a function."));return z.attributes=et(z.attributes),this.emit("nodeAttributesUpdated",{key:z.key,type:"update",attributes:z.attributes}),this}}}],Ge=[{name:function(p){return"get".concat(p,"Attribute")},attacher:function(p,b,g){p.prototype[b]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Gt("Graph.".concat(b,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Gt("Graph.".concat(b,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var k=""+u,z=""+c;if(c=arguments[2],!(v=x(this,k,z,g)))throw new Mt("Graph.".concat(b,': could not find an edge for the given path ("').concat(k,'" - "').concat(z,'").'))}else{if("mixed"!==g)throw new Gt("Graph.".concat(b,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new Mt("Graph.".concat(b,': could not find the "').concat(u,'" edge in the graph.'))}return v.attributes[c]}}},{name:function(p){return"get".concat(p,"Attributes")},attacher:function(p,b,g){p.prototype[b]=function(u){var c;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Gt("Graph.".concat(b,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new Gt("Graph.".concat(b,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var v=""+u,k=""+arguments[1];if(!(c=x(this,v,k,g)))throw new Mt("Graph.".concat(b,': could not find an edge for the given path ("').concat(v,'" - "').concat(k,'").'))}else{if("mixed"!==g)throw new Gt("Graph.".concat(b,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(c=this._edges.get(u=""+u)))throw new Mt("Graph.".concat(b,': could not find the "').concat(u,'" edge in the graph.'))}return c.attributes}}},{name:function(p){return"has".concat(p,"Attribute")},attacher:function(p,b,g){p.prototype[b]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Gt("Graph.".concat(b,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Gt("Graph.".concat(b,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var k=""+u,z=""+c;if(c=arguments[2],!(v=x(this,k,z,g)))throw new Mt("Graph.".concat(b,': could not find an edge for the given path ("').concat(k,'" - "').concat(z,'").'))}else{if("mixed"!==g)throw new Gt("Graph.".concat(b,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new Mt("Graph.".concat(b,': could not find the "').concat(u,'" edge in the graph.'))}return v.attributes.hasOwnProperty(c)}}},{name:function(p){return"set".concat(p,"Attribute")},attacher:function(p,b,g){p.prototype[b]=function(u,c,v){var k;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Gt("Graph.".concat(b,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new Gt("Graph.".concat(b,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var z=""+u,et=""+c;if(c=arguments[2],v=arguments[3],!(k=x(this,z,et,g)))throw new Mt("Graph.".concat(b,': could not find an edge for the given path ("').concat(z,'" - "').concat(et,'").'))}else{if("mixed"!==g)throw new Gt("Graph.".concat(b,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(k=this._edges.get(u=""+u)))throw new Mt("Graph.".concat(b,': could not find the "').concat(u,'" edge in the graph.'))}return k.attributes[c]=v,this.emit("edgeAttributesUpdated",{key:k.key,type:"set",attributes:k.attributes,name:c}),this}}},{name:function(p){return"update".concat(p,"Attribute")},attacher:function(p,b,g){p.prototype[b]=function(u,c,v){var k;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Gt("Graph.".concat(b,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new Gt("Graph.".concat(b,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var z=""+u,et=""+c;if(c=arguments[2],v=arguments[3],!(k=x(this,z,et,g)))throw new Mt("Graph.".concat(b,': could not find an edge for the given path ("').concat(z,'" - "').concat(et,'").'))}else{if("mixed"!==g)throw new Gt("Graph.".concat(b,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(k=this._edges.get(u=""+u)))throw new Mt("Graph.".concat(b,': could not find the "').concat(u,'" edge in the graph.'))}if("function"!=typeof v)throw new kt("Graph.".concat(b,": updater should be a function."));return k.attributes[c]=v(k.attributes[c]),this.emit("edgeAttributesUpdated",{key:k.key,type:"set",attributes:k.attributes,name:c}),this}}},{name:function(p){return"remove".concat(p,"Attribute")},attacher:function(p,b,g){p.prototype[b]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Gt("Graph.".concat(b,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Gt("Graph.".concat(b,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var k=""+u,z=""+c;if(c=arguments[2],!(v=x(this,k,z,g)))throw new Mt("Graph.".concat(b,': could not find an edge for the given path ("').concat(k,'" - "').concat(z,'").'))}else{if("mixed"!==g)throw new Gt("Graph.".concat(b,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new Mt("Graph.".concat(b,': could not find the "').concat(u,'" edge in the graph.'))}return delete v.attributes[c],this.emit("edgeAttributesUpdated",{key:v.key,type:"remove",attributes:v.attributes,name:c}),this}}},{name:function(p){return"replace".concat(p,"Attributes")},attacher:function(p,b,g){p.prototype[b]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Gt("Graph.".concat(b,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Gt("Graph.".concat(b,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var k=""+u,z=""+c;if(c=arguments[2],!(v=x(this,k,z,g)))throw new Mt("Graph.".concat(b,': could not find an edge for the given path ("').concat(k,'" - "').concat(z,'").'))}else{if("mixed"!==g)throw new Gt("Graph.".concat(b,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new Mt("Graph.".concat(b,': could not find the "').concat(u,'" edge in the graph.'))}if(!w(c))throw new kt("Graph.".concat(b,": provided attributes are not a plain object."));return v.attributes=c,this.emit("edgeAttributesUpdated",{key:v.key,type:"replace",attributes:v.attributes}),this}}},{name:function(p){return"merge".concat(p,"Attributes")},attacher:function(p,b,g){p.prototype[b]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Gt("Graph.".concat(b,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Gt("Graph.".concat(b,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var k=""+u,z=""+c;if(c=arguments[2],!(v=x(this,k,z,g)))throw new Mt("Graph.".concat(b,': could not find an edge for the given path ("').concat(k,'" - "').concat(z,'").'))}else{if("mixed"!==g)throw new Gt("Graph.".concat(b,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new Mt("Graph.".concat(b,': could not find the "').concat(u,'" edge in the graph.'))}if(!w(c))throw new kt("Graph.".concat(b,": provided attributes are not a plain object."));return O(v.attributes,c),this.emit("edgeAttributesUpdated",{key:v.key,type:"merge",attributes:v.attributes,data:c}),this}}},{name:function(p){return"update".concat(p,"Attributes")},attacher:function(p,b,g){p.prototype[b]=function(u,c){var v;if("mixed"!==this.type&&"mixed"!==g&&g!==this.type)throw new Gt("Graph.".concat(b,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Gt("Graph.".concat(b,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var k=""+u,z=""+c;if(c=arguments[2],!(v=x(this,k,z,g)))throw new Mt("Graph.".concat(b,': could not find an edge for the given path ("').concat(k,'" - "').concat(z,'").'))}else{if("mixed"!==g)throw new Gt("Graph.".concat(b,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(v=this._edges.get(u=""+u)))throw new Mt("Graph.".concat(b,': could not find the "').concat(u,'" edge in the graph.'))}if("function"!=typeof c)throw new kt("Graph.".concat(b,": provided updater is not a function."));return v.attributes=c(v.attributes),this.emit("edgeAttributesUpdated",{key:v.key,type:"update",attributes:v.attributes}),this}}}],wn=te,Oi=ie,$e=function(){var p=arguments,b=null,g=-1;return new wn(function(){for(var u=null;;){if(null===b){if(++g>=p.length)return{done:!0};b=Oi(p[g])}if(!0!==(u=b.next()).done)break;b=null}return u})},Pi=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function Is(p,b,g,u){var c=!1;for(var v in b)if(v!==u){var k=b[v];if(c=g(k.key,k.attributes,k.source.key,k.target.key,k.source.attributes,k.target.attributes,k.undirected),p&&c)return k.key}}function Wn(p,b,g,u){var c,v,k,z=!1;for(var et in b)if(et!==u){c=b[et];do{if(z=g(c.key,c.attributes,(v=c.source).key,(k=c.target).key,v.attributes,k.attributes,c.undirected),p&&z)return c.key;c=c.next}while(void 0!==c)}}function ln(p,b){var g,u=Object.keys(p),c=u.length,v=0;return new te(function(){do{if(g)g=g.next;else{if(v>=c)return{done:!0};var k=u[v++];if(k===b){g=void 0;continue}g=p[k]}}while(!g);return{done:!1,value:{edge:g.key,attributes:g.attributes,source:g.source.key,target:g.target.key,sourceAttributes:g.source.attributes,targetAttributes:g.target.attributes,undirected:g.undirected}}})}function li(p,b,g,u){var c=b[g];if(c){var v=c.source,k=c.target;return u(c.key,c.attributes,v.key,k.key,v.attributes,k.attributes,c.undirected)&&p?c.key:void 0}}function br(p,b,g,u){var c=b[g];if(c){var v=!1;do{if(v=u(c.key,c.attributes,c.source.key,c.target.key,c.source.attributes,c.target.attributes,c.undirected),p&&v)return c.key;c=c.next}while(void 0!==c)}}function ar(p,b){var g=p[b];return void 0!==g.next?new te(function(){if(!g)return{done:!0};var u={edge:g.key,attributes:g.attributes,source:g.source.key,target:g.target.key,sourceAttributes:g.source.attributes,targetAttributes:g.target.attributes,undirected:g.undirected};return g=g.next,{done:!1,value:u}}):te.of({edge:g.key,attributes:g.attributes,source:g.source.key,target:g.target.key,sourceAttributes:g.source.attributes,targetAttributes:g.target.attributes,undirected:g.undirected})}function Br(p,b){if(0===p.size)return[];if("mixed"===b||b===p.type)return"function"==typeof Array.from?Array.from(p._edges.keys()):nn(p._edges.keys(),p._edges.size);for(var g,u,v=new Array("undirected"===b?p.undirectedSize:p.directedSize),k="undirected"===b,z=p._edges.values(),et=0;!0!==(g=z.next()).done;)(u=g.value).undirected===k&&(v[et++]=u.key);return v}function _o(p,b,g,u){if(0!==b.size)for(var c,v,k="mixed"!==g&&g!==b.type,z="undirected"===g,et=!1,xt=b._edges.values();!0!==(c=xt.next()).done;)if(v=c.value,!k||v.undirected===z){var pt=v.key,Lt=v.source,Vt=v.target;if(et=u(pt,v.attributes,Lt.key,Vt.key,Lt.attributes,Vt.attributes,v.undirected),p&&et)return pt}}function xr(p,b){if(0===p.size)return te.empty();var g="mixed"!==b&&b!==p.type,u="undirected"===b,c=p._edges.values();return new te(function(){for(var v,k;;){if((v=c.next()).done)return v;if(k=v.value,!g||k.undirected===u)break}return{value:{edge:k.key,attributes:k.attributes,source:k.source.key,target:k.target.key,sourceAttributes:k.source.attributes,targetAttributes:k.target.attributes,undirected:k.undirected},done:!1}})}function Kn(p,b,g,u,c,v){var k,z=b?Wn:Is;if("undirected"!==g&&("out"!==u&&(k=z(p,c.in,v),p&&k)||"in"!==u&&(k=z(p,c.out,v,u?void 0:c.key),p&&k))||"directed"!==g&&(k=z(p,c.undirected,v),p&&k))return k}function di(p,b,g,u){var c=[];return Kn(!1,p,b,g,u,function(v){c.push(v)}),c}function pi(p,b,g){var u=te.empty();return"undirected"!==p&&("out"!==b&&void 0!==g.in&&(u=$e(u,ln(g.in))),"in"!==b&&void 0!==g.out&&(u=$e(u,ln(g.out,b?void 0:g.key)))),"directed"!==p&&void 0!==g.undirected&&(u=$e(u,ln(g.undirected))),u}function _r(p,b,g,u,c,v,k){var z,et=g?br:li;if("undirected"!==b&&(void 0!==c.in&&"out"!==u&&(z=et(p,c.in,v,k),p&&z)||void 0!==c.out&&"in"!==u&&(u||c.key!==v)&&(z=et(p,c.out,v,k),p&&z))||"directed"!==b&&void 0!==c.undirected&&(z=et(p,c.undirected,v,k),p&&z))return z}function Wi(p,b,g,u,c){var v=[];return _r(!1,p,b,g,u,c,function(k){v.push(k)}),v}function Fr(p,b,g,u){var c=te.empty();return"undirected"!==p&&(void 0!==g.in&&"out"!==b&&u in g.in&&(c=$e(c,ar(g.in,u))),void 0!==g.out&&"in"!==b&&u in g.out&&(b||g.key!==u)&&(c=$e(c,ar(g.out,u)))),"directed"!==p&&void 0!==g.undirected&&u in g.undirected&&(c=$e(c,ar(g.undirected,u))),c}var ur=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function Vn(){this.A=null,this.B=null}function Un(p,b,g,u,c){for(var v in u){var k=u[v],z=k.source,xt=z===g?k.target:z;if(!b||!b.has(xt.key)){var _t=c(xt.key,xt.attributes);if(p&&_t)return xt.key}}}function Dn(p,b,g,u,c){if("mixed"!==b){if("undirected"===b)return Un(p,null,u,u.undirected,c);if("string"==typeof g)return Un(p,null,u,u[g],c)}var v,k=new Vn;if("undirected"!==b){if("out"!==g){if(v=Un(p,null,u,u.in,c),p&&v)return v;k.wrap(u.in)}if("in"!==g){if(v=Un(p,k,u,u.out,c),p&&v)return v;k.wrap(u.out)}}if("directed"!==b&&(v=Un(p,k,u,u.undirected,c),p&&v))return v}function gi(p,b,g){var u=Object.keys(g),c=u.length,v=0;return new te(function(){var k=null;do{if(v>=c)return p&&p.wrap(g),{done:!0};var z=g[u[v++]],et=z.source;k=et===b?z.target:et,p&&p.has(k.key)&&(k=null)}while(null===k);return{done:!1,value:{neighbor:k.key,attributes:k.attributes}}})}function Ar(p,b,g,u,c){for(var v,k,z,et,xt,_t,pt,Dt=u._nodes.values(),Lt=u.type;!0!==(v=Dt.next()).done;){var Vt=!1;if(k=v.value,"undirected"!==Lt)for(z in et=k.out){xt=et[z];do{if(Vt=!0,pt=c(k.key,(_t=xt.target).key,k.attributes,_t.attributes,xt.key,xt.attributes,xt.undirected),p&&pt)return xt;xt=xt.next}while(xt)}if("directed"!==Lt)for(z in et=k.undirected)if(!(b&&k.key>z)){xt=et[z];do{if((_t=xt.target).key!==z&&(_t=xt.source),Vt=!0,pt=c(k.key,_t.key,k.attributes,_t.attributes,xt.key,xt.attributes,xt.undirected),p&&pt)return xt;xt=xt.next}while(xt)}if(g&&!Vt&&(pt=c(k.key,null,k.attributes,null,null,null,null),p&&pt))return null}}function Er(p){if(!w(p))throw new kt('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in p))throw new kt("Graph.import: serialized node is missing its key.");if("attributes"in p&&(!w(p.attributes)||null===p.attributes))throw new kt("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function Ns(p){if(!w(p))throw new kt('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in p))throw new kt("Graph.import: serialized edge is missing its source.");if(!("target"in p))throw new kt("Graph.import: serialized edge is missing its target.");if("attributes"in p&&(!w(p.attributes)||null===p.attributes))throw new kt("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in p&&"boolean"!=typeof p.undirected)throw new kt("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}Vn.prototype.wrap=function(p){null===this.A?this.A=p:null===this.B&&(this.B=p)},Vn.prototype.has=function(p){return null!==this.A&&p in this.A||null!==this.B&&p in this.B};var Eo,Ts=(Eo=255&Math.floor(256*Math.random()),function(){return Eo++}),Xa=new Set(["directed","undirected","mixed"]),Co=new Set(["domain","_events","_eventsCount","_maxListeners"]),Zr={allowSelfLoops:!0,multi:!1,type:"mixed"};function So(p,b,g){var u=new p.NodeDataClass(b,g);return p._nodes.set(b,u),p.emit("nodeAdded",{key:b,attributes:g}),u}function $r(p,b,g,u,c,v,k,z){if(!u&&"undirected"===p.type)throw new Gt("Graph.".concat(b,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(u&&"directed"===p.type)throw new Gt("Graph.".concat(b,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(z&&!w(z))throw new kt("Graph.".concat(b,': invalid attributes. Expecting an object but got "').concat(z,'"'));if(v=""+v,k=""+k,z=z||{},!p.allowSelfLoops&&v===k)throw new Gt("Graph.".concat(b,': source & target are the same ("').concat(v,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var et=p._nodes.get(v),xt=p._nodes.get(k);if(!et)throw new Mt("Graph.".concat(b,': source node "').concat(v,'" not found.'));if(!xt)throw new Mt("Graph.".concat(b,': target node "').concat(k,'" not found.'));var _t={key:null,undirected:u,source:v,target:k,attributes:z};if(g)c=p._edgeKeyGenerator();else if(p._edges.has(c=""+c))throw new Gt("Graph.".concat(b,': the "').concat(c,'" edge already exists in the graph.'));if(!p.multi&&(u?void 0!==et.undirected[k]:void 0!==et.out[k]))throw new Gt("Graph.".concat(b,': an edge linking "').concat(v,'" to "').concat(k,"\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option."));var pt=new Ze(u,c,et,xt,z);p._edges.set(c,pt);var Dt=v===k;return u?(et.undirectedDegree++,xt.undirectedDegree++,Dt&&(et.undirectedLoops++,p._undirectedSelfLoopCount++)):(et.outDegree++,xt.inDegree++,Dt&&(et.directedLoops++,p._directedSelfLoopCount++)),p.multi?pt.attachMulti():pt.attach(),u?p._undirectedSize++:p._directedSize++,_t.key=c,p.emit("edgeAdded",_t),c}function Cr(p,b,g,u,c,v,k,z,et){if(!u&&"undirected"===p.type)throw new Gt("Graph.".concat(b,": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead."));if(u&&"directed"===p.type)throw new Gt("Graph.".concat(b,": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead."));if(z)if(et){if("function"!=typeof z)throw new kt("Graph.".concat(b,': invalid updater function. Expecting a function but got "').concat(z,'"'))}else if(!w(z))throw new kt("Graph.".concat(b,': invalid attributes. Expecting an object but got "').concat(z,'"'));var xt;if(v=""+v,k=""+k,et&&(xt=z,z=void 0),!p.allowSelfLoops&&v===k)throw new Gt("Graph.".concat(b,': source & target are the same ("').concat(v,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var _t,pt,Dt=p._nodes.get(v),Lt=p._nodes.get(k);if(!g&&(_t=p._edges.get(c))){if(!(_t.source.key===v&&_t.target.key===k||u&&_t.source.key===k&&_t.target.key===v))throw new Gt("Graph.".concat(b,': inconsistency detected when attempting to merge the "').concat(c,'" edge with "').concat(v,'" source & "').concat(k,'" target vs. ("').concat(_t.source.key,'", "').concat(_t.target.key,'").'));pt=_t}if(pt||p.multi||!Dt||(pt=u?Dt.undirected[k]:Dt.out[k]),pt){var Vt=[pt.key,!1,!1,!1];return(et?xt:z)?(et?(pt.attributes=xt(pt.attributes),p.emit("edgeAttributesUpdated",{type:"replace",key:pt.key,attributes:pt.attributes})):(O(pt.attributes,z),p.emit("edgeAttributesUpdated",{type:"merge",key:pt.key,attributes:pt.attributes,data:z})),Vt):Vt}z=z||{},et&&xt&&(z=xt(z));var Ce={key:null,undirected:u,source:v,target:k,attributes:z};if(g)c=p._edgeKeyGenerator();else if(p._edges.has(c=""+c))throw new Gt("Graph.".concat(b,': the "').concat(c,'" edge already exists in the graph.'));var Oe=!1,Pe=!1;Dt||(Dt=So(p,v,{}),Oe=!0,v===k&&(Lt=Dt,Pe=!0)),Lt||(Lt=So(p,k,{}),Pe=!0),_t=new Ze(u,c,Dt,Lt,z),p._edges.set(c,_t);var dn=v===k;return u?(Dt.undirectedDegree++,Lt.undirectedDegree++,dn&&(Dt.undirectedLoops++,p._undirectedSelfLoopCount++)):(Dt.outDegree++,Lt.inDegree++,dn&&(Dt.directedLoops++,p._directedSelfLoopCount++)),p.multi?_t.attachMulti():_t.attach(),u?p._undirectedSize++:p._directedSize++,Ce.key=c,p.emit("edgeAdded",Ce),[c,!0,Oe,Pe]}function qn(p,b){p._edges.delete(b.key);var g=b.source,u=b.target,c=b.attributes,v=b.undirected,k=g===u;v?(g.undirectedDegree--,u.undirectedDegree--,k&&(g.undirectedLoops--,p._undirectedSelfLoopCount--)):(g.outDegree--,u.inDegree--,k&&(g.directedLoops--,p._directedSelfLoopCount--)),p.multi?b.detachMulti():b.detach(),v?p._undirectedSize--:p._directedSize--,p.emit("edgeDropped",{key:b.key,attributes:c,source:g.key,target:u.key,undirected:v})}var p,be=function(p){function b(u){var c;if(c=p.call(this)||this,"boolean"!=typeof(u=O({},Zr,u)).multi)throw new kt("Graph.constructor: invalid 'multi' option. Expecting a boolean but got \"".concat(u.multi,'".'));if(!Xa.has(u.type))throw new kt('Graph.constructor: invalid \'type\' option. Should be one of "mixed", "directed" or "undirected" but got "'.concat(u.type,'".'));if("boolean"!=typeof u.allowSelfLoops)throw new kt("Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \"".concat(u.allowSelfLoops,'".'));var v="mixed"===u.type?ze:"directed"===u.type?je:hn;I(T(c),"NodeDataClass",v);var k="geid_"+Ts()+"_",z=0;return I(T(c),"_attributes",{}),I(T(c),"_nodes",new Map),I(T(c),"_edges",new Map),I(T(c),"_directedSize",0),I(T(c),"_undirectedSize",0),I(T(c),"_directedSelfLoopCount",0),I(T(c),"_undirectedSelfLoopCount",0),I(T(c),"_edgeKeyGenerator",function(){var et;do{et=k+z++}while(c._edges.has(et));return et}),I(T(c),"_options",u),Co.forEach(function(et){return I(T(c),et,c[et])}),N(T(c),"order",function(){return c._nodes.size}),N(T(c),"size",function(){return c._edges.size}),N(T(c),"directedSize",function(){return c._directedSize}),N(T(c),"undirectedSize",function(){return c._undirectedSize}),N(T(c),"selfLoopCount",function(){return c._directedSelfLoopCount+c._undirectedSelfLoopCount}),N(T(c),"directedSelfLoopCount",function(){return c._directedSelfLoopCount}),N(T(c),"undirectedSelfLoopCount",function(){return c._undirectedSelfLoopCount}),N(T(c),"multi",c._options.multi),N(T(c),"type",c._options.type),N(T(c),"allowSelfLoops",c._options.allowSelfLoops),N(T(c),"implementation",function(){return"graphology"}),c}P(b,p);var g=b.prototype;return g._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},g.hasNode=function(u){return this._nodes.has(""+u)},g.hasDirectedEdge=function(u,c){if("undirected"===this.type)return!1;if(1===arguments.length){var k=this._edges.get(""+u);return!!k&&!k.undirected}if(2===arguments.length){c=""+c;var z=this._nodes.get(u=""+u);return!!z&&z.out.hasOwnProperty(c)}throw new kt("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},g.hasUndirectedEdge=function(u,c){if("directed"===this.type)return!1;if(1===arguments.length){var k=this._edges.get(""+u);return!!k&&k.undirected}if(2===arguments.length){c=""+c;var z=this._nodes.get(u=""+u);return!!z&&z.undirected.hasOwnProperty(c)}throw new kt("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},g.hasEdge=function(u,c){if(1===arguments.length)return this._edges.has(""+u);if(2===arguments.length){c=""+c;var k=this._nodes.get(u=""+u);return!!k&&(void 0!==k.out&&k.out.hasOwnProperty(c)||void 0!==k.undirected&&k.undirected.hasOwnProperty(c))}throw new kt("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},g.directedEdge=function(u,c){if("undirected"!==this.type){if(u=""+u,c=""+c,this.multi)throw new Gt("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var v=this._nodes.get(u);if(!v)throw new Mt('Graph.directedEdge: could not find the "'.concat(u,'" source node in the graph.'));if(!this._nodes.has(c))throw new Mt('Graph.directedEdge: could not find the "'.concat(c,'" target node in the graph.'));var k=v.out&&v.out[c]||void 0;return k?k.key:void 0}},g.undirectedEdge=function(u,c){if("directed"!==this.type){if(u=""+u,c=""+c,this.multi)throw new Gt("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var v=this._nodes.get(u);if(!v)throw new Mt('Graph.undirectedEdge: could not find the "'.concat(u,'" source node in the graph.'));if(!this._nodes.has(c))throw new Mt('Graph.undirectedEdge: could not find the "'.concat(c,'" target node in the graph.'));var k=v.undirected&&v.undirected[c]||void 0;return k?k.key:void 0}},g.edge=function(u,c){if(this.multi)throw new Gt("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new Mt('Graph.edge: could not find the "'.concat(u,'" source node in the graph.'));if(!this._nodes.has(c))throw new Mt('Graph.edge: could not find the "'.concat(c,'" target node in the graph.'));var k=v.out&&v.out[c]||v.undirected&&v.undirected[c]||void 0;if(k)return k.key},g.areDirectedNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new Mt('Graph.areDirectedNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&(c in v.in||c in v.out)},g.areOutNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new Mt('Graph.areOutNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&c in v.out},g.areInNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new Mt('Graph.areInNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&c in v.in},g.areUndirectedNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new Mt('Graph.areUndirectedNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"directed"!==this.type&&c in v.undirected},g.areNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new Mt('Graph.areNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&(c in v.in||c in v.out)||"directed"!==this.type&&c in v.undirected},g.areInboundNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new Mt('Graph.areInboundNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&c in v.in||"directed"!==this.type&&c in v.undirected},g.areOutboundNeighbors=function(u,c){c=""+c;var v=this._nodes.get(u=""+u);if(!v)throw new Mt('Graph.areOutboundNeighbors: could not find the "'.concat(u,'" node in the graph.'));return"undirected"!==this.type&&c in v.out||"directed"!==this.type&&c in v.undirected},g.inDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.inDegree: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.inDegree},g.outDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.outDegree: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.outDegree},g.directedDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.directedDegree: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.inDegree+c.outDegree},g.undirectedDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.undirectedDegree: could not find the "'.concat(u,'" node in the graph.'));return"directed"===this.type?0:c.undirectedDegree},g.inboundDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.inboundDegree: could not find the "'.concat(u,'" node in the graph.'));var v=0;return"directed"!==this.type&&(v+=c.undirectedDegree),"undirected"!==this.type&&(v+=c.inDegree),v},g.outboundDegree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.outboundDegree: could not find the "'.concat(u,'" node in the graph.'));var v=0;return"directed"!==this.type&&(v+=c.undirectedDegree),"undirected"!==this.type&&(v+=c.outDegree),v},g.degree=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.degree: could not find the "'.concat(u,'" node in the graph.'));var v=0;return"directed"!==this.type&&(v+=c.undirectedDegree),"undirected"!==this.type&&(v+=c.inDegree+c.outDegree),v},g.inDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.inDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.inDegree-c.directedLoops},g.outDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.outDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.outDegree-c.directedLoops},g.directedDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.directedDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));return"undirected"===this.type?0:c.inDegree+c.outDegree-2*c.directedLoops},g.undirectedDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.undirectedDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));return"directed"===this.type?0:c.undirectedDegree-2*c.undirectedLoops},g.inboundDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.inboundDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));var v=0,k=0;return"directed"!==this.type&&(v+=c.undirectedDegree,k+=2*c.undirectedLoops),"undirected"!==this.type&&(v+=c.inDegree,k+=c.directedLoops),v-k},g.outboundDegreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.outboundDegreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));var v=0,k=0;return"directed"!==this.type&&(v+=c.undirectedDegree,k+=2*c.undirectedLoops),"undirected"!==this.type&&(v+=c.outDegree,k+=c.directedLoops),v-k},g.degreeWithoutSelfLoops=function(u){var c=this._nodes.get(u=""+u);if(!c)throw new Mt('Graph.degreeWithoutSelfLoops: could not find the "'.concat(u,'" node in the graph.'));var v=0,k=0;return"directed"!==this.type&&(v+=c.undirectedDegree,k+=2*c.undirectedLoops),"undirected"!==this.type&&(v+=c.inDegree+c.outDegree,k+=2*c.directedLoops),v-k},g.source=function(u){var c=this._edges.get(u=""+u);if(!c)throw new Mt('Graph.source: could not find the "'.concat(u,'" edge in the graph.'));return c.source.key},g.target=function(u){var c=this._edges.get(u=""+u);if(!c)throw new Mt('Graph.target: could not find the "'.concat(u,'" edge in the graph.'));return c.target.key},g.extremities=function(u){var c=this._edges.get(u=""+u);if(!c)throw new Mt('Graph.extremities: could not find the "'.concat(u,'" edge in the graph.'));return[c.source.key,c.target.key]},g.opposite=function(u,c){u=""+u;var v=this._edges.get(c=""+c);if(!v)throw new Mt('Graph.opposite: could not find the "'.concat(c,'" edge in the graph.'));var k=v.source.key,z=v.target.key;if(u===k)return z;if(u===z)return k;throw new Mt('Graph.opposite: the "'.concat(u,'" node is not attached to the "').concat(c,'" edge (').concat(k,", ").concat(z,")."))},g.hasExtremity=function(u,c){c=""+c;var v=this._edges.get(u=""+u);if(!v)throw new Mt('Graph.hasExtremity: could not find the "'.concat(u,'" edge in the graph.'));return v.source.key===c||v.target.key===c},g.isUndirected=function(u){var c=this._edges.get(u=""+u);if(!c)throw new Mt('Graph.isUndirected: could not find the "'.concat(u,'" edge in the graph.'));return c.undirected},g.isDirected=function(u){var c=this._edges.get(u=""+u);if(!c)throw new Mt('Graph.isDirected: could not find the "'.concat(u,'" edge in the graph.'));return!c.undirected},g.isSelfLoop=function(u){var c=this._edges.get(u=""+u);if(!c)throw new Mt('Graph.isSelfLoop: could not find the "'.concat(u,'" edge in the graph.'));return c.source===c.target},g.addNode=function(u,c){return function(k,z,et){if(et&&!w(et))throw new kt('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(et,'"'));if(et=et||{},k._nodes.has(z=""+z))throw new Gt('Graph.addNode: the "'.concat(z,'" node already exist in the graph.'));var xt=new k.NodeDataClass(z,et);return k._nodes.set(z,xt),k.emit("nodeAdded",{key:z,attributes:et}),xt}(this,u,c).key},g.mergeNode=function(u,c){if(c&&!w(c))throw new kt('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(c,'"'));c=c||{};var v=this._nodes.get(u=""+u);return v?(c&&(O(v.attributes,c),this.emit("nodeAttributesUpdated",{type:"merge",key:u,attributes:v.attributes,data:c})),[u,!1]):(v=new this.NodeDataClass(u,c),this._nodes.set(u,v),this.emit("nodeAdded",{key:u,attributes:c}),[u,!0])},g.updateNode=function(u,c){if(c&&"function"!=typeof c)throw new kt('Graph.updateNode: invalid updater function. Expecting a function but got "'.concat(c,'"'));var v=this._nodes.get(u=""+u);if(v)return c&&(v.attributes=c(v.attributes),this.emit("nodeAttributesUpdated",{type:"replace",key:u,attributes:v.attributes})),[u,!1];var z=c?c({}):{};return v=new this.NodeDataClass(u,z),this._nodes.set(u,v),this.emit("nodeAdded",{key:u,attributes:z}),[u,!0]},g.dropNode=function(u){var c,v=this._nodes.get(u=""+u);if(!v)throw new Mt('Graph.dropNode: could not find the "'.concat(u,'" node in the graph.'));if("undirected"!==this.type){for(var k in v.out){c=v.out[k];do{qn(this,c),c=c.next}while(c)}for(var z in v.in){c=v.in[z];do{qn(this,c),c=c.next}while(c)}}if("directed"!==this.type)for(var et in v.undirected){c=v.undirected[et];do{qn(this,c),c=c.next}while(c)}this._nodes.delete(u),this.emit("nodeDropped",{key:u,attributes:v.attributes})},g.dropEdge=function(u){var c;if(arguments.length>1){var v=""+arguments[0],k=""+arguments[1];if(!(c=x(this,v,k,this.type)))throw new Mt('Graph.dropEdge: could not find the "'.concat(v,'" -> "').concat(k,'" edge in the graph.'))}else if(!(c=this._edges.get(u=""+u)))throw new Mt('Graph.dropEdge: could not find the "'.concat(u,'" edge in the graph.'));return qn(this,c),this},g.dropDirectedEdge=function(u,c){if(arguments.length<2)throw new Gt("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new Gt("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var v=x(this,u=""+u,c=""+c,"directed");if(!v)throw new Mt('Graph.dropDirectedEdge: could not find a "'.concat(u,'" -> "').concat(c,'" edge in the graph.'));return qn(this,v),this},g.dropUndirectedEdge=function(u,c){if(arguments.length<2)throw new Gt("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new Gt("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var v=x(this,u,c,"undirected");if(!v)throw new Mt('Graph.dropUndirectedEdge: could not find a "'.concat(u,'" -> "').concat(c,'" edge in the graph.'));return qn(this,v),this},g.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")},g.clearEdges=function(){for(var u,c=this._nodes.values();!0!==(u=c.next()).done;)u.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")},g.getAttribute=function(u){return this._attributes[u]},g.getAttributes=function(){return this._attributes},g.hasAttribute=function(u){return this._attributes.hasOwnProperty(u)},g.setAttribute=function(u,c){return this._attributes[u]=c,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:u}),this},g.updateAttribute=function(u,c){if("function"!=typeof c)throw new kt("Graph.updateAttribute: updater should be a function.");return this._attributes[u]=c(this._attributes[u]),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:u}),this},g.removeAttribute=function(u){return delete this._attributes[u],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:u}),this},g.replaceAttributes=function(u){if(!w(u))throw new kt("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=u,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this},g.mergeAttributes=function(u){if(!w(u))throw new kt("Graph.mergeAttributes: provided attributes are not a plain object.");return O(this._attributes,u),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:u}),this},g.updateAttributes=function(u){if("function"!=typeof u)throw new kt("Graph.updateAttributes: provided updater is not a function.");return this._attributes=u(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this},g.updateEachNodeAttributes=function(u,c){if("function"!=typeof u)throw new kt("Graph.updateEachNodeAttributes: expecting an updater function.");if(c&&!D(c))throw new kt("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var v,k,z=this._nodes.values();!0!==(v=z.next()).done;)(k=v.value).attributes=u(k.key,k.attributes);this.emit("eachNodeAttributesUpdated",{hints:c||null})},g.updateEachEdgeAttributes=function(u,c){if("function"!=typeof u)throw new kt("Graph.updateEachEdgeAttributes: expecting an updater function.");if(c&&!D(c))throw new kt("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var v,k,z,et,xt=this._edges.values();!0!==(v=xt.next()).done;)z=(k=v.value).source,k.attributes=u(k.key,k.attributes,z.key,(et=k.target).key,z.attributes,et.attributes,k.undirected);this.emit("eachEdgeAttributesUpdated",{hints:c||null})},g.forEachAdjacencyEntry=function(u){if("function"!=typeof u)throw new kt("Graph.forEachAdjacencyEntry: expecting a callback.");Ar(!1,!1,!1,this,u)},g.forEachAdjacencyEntryWithOrphans=function(u){if("function"!=typeof u)throw new kt("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");Ar(!1,!1,!0,this,u)},g.forEachAssymetricAdjacencyEntry=function(u){if("function"!=typeof u)throw new kt("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");Ar(!1,!0,!1,this,u)},g.forEachAssymetricAdjacencyEntryWithOrphans=function(u){if("function"!=typeof u)throw new kt("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");Ar(!1,!0,!0,this,u)},g.nodes=function(){return"function"==typeof Array.from?Array.from(this._nodes.keys()):nn(this._nodes.keys(),this._nodes.size)},g.forEachNode=function(u){if("function"!=typeof u)throw new kt("Graph.forEachNode: expecting a callback.");for(var c,v,k=this._nodes.values();!0!==(c=k.next()).done;)u((v=c.value).key,v.attributes)},g.findNode=function(u){if("function"!=typeof u)throw new kt("Graph.findNode: expecting a callback.");for(var c,v,k=this._nodes.values();!0!==(c=k.next()).done;)if(u((v=c.value).key,v.attributes))return v.key},g.mapNodes=function(u){if("function"!=typeof u)throw new kt("Graph.mapNode: expecting a callback.");for(var c,v,k=this._nodes.values(),z=new Array(this.order),et=0;!0!==(c=k.next()).done;)z[et++]=u((v=c.value).key,v.attributes);return z},g.someNode=function(u){if("function"!=typeof u)throw new kt("Graph.someNode: expecting a callback.");for(var c,v,k=this._nodes.values();!0!==(c=k.next()).done;)if(u((v=c.value).key,v.attributes))return!0;return!1},g.everyNode=function(u){if("function"!=typeof u)throw new kt("Graph.everyNode: expecting a callback.");for(var c,v,k=this._nodes.values();!0!==(c=k.next()).done;)if(!u((v=c.value).key,v.attributes))return!1;return!0},g.filterNodes=function(u){if("function"!=typeof u)throw new kt("Graph.filterNodes: expecting a callback.");for(var c,v,k=this._nodes.values(),z=[];!0!==(c=k.next()).done;)u((v=c.value).key,v.attributes)&&z.push(v.key);return z},g.reduceNodes=function(u,c){if("function"!=typeof u)throw new kt("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new kt("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");for(var v,k,z=c,et=this._nodes.values();!0!==(v=et.next()).done;)z=u(z,(k=v.value).key,k.attributes);return z},g.nodeEntries=function(){var u=this._nodes.values();return new te(function(){var c=u.next();if(c.done)return c;var v=c.value;return{value:{node:v.key,attributes:v.attributes},done:!1}})},g.export=function(){var u=this,c=new Array(this._nodes.size),v=0;this._nodes.forEach(function(z,et){var _t,pt;c[v++]=(pt={key:et},E((_t=z).attributes)||(pt.attributes=O({},_t.attributes)),pt)});var k=new Array(this._edges.size);return v=0,this._edges.forEach(function(z,et){var xt,pt,Dt;k[v++]=(xt=u.type,Dt={key:et,source:(pt=z).source.key,target:pt.target.key},E(pt.attributes)||(Dt.attributes=O({},pt.attributes)),"mixed"===xt&&pt.undirected&&(Dt.undirected=!0),Dt)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:c,edges:k}},g.import=function(u){var c,v,k,z,et,xt=this,_t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(u instanceof b)return u.forEachNode(function(pn,xn){_t?xt.mergeNode(pn,xn):xt.addNode(pn,xn)}),u.forEachEdge(function(pn,xn,Yr,kr,To,Bi,Fi){_t?Fi?xt.mergeUndirectedEdgeWithKey(pn,Yr,kr,xn):xt.mergeDirectedEdgeWithKey(pn,Yr,kr,xn):Fi?xt.addUndirectedEdgeWithKey(pn,Yr,kr,xn):xt.addDirectedEdgeWithKey(pn,Yr,kr,xn)}),this;if(!w(u))throw new kt("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(u.attributes){if(!w(u.attributes))throw new kt("Graph.import: invalid attributes. Expecting a plain object.");_t?this.mergeAttributes(u.attributes):this.replaceAttributes(u.attributes)}if(u.nodes){if(k=u.nodes,!Array.isArray(k))throw new kt("Graph.import: invalid nodes. Expecting an array.");for(c=0,v=k.length;c<v;c++){Er(z=k[c]);var Dt=z.key,Lt=z.attributes;_t?this.mergeNode(Dt,Lt):this.addNode(Dt,Lt)}}if(u.edges){var Vt=!1;if("undirected"===this.type&&(Vt=!0),k=u.edges,!Array.isArray(k))throw new kt("Graph.import: invalid edges. Expecting an array.");for(c=0,v=k.length;c<v;c++){Ns(et=k[c]);var Ce=et.source,Oe=et.target,Pe=et.attributes,dn=et.undirected,bn=void 0===dn?Vt:dn;"key"in et?(_t?bn?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:bn?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,et.key,Ce,Oe,Pe):(_t?bn?this.mergeUndirectedEdge:this.mergeDirectedEdge:bn?this.addUndirectedEdge:this.addDirectedEdge).call(this,Ce,Oe,Pe)}}return this},g.nullCopy=function(u){var c=new b(O({},this._options,u));return c.replaceAttributes(O({},this.getAttributes())),c},g.emptyCopy=function(u){var c=this.nullCopy(u);return this._nodes.forEach(function(v,k){var z=O({},v.attributes);v=new c.NodeDataClass(k,z),c._nodes.set(k,v)}),c},g.copy=function(u){if("string"==typeof(u=u||{}).type&&u.type!==this.type&&"mixed"!==u.type)throw new Gt('Graph.copy: cannot create an incompatible copy from "'.concat(this.type,'" type to "').concat(u.type,'" because this would mean losing information about the current graph.'));if("boolean"==typeof u.multi&&u.multi!==this.multi&&!0!==u.multi)throw new Gt("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if("boolean"==typeof u.allowSelfLoops&&u.allowSelfLoops!==this.allowSelfLoops&&!0!==u.allowSelfLoops)throw new Gt("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");for(var c,v,k=this.emptyCopy(u),z=this._edges.values();!0!==(c=z.next()).done;)$r(k,"copy",!1,(v=c.value).undirected,v.key,v.source.key,v.target.key,O({},v.attributes));return k},g.toJSON=function(){return this.export()},g.toString=function(){return"[object Graph]"},g.inspect=function(){var u=this,c={};this._nodes.forEach(function(xt,_t){c[_t]=xt.attributes});var v={},k={};this._edges.forEach(function(xt,_t){var pt,Dt=xt.undirected?"--":"->",Lt="",Vt=xt.source.key,xe=xt.target.key;xt.undirected&&Vt>xe&&(pt=Vt,Vt=xe,xe=pt);var Ce="(".concat(Vt,")").concat(Dt,"(").concat(xe,")");_t.startsWith("geid_")?u.multi&&(void 0===k[Ce]?k[Ce]=0:k[Ce]++,Lt+="".concat(k[Ce],". ")):Lt+="[".concat(_t,"]: "),v[Lt+=Ce]=xt.attributes});var z={};for(var et in this)this.hasOwnProperty(et)&&!Co.has(et)&&"function"!=typeof this[et]&&"symbol"!==At(et)&&(z[et]=this[et]);return z.attributes=this._attributes,z.nodes=c,z.edges=v,I(z,"constructor",this.constructor),z},b}(q.exports.EventEmitter);"undefined"!=typeof Symbol&&(be.prototype[Symbol.for("nodejs.util.inspect.custom")]=be.prototype.inspect),[{name:function(p){return"".concat(p,"Edge")},generateKey:!0},{name:function(p){return"".concat(p,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(p){return"".concat(p,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(p){return"".concat(p,"EdgeWithKey")}},{name:function(p){return"".concat(p,"DirectedEdgeWithKey")},type:"directed"},{name:function(p){return"".concat(p,"UndirectedEdgeWithKey")},type:"undirected"}].forEach(function(p){["add","merge","update"].forEach(function(b){var g=p.name(b),u="add"===b?$r:Cr;be.prototype[g]=p.generateKey?function(c,v,k){return u(this,g,!0,"undirected"===(p.type||this.type),null,c,v,k,"update"===b)}:function(c,v,k,z){return u(this,g,!1,"undirected"===(p.type||this.type),c,v,k,z,"update"===b)}})}),p=be,jn.forEach(function(b){var g=b.name,u=b.attacher;u(p,g("Node"),0),u(p,g("Source"),1),u(p,g("Target"),2),u(p,g("Opposite"),3)}),function(p){Ge.forEach(function(b){var g=b.name,u=b.attacher;u(p,g("Edge"),"mixed"),u(p,g("DirectedEdge"),"directed"),u(p,g("UndirectedEdge"),"undirected")})}(be),function(p){Pi.forEach(function(b){var u,c,v,k;v=(u=b).type,k=u.direction,p.prototype[c=u.name]=function(z,et){if("mixed"!==v&&"mixed"!==this.type&&v!==this.type)return[];if(!arguments.length)return Br(this,v);if(1===arguments.length){var xt=this._nodes.get(z=""+z);if(void 0===xt)throw new Mt("Graph.".concat(c,': could not find the "').concat(z,'" node in the graph.'));return di(this.multi,"mixed"===v?this.type:v,k,xt)}if(2===arguments.length){et=""+et;var _t=this._nodes.get(z=""+z);if(!_t)throw new Mt("Graph.".concat(c,':  could not find the "').concat(z,'" source node in the graph.'));if(!this._nodes.has(et))throw new Mt("Graph.".concat(c,':  could not find the "').concat(et,'" target node in the graph.'));return Wi(v,this.multi,k,_t,et)}throw new kt("Graph.".concat(c,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))},function(g,u){var c=u.name,v=u.type,k=u.direction,z="forEach"+c[0].toUpperCase()+c.slice(1,-1);g.prototype[z]=function(pt,Dt,Lt){if("mixed"===v||"mixed"===this.type||v===this.type){if(1===arguments.length)return _o(!1,this,v,Lt=pt);if(2===arguments.length){Lt=Dt;var Vt=this._nodes.get(pt=""+pt);if(void 0===Vt)throw new Mt("Graph.".concat(z,': could not find the "').concat(pt,'" node in the graph.'));return Kn(!1,this.multi,"mixed"===v?this.type:v,k,Vt,Lt)}if(3===arguments.length){Dt=""+Dt;var xe=this._nodes.get(pt=""+pt);if(!xe)throw new Mt("Graph.".concat(z,':  could not find the "').concat(pt,'" source node in the graph.'));if(!this._nodes.has(Dt))throw new Mt("Graph.".concat(z,':  could not find the "').concat(Dt,'" target node in the graph.'));return _r(!1,v,this.multi,k,xe,Dt,Lt)}throw new kt("Graph.".concat(z,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}};var et="map"+c[0].toUpperCase()+c.slice(1);g.prototype[et]=function(){var pt,Dt=Array.prototype.slice.call(arguments),Lt=Dt.pop();if(0===Dt.length){var Vt=0;"directed"!==v&&(Vt+=this.undirectedSize),"undirected"!==v&&(Vt+=this.directedSize),pt=new Array(Vt);var xe=0;Dt.push(function(Ce,Oe,Pe,dn,bn,pn,xn){pt[xe++]=Lt(Ce,Oe,Pe,dn,bn,pn,xn)})}else pt=[],Dt.push(function(Ce,Oe,Pe,dn,bn,pn,xn){pt.push(Lt(Ce,Oe,Pe,dn,bn,pn,xn))});return this[z].apply(this,Dt),pt};var xt="filter"+c[0].toUpperCase()+c.slice(1);g.prototype[xt]=function(){var pt=Array.prototype.slice.call(arguments),Dt=pt.pop(),Lt=[];return pt.push(function(Vt,xe,Ce,Oe,Pe,dn,bn){Dt(Vt,xe,Ce,Oe,Pe,dn,bn)&&Lt.push(Vt)}),this[z].apply(this,pt),Lt};var _t="reduce"+c[0].toUpperCase()+c.slice(1);g.prototype[_t]=function(){var pt,Dt,Lt=Array.prototype.slice.call(arguments);if(Lt.length<2||Lt.length>4)throw new kt("Graph.".concat(_t,": invalid number of arguments (expecting 2, 3 or 4 and got ").concat(Lt.length,")."));if("function"==typeof Lt[Lt.length-1]&&"function"!=typeof Lt[Lt.length-2])throw new kt("Graph.".concat(_t,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));2===Lt.length?(pt=Lt[0],Dt=Lt[1],Lt=[]):3===Lt.length?(pt=Lt[1],Dt=Lt[2],Lt=[Lt[0]]):4===Lt.length&&(pt=Lt[2],Dt=Lt[3],Lt=[Lt[0],Lt[1]]);var Vt=Dt;return Lt.push(function(xe,Ce,Oe,Pe,dn,bn,pn){Vt=pt(Vt,xe,Ce,Oe,Pe,dn,bn,pn)}),this[z].apply(this,Lt),Vt}}(p,b),function(g,u){var c=u.name,v=u.type,k=u.direction,z="find"+c[0].toUpperCase()+c.slice(1,-1);g.prototype[z]=function(_t,pt,Dt){if("mixed"!==v&&"mixed"!==this.type&&v!==this.type)return!1;if(1===arguments.length)return _o(!0,this,v,Dt=_t);if(2===arguments.length){Dt=pt;var Lt=this._nodes.get(_t=""+_t);if(void 0===Lt)throw new Mt("Graph.".concat(z,': could not find the "').concat(_t,'" node in the graph.'));return Kn(!0,this.multi,"mixed"===v?this.type:v,k,Lt,Dt)}if(3===arguments.length){pt=""+pt;var Vt=this._nodes.get(_t=""+_t);if(!Vt)throw new Mt("Graph.".concat(z,':  could not find the "').concat(_t,'" source node in the graph.'));if(!this._nodes.has(pt))throw new Mt("Graph.".concat(z,':  could not find the "').concat(pt,'" target node in the graph.'));return _r(!0,v,this.multi,k,Vt,pt,Dt)}throw new kt("Graph.".concat(z,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))};var et="some"+c[0].toUpperCase()+c.slice(1,-1);g.prototype[et]=function(){var _t=Array.prototype.slice.call(arguments),pt=_t.pop();return _t.push(function(Dt,Lt,Vt,xe,Ce,Oe,Pe){return pt(Dt,Lt,Vt,xe,Ce,Oe,Pe)}),!!this[z].apply(this,_t)};var xt="every"+c[0].toUpperCase()+c.slice(1,-1);g.prototype[xt]=function(){var _t=Array.prototype.slice.call(arguments),pt=_t.pop();return _t.push(function(Dt,Lt,Vt,xe,Ce,Oe,Pe){return!pt(Dt,Lt,Vt,xe,Ce,Oe,Pe)}),!this[z].apply(this,_t)}}(p,b),function(g,u){var v=u.type,k=u.direction,z=u.name.slice(0,-1)+"Entries";g.prototype[z]=function(et,xt){if("mixed"!==v&&"mixed"!==this.type&&v!==this.type)return te.empty();if(!arguments.length)return xr(this,v);if(1===arguments.length){var _t=this._nodes.get(et=""+et);if(!_t)throw new Mt("Graph.".concat(z,': could not find the "').concat(et,'" node in the graph.'));return pi(v,k,_t)}if(2===arguments.length){xt=""+xt;var pt=this._nodes.get(et=""+et);if(!pt)throw new Mt("Graph.".concat(z,':  could not find the "').concat(et,'" source node in the graph.'));if(!this._nodes.has(xt))throw new Mt("Graph.".concat(z,':  could not find the "').concat(xt,'" target node in the graph.'));return Fr(v,k,pt,xt)}throw new kt("Graph.".concat(z,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(p,b)})}(be),function(p){ur.forEach(function(b){var g,u,c,v,k,z,et;(function Ao(p,b){var g=b.name,u=b.type,c=b.direction;p.prototype[g]=function(v){if("mixed"!==u&&"mixed"!==this.type&&u!==this.type)return[];var k=this._nodes.get(v=""+v);if(void 0===k)throw new Mt("Graph.".concat(g,': could not find the "').concat(v,'" node in the graph.'));return function(z,et,xt){if("mixed"!==z){if("undirected"===z)return Object.keys(xt.undirected);if("string"==typeof et)return Object.keys(xt[et])}var _t=[];return Dn(!1,z,et,xt,function(pt){_t.push(pt)}),_t}("mixed"===u?this.type:u,c,k)}})(p,b),function(g,u){var c=u.name,v=u.type,k=u.direction,z="forEach"+c[0].toUpperCase()+c.slice(1,-1);g.prototype[z]=function(pt,Dt){if("mixed"===v||"mixed"===this.type||v===this.type){var Lt=this._nodes.get(pt=""+pt);if(void 0===Lt)throw new Mt("Graph.".concat(z,': could not find the "').concat(pt,'" node in the graph.'));Dn(!1,"mixed"===v?this.type:v,k,Lt,Dt)}};var et="map"+c[0].toUpperCase()+c.slice(1);g.prototype[et]=function(pt,Dt){var Lt=[];return this[z](pt,function(Vt,xe){Lt.push(Dt(Vt,xe))}),Lt};var xt="filter"+c[0].toUpperCase()+c.slice(1);g.prototype[xt]=function(pt,Dt){var Lt=[];return this[z](pt,function(Vt,xe){Dt(Vt,xe)&&Lt.push(Vt)}),Lt};var _t="reduce"+c[0].toUpperCase()+c.slice(1);g.prototype[_t]=function(pt,Dt,Lt){if(arguments.length<3)throw new kt("Graph.".concat(_t,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));var Vt=Lt;return this[z](pt,function(xe,Ce){Vt=Dt(Vt,xe,Ce)}),Vt}}(p,b),g=p,v=(u=b).type,k=u.direction,z=(c=u.name)[0].toUpperCase()+c.slice(1,-1),g.prototype[et="find"+z]=function(pt,Dt){if("mixed"===v||"mixed"===this.type||v===this.type){var Lt=this._nodes.get(pt=""+pt);if(void 0===Lt)throw new Mt("Graph.".concat(et,': could not find the "').concat(pt,'" node in the graph.'));return Dn(!0,"mixed"===v?this.type:v,k,Lt,Dt)}},g.prototype["some"+z]=function(pt,Dt){return!!this[et](pt,Dt)},g.prototype["every"+z]=function(pt,Dt){return!this[et](pt,function(Lt,Vt){return!Dt(Lt,Vt)})},function vi(p,b){var u=b.type,c=b.direction,v=b.name.slice(0,-1)+"Entries";p.prototype[v]=function(k){if("mixed"!==u&&"mixed"!==this.type&&u!==this.type)return te.empty();var z=this._nodes.get(k=""+k);if(void 0===z)throw new Mt("Graph.".concat(v,': could not find the "').concat(k,'" node in the graph.'));return function(et,xt,_t){if("mixed"!==et){if("undirected"===et)return gi(null,_t,_t.undirected);if("string"==typeof xt)return gi(null,_t,_t[xt])}var pt=te.empty(),Dt=new Vn;return"undirected"!==et&&("out"!==xt&&(pt=$e(pt,gi(Dt,_t,_t.in))),"in"!==xt&&(pt=$e(pt,gi(Dt,_t,_t.out)))),"directed"!==et&&(pt=$e(pt,gi(Dt,_t,_t.undirected))),pt}("mixed"===u?this.type:u,c,z)}}(p,b)})}(be);var Ui=function(p){function b(g){var u=O({type:"directed"},g);if("multi"in u&&!1!==u.multi)throw new kt("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("directed"!==u.type)throw new kt('DirectedGraph.from: inconsistent "'+u.type+'" type in given options!');return p.call(this,u)||this}return P(b,p),b}(be),ko=function(p){function b(g){var u=O({type:"undirected"},g);if("multi"in u&&!1!==u.multi)throw new kt("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("undirected"!==u.type)throw new kt('UndirectedGraph.from: inconsistent "'+u.type+'" type in given options!');return p.call(this,u)||this}return P(b,p),b}(be),Mo=function(p){function b(g){var u=O({multi:!0},g);if("multi"in u&&!0!==u.multi)throw new kt("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");return p.call(this,u)||this}return P(b,p),b}(be),Io=function(p){function b(g){var u=O({type:"directed",multi:!0},g);if("multi"in u&&!0!==u.multi)throw new kt("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("directed"!==u.type)throw new kt('MultiDirectedGraph.from: inconsistent "'+u.type+'" type in given options!');return p.call(this,u)||this}return P(b,p),b}(be),No=function(p){function b(g){var u=O({type:"undirected",multi:!0},g);if("multi"in u&&!0!==u.multi)throw new kt("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("undirected"!==u.type)throw new kt('MultiUndirectedGraph.from: inconsistent "'+u.type+'" type in given options!');return p.call(this,u)||this}return P(b,p),b}(be);function Sr(p){p.from=function(b,g){var u=O({},b.options,g),c=new p(u);return c.import(b),c}}return Sr(be),Sr(Ui),Sr(ko),Sr(Mo),Sr(Io),Sr(No),be.Graph=be,be.DirectedGraph=Ui,be.UndirectedGraph=ko,be.MultiGraph=Mo,be.MultiDirectedGraph=Io,be.MultiUndirectedGraph=No,be.InvalidArgumentsGraphError=kt,be.NotFoundGraphError=Mt,be.UsageGraphError=Gt,be}()},7489:function(Nt,At,P){var ft;Nt=P.nmd(Nt),function(){var C,T="Expected a function",x="__lodash_hash_undefined__",E="__lodash_placeholder__",L=32,Qt=1/0,ve=9007199254740991,ie=4294967295,ye=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",L],["partialRight",64],["rearg",256]],kt="[object Arguments]",Mt="[object Array]",ze="[object Boolean]",je="[object Date]",Ze="[object Error]",Te="[object Function]",jn="[object GeneratorFunction]",Ge="[object Map]",wn="[object Number]",$e="[object Object]",Pi="[object Promise]",Wn="[object RegExp]",ln="[object Set]",li="[object String]",br="[object Symbol]",Br="[object WeakMap]",xr="[object ArrayBuffer]",Kn="[object DataView]",di="[object Float32Array]",pi="[object Float64Array]",_r="[object Int8Array]",Wi="[object Int16Array]",Fr="[object Int32Array]",ur="[object Uint8Array]",Vn="[object Uint8ClampedArray]",Un="[object Uint16Array]",Dn="[object Uint32Array]",gi=/\b__p \+= '';/g,Ao=/\b(__p \+=) '' \+/g,vi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ar=/&(?:amp|lt|gt|quot|#39);/g,Er=/[&<>"']/g,Ns=RegExp(Ar.source),Eo=RegExp(Er.source),Ts=/<%-([\s\S]+?)%>/g,Xa=/<%([\s\S]+?)%>/g,Co=/<%=([\s\S]+?)%>/g,Zr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,So=/^\w*$/,$r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Cr=/[\\^$.*+?()[\]{}|]/g,qn=RegExp(Cr.source),be=/^\s+/,Ui=/\s/,ko=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Mo=/\{\n\/\* \[wrapped with (.+)\] \*/,Io=/,? & /,No=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Sr=/[()=,{}\[\]\/\s]/,p=/\\(\\)?/g,b=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,g=/\w*$/,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,v=/^\[object .+?Constructor\]$/,k=/^0o[0-7]+$/i,z=/^(?:0|[1-9]\d*)$/,et=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xt=/($^)/,_t=/['\n\r\u2028\u2029\\]/g,pt="\\ud800-\\udfff",xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ce="\\u2700-\\u27bf",Oe="a-z\\xdf-\\xf6\\xf8-\\xff",xn="A-Z\\xc0-\\xd6\\xd8-\\xde",Yr="\\ufe0e\\ufe0f",kr="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Bi="["+pt+"]",Fi="["+kr+"]",Do="["+xe+"]",ja="\\d+",qc="["+Ce+"]",Ka="["+Oe+"]",Va="[^"+pt+kr+ja+Ce+Oe+xn+"]",Ds="\\ud83c[\\udffb-\\udfff]",qa="[^"+pt+"]",Ls="(?:\\ud83c[\\udde6-\\uddff]){2}",Rs="[\\ud800-\\udbff][\\udc00-\\udfff]",yi="["+xn+"]",Qa="(?:"+Ka+"|"+Va+")",Qc="(?:"+yi+"|"+Va+")",tu="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",eu="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",nu="(?:"+Do+"|"+Ds+")?",Lo="["+Yr+"]?",iu=Lo+nu+"(?:\\u200d(?:"+[qa,Ls,Rs].join("|")+")"+Lo+nu+")*",ef="(?:"+[qc,Ls,Rs].join("|")+")"+iu,nf="(?:"+[qa+Do+"?",Do,Ls,Rs,Bi].join("|")+")",rf=RegExp("['\u2019]","g"),of=RegExp(Do,"g"),zs=RegExp(Ds+"(?="+Ds+")|"+nf+iu,"g"),ou=RegExp([yi+"?"+Ka+"+"+tu+"(?="+[Fi,yi,"$"].join("|")+")",Qc+"+"+eu+"(?="+[Fi,yi+Qa,"$"].join("|")+")",yi+"?"+Qa+"+"+tu,yi+"+"+eu,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ja,ef].join("|"),"g"),sf=RegExp("[\\u200d"+pt+xe+Yr+"]"),af=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,uf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],cf=-1,Ae={};Ae[di]=Ae[pi]=Ae[_r]=Ae[Wi]=Ae[Fr]=Ae[ur]=Ae[Vn]=Ae[Un]=Ae[Dn]=!0,Ae[kt]=Ae[Mt]=Ae[xr]=Ae[ze]=Ae[Kn]=Ae[je]=Ae[Ze]=Ae[Te]=Ae[Ge]=Ae[wn]=Ae[$e]=Ae[Wn]=Ae[ln]=Ae[li]=Ae[Br]=!1;var Ie={};Ie[kt]=Ie[Mt]=Ie[xr]=Ie[Kn]=Ie[ze]=Ie[je]=Ie[di]=Ie[pi]=Ie[_r]=Ie[Wi]=Ie[Fr]=Ie[Ge]=Ie[wn]=Ie[$e]=Ie[Wn]=Ie[ln]=Ie[li]=Ie[br]=Ie[ur]=Ie[Vn]=Ie[Un]=Ie[Dn]=!0,Ie[Ze]=Ie[Te]=Ie[Br]=!1;var su={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gs=parseFloat,au=parseInt,Os="object"==typeof global&&global&&global.Object===Object&&global,uu="object"==typeof self&&self&&self.Object===Object&&self,Ke=Os||uu||Function("return this")(),cu=At&&!At.nodeType&&At,Zi=cu&&Nt&&!Nt.nodeType&&Nt,fu=Zi&&Zi.exports===cu,Ps=fu&&Os.process,Ln=function(){try{return Zi&&Zi.require&&Zi.require("util").types||Ps&&Ps.binding&&Ps.binding("util")}catch(lt){}}(),hu=Ln&&Ln.isArrayBuffer,lu=Ln&&Ln.isDate,du=Ln&&Ln.isMap,pu=Ln&&Ln.isRegExp,gu=Ln&&Ln.isSet,vu=Ln&&Ln.isTypedArray;function In(V,lt,st){switch(st.length){case 0:return V.call(lt);case 1:return V.call(lt,st[0]);case 2:return V.call(lt,st[0],st[1]);case 3:return V.call(lt,st[0],st[1],st[2])}return V.apply(lt,st)}function df(V,lt,st,Ut){for(var oe=-1,me=null==V?0:V.length;++oe<me;){var We=V[oe];lt(Ut,We,st(We),V)}return Ut}function Rn(V,lt){for(var st=-1,Ut=null==V?0:V.length;++st<Ut&&!1!==lt(V[st],st,V););return V}function pf(V,lt){for(var st=null==V?0:V.length;st--&&!1!==lt(V[st],st,V););return V}function yu(V,lt){for(var st=-1,Ut=null==V?0:V.length;++st<Ut;)if(!lt(V[st],st,V))return!1;return!0}function Mr(V,lt){for(var st=-1,Ut=null==V?0:V.length,oe=0,me=[];++st<Ut;){var We=V[st];lt(We,st,V)&&(me[oe++]=We)}return me}function mi(V,lt){return!(null==V||!V.length)&&wi(V,lt,0)>-1}function Ws(V,lt,st){for(var Ut=-1,oe=null==V?0:V.length;++Ut<oe;)if(st(lt,V[Ut]))return!0;return!1}function De(V,lt){for(var st=-1,Ut=null==V?0:V.length,oe=Array(Ut);++st<Ut;)oe[st]=lt(V[st],st,V);return oe}function Ir(V,lt){for(var st=-1,Ut=lt.length,oe=V.length;++st<Ut;)V[oe+st]=lt[st];return V}function Us(V,lt,st,Ut){var oe=-1,me=null==V?0:V.length;for(Ut&&me&&(st=V[++oe]);++oe<me;)st=lt(st,V[oe],oe,V);return st}function gf(V,lt,st,Ut){var oe=null==V?0:V.length;for(Ut&&oe&&(st=V[--oe]);oe--;)st=lt(st,V[oe],oe,V);return st}function Bs(V,lt){for(var st=-1,Ut=null==V?0:V.length;++st<Ut;)if(lt(V[st],st,V))return!0;return!1}var vf=Zs("length");function mu(V,lt,st){var Ut;return st(V,function(oe,me,We){if(lt(oe,me,We))return Ut=me,!1}),Ut}function zo(V,lt,st,Ut){for(var oe=V.length,me=st+(Ut?1:-1);Ut?me--:++me<oe;)if(lt(V[me],me,V))return me;return-1}function wi(V,lt,st){return lt==lt?function Su(V,lt,st){for(var Ut=st-1,oe=V.length;++Ut<oe;)if(V[Ut]===lt)return Ut;return-1}(V,lt,st):zo(V,wu,st)}function wf(V,lt,st,Ut){for(var oe=st-1,me=V.length;++oe<me;)if(Ut(V[oe],lt))return oe;return-1}function wu(V){return V!=V}function Fs(V,lt){var st=null==V?0:V.length;return st?Go(V,lt)/st:NaN}function Zs(V){return function(lt){return null==lt?C:lt[V]}}function $s(V){return function(lt){return null==V?C:V[lt]}}function bu(V,lt,st,Ut,oe){return oe(V,function(me,We,Ee){st=Ut?(Ut=!1,me):lt(st,me,We,Ee)}),st}function Go(V,lt){for(var st,Ut=-1,oe=V.length;++Ut<oe;){var me=lt(V[Ut]);me!==C&&(st=st===C?me:st+me)}return st}function gn(V,lt){for(var st=-1,Ut=Array(V);++st<V;)Ut[st]=lt(st);return Ut}function _u(V){return V&&V.slice(0,Wo(V)+1).replace(be,"")}function Ve(V){return function(lt){return V(lt)}}function Ys(V,lt){return De(lt,function(st){return V[st]})}function bi(V,lt){return V.has(lt)}function $i(V,lt){for(var st=-1,Ut=V.length;++st<Ut&&wi(lt,V[st],0)>-1;);return st}function Au(V,lt){for(var st=V.length;st--&&wi(lt,V[st],0)>-1;);return st}function xf(V,lt){for(var st=V.length,Ut=0;st--;)V[st]===lt&&++Ut;return Ut}var Eu=$s({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Oo=$s({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function xi(V){return"\\"+su[V]}function Jn(V){return sf.test(V)}function Hr(V){var lt=-1,st=Array(V.size);return V.forEach(function(Ut,oe){st[++lt]=[oe,Ut]}),st}function Hi(V,lt){return function(st){return V(lt(st))}}function _n(V,lt){for(var st=-1,Ut=V.length,oe=0,me=[];++st<Ut;){var We=V[st];(We===lt||We===E)&&(V[st]=E,me[oe++]=st)}return me}function Xr(V){var lt=-1,st=Array(V.size);return V.forEach(function(Ut){st[++lt]=Ut}),st}function _i(V){return Jn(V)?function ku(V){for(var lt=zs.lastIndex=0;zs.test(V);)++lt;return lt}(V):vf(V)}function An(V){return Jn(V)?function Af(V){return V.match(zs)||[]}(V):function yf(V){return V.split("")}(V)}function Wo(V){for(var lt=V.length;lt--&&Ui.test(V.charAt(lt)););return lt}var _f=$s({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ji=function V(lt){var t,st=(lt=null==lt?Ke:ji.defaults(Ke.Object(),lt,ji.pick(Ke,uf))).Array,Ut=lt.Date,oe=lt.Error,me=lt.Function,We=lt.Math,Ee=lt.Object,Ai=lt.RegExp,Uo=lt.String,En=lt.TypeError,Nn=st.prototype,Ei=Ee.prototype,jr=lt["__core-js_shared__"],Bo=me.prototype.toString,he=Ei.hasOwnProperty,Mu=0,Fo=(t=/[^.]+$/.exec(jr&&jr.keys&&jr.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"",Ki=Ei.toString,Zo=Bo.call(Ee),Cf=Ke._,Sf=Ai("^"+Bo.call(he).replace(Cr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vi=fu?lt.Buffer:C,Nr=lt.Symbol,$o=lt.Uint8Array,Iu=Vi?Vi.allocUnsafe:C,Yo=Hi(Ee.getPrototypeOf,Ee),Nu=Ee.create,Ho=Ei.propertyIsEnumerable,Ci=Nn.splice,js=Nr?Nr.isConcatSpreadable:C,cr=Nr?Nr.iterator:C,Fn=Nr?Nr.toStringTag:C,Kr=function(){try{var t=or(Ee,"defineProperty");return t({},"",{}),t}catch(n){}}(),Si=lt.clearTimeout!==Ke.clearTimeout&&lt.clearTimeout,qi=Ut&&Ut.now!==Ke.Date.now&&Ut.now,Qn=lt.setTimeout!==Ke.setTimeout&&lt.setTimeout,Xo=We.ceil,jo=We.floor,Ks=Ee.getOwnPropertySymbols,kf=Vi?Vi.isBuffer:C,Tu=lt.isFinite,Mf=Nn.join,If=Hi(Ee.keys,Ee),Ue=We.max,qe=We.min,Nf=Ut.now,Tf=lt.parseInt,Vs=We.random,Vr=Nn.reverse,Ko=or(lt,"DataView"),Tr=or(lt,"Map"),qs=or(lt,"Promise"),fr=or(lt,"Set"),He=or(lt,"WeakMap"),ki=or(Ee,"create"),Vo=He&&new He,qr={},qo=ai(Ko),Jr=ai(Tr),Qr=ai(qs),Du=ai(fr),Lu=ai(He),Jo=Nr?Nr.prototype:C,vn=Jo?Jo.valueOf:C,Js=Jo?Jo.toString:C;function A(t){if(ut(t)&&!J(t)&&!(t instanceof pe)){if(t instanceof zn)return t;if(he.call(t,"__wrapped__"))return _c(t)}return new zn(t)}var Dr=function(){function t(){}return function(n){if(!It(n))return{};if(Nu)return Nu(n);t.prototype=n;var o=new t;return t.prototype=C,o}}();function Ji(){}function zn(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=C}function pe(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ie,this.__views__=[]}function Mi(t){var n=-1,o=null==t?0:t.length;for(this.clear();++n<o;){var f=t[n];this.set(f[0],f[1])}}function Lr(t){var n=-1,o=null==t?0:t.length;for(this.clear();++n<o;){var f=t[n];this.set(f[0],f[1])}}function tr(t){var n=-1,o=null==t?0:t.length;for(this.clear();++n<o;){var f=t[n];this.set(f[0],f[1])}}function ti(t){var n=-1,o=null==t?0:t.length;for(this.__data__=new tr;++n<o;)this.add(t[n])}function Zn(t){var n=this.__data__=new Lr(t);this.size=n.size}function Pu(t,n){var o=J(t),f=!o&&gt(t),y=!o&&!f&&tt(t),M=!o&&!f&&!y&&ci(t),W=o||f||y||M,Y=W?gn(t.length,Uo):[],Q=Y.length;for(var yt in t)(n||he.call(t,yt))&&(!W||!("length"==yt||y&&("offset"==yt||"parent"==yt)||M&&("buffer"==yt||"byteLength"==yt||"byteOffset"==yt)||pr(yt,Q)))&&Y.push(yt);return Y}function Wu(t){var n=t.length;return n?t[pa(0,n-1)]:C}function jf(t,n){return ms(Sn(t),ei(n,0,t.length))}function Kf(t){return ms(Sn(t))}function na(t,n,o){(o!==C&&!B(t[n],o)||o===C&&!(n in t))&&hr(t,n,o)}function Qi(t,n,o){var f=t[n];(!he.call(t,n)||!B(f,o)||o===C&&!(n in t))&&hr(t,n,o)}function ts(t,n){for(var o=t.length;o--;)if(B(t[o][0],n))return o;return-1}function Vf(t,n,o,f){return Rr(t,function(y,M,W){n(f,y,o(y),W)}),f}function Uu(t,n){return t&&rr(n,fn(n),t)}function hr(t,n,o){"__proto__"==n&&Kr?Kr(t,n,{configurable:!0,enumerable:!0,value:o,writable:!0}):t[n]=o}function ra(t,n){for(var o=-1,f=n.length,y=st(f),M=null==t;++o<f;)y[o]=M?C:Dl(t,n[o]);return y}function ei(t,n,o){return t==t&&(o!==C&&(t=t<=o?t:o),n!==C&&(t=t>=n?t:n)),t}function Gn(t,n,o,f,y,M){var W,Y=1&n,Q=2&n,yt=4&n;if(o&&(W=y?o(t,f,y,M):o(t)),W!==C)return W;if(!It(t))return t;var wt=J(t);if(wt){if(W=function Ah(t){var n=t.length,o=new t.constructor(n);return n&&"string"==typeof t[0]&&he.call(t,"index")&&(o.index=t.index,o.input=t.input),o}(t),!Y)return Sn(t,W)}else{var Ct=tn(t),Ot=Ct==Te||Ct==jn;if(tt(t))return tc(t,Y);if(Ct==$e||Ct==kt||Ot&&!y){if(W=Q||Ot?{}:si(t),!Y)return Q?function xa(t,n){return rr(t,bh(t),n)}(t,function qf(t,n){return t&&rr(n,On(n),t)}(W,t)):function ph(t,n){return rr(t,ka(t),n)}(t,Uu(W,t))}else{if(!Ie[Ct])return y?t:{};W=function Ma(t,n,o){var f=t.constructor;switch(n){case xr:return Qe(t);case ze:case je:return new f(+t);case Kn:return function fh(t,n){var o=n?Qe(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.byteLength)}(t,o);case di:case pi:case _r:case Wi:case Fr:case ur:case Vn:case Un:case Dn:return ec(t,o);case Ge:return new f;case wn:case li:return new f(t);case Wn:return function hh(t){var n=new t.constructor(t.source,g.exec(t));return n.lastIndex=t.lastIndex,n}(t);case ln:return new f;case br:return function lh(t){return vn?Ee(vn.call(t)):{}}(t)}}(t,Ct,Y)}}M||(M=new Zn);var Yt=M.get(t);if(Yt)return Yt;M.set(t,W),cn(t)?t.forEach(function(ne){W.add(Gn(ne,n,o,ne,t,M))}):Rt(t)&&t.forEach(function(ne,ge){W.set(ge,Gn(ne,n,o,ge,t,M))});var de=wt?C:(yt?Q?ls:Sa:Q?On:fn)(t);return Rn(de||t,function(ne,ge){de&&(ne=t[ge=ne]),Qi(W,ge,Gn(ne,n,o,ge,t,M))}),W}function Bu(t,n,o){var f=o.length;if(null==t)return!f;for(t=Ee(t);f--;){var y=o[f],W=t[y];if(W===C&&!(y in t)||!(0,n[y])(W))return!1}return!0}function Fu(t,n,o){if("function"!=typeof t)throw new En(T);return vo(function(){t.apply(C,o)},n)}function to(t,n,o,f){var y=-1,M=mi,W=!0,Y=t.length,Q=[],yt=n.length;if(!Y)return Q;o&&(n=De(n,Ve(o))),f?(M=Ws,W=!1):n.length>=200&&(M=bi,W=!1,n=new ti(n));t:for(;++y<Y;){var wt=t[y],Ct=null==o?wt:o(wt);if(wt=f||0!==wt?wt:0,W&&Ct==Ct){for(var Ot=yt;Ot--;)if(n[Ot]===Ct)continue t;Q.push(wt)}else M(n,Ct,f)||Q.push(wt)}return Q}A.templateSettings={escape:Ts,evaluate:Xa,interpolate:Co,variable:"",imports:{_:A}},(A.prototype=Ji.prototype).constructor=A,(zn.prototype=Dr(Ji.prototype)).constructor=zn,(pe.prototype=Dr(Ji.prototype)).constructor=pe,Mi.prototype.clear=function Lf(){this.__data__=ki?ki(null):{},this.size=0},Mi.prototype.delete=function zu(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},Mi.prototype.get=function Qo(t){var n=this.__data__;if(ki){var o=n[t];return o===x?C:o}return he.call(n,t)?n[t]:C},Mi.prototype.has=function Gu(t){var n=this.__data__;return ki?n[t]!==C:he.call(n,t)},Mi.prototype.set=function Bl(t,n){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=ki&&n===C?x:n,this},Lr.prototype.clear=function ta(){this.__data__=[],this.size=0},Lr.prototype.delete=function ea(t){var n=this.__data__,o=ts(n,t);return!(o<0||(o==n.length-1?n.pop():Ci.call(n,o,1),--this.size,0))},Lr.prototype.get=function Rf(t){var n=this.__data__,o=ts(n,t);return o<0?C:n[o][1]},Lr.prototype.has=function zf(t){return ts(this.__data__,t)>-1},Lr.prototype.set=function Ou(t,n){var o=this.__data__,f=ts(o,t);return f<0?(++this.size,o.push([t,n])):o[f][1]=n,this},tr.prototype.clear=function Gf(){this.size=0,this.__data__={hash:new Mi,map:new(Tr||Lr),string:new Mi}},tr.prototype.delete=function Of(t){var n=ps(this,t).delete(t);return this.size-=n?1:0,n},tr.prototype.get=function Pf(t){return ps(this,t).get(t)},tr.prototype.has=function Wf(t){return ps(this,t).has(t)},tr.prototype.set=function Uf(t,n){var o=ps(this,t),f=o.size;return o.set(t,n),this.size+=o.size==f?0:1,this},ti.prototype.add=ti.prototype.push=function Bf(t){return this.__data__.set(t,x),this},ti.prototype.has=function Ff(t){return this.__data__.has(t)},Zn.prototype.clear=function Zf(){this.__data__=new Lr,this.size=0},Zn.prototype.delete=function $f(t){var n=this.__data__,o=n.delete(t);return this.size=n.size,o},Zn.prototype.get=function Yf(t){return this.__data__.get(t)},Zn.prototype.has=function Hf(t){return this.__data__.has(t)},Zn.prototype.set=function Xf(t,n){var o=this.__data__;if(o instanceof Lr){var f=o.__data__;if(!Tr||f.length<199)return f.push([t,n]),this.size=++o.size,this;o=this.__data__=new tr(f)}return o.set(t,n),this.size=o.size,this};var Rr=sn(er),Zu=sn(oa,!0);function $u(t,n){var o=!0;return Rr(t,function(f,y,M){return o=!!n(f,y,M)}),o}function es(t,n,o){for(var f=-1,y=t.length;++f<y;){var M=t[f],W=n(M);if(null!=W&&(Y===C?W==W&&!en(W):o(W,Y)))var Y=W,Q=M}return Q}function Yu(t,n){var o=[];return Rr(t,function(f,y,M){n(f,y,M)&&o.push(f)}),o}function Je(t,n,o,f,y){var M=-1,W=t.length;for(o||(o=Ia),y||(y=[]);++M<W;){var Y=t[M];n>0&&o(Y)?n>1?Je(Y,n-1,o,f,y):Ir(y,Y):f||(y[y.length]=Y)}return y}var ia=Or(),Hu=Or(!0);function er(t,n){return t&&ia(t,n,fn)}function oa(t,n){return t&&Hu(t,n,fn)}function ns(t,n){return Mr(n,function(o){return re(t[o])})}function ni(t,n){for(var o=0,f=(n=dr(n,t)).length;null!=t&&o<f;)t=t[gr(n[o++])];return o&&o==f?t:C}function Xu(t,n,o){var f=n(t);return J(t)?f:Ir(f,o(t))}function yn(t){return null==t?t===C?"[object Undefined]":"[object Null]":Fn&&Fn in Ee(t)?function lc(t){var n=he.call(t,Fn),o=t[Fn];try{t[Fn]=C;var f=!0}catch(M){}var y=Ki.call(t);return f&&(n?t[Fn]=o:delete t[Fn]),y}(t):function Ch(t){return Ki.call(t)}(t)}function sa(t,n){return t>n}function th(t,n){return null!=t&&he.call(t,n)}function eh(t,n){return null!=t&&n in Ee(t)}function $n(t,n,o){for(var f=o?Ws:mi,y=t[0].length,M=t.length,W=M,Y=st(M),Q=1/0,yt=[];W--;){var wt=t[W];W&&n&&(wt=De(wt,Ve(n))),Q=qe(wt.length,Q),Y[W]=!o&&(n||y>=120&&wt.length>=120)?new ti(W&&wt):C}wt=t[0];var Ct=-1,Ot=Y[0];t:for(;++Ct<y&&yt.length<Q;){var Yt=wt[Ct],ee=n?n(Yt):Yt;if(Yt=o||0!==Yt?Yt:0,!(Ot?bi(Ot,ee):f(yt,ee,o))){for(W=M;--W;){var de=Y[W];if(!(de?bi(de,ee):f(t[W],ee,o)))continue t}Ot&&Ot.push(ee),yt.push(Yt)}}return yt}function Ii(t,n,o){var f=null==(t=po(t,n=dr(n,t)))?t:t[gr(mn(n))];return null==f?C:In(f,t,o)}function nr(t){return ut(t)&&yn(t)==kt}function eo(t,n,o,f,y){return t===n||(null==t||null==n||!ut(t)&&!ut(n)?t!=t&&n!=n:function ih(t,n,o,f,y,M){var W=J(t),Y=J(n),Q=W?Mt:tn(t),yt=Y?Mt:tn(n),wt=(Q=Q==kt?$e:Q)==$e,Ct=(yt=yt==kt?$e:yt)==$e,Ot=Q==yt;if(Ot&&tt(t)){if(!tt(n))return!1;W=!0,wt=!1}if(Ot&&!wt)return M||(M=new Zn),W||ci(t)?fo(t,n,o,f,y,M):function Ca(t,n,o,f,y,M,W){switch(o){case Kn:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case xr:return!(t.byteLength!=n.byteLength||!M(new $o(t),new $o(n)));case ze:case je:case wn:return B(+t,+n);case Ze:return t.name==n.name&&t.message==n.message;case Wn:case li:return t==n+"";case Ge:var Y=Hr;case ln:if(Y||(Y=Xr),t.size!=n.size&&!(1&f))return!1;var yt=W.get(t);if(yt)return yt==n;f|=2,W.set(t,n);var wt=fo(Y(t),Y(n),f,y,M,W);return W.delete(t),wt;case br:if(vn)return vn.call(t)==vn.call(n)}return!1}(t,n,Q,o,f,y,M);if(!(1&o)){var Yt=wt&&he.call(t,"__wrapped__"),ee=Ct&&he.call(n,"__wrapped__");if(Yt||ee){var de=Yt?t.value():t,ne=ee?n.value():n;return M||(M=new Zn),y(de,ne,o,f,M)}}return!!Ot&&(M||(M=new Zn),function wh(t,n,o,f,y,M){var W=1&o,Y=Sa(t),Q=Y.length;if(Q!=Sa(n).length&&!W)return!1;for(var Ct=Q;Ct--;){var Ot=Y[Ct];if(!(W?Ot in n:he.call(n,Ot)))return!1}var Yt=M.get(t),ee=M.get(n);if(Yt&&ee)return Yt==n&&ee==t;var de=!0;M.set(t,n),M.set(n,t);for(var ne=W;++Ct<Q;){var ge=t[Ot=Y[Ct]],_e=n[Ot];if(f)var Hn=W?f(_e,ge,Ot,n,t,M):f(ge,_e,Ot,t,n,M);if(!(Hn===C?ge===_e||y(ge,_e,o,f,M):Hn)){de=!1;break}ne||(ne="constructor"==Ot)}if(de&&!ne){var Tn=t.constructor,Xn=n.constructor;Tn!=Xn&&"constructor"in t&&"constructor"in n&&!("function"==typeof Tn&&Tn instanceof Tn&&"function"==typeof Xn&&Xn instanceof Xn)&&(de=!1)}return M.delete(t),M.delete(n),de}(t,n,o,f,y,M))}(t,n,o,f,eo,y))}function aa(t,n,o,f){var y=o.length,M=y,W=!f;if(null==t)return!M;for(t=Ee(t);y--;){var Y=o[y];if(W&&Y[2]?Y[1]!==t[Y[0]]:!(Y[0]in t))return!1}for(;++y<M;){var Q=(Y=o[y])[0],yt=t[Q],wt=Y[1];if(W&&Y[2]){if(yt===C&&!(Q in t))return!1}else{var Ct=new Zn;if(f)var Ot=f(yt,wt,Q,t,n,Ct);if(!(Ot===C?eo(wt,yt,3,f,Ct):Ot))return!1}}return!0}function ua(t){return!(!It(t)||function vc(t){return!!Fo&&Fo in t}(t))&&(re(t)?Sf:v).test(ai(t))}function fa(t){return"function"==typeof t?t:null==t?Pn:"object"==typeof t?J(t)?ro(t[0],t[1]):no(t):ud(t)}function Xe(t){if(!zi(t))return If(t);var n=[];for(var o in Ee(t))he.call(t,o)&&"constructor"!=o&&n.push(o);return n}function rs(t,n){return t<n}function is(t,n){var o=-1,f=H(t)?st(t.length):[];return Rr(t,function(y,M,W){f[++o]=n(y,M,W)}),f}function no(t){var n=Ri(t);return 1==n.length&&n[0][2]?lo(n[0][0],n[0][1]):function(o){return o===t||aa(o,t,n)}}function ro(t,n){return gc(t)&&vs(n)?lo(gr(t),n):function(o){var f=Dl(o,t);return f===C&&f===n?Ll(o,t):eo(n,f,3)}}function os(t,n,o,f,y){t!==n&&ia(n,function(M,W){if(y||(y=new Zn),It(M))!function lr(t,n,o,f,y,M,W){var Y=go(t,o),Q=go(n,o),yt=W.get(Q);if(yt)na(t,o,yt);else{var wt=M?M(Y,Q,o+"",t,n,W):C,Ct=wt===C;if(Ct){var Ot=J(Q),Yt=!Ot&&tt(Q),ee=!Ot&&!Yt&&ci(Q);wt=Q,Ot||Yt||ee?J(Y)?wt=Y:ot(Y)?wt=Sn(Y):Yt?(Ct=!1,wt=tc(Q,!0)):ee?(Ct=!1,wt=ec(Q,!0)):wt=[]:Fe(Q)||gt(Q)?(wt=Y,gt(Y)?wt=Jl(Y):(!It(Y)||re(Y))&&(wt=si(Q))):Ct=!1}Ct&&(W.set(Q,wt),y(wt,Q,f,M,W),W.delete(Q)),na(t,o,wt)}}(t,n,W,o,os,f,y);else{var Y=f?f(go(t,W),M,W+"",t,n,y):C;Y===C&&(Y=M),na(t,W,Y)}},On)}function ha(t,n){var o=t.length;if(o)return pr(n+=n<0?o:0,o)?t[n]:C}function la(t,n,o){n=n.length?De(n,function(M){return J(M)?function(W){return ni(W,1===M.length?M[0]:M)}:M}):[Pn];var f=-1;return n=De(n,Ve(qt())),function bf(V,lt){var st=V.length;for(V.sort(lt);st--;)V[st]=V[st].value;return V}(is(t,function(M,W,Y){return{criteria:De(n,function(yt){return yt(M)}),index:++f,value:M}}),function(M,W){return function dh(t,n,o){for(var f=-1,y=t.criteria,M=n.criteria,W=y.length,Y=o.length;++f<W;){var Q=nc(y[f],M[f]);if(Q)return f>=Y?Q:Q*("desc"==o[f]?-1:1)}return t.index-n.index}(M,W,o)})}function ju(t,n,o){for(var f=-1,y=n.length,M={};++f<y;){var W=n[f],Y=ni(t,W);o(Y,W)&&ss(M,dr(W,t),Y)}return M}function da(t,n,o,f){var y=f?wf:wi,M=-1,W=n.length,Y=t;for(t===n&&(n=Sn(n)),o&&(Y=De(t,Ve(o)));++M<W;)for(var Q=0,yt=n[M],wt=o?o(yt):yt;(Q=y(Y,wt,Q,f))>-1;)Y!==t&&Ci.call(Y,Q,1),Ci.call(t,Q,1);return t}function Ku(t,n){for(var o=t?n.length:0,f=o-1;o--;){var y=n[o];if(o==f||y!==M){var M=y;pr(y)?Ci.call(t,y,1):so(t,y)}}return t}function pa(t,n){return t+jo(Vs()*(n-t+1))}function va(t,n){var o="";if(!t||n<1||n>ve)return o;do{n%2&&(o+=t),(n=jo(n/2))&&(t+=t)}while(n);return o}function le(t,n){return ys(wc(t,n,Pn),t+"")}function $l(t){return Wu(Ms(t))}function Yl(t,n){var o=Ms(t);return ms(o,ei(n,0,o.length))}function ss(t,n,o,f){if(!It(t))return t;for(var y=-1,M=(n=dr(n,t)).length,W=M-1,Y=t;null!=Y&&++y<M;){var Q=gr(n[y]),yt=o;if("__proto__"===Q||"constructor"===Q||"prototype"===Q)return t;if(y!=W){var wt=Y[Q];(yt=f?f(wt,Q,Y):C)===C&&(yt=It(wt)?wt:pr(n[y+1])?[]:{})}Qi(Y,Q,yt),Y=Y[Q]}return t}var as=Vo?function(t,n){return Vo.set(t,n),t}:Pn,on=Kr?function(t,n){return Kr(t,"toString",{configurable:!0,enumerable:!1,value:zl(n),writable:!0})}:Pn;function ah(t){return ms(Ms(t))}function Be(t,n,o){var f=-1,y=t.length;n<0&&(n=-n>y?0:y+n),(o=o>y?y:o)<0&&(o+=y),y=n>o?0:o-n>>>0,n>>>=0;for(var M=st(y);++f<y;)M[f]=t[f+n];return M}function uh(t,n){var o;return Rr(t,function(f,y,M){return!(o=n(f,y,M))}),!!o}function zr(t,n,o){var f=0,y=null==t?f:t.length;if("number"==typeof n&&n==n&&y<=2147483647){for(;f<y;){var M=f+y>>>1,W=t[M];null!==W&&!en(W)&&(o?W<=n:W<n)?f=M+1:y=M}return y}return oo(t,n,Pn,o)}function oo(t,n,o,f){var y=0,M=null==t?0:t.length;if(0===M)return 0;for(var W=(n=o(n))!=n,Y=null===n,Q=en(n),yt=n===C;y<M;){var wt=jo((y+M)/2),Ct=o(t[wt]),Ot=Ct!==C,Yt=null===Ct,ee=Ct==Ct,de=en(Ct);if(W)var ne=f||ee;else ne=yt?ee&&(f||Ot):Y?ee&&Ot&&(f||!Yt):Q?ee&&Ot&&!Yt&&(f||!de):!Yt&&!de&&(f?Ct<=n:Ct<n);ne?y=wt+1:M=wt}return qe(M,4294967294)}function ri(t,n){for(var o=-1,f=t.length,y=0,M=[];++o<f;){var W=t[o],Y=n?n(W):W;if(!o||!B(Y,Q)){var Q=Y;M[y++]=0===W?0:W}}return M}function ya(t){return"number"==typeof t?t:en(t)?NaN:+t}function Cn(t){if("string"==typeof t)return t;if(J(t))return De(t,Cn)+"";if(en(t))return Js?Js.call(t):"";var n=t+"";return"0"==n&&1/t==-Qt?"-0":n}function Yn(t,n,o){var f=-1,y=mi,M=t.length,W=!0,Y=[],Q=Y;if(o)W=!1,y=Ws;else if(M>=200){var yt=n?null:yh(t);if(yt)return Xr(yt);W=!1,y=bi,Q=new ti}else Q=n?[]:Y;t:for(;++f<M;){var wt=t[f],Ct=n?n(wt):wt;if(wt=o||0!==wt?wt:0,W&&Ct==Ct){for(var Ot=Q.length;Ot--;)if(Q[Ot]===Ct)continue t;n&&Q.push(Ct),Y.push(wt)}else y(Q,Ct,o)||(Q!==Y&&Q.push(Ct),Y.push(wt))}return Y}function so(t,n){return null==(t=po(t,n=dr(n,t)))||delete t[gr(mn(n))]}function Vu(t,n,o,f){return ss(t,n,o(ni(t,n)),f)}function us(t,n,o,f){for(var y=t.length,M=f?y:-1;(f?M--:++M<y)&&n(t[M],M,t););return o?Be(t,f?0:M,f?M+1:y):Be(t,f?M+1:0,f?y:M)}function qu(t,n){var o=t;return o instanceof pe&&(o=o.value()),Us(n,function(f,y){return y.func.apply(y.thisArg,Ir([f],y.args))},o)}function ma(t,n,o){var f=t.length;if(f<2)return f?Yn(t[0]):[];for(var y=-1,M=st(f);++y<f;)for(var W=t[y],Y=-1;++Y<f;)Y!=y&&(M[y]=to(M[y]||W,t[Y],n,o));return Yn(Je(M,1),n,o)}function Ju(t,n,o){for(var f=-1,y=t.length,M=n.length,W={};++f<y;)o(W,t[f],f<M?n[f]:C);return W}function wa(t){return ot(t)?t:[]}function ba(t){return"function"==typeof t?t:Pn}function dr(t,n){return J(t)?t:gc(t,n)?[t]:kh(Se(t))}var ch=le;function Gr(t,n,o){var f=t.length;return o=o===C?f:o,!n&&o>=f?t:Be(t,n,o)}var Qu=Si||function(t){return Ke.clearTimeout(t)};function tc(t,n){if(n)return t.slice();var o=t.length,f=Iu?Iu(o):new t.constructor(o);return t.copy(f),f}function Qe(t){var n=new t.constructor(t.byteLength);return new $o(n).set(new $o(t)),n}function ec(t,n){var o=n?Qe(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)}function nc(t,n){if(t!==n){var o=t!==C,f=null===t,y=t==t,M=en(t),W=n!==C,Y=null===n,Q=n==n,yt=en(n);if(!Y&&!yt&&!M&&t>n||M&&W&&Q&&!Y&&!yt||f&&W&&Q||!o&&Q||!y)return 1;if(!f&&!M&&!yt&&t<n||yt&&o&&y&&!f&&!M||Y&&o&&y||!W&&y||!Q)return-1}return 0}function rc(t,n,o,f){for(var y=-1,M=t.length,W=o.length,Y=-1,Q=n.length,yt=Ue(M-W,0),wt=st(Q+yt),Ct=!f;++Y<Q;)wt[Y]=n[Y];for(;++y<W;)(Ct||y<M)&&(wt[o[y]]=t[y]);for(;yt--;)wt[Y++]=t[y++];return wt}function ic(t,n,o,f){for(var y=-1,M=t.length,W=-1,Y=o.length,Q=-1,yt=n.length,wt=Ue(M-Y,0),Ct=st(wt+yt),Ot=!f;++y<wt;)Ct[y]=t[y];for(var Yt=y;++Q<yt;)Ct[Yt+Q]=n[Q];for(;++W<Y;)(Ot||y<M)&&(Ct[Yt+o[W]]=t[y++]);return Ct}function Sn(t,n){var o=-1,f=t.length;for(n||(n=st(f));++o<f;)n[o]=t[o];return n}function rr(t,n,o,f){var y=!o;o||(o={});for(var M=-1,W=n.length;++M<W;){var Y=n[M],Q=f?f(o[Y],t[Y],Y,o,t):C;Q===C&&(Q=t[Y]),y?hr(o,Y,Q):Qi(o,Y,Q)}return o}function Di(t,n){return function(o,f){var y=J(o)?df:Vf,M=n?n():{};return y(o,t,qt(f,2),M)}}function ii(t){return le(function(n,o){var f=-1,y=o.length,M=y>1?o[y-1]:C,W=y>2?o[2]:C;for(M=t.length>3&&"function"==typeof M?(y--,M):C,W&&an(o[0],o[1],W)&&(M=y<3?C:M,y=1),n=Ee(n);++f<y;){var Y=o[f];Y&&t(n,Y,f,M)}return n})}function sn(t,n){return function(o,f){if(null==o)return o;if(!H(o))return t(o,f);for(var y=o.length,M=n?y:-1,W=Ee(o);(n?M--:++M<y)&&!1!==f(W[M],M,W););return o}}function Or(t){return function(n,o,f){for(var y=-1,M=Ee(n),W=f(n),Y=W.length;Y--;){var Q=W[t?Y:++y];if(!1===o(M[Q],Q,M))break}return n}}function oc(t){return function(n){var o=Jn(n=Se(n))?An(n):C,f=o?o[0]:n.charAt(0),y=o?Gr(o,1).join(""):n.slice(1);return f[t]()+y}}function Li(t){return function(n){return Us(sd(od(n).replace(rf,"")),t,"")}}function ao(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var o=Dr(t.prototype),f=t.apply(o,n);return It(f)?f:o}}function _a(t){return function(n,o,f){var y=Ee(n);if(!H(n)){var M=qt(o,3);n=fn(n),o=function(Y){return M(y[Y],Y,y)}}var W=t(n,o,f);return W>-1?y[M?n[W]:W]:C}}function sc(t){return ir(function(n){var o=n.length,f=o,y=zn.prototype.thru;for(t&&n.reverse();f--;){var M=n[f];if("function"!=typeof M)throw new En(T);if(y&&!W&&"wrapper"==ho(M))var W=new zn([],!0)}for(f=W?f:o;++f<o;){var Y=ho(M=n[f]),Q="wrapper"==Y?ds(M):C;W=Q&&gs(Q[0])&&424==Q[1]&&!Q[4].length&&1==Q[9]?W[ho(Q[0])].apply(W,Q[3]):1==M.length&&gs(M)?W[Y]():W.thru(M)}return function(){var yt=arguments,wt=yt[0];if(W&&1==yt.length&&J(wt))return W.plant(wt).value();for(var Ct=0,Ot=o?n[Ct].apply(this,yt):wt;++Ct<o;)Ot=n[Ct].call(this,Ot);return Ot}})}function cs(t,n,o,f,y,M,W,Y,Q,yt){var wt=128&n,Ct=1&n,Ot=2&n,Yt=24&n,ee=512&n,de=Ot?C:ao(t);return function ne(){for(var ge=arguments.length,_e=st(ge),Hn=ge;Hn--;)_e[Hn]=arguments[Hn];if(Yt)var Tn=oi(ne),Xn=xf(_e,Tn);if(f&&(_e=rc(_e,f,y,Yt)),M&&(_e=ic(_e,M,W,Yt)),ge-=Xn,Yt&&ge<yt){var Ye=_n(_e,Tn);return cc(t,n,cs,ne.placeholder,o,_e,Ye,Y,Q,yt-ge)}var wr=Ct?o:this,hi=Ot?wr[t]:t;return ge=_e.length,Y?_e=Sh(_e,Y):ee&&ge>1&&_e.reverse(),wt&&Q<ge&&(_e.length=Q),this&&this!==Ke&&this instanceof ne&&(hi=de||ao(hi)),hi.apply(wr,_e)}}function ac(t,n){return function(o,f){return function rh(t,n,o,f){return er(t,function(y,M,W){n(f,o(y),M,W)}),f}(o,t,n(f),{})}}function uo(t,n){return function(o,f){var y;if(o===C&&f===C)return n;if(o!==C&&(y=o),f!==C){if(y===C)return f;"string"==typeof o||"string"==typeof f?(o=Cn(o),f=Cn(f)):(o=ya(o),f=ya(f)),y=t(o,f)}return y}}function Aa(t){return ir(function(n){return n=De(n,Ve(qt())),le(function(o){var f=this;return t(n,function(y){return In(y,f,o)})})})}function fs(t,n){var o=(n=n===C?" ":Cn(n)).length;if(o<2)return o?va(n,t):n;var f=va(n,Xo(t/_i(n)));return Jn(n)?Gr(An(f),0,t).join(""):f.slice(0,t)}function uc(t){return function(n,o,f){return f&&"number"!=typeof f&&an(n,o,f)&&(o=f=C),n=Me(n),o===C?(o=n,n=0):o=Me(o),function ga(t,n,o,f){for(var y=-1,M=Ue(Xo((n-t)/(o||1)),0),W=st(M);M--;)W[f?M:++y]=t,t+=o;return W}(n,o,f=f===C?n<o?1:-1:Me(f),t)}}function hs(t){return function(n,o){return"string"==typeof n&&"string"==typeof o||(n=sr(n),o=sr(o)),t(n,o)}}function cc(t,n,o,f,y,M,W,Y,Q,yt){var wt=8&n;n|=wt?L:64,4&(n&=~(wt?64:L))||(n&=-4);var de=[t,n,y,wt?M:C,wt?W:C,wt?C:M,wt?C:W,Y,Q,yt],ne=o.apply(C,de);return gs(t)&&bc(ne,de),ne.placeholder=f,xc(ne,t,n)}function Ea(t){var n=We[t];return function(o,f){if(o=sr(o),(f=null==f?0:qe(ae(f),292))&&Tu(o)){var y=(Se(o)+"e").split("e");return+((y=(Se(n(y[0]+"e"+(+y[1]+f)))+"e").split("e"))[0]+"e"+(+y[1]-f))}return n(o)}}var yh=fr&&1/Xr(new fr([,-0]))[1]==Qt?function(t){return new fr(t)}:Pl;function co(t){return function(n){var o=tn(n);return o==Ge?Hr(n):o==ln?function Xi(V){var lt=-1,st=Array(V.size);return V.forEach(function(Ut){st[++lt]=[Ut,Ut]}),st}(n):function xu(V,lt){return De(lt,function(st){return[st,V[st]]})}(n,t(n))}}function kn(t,n,o,f,y,M,W,Y){var Q=2&n;if(!Q&&"function"!=typeof t)throw new En(T);var yt=f?f.length:0;if(yt||(n&=-97,f=y=C),W=W===C?W:Ue(ae(W),0),Y=Y===C?Y:ae(Y),yt-=y?y.length:0,64&n){var wt=f,Ct=y;f=y=C}var Ot=Q?C:ds(t),Yt=[t,n,o,f,y,wt,Ct,M,W,Y];if(Ot&&function Hl(t,n){var o=t[1],f=n[1],y=o|f;if(!(y<131||(128==f&&8==o||128==f&&256==o&&t[7].length<=n[8]||384==f&&n[7].length<=n[8]&&8==o)))return t;1&f&&(t[2]=n[2],y|=1&o?0:4);var Y=n[3];if(Y){var Q=t[3];t[3]=Q?rc(Q,Y,n[4]):Y,t[4]=Q?_n(t[3],E):n[4]}(Y=n[5])&&(t[5]=(Q=t[5])?ic(Q,Y,n[6]):Y,t[6]=Q?_n(t[5],E):n[6]),(Y=n[7])&&(t[7]=Y),128&f&&(t[8]=null==t[8]?n[8]:qe(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=y}(Yt,Ot),t=Yt[0],n=Yt[1],o=Yt[2],f=Yt[3],y=Yt[4],!(Y=Yt[9]=Yt[9]===C?Q?0:t.length:Ue(Yt[9]-yt,0))&&24&n&&(n&=-25),n&&1!=n)ee=8==n||16==n?function gh(t,n,o){var f=ao(t);return function y(){for(var M=arguments.length,W=st(M),Y=M,Q=oi(y);Y--;)W[Y]=arguments[Y];var yt=M<3&&W[0]!==Q&&W[M-1]!==Q?[]:_n(W,Q);return(M-=yt.length)<o?cc(t,n,cs,y.placeholder,C,W,yt,C,C,o-M):In(this&&this!==Ke&&this instanceof y?f:t,this,W)}}(t,n,Y):n!=L&&33!=n||y.length?cs.apply(C,Yt):function vh(t,n,o,f){var y=1&n,M=ao(t);return function W(){for(var Y=-1,Q=arguments.length,yt=-1,wt=f.length,Ct=st(wt+Q),Ot=this&&this!==Ke&&this instanceof W?M:t;++yt<wt;)Ct[yt]=f[yt];for(;Q--;)Ct[yt++]=arguments[++Y];return In(Ot,y?o:this,Ct)}}(t,n,o,f);else var ee=function Pr(t,n,o){var f=1&n,y=ao(t);return function M(){return(this&&this!==Ke&&this instanceof M?y:t).apply(f?o:this,arguments)}}(t,n,o);return xc((Ot?as:bc)(ee,Yt),t,n)}function fc(t,n,o,f){return t===C||B(t,Ei[o])&&!he.call(f,o)?n:t}function hc(t,n,o,f,y,M){return It(t)&&It(n)&&(M.set(n,t),os(t,n,C,hc,M),M.delete(n)),t}function mh(t){return Fe(t)?C:t}function fo(t,n,o,f,y,M){var W=1&o,Y=t.length,Q=n.length;if(Y!=Q&&!(W&&Q>Y))return!1;var yt=M.get(t),wt=M.get(n);if(yt&&wt)return yt==n&&wt==t;var Ct=-1,Ot=!0,Yt=2&o?new ti:C;for(M.set(t,n),M.set(n,t);++Ct<Y;){var ee=t[Ct],de=n[Ct];if(f)var ne=W?f(de,ee,Ct,n,t,M):f(ee,de,Ct,t,n,M);if(ne!==C){if(ne)continue;Ot=!1;break}if(Yt){if(!Bs(n,function(ge,_e){if(!bi(Yt,_e)&&(ee===ge||y(ee,ge,o,f,M)))return Yt.push(_e)})){Ot=!1;break}}else if(ee!==de&&!y(ee,de,o,f,M)){Ot=!1;break}}return M.delete(t),M.delete(n),Ot}function ir(t){return ys(wc(t,C,La),t+"")}function Sa(t){return Xu(t,fn,ka)}function ls(t){return Xu(t,On,bh)}var ds=Vo?function(t){return Vo.get(t)}:Pl;function ho(t){for(var n=t.name+"",o=qr[n],f=he.call(qr,n)?o.length:0;f--;){var y=o[f],M=y.func;if(null==M||M==t)return y.name}return n}function oi(t){return(he.call(A,"placeholder")?A:t).placeholder}function qt(){var t=A.iteratee||Gl;return t=t===Gl?fa:t,arguments.length?t(arguments[0],arguments[1]):t}function ps(t,n){var o=t.__data__;return function Na(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}(n)?o["string"==typeof n?"string":"hash"]:o.map}function Ri(t){for(var n=fn(t),o=n.length;o--;){var f=n[o],y=t[f];n[o]=[f,y,vs(y)]}return n}function or(t,n){var o=function Yi(V,lt){return null==V?C:V[lt]}(t,n);return ua(o)?o:C}var ka=Ks?function(t){return null==t?[]:(t=Ee(t),Mr(Ks(t),function(n){return Ho.call(t,n)}))}:Wl,bh=Ks?function(t){for(var n=[];t;)Ir(n,ka(t)),t=Yo(t);return n}:Wl,tn=yn;function dc(t,n,o){for(var f=-1,y=(n=dr(n,t)).length,M=!1;++f<y;){var W=gr(n[f]);if(!(M=null!=t&&o(t,W)))break;t=t[W]}return M||++f!=y?M:!!(y=null==t?0:t.length)&&it(y)&&pr(W,y)&&(J(t)||gt(t))}function si(t){return"function"!=typeof t.constructor||zi(t)?{}:Dr(Yo(t))}function Ia(t){return J(t)||gt(t)||!!(js&&t&&t[js])}function pr(t,n){var o=typeof t;return!!(n=null==n?ve:n)&&("number"==o||"symbol"!=o&&z.test(t))&&t>-1&&t%1==0&&t<n}function an(t,n,o){if(!It(o))return!1;var f=typeof n;return!!("number"==f?H(o)&&pr(n,o.length):"string"==f&&n in o)&&B(o[n],t)}function gc(t,n){if(J(t))return!1;var o=typeof t;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=t&&!en(t))||So.test(t)||!Zr.test(t)||null!=n&&t in Ee(n)}function gs(t){var n=ho(t),o=A[n];if("function"!=typeof o||!(n in pe.prototype))return!1;if(t===o)return!0;var f=ds(o);return!!f&&t===f[0]}(Ko&&tn(new Ko(new ArrayBuffer(1)))!=Kn||Tr&&tn(new Tr)!=Ge||qs&&tn(qs.resolve())!=Pi||fr&&tn(new fr)!=ln||He&&tn(new He)!=Br)&&(tn=function(t){var n=yn(t),o=n==$e?t.constructor:C,f=o?ai(o):"";if(f)switch(f){case qo:return Kn;case Jr:return Ge;case Qr:return Pi;case Du:return ln;case Lu:return Br}return n});var yc=jr?re:Ul;function zi(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||Ei)}function vs(t){return t==t&&!It(t)}function lo(t,n){return function(o){return null!=o&&o[t]===n&&(n!==C||t in Ee(o))}}function wc(t,n,o){return n=Ue(n===C?t.length-1:n,0),function(){for(var f=arguments,y=-1,M=Ue(f.length-n,0),W=st(M);++y<M;)W[y]=f[n+y];y=-1;for(var Y=st(n+1);++y<n;)Y[y]=f[y];return Y[n]=o(W),In(t,this,Y)}}function po(t,n){return n.length<2?t:ni(t,Be(n,0,-1))}function Sh(t,n){for(var o=t.length,f=qe(n.length,o),y=Sn(t);f--;){var M=n[f];t[f]=pr(M,o)?y[M]:C}return t}function go(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]}var bc=Ta(as),vo=Qn||function(t,n){return Ke.setTimeout(t,n)},ys=Ta(on);function xc(t,n,o){var f=n+"";return ys(t,function pc(t,n){var o=n.length;if(!o)return t;var f=o-1;return n[f]=(o>1?"& ":"")+n[f],n=n.join(o>2?", ":" "),t.replace(ko,"{\n/* [wrapped with "+n+"] */\n")}(f,function Mh(t,n){return Rn(ye,function(o){var f="_."+o[0];n&o[1]&&!mi(t,f)&&t.push(f)}),t.sort()}(function _h(t){var n=t.match(Mo);return n?n[1].split(Io):[]}(f),o)))}function Ta(t){var n=0,o=0;return function(){var f=Nf(),y=16-(f-o);if(o=f,y>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(C,arguments)}}function ms(t,n){var o=-1,f=t.length,y=f-1;for(n=n===C?f:n;++o<n;){var M=pa(o,y),W=t[M];t[M]=t[o],t[o]=W}return t.length=n,t}var kh=function mc(t){var n=Ss(t,function(f){return 500===o.size&&o.clear(),f}),o=n.cache;return n}(function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace($r,function(o,f,y,M){n.push(y?M.replace(p,"$1"):f||o)}),n});function gr(t){if("string"==typeof t||en(t))return t;var n=t+"";return"0"==n&&1/t==-Qt?"-0":n}function ai(t){if(null!=t){try{return Bo.call(t)}catch(n){}try{return t+""}catch(n){}}return""}function _c(t){if(t instanceof pe)return t.clone();var n=new zn(t.__wrapped__,t.__chain__);return n.__actions__=Sn(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}var Ih=le(function(t,n){return ot(t)?to(t,Je(n,1,ot,!0)):[]}),Nh=le(function(t,n){var o=mn(n);return ot(o)&&(o=C),ot(t)?to(t,Je(n,1,ot,!0),qt(o,2)):[]}),Th=le(function(t,n){var o=mn(n);return ot(o)&&(o=C),ot(t)?to(t,Je(n,1,ot,!0),C,o):[]});function Ec(t,n,o){var f=null==t?0:t.length;if(!f)return-1;var y=null==o?0:ae(o);return y<0&&(y=Ue(f+y,0)),zo(t,qt(n,3),y)}function Cc(t,n,o){var f=null==t?0:t.length;if(!f)return-1;var y=f-1;return o!==C&&(y=ae(o),y=o<0?Ue(f+y,0):qe(y,f-1)),zo(t,qt(n,3),y,!0)}function La(t){return null!=t&&t.length?Je(t,1):[]}function Ra(t){return t&&t.length?t[0]:C}var Sc=le(function(t){var n=De(t,wa);return n.length&&n[0]===t[0]?$n(n):[]}),Xl=le(function(t){var n=mn(t),o=De(t,wa);return n===mn(o)?n=C:o.pop(),o.length&&o[0]===t[0]?$n(o,qt(n,2)):[]}),mo=le(function(t){var n=mn(t),o=De(t,wa);return(n="function"==typeof n?n:C)&&o.pop(),o.length&&o[0]===t[0]?$n(o,C,n):[]});function mn(t){var n=null==t?0:t.length;return n?t[n-1]:C}var Kl=le(Bh);function Bh(t,n){return t&&t.length&&n&&n.length?da(t,n):t}var Mc=ir(function(t,n){var o=null==t?0:t.length,f=ra(t,n);return Ku(t,De(n,function(y){return pr(y,o)?+y:y}).sort(nc)),f});function za(t){return null==t?t:Vr.call(t)}var Jh=le(function(t){return Yn(Je(t,1,ot,!0))}),Qh=le(function(t){var n=mn(t);return ot(n)&&(n=C),Yn(Je(t,1,ot,!0),qt(n,2))}),Nc=le(function(t){var n=mn(t);return n="function"==typeof n?n:C,Yn(Je(t,1,ot,!0),C,n)});function Wa(t){if(!t||!t.length)return[];var n=0;return t=Mr(t,function(o){if(ot(o))return n=Ue(o.length,n),!0}),gn(n,function(o){return De(t,Zs(o))})}function el(t,n){if(!t||!t.length)return[];var o=Wa(t);return null==n?o:De(o,function(f){return In(n,C,f)})}var nl=le(function(t,n){return ot(t)?to(t,n):[]}),rl=le(function(t){return ma(Mr(t,ot))}),_s=le(function(t){var n=mn(t);return ot(n)&&(n=C),ma(Mr(t,ot),qt(n,2))}),Dc=le(function(t){var n=mn(t);return n="function"==typeof n?n:C,ma(Mr(t,ot),C,n)}),As=le(Wa),il=le(function(t){var n=t.length,o=n>1?t[n-1]:C;return o="function"==typeof o?(t.pop(),o):C,el(t,o)});function Lc(t){var n=A(t);return n.__chain__=!0,n}function bo(t,n){return n(t)}var ol=ir(function(t){var n=t.length,o=n?t[0]:0,f=this.__wrapped__,y=function(M){return ra(M,t)};return!(n>1||this.__actions__.length)&&f instanceof pe&&pr(o)?((f=f.slice(o,+o+(n?1:0))).__actions__.push({func:bo,args:[y],thisArg:C}),new zn(f,this.__chain__).thru(function(M){return n&&!M.length&&M.push(C),M})):this.thru(y)}),al=Di(function(t,n,o){he.call(t,o)?++t[o]:hr(t,o,1)}),Za=_a(Ec),Uc=_a(Cc);function $a(t,n){return(J(t)?Rn:Rr)(t,qt(n,3))}function Bc(t,n){return(J(t)?pf:Zu)(t,qt(n,3))}var Fc=Di(function(t,n,o){he.call(t,o)?t[o].push(n):hr(t,o,[n])}),ll=le(function(t,n,o){var f=-1,y="function"==typeof n,M=H(t)?st(t.length):[];return Rr(t,function(W){M[++f]=y?In(n,W,o):Ii(W,n,o)}),M}),dl=Di(function(t,n,o){hr(t,o,n)});function Es(t,n){return(J(t)?De:is)(t,qt(n,3))}var pl=Di(function(t,n,o){t[o?0:1].push(n)},function(){return[[],[]]}),Al=le(function(t,n){if(null==t)return[];var o=n.length;return o>1&&an(t,n[0],n[1])?n=[]:o>2&&an(n[0],n[1],n[2])&&(n=[n[0]]),la(t,Je(n,1),[])}),Cs=qi||function(){return Ke.Date.now()};function Zc(t,n,o){return n=o?C:n,kn(t,128,C,C,C,C,n=t&&null==n?t.length:n)}function Gi(t,n){var o;if("function"!=typeof n)throw new En(T);return t=ae(t),function(){return--t>0&&(o=n.apply(this,arguments)),t<=1&&(n=C),o}}var xo=le(function(t,n,o){var f=1;if(o.length){var y=_n(o,oi(xo));f|=L}return kn(t,f,n,o,y)}),$c=le(function(t,n,o){var f=3;if(o.length){var y=_n(o,oi($c));f|=L}return kn(n,f,t,o,y)});function Ya(t,n,o){var f,y,M,W,Y,Q,yt=0,wt=!1,Ct=!1,Ot=!0;if("function"!=typeof t)throw new En(T);function Yt(Ye){var wr=f,hi=y;return f=y=C,yt=Ye,W=t.apply(hi,wr)}function ee(Ye){return yt=Ye,Y=vo(ge,n),wt?Yt(Ye):W}function ne(Ye){var wr=Ye-Q;return Q===C||wr>=n||wr<0||Ct&&Ye-yt>=M}function ge(){var Ye=Cs();if(ne(Ye))return _e(Ye);Y=vo(ge,function de(Ye){var cd=n-(Ye-Q);return Ct?qe(cd,M-(Ye-yt)):cd}(Ye))}function _e(Ye){return Y=C,Ot&&f?Yt(Ye):(f=y=C,W)}function Xn(){var Ye=Cs(),wr=ne(Ye);if(f=arguments,y=this,Q=Ye,wr){if(Y===C)return ee(Q);if(Ct)return Qu(Y),Y=vo(ge,n),Yt(Q)}return Y===C&&(Y=vo(ge,n)),W}return n=sr(n)||0,It(o)&&(wt=!!o.leading,M=(Ct="maxWait"in o)?Ue(sr(o.maxWait)||0,n):M,Ot="trailing"in o?!!o.trailing:Ot),Xn.cancel=function Hn(){Y!==C&&Qu(Y),yt=0,f=Q=y=Y=C},Xn.flush=function Tn(){return Y===C?W:_e(Cs())},Xn}var Cl=le(function(t,n){return Fu(t,1,n)}),Sl=le(function(t,n,o){return Fu(t,sr(n)||0,o)});function Ss(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new En(T);var o=function(){var f=arguments,y=n?n.apply(this,f):f[0],M=o.cache;if(M.has(y))return M.get(y);var W=t.apply(this,f);return o.cache=M.set(y,W)||M,W};return o.cache=new(Ss.Cache||tr),o}function ks(t){if("function"!=typeof t)throw new En(T);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}Ss.Cache=tr;var Ml=ch(function(t,n){var o=(n=1==n.length&&J(n[0])?De(n[0],Ve(qt())):De(Je(n,1),Ve(qt()))).length;return le(function(f){for(var y=-1,M=qe(f.length,o);++y<M;)f[y]=n[y].call(this,f[y]);return In(t,this,f)})}),Ha=le(function(t,n){var o=_n(n,oi(Ha));return kn(t,L,C,n,o)}),Xc=le(function(t,n){var o=_n(n,oi(Xc));return kn(t,64,C,n,o)}),Il=ir(function(t,n){return kn(t,256,C,C,C,n)});function B(t,n){return t===n||t!=t&&n!=n}var U=hs(sa),K=hs(function(t,n){return t>=n}),gt=nr(function(){return arguments}())?nr:function(t){return ut(t)&&he.call(t,"callee")&&!Ho.call(t,"callee")},J=st.isArray,j=hu?Ve(hu):function Fl(t){return ut(t)&&yn(t)==xr};function H(t){return null!=t&&it(t.length)&&!re(t)}function ot(t){return ut(t)&&H(t)}var tt=kf||Ul,Et=lu?Ve(lu):function Zl(t){return ut(t)&&yn(t)==je};function $t(t){if(!ut(t))return!1;var n=yn(t);return n==Ze||"[object DOMException]"==n||"string"==typeof t.message&&"string"==typeof t.name&&!Fe(t)}function re(t){if(!It(t))return!1;var n=yn(t);return n==Te||n==jn||"[object AsyncFunction]"==n||"[object Proxy]"==n}function Jt(t){return"number"==typeof t&&t==ae(t)}function it(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=ve}function It(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function ut(t){return null!=t&&"object"==typeof t}var Rt=du?Ve(du):function oh(t){return ut(t)&&tn(t)==Ge};function Re(t){return"number"==typeof t||ut(t)&&yn(t)==wn}function Fe(t){if(!ut(t)||yn(t)!=$e)return!1;var n=Yo(t);if(null===n)return!0;var o=he.call(n,"constructor")&&n.constructor;return"function"==typeof o&&o instanceof o&&Bo.call(o)==Zo}var un=pu?Ve(pu):function ca(t){return ut(t)&&yn(t)==Wn},cn=gu?Ve(gu):function Ni(t){return ut(t)&&tn(t)==ln};function yr(t){return"string"==typeof t||!J(t)&&ut(t)&&yn(t)==li}function en(t){return"symbol"==typeof t||ut(t)&&yn(t)==br}var ci=vu?Ve(vu):function Ti(t){return ut(t)&&it(t.length)&&!!Ae[yn(t)]},Nl=hs(rs),Tl=hs(function(t,n){return t<=n});function ce(t){if(!t)return[];if(H(t))return yr(t)?An(t):Sn(t);if(cr&&t[cr])return function Po(V){for(var lt,st=[];!(lt=V.next()).done;)st.push(lt.value);return st}(t[cr]());var n=tn(t);return(n==Ge?Hr:n==ln?Xr:Ms)(t)}function Me(t){return t?(t=sr(t))===Qt||t===-Qt?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ae(t){var n=Me(t),o=n%1;return n==n?o?n-o:n:0}function mr(t){return t?ei(ae(t),0,ie):0}function sr(t){if("number"==typeof t)return t;if(en(t))return NaN;if(It(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=It(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=_u(t);var o=c.test(t);return o||k.test(t)?au(t.slice(2),o?2:8):u.test(t)?NaN:+t}function Jl(t){return rr(t,On(t))}function Se(t){return null==t?"":Cn(t)}var hd=ii(function(t,n){if(zi(n)||H(n))rr(n,fn(n),t);else for(var o in n)he.call(n,o)&&Qi(t,o,n[o])}),Ql=ii(function(t,n){rr(n,On(n),t)}),Vc=ii(function(t,n,o,f){rr(n,On(n),t,f)}),ld=ii(function(t,n,o,f){rr(n,fn(n),t,f)}),dd=ir(ra),gd=le(function(t,n){t=Ee(t);var o=-1,f=n.length,y=f>2?n[2]:C;for(y&&an(n[0],n[1],y)&&(f=1);++o<f;)for(var M=n[o],W=On(M),Y=-1,Q=W.length;++Y<Q;){var yt=W[Y],wt=t[yt];(wt===C||B(wt,Ei[yt])&&!he.call(t,yt))&&(t[yt]=M[yt])}return t}),vd=le(function(t){return t.push(C,hc),In(td,C,t)});function Dl(t,n,o){var f=null==t?C:ni(t,n);return f===C?o:f}function Ll(t,n){return null!=t&&dc(t,n,eh)}var Sd=ac(function(t,n,o){null!=n&&"function"!=typeof n.toString&&(n=Ki.call(n)),t[n]=o},zl(Pn)),kd=ac(function(t,n,o){null!=n&&"function"!=typeof n.toString&&(n=Ki.call(n)),he.call(t,n)?t[n].push(o):t[n]=[o]},qt),Md=le(Ii);function fn(t){return H(t)?Pu(t):Xe(t)}function On(t){return H(t)?Pu(t,!0):function rn(t){if(!It(t))return function Eh(t){var n=[];if(null!=t)for(var o in Ee(t))n.push(o);return n}(t);var n=zi(t),o=[];for(var f in t)"constructor"==f&&(n||!he.call(t,f))||o.push(f);return o}(t)}var Td=ii(function(t,n,o){os(t,n,o)}),td=ii(function(t,n,o,f){os(t,n,o,f)}),Dd=ir(function(t,n){var o={};if(null==t)return o;var f=!1;n=De(n,function(M){return M=dr(M,t),f||(f=M.length>1),M}),rr(t,ls(t),o),f&&(o=Gn(o,7,mh));for(var y=n.length;y--;)so(o,n[y]);return o}),Rd=ir(function(t,n){return null==t?{}:function sh(t,n){return ju(t,n,function(o,f){return Ll(t,f)})}(t,n)});function ed(t,n){if(null==t)return{};var o=De(ls(t),function(f){return[f]});return n=qt(n),ju(t,o,function(f,y){return n(f,y[0])})}var nd=co(fn),rd=co(On);function Ms(t){return null==t?[]:Ys(t,fn(t))}var Hd=Li(function(t,n,o){return n=n.toLowerCase(),t+(o?id(n):n)});function id(t){return Rl(Se(t).toLowerCase())}function od(t){return(t=Se(t))&&t.replace(et,Eu).replace(of,"")}var Vd=Li(function(t,n,o){return t+(o?"-":"")+n.toLowerCase()}),qd=Li(function(t,n,o){return t+(o?" ":"")+n.toLowerCase()}),Jd=oc("toLowerCase"),op=Li(function(t,n,o){return t+(o?"_":"")+n.toLowerCase()}),ap=Li(function(t,n,o){return t+(o?" ":"")+Rl(n)}),yp=Li(function(t,n,o){return t+(o?" ":"")+n.toUpperCase()}),Rl=oc("toUpperCase");function sd(t,n,o){return t=Se(t),(n=o?C:n)===C?function Cu(V){return af.test(V)}(t)?function Ef(V){return V.match(ou)||[]}(t):function mf(V){return V.match(No)||[]}(t):t.match(n)||[]}var ad=le(function(t,n){try{return In(t,C,n)}catch(o){return $t(o)?o:new oe(o)}}),mp=ir(function(t,n){return Rn(n,function(o){o=gr(o),hr(t,o,xo(t[o],t))}),t});function zl(t){return function(){return t}}var _p=sc(),Ap=sc(!0);function Pn(t){return t}function Gl(t){return fa("function"==typeof t?t:Gn(t,1))}var Sp=le(function(t,n){return function(o){return Ii(o,t,n)}}),kp=le(function(t,n){return function(o){return Ii(t,o,n)}});function Ol(t,n,o){var f=fn(n),y=ns(n,f);null==o&&(!It(n)||!y.length&&f.length)&&(o=n,n=t,t=this,y=ns(n,fn(n)));var M=!(It(o)&&"chain"in o&&!o.chain),W=re(t);return Rn(y,function(Y){var Q=n[Y];t[Y]=Q,W&&(t.prototype[Y]=function(){var yt=this.__chain__;if(M||yt){var wt=t(this.__wrapped__),Ct=wt.__actions__=Sn(this.__actions__);return Ct.push({func:Q,args:arguments,thisArg:t}),wt.__chain__=yt,wt}return Q.apply(t,Ir([this.value()],arguments))})}),t}function Pl(){}var Np=Aa(De),Tp=Aa(yu),Dp=Aa(Bs);function ud(t){return gc(t)?Zs(gr(t)):function io(t){return function(n){return ni(n,t)}}(t)}var Rp=uc(),zp=uc(!0);function Wl(){return[]}function Ul(){return!1}var Fp=uo(function(t,n){return t+n},0),Zp=Ea("ceil"),$p=uo(function(t,n){return t/n},1),Yp=Ea("floor"),Jp=uo(function(t,n){return t*n},1),Qp=Ea("round"),tg=uo(function(t,n){return t-n},0);return A.after=function El(t,n){if("function"!=typeof n)throw new En(T);return t=ae(t),function(){if(--t<1)return n.apply(this,arguments)}},A.ary=Zc,A.assign=hd,A.assignIn=Ql,A.assignInWith=Vc,A.assignWith=ld,A.at=dd,A.before=Gi,A.bind=xo,A.bindAll=mp,A.bindKey=$c,A.castArray=function l(){if(!arguments.length)return[];var t=arguments[0];return J(t)?t:[t]},A.chain=Lc,A.chunk=function Ac(t,n,o){n=(o?an(t,n,o):n===C)?1:Ue(ae(n),0);var f=null==t?0:t.length;if(!f||n<1)return[];for(var y=0,M=0,W=st(Xo(f/n));y<f;)W[M++]=Be(t,y,y+=n);return W},A.compact=function Wr(t){for(var n=-1,o=null==t?0:t.length,f=0,y=[];++n<o;){var M=t[n];M&&(y[f++]=M)}return y},A.concat=function Da(){var t=arguments.length;if(!t)return[];for(var n=st(t-1),o=arguments[0],f=t;f--;)n[f-1]=arguments[f];return Ir(J(o)?Sn(o):[o],Je(n,1))},A.cond=function wp(t){var n=null==t?0:t.length,o=qt();return t=n?De(t,function(f){if("function"!=typeof f[1])throw new En(T);return[o(f[0]),f[1]]}):[],le(function(f){for(var y=-1;++y<n;){var M=t[y];if(In(M[0],this,f))return In(M[1],this,f)}})},A.conforms=function bp(t){return function Jf(t){var n=fn(t);return function(o){return Bu(o,t,n)}}(Gn(t,1))},A.constant=zl,A.countBy=al,A.create=function pd(t,n){var o=Dr(t);return null==n?o:Uu(o,n)},A.curry=function Yc(t,n,o){var f=kn(t,8,C,C,C,C,C,n=o?C:n);return f.placeholder=Yc.placeholder,f},A.curryRight=function Hc(t,n,o){var f=kn(t,16,C,C,C,C,C,n=o?C:n);return f.placeholder=Hc.placeholder,f},A.debounce=Ya,A.defaults=gd,A.defaultsDeep=vd,A.defer=Cl,A.delay=Sl,A.difference=Ih,A.differenceBy=Nh,A.differenceWith=Th,A.drop=function Dh(t,n,o){var f=null==t?0:t.length;return f?Be(t,(n=o||n===C?1:ae(n))<0?0:n,f):[]},A.dropRight=function Lh(t,n,o){var f=null==t?0:t.length;return f?Be(t,0,(n=f-(n=o||n===C?1:ae(n)))<0?0:n):[]},A.dropRightWhile=function Rh(t,n){return t&&t.length?us(t,qt(n,3),!0,!0):[]},A.dropWhile=function zh(t,n){return t&&t.length?us(t,qt(n,3),!0):[]},A.fill=function Gh(t,n,o,f){var y=null==t?0:t.length;return y?(o&&"number"!=typeof o&&an(t,n,o)&&(o=0,f=y),function Qf(t,n,o,f){var y=t.length;for((o=ae(o))<0&&(o=-o>y?0:y+o),(f=f===C||f>y?y:ae(f))<0&&(f+=y),f=o>f?0:mr(f);o<f;)t[o++]=n;return t}(t,n,o,f)):[]},A.filter=function Wc(t,n){return(J(t)?Mr:Yu)(t,qt(n,3))},A.flatMap=function ul(t,n){return Je(Es(t,n),1)},A.flatMapDeep=function cl(t,n){return Je(Es(t,n),Qt)},A.flatMapDepth=function fl(t,n,o){return o=o===C?1:ae(o),Je(Es(t,n),o)},A.flatten=La,A.flattenDeep=function yo(t){return null!=t&&t.length?Je(t,Qt):[]},A.flattenDepth=function ws(t,n){return null!=t&&t.length?Je(t,n=n===C?1:ae(n)):[]},A.flip=function kl(t){return kn(t,512)},A.flow=_p,A.flowRight=Ap,A.fromPairs=function bs(t){for(var n=-1,o=null==t?0:t.length,f={};++n<o;){var y=t[n];f[y[0]]=y[1]}return f},A.functions=function Ad(t){return null==t?[]:ns(t,fn(t))},A.functionsIn=function Ed(t){return null==t?[]:ns(t,On(t))},A.groupBy=Fc,A.initial=function Ph(t){return null!=t&&t.length?Be(t,0,-1):[]},A.intersection=Sc,A.intersectionBy=Xl,A.intersectionWith=mo,A.invert=Sd,A.invertBy=kd,A.invokeMap=ll,A.iteratee=Gl,A.keyBy=dl,A.keys=fn,A.keysIn=On,A.map=Es,A.mapKeys=function Id(t,n){var o={};return n=qt(n,3),er(t,function(f,y,M){hr(o,n(f,y,M),f)}),o},A.mapValues=function Nd(t,n){var o={};return n=qt(n,3),er(t,function(f,y,M){hr(o,y,n(f,y,M))}),o},A.matches=function Ep(t){return no(Gn(t,1))},A.matchesProperty=function Cp(t,n){return ro(t,Gn(n,1))},A.memoize=Ss,A.merge=Td,A.mergeWith=td,A.method=Sp,A.methodOf=kp,A.mixin=Ol,A.negate=ks,A.nthArg=function Ip(t){return t=ae(t),le(function(n){return ha(n,t)})},A.omit=Dd,A.omitBy=function Ld(t,n){return ed(t,ks(qt(n)))},A.once=function ql(t){return Gi(2,t)},A.orderBy=function Vl(t,n,o,f){return null==t?[]:(J(n)||(n=null==n?[]:[n]),J(o=f?C:o)||(o=null==o?[]:[o]),la(t,n,o))},A.over=Np,A.overArgs=Ml,A.overEvery=Tp,A.overSome=Dp,A.partial=Ha,A.partialRight=Xc,A.partition=pl,A.pick=Rd,A.pickBy=ed,A.property=ud,A.propertyOf=function Lp(t){return function(n){return null==t?C:ni(t,n)}},A.pull=Kl,A.pullAll=Bh,A.pullAllBy=function kc(t,n,o){return t&&t.length&&n&&n.length?da(t,n,qt(o,2)):t},A.pullAllWith=function Fh(t,n,o){return t&&t.length&&n&&n.length?da(t,n,C,o):t},A.pullAt=Mc,A.range=Rp,A.rangeRight=zp,A.rearg=Il,A.reject=function yl(t,n){return(J(t)?Mr:Yu)(t,ks(qt(n,3)))},A.remove=function Zh(t,n){var o=[];if(!t||!t.length)return o;var f=-1,y=[],M=t.length;for(n=qt(n,3);++f<M;){var W=t[f];n(W,f,t)&&(o.push(W),y.push(f))}return Ku(t,y),o},A.rest=function e(t,n){if("function"!=typeof t)throw new En(T);return le(t,n=n===C?n:ae(n))},A.reverse=za,A.sampleSize=function wl(t,n,o){return n=(o?an(t,n,o):n===C)?1:ae(n),(J(t)?jf:Yl)(t,n)},A.set=function Gd(t,n,o){return null==t?t:ss(t,n,o)},A.setWith=function Od(t,n,o,f){return f="function"==typeof f?f:C,null==t?t:ss(t,n,o,f)},A.shuffle=function bl(t){return(J(t)?Kf:ah)(t)},A.slice=function $h(t,n,o){var f=null==t?0:t.length;return f?(o&&"number"!=typeof o&&an(t,n,o)?(n=0,o=f):(n=null==n?0:ae(n),o=o===C?f:ae(o)),Be(t,n,o)):[]},A.sortBy=Al,A.sortedUniq=function wo(t){return t&&t.length?ri(t):[]},A.sortedUniqBy=function Xh(t,n){return t&&t.length?ri(t,qt(n,2)):[]},A.split=function sp(t,n,o){return o&&"number"!=typeof o&&an(t,n,o)&&(n=o=C),(o=o===C?ie:o>>>0)?(t=Se(t))&&("string"==typeof n||null!=n&&!un(n))&&!(n=Cn(n))&&Jn(t)?Gr(An(t),0,o):t.split(n,o):[]},A.spread=function i(t,n){if("function"!=typeof t)throw new En(T);return n=null==n?0:Ue(ae(n),0),le(function(o){var f=o[n],y=Gr(o,0,n);return f&&Ir(y,f),In(t,this,y)})},A.tail=function jh(t){var n=null==t?0:t.length;return n?Be(t,1,n):[]},A.take=function Ic(t,n,o){return t&&t.length?Be(t,0,(n=o||n===C?1:ae(n))<0?0:n):[]},A.takeRight=function Kh(t,n,o){var f=null==t?0:t.length;return f?Be(t,(n=f-(n=o||n===C?1:ae(n)))<0?0:n,f):[]},A.takeRightWhile=function Vh(t,n){return t&&t.length?us(t,qt(n,3),!1,!0):[]},A.takeWhile=function qh(t,n){return t&&t.length?us(t,qt(n,3)):[]},A.tap=function Rc(t,n){return n(t),t},A.throttle=function r(t,n,o){var f=!0,y=!0;if("function"!=typeof t)throw new En(T);return It(o)&&(f="leading"in o?!!o.leading:f,y="trailing"in o?!!o.trailing:y),Ya(t,n,{leading:f,maxWait:n,trailing:y})},A.thru=bo,A.toArray=ce,A.toPairs=nd,A.toPairsIn=rd,A.toPath=function Up(t){return J(t)?De(t,gr):en(t)?[t]:Sn(kh(Se(t)))},A.toPlainObject=Jl,A.transform=function Pd(t,n,o){var f=J(t),y=f||tt(t)||ci(t);if(n=qt(n,4),null==o){var M=t&&t.constructor;o=y?f?new M:[]:It(t)&&re(M)?Dr(Yo(t)):{}}return(y?Rn:er)(t,function(W,Y,Q){return n(o,W,Y,Q)}),o},A.unary=function s(t){return Zc(t,1)},A.union=Jh,A.unionBy=Qh,A.unionWith=Nc,A.uniq=function Pa(t){return t&&t.length?Yn(t):[]},A.uniqBy=function Tc(t,n){return t&&t.length?Yn(t,qt(n,2)):[]},A.uniqWith=function tl(t,n){return n="function"==typeof n?n:C,t&&t.length?Yn(t,C,n):[]},A.unset=function Wd(t,n){return null==t||so(t,n)},A.unzip=Wa,A.unzipWith=el,A.update=function Ud(t,n,o){return null==t?t:Vu(t,n,ba(o))},A.updateWith=function Bd(t,n,o,f){return f="function"==typeof f?f:C,null==t?t:Vu(t,n,ba(o),f)},A.values=Ms,A.valuesIn=function Fd(t){return null==t?[]:Ys(t,On(t))},A.without=nl,A.words=sd,A.wrap=function a(t,n){return Ha(ba(n),t)},A.xor=rl,A.xorBy=_s,A.xorWith=Dc,A.zip=As,A.zipObject=function Ua(t,n){return Ju(t||[],n||[],Qi)},A.zipObjectDeep=function Ba(t,n){return Ju(t||[],n||[],ss)},A.zipWith=il,A.entries=nd,A.entriesIn=rd,A.extend=Ql,A.extendWith=Vc,Ol(A,A),A.add=Fp,A.attempt=ad,A.camelCase=Hd,A.capitalize=id,A.ceil=Zp,A.clamp=function Zd(t,n,o){return o===C&&(o=n,n=C),o!==C&&(o=(o=sr(o))==o?o:0),n!==C&&(n=(n=sr(n))==n?n:0),ei(sr(t),n,o)},A.clone=function d(t){return Gn(t,4)},A.cloneDeep=function S(t){return Gn(t,5)},A.cloneDeepWith=function _(t,n){return Gn(t,5,n="function"==typeof n?n:C)},A.cloneWith=function m(t,n){return Gn(t,4,n="function"==typeof n?n:C)},A.conformsTo=function R(t,n){return null==n||Bu(t,n,fn(n))},A.deburr=od,A.defaultTo=function xp(t,n){return null==t||t!=t?n:t},A.divide=$p,A.endsWith=function Xd(t,n,o){t=Se(t),n=Cn(n);var f=t.length,y=o=o===C?f:ei(ae(o),0,f);return(o-=n.length)>=0&&t.slice(o,y)==n},A.eq=B,A.escape=function jd(t){return(t=Se(t))&&Eo.test(t)?t.replace(Er,Oo):t},A.escapeRegExp=function Kd(t){return(t=Se(t))&&qn.test(t)?t.replace(Cr,"\\$&"):t},A.every=function Ur(t,n,o){var f=J(t)?yu:$u;return o&&an(t,n,o)&&(n=C),f(t,qt(n,3))},A.find=Za,A.findIndex=Ec,A.findKey=function yd(t,n){return mu(t,qt(n,3),er)},A.findLast=Uc,A.findLastIndex=Cc,A.findLastKey=function md(t,n){return mu(t,qt(n,3),oa)},A.floor=Yp,A.forEach=$a,A.forEachRight=Bc,A.forIn=function wd(t,n){return null==t?t:ia(t,qt(n,3),On)},A.forInRight=function bd(t,n){return null==t?t:Hu(t,qt(n,3),On)},A.forOwn=function xd(t,n){return t&&er(t,qt(n,3))},A.forOwnRight=function _d(t,n){return t&&oa(t,qt(n,3))},A.get=Dl,A.gt=U,A.gte=K,A.has=function Cd(t,n){return null!=t&&dc(t,n,th)},A.hasIn=Ll,A.head=Ra,A.identity=Pn,A.includes=function hl(t,n,o,f){t=H(t)?t:Ms(t),o=o&&!f?ae(o):0;var y=t.length;return o<0&&(o=Ue(y+o,0)),yr(t)?o<=y&&t.indexOf(n,o)>-1:!!y&&wi(t,n,o)>-1},A.indexOf=function Oh(t,n,o){var f=null==t?0:t.length;if(!f)return-1;var y=null==o?0:ae(o);return y<0&&(y=Ue(f+y,0)),wi(t,n,y)},A.inRange=function $d(t,n,o){return n=Me(n),o===C?(o=n,n=0):o=Me(o),function nh(t,n,o){return t>=qe(n,o)&&t<Ue(n,o)}(t=sr(t),n,o)},A.invoke=Md,A.isArguments=gt,A.isArray=J,A.isArrayBuffer=j,A.isArrayLike=H,A.isArrayLikeObject=ot,A.isBoolean=function mt(t){return!0===t||!1===t||ut(t)&&yn(t)==ze},A.isBuffer=tt,A.isDate=Et,A.isElement=function Wt(t){return ut(t)&&1===t.nodeType&&!Fe(t)},A.isEmpty=function Zt(t){if(null==t)return!0;if(H(t)&&(J(t)||"string"==typeof t||"function"==typeof t.splice||tt(t)||ci(t)||gt(t)))return!t.length;var n=tn(t);if(n==Ge||n==ln)return!t.size;if(zi(t))return!Xe(t).length;for(var o in t)if(he.call(t,o))return!1;return!0},A.isEqual=function Ft(t,n){return eo(t,n)},A.isEqualWith=function ue(t,n,o){var f=(o="function"==typeof o?o:C)?o(t,n):C;return f===C?eo(t,n,C,o):!!f},A.isError=$t,A.isFinite=function zt(t){return"number"==typeof t&&Tu(t)},A.isFunction=re,A.isInteger=Jt,A.isLength=it,A.isMap=Rt,A.isMatch=function Xt(t,n){return t===n||aa(t,n,Ri(n))},A.isMatchWith=function Bt(t,n,o){return o="function"==typeof o?o:C,aa(t,n,Ri(n),o)},A.isNaN=function Ht(t){return Re(t)&&t!=+t},A.isNative=function se(t){if(yc(t))throw new oe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ua(t)},A.isNil=function Mn(t){return null==t},A.isNull=function fe(t){return null===t},A.isNumber=Re,A.isObject=It,A.isObjectLike=ut,A.isPlainObject=Fe,A.isRegExp=un,A.isSafeInteger=function Ne(t){return Jt(t)&&t>=-ve&&t<=ve},A.isSet=cn,A.isString=yr,A.isSymbol=en,A.isTypedArray=ci,A.isUndefined=function jc(t){return t===C},A.isWeakMap=function fi(t){return ut(t)&&tn(t)==Br},A.isWeakSet=function Kc(t){return ut(t)&&"[object WeakSet]"==yn(t)},A.join=function Wh(t,n){return null==t?"":Mf.call(t,n)},A.kebabCase=Vd,A.last=mn,A.lastIndexOf=function Uh(t,n,o){var f=null==t?0:t.length;if(!f)return-1;var y=f;return o!==C&&(y=(y=ae(o))<0?Ue(f+y,0):qe(y,f-1)),n==n?function Hs(V,lt,st){for(var Ut=st+1;Ut--;)if(V[Ut]===lt)return Ut;return Ut}(t,n,y):zo(t,wu,y,!0)},A.lowerCase=qd,A.lowerFirst=Jd,A.lt=Nl,A.lte=Tl,A.max=function Hp(t){return t&&t.length?es(t,Pn,sa):C},A.maxBy=function Xp(t,n){return t&&t.length?es(t,qt(n,2),sa):C},A.mean=function jp(t){return Fs(t,Pn)},A.meanBy=function Kp(t,n){return Fs(t,qt(n,2))},A.min=function Vp(t){return t&&t.length?es(t,Pn,rs):C},A.minBy=function qp(t,n){return t&&t.length?es(t,qt(n,2),rs):C},A.stubArray=Wl,A.stubFalse=Ul,A.stubObject=function Gp(){return{}},A.stubString=function Op(){return""},A.stubTrue=function Pp(){return!0},A.multiply=Jp,A.nth=function jl(t,n){return t&&t.length?ha(t,ae(n)):C},A.noConflict=function Mp(){return Ke._===this&&(Ke._=Cf),this},A.noop=Pl,A.now=Cs,A.pad=function Qd(t,n,o){t=Se(t);var f=(n=ae(n))?_i(t):0;if(!n||f>=n)return t;var y=(n-f)/2;return fs(jo(y),o)+t+fs(Xo(y),o)},A.padEnd=function tp(t,n,o){t=Se(t);var f=(n=ae(n))?_i(t):0;return n&&f<n?t+fs(n-f,o):t},A.padStart=function ep(t,n,o){t=Se(t);var f=(n=ae(n))?_i(t):0;return n&&f<n?fs(n-f,o)+t:t},A.parseInt=function np(t,n,o){return o||null==n?n=0:n&&(n=+n),Tf(Se(t).replace(be,""),n||0)},A.random=function Yd(t,n,o){if(o&&"boolean"!=typeof o&&an(t,n,o)&&(n=o=C),o===C&&("boolean"==typeof n?(o=n,n=C):"boolean"==typeof t&&(o=t,t=C)),t===C&&n===C?(t=0,n=1):(t=Me(t),n===C?(n=t,t=0):n=Me(n)),t>n){var f=t;t=n,n=f}if(o||t%1||n%1){var y=Vs();return qe(t+y*(n-t+Gs("1e-"+((y+"").length-1))),n)}return pa(t,n)},A.reduce=function gl(t,n,o){var f=J(t)?Us:bu,y=arguments.length<3;return f(t,qt(n,4),o,y,Rr)},A.reduceRight=function vl(t,n,o){var f=J(t)?gf:bu,y=arguments.length<3;return f(t,qt(n,4),o,y,Zu)},A.repeat=function rp(t,n,o){return n=(o?an(t,n,o):n===C)?1:ae(n),va(Se(t),n)},A.replace=function ip(){var t=arguments,n=Se(t[0]);return t.length<3?n:n.replace(t[1],t[2])},A.result=function zd(t,n,o){var f=-1,y=(n=dr(n,t)).length;for(y||(y=1,t=C);++f<y;){var M=null==t?C:t[gr(n[f])];M===C&&(f=y,M=o),t=re(M)?M.call(t):M}return t},A.round=Qp,A.runInContext=V,A.sample=function ml(t){return(J(t)?Wu:$l)(t)},A.size=function xl(t){if(null==t)return 0;if(H(t))return yr(t)?_i(t):t.length;var n=tn(t);return n==Ge||n==ln?t.size:Xe(t).length},A.snakeCase=op,A.some=function _l(t,n,o){var f=J(t)?Bs:uh;return o&&an(t,n,o)&&(n=C),f(t,qt(n,3))},A.sortedIndex=function xs(t,n){return zr(t,n)},A.sortedIndexBy=function Yh(t,n,o){return oo(t,n,qt(o,2))},A.sortedIndexOf=function vr(t,n){var o=null==t?0:t.length;if(o){var f=zr(t,n);if(f<o&&B(t[f],n))return f}return-1},A.sortedLastIndex=function Ga(t,n){return zr(t,n,!0)},A.sortedLastIndexBy=function Hh(t,n,o){return oo(t,n,qt(o,2),!0)},A.sortedLastIndexOf=function Oa(t,n){if(null!=t&&t.length){var f=zr(t,n,!0)-1;if(B(t[f],n))return f}return-1},A.startCase=ap,A.startsWith=function up(t,n,o){return t=Se(t),o=null==o?0:ei(ae(o),0,t.length),n=Cn(n),t.slice(o,o+n.length)==n},A.subtract=tg,A.sum=function eg(t){return t&&t.length?Go(t,Pn):0},A.sumBy=function ng(t,n){return t&&t.length?Go(t,qt(n,2)):0},A.template=function cp(t,n,o){var f=A.templateSettings;o&&an(t,n,o)&&(n=C),t=Se(t),n=Vc({},n,f,fc);var Y,Q,y=Vc({},n.imports,f.imports,fc),M=fn(y),W=Ys(y,M),yt=0,wt=n.interpolate||xt,Ct="__p += '",Ot=Ai((n.escape||xt).source+"|"+wt.source+"|"+(wt===Co?b:xt).source+"|"+(n.evaluate||xt).source+"|$","g"),Yt="//# sourceURL="+(he.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++cf+"]")+"\n";t.replace(Ot,function(ne,ge,_e,Hn,Tn,Xn){return _e||(_e=Hn),Ct+=t.slice(yt,Xn).replace(_t,xi),ge&&(Y=!0,Ct+="' +\n__e("+ge+") +\n'"),Tn&&(Q=!0,Ct+="';\n"+Tn+";\n__p += '"),_e&&(Ct+="' +\n((__t = ("+_e+")) == null ? '' : __t) +\n'"),yt=Xn+ne.length,ne}),Ct+="';\n";var ee=he.call(n,"variable")&&n.variable;if(ee){if(Sr.test(ee))throw new oe("Invalid `variable` option passed into `_.template`")}else Ct="with (obj) {\n"+Ct+"\n}\n";Ct=(Q?Ct.replace(gi,""):Ct).replace(Ao,"$1").replace(vi,"$1;"),Ct="function("+(ee||"obj")+") {\n"+(ee?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(Y?", __e = _.escape":"")+(Q?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Ct+"return __p\n}";var de=ad(function(){return me(M,Yt+"return "+Ct).apply(C,W)});if(de.source=Ct,$t(de))throw de;return de},A.times=function Wp(t,n){if((t=ae(t))<1||t>ve)return[];var o=ie,f=qe(t,ie);n=qt(n),t-=ie;for(var y=gn(f,n);++o<t;)n(o);return y},A.toFinite=Me,A.toInteger=ae,A.toLength=mr,A.toLower=function fp(t){return Se(t).toLowerCase()},A.toNumber=sr,A.toSafeInteger=function fd(t){return t?ei(ae(t),-ve,ve):0===t?t:0},A.toString=Se,A.toUpper=function hp(t){return Se(t).toUpperCase()},A.trim=function lp(t,n,o){if((t=Se(t))&&(o||n===C))return _u(t);if(!t||!(n=Cn(n)))return t;var f=An(t),y=An(n);return Gr(f,$i(f,y),Au(f,y)+1).join("")},A.trimEnd=function dp(t,n,o){if((t=Se(t))&&(o||n===C))return t.slice(0,Wo(t)+1);if(!t||!(n=Cn(n)))return t;var f=An(t);return Gr(f,0,Au(f,An(n))+1).join("")},A.trimStart=function pp(t,n,o){if((t=Se(t))&&(o||n===C))return t.replace(be,"");if(!t||!(n=Cn(n)))return t;var f=An(t);return Gr(f,$i(f,An(n))).join("")},A.truncate=function gp(t,n){var o=30,f="...";if(It(n)){var y="separator"in n?n.separator:y;o="length"in n?ae(n.length):o,f="omission"in n?Cn(n.omission):f}var M=(t=Se(t)).length;if(Jn(t)){var W=An(t);M=W.length}if(o>=M)return t;var Y=o-_i(f);if(Y<1)return f;var Q=W?Gr(W,0,Y).join(""):t.slice(0,Y);if(y===C)return Q+f;if(W&&(Y+=Q.length-Y),un(y)){if(t.slice(Y).search(y)){var yt,wt=Q;for(y.global||(y=Ai(y.source,Se(g.exec(y))+"g")),y.lastIndex=0;yt=y.exec(wt);)var Ct=yt.index;Q=Q.slice(0,Ct===C?Y:Ct)}}else if(t.indexOf(Cn(y),Y)!=Y){var Ot=Q.lastIndexOf(y);Ot>-1&&(Q=Q.slice(0,Ot))}return Q+f},A.unescape=function vp(t){return(t=Se(t))&&Ns.test(t)?t.replace(Ar,_f):t},A.uniqueId=function Bp(t){var n=++Mu;return Se(t)+n},A.upperCase=yp,A.upperFirst=Rl,A.each=$a,A.eachRight=Bc,A.first=Ra,Ol(A,function(){var t={};return er(A,function(n,o){he.call(A.prototype,o)||(t[o]=n)}),t}(),{chain:!1}),A.VERSION="4.17.21",Rn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){A[t].placeholder=A}),Rn(["drop","take"],function(t,n){pe.prototype[t]=function(o){o=o===C?1:Ue(ae(o),0);var f=this.__filtered__&&!n?new pe(this):this.clone();return f.__filtered__?f.__takeCount__=qe(o,f.__takeCount__):f.__views__.push({size:qe(o,ie),type:t+(f.__dir__<0?"Right":"")}),f},pe.prototype[t+"Right"]=function(o){return this.reverse()[t](o).reverse()}}),Rn(["filter","map","takeWhile"],function(t,n){var o=n+1,f=1==o||3==o;pe.prototype[t]=function(y){var M=this.clone();return M.__iteratees__.push({iteratee:qt(y,3),type:o}),M.__filtered__=M.__filtered__||f,M}}),Rn(["head","last"],function(t,n){var o="take"+(n?"Right":"");pe.prototype[t]=function(){return this[o](1).value()[0]}}),Rn(["initial","tail"],function(t,n){var o="drop"+(n?"":"Right");pe.prototype[t]=function(){return this.__filtered__?new pe(this):this[o](1)}}),pe.prototype.compact=function(){return this.filter(Pn)},pe.prototype.find=function(t){return this.filter(t).head()},pe.prototype.findLast=function(t){return this.reverse().find(t)},pe.prototype.invokeMap=le(function(t,n){return"function"==typeof t?new pe(this):this.map(function(o){return Ii(o,t,n)})}),pe.prototype.reject=function(t){return this.filter(ks(qt(t)))},pe.prototype.slice=function(t,n){t=ae(t);var o=this;return o.__filtered__&&(t>0||n<0)?new pe(o):(t<0?o=o.takeRight(-t):t&&(o=o.drop(t)),n!==C&&(o=(n=ae(n))<0?o.dropRight(-n):o.take(n-t)),o)},pe.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},pe.prototype.toArray=function(){return this.take(ie)},er(pe.prototype,function(t,n){var o=/^(?:filter|find|map|reject)|While$/.test(n),f=/^(?:head|last)$/.test(n),y=A[f?"take"+("last"==n?"Right":""):n],M=f||/^find/.test(n);!y||(A.prototype[n]=function(){var W=this.__wrapped__,Y=f?[1]:arguments,Q=W instanceof pe,yt=Y[0],wt=Q||J(W),Ct=function(ge){var _e=y.apply(A,Ir([ge],Y));return f&&Ot?_e[0]:_e};wt&&o&&"function"==typeof yt&&1!=yt.length&&(Q=wt=!1);var Ot=this.__chain__,Yt=!!this.__actions__.length,ee=M&&!Ot,de=Q&&!Yt;if(!M&&wt){W=de?W:new pe(this);var ne=t.apply(W,Y);return ne.__actions__.push({func:bo,args:[Ct],thisArg:C}),new zn(ne,Ot)}return ee&&de?t.apply(this,Y):(ne=this.thru(Ct),ee?f?ne.value()[0]:ne.value():ne)})}),Rn(["pop","push","shift","sort","splice","unshift"],function(t){var n=Nn[t],o=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",f=/^(?:pop|shift)$/.test(t);A.prototype[t]=function(){var y=arguments;if(f&&!this.__chain__){var M=this.value();return n.apply(J(M)?M:[],y)}return this[o](function(W){return n.apply(J(W)?W:[],y)})}}),er(pe.prototype,function(t,n){var o=A[n];if(o){var f=o.name+"";he.call(qr,f)||(qr[f]=[]),qr[f].push({name:n,func:o})}}),qr[cs(C,2).name]=[{name:"wrapper",func:C}],pe.prototype.clone=function Qs(){var t=new pe(this.__wrapped__);return t.__actions__=Sn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Sn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Sn(this.__views__),t},pe.prototype.reverse=function Ru(){if(this.__filtered__){var t=new pe(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},pe.prototype.value=function Df(){var t=this.__wrapped__.value(),n=this.__dir__,o=J(t),f=n<0,y=o?t.length:0,M=function xh(t,n,o){for(var f=-1,y=o.length;++f<y;){var M=o[f],W=M.size;switch(M.type){case"drop":t+=W;break;case"dropRight":n-=W;break;case"take":n=qe(n,t+W);break;case"takeRight":t=Ue(t,n-W)}}return{start:t,end:n}}(0,y,this.__views__),W=M.start,Y=M.end,Q=Y-W,yt=f?Y:W-1,wt=this.__iteratees__,Ct=wt.length,Ot=0,Yt=qe(Q,this.__takeCount__);if(!o||!f&&y==Q&&Yt==Q)return qu(t,this.__actions__);var ee=[];t:for(;Q--&&Ot<Yt;){for(var de=-1,ne=t[yt+=n];++de<Ct;){var ge=wt[de],Hn=ge.type,Tn=(0,ge.iteratee)(ne);if(2==Hn)ne=Tn;else if(!Tn){if(1==Hn)continue t;break t}}ee[Ot++]=ne}return ee},A.prototype.at=ol,A.prototype.chain=function Fa(){return Lc(this)},A.prototype.commit=function zc(){return new zn(this.value(),this.__chain__)},A.prototype.next=function ui(){this.__values__===C&&(this.__values__=ce(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?C:this.__values__[this.__index__++]}},A.prototype.plant=function Oc(t){for(var n,o=this;o instanceof Ji;){var f=_c(o);f.__index__=0,f.__values__=C,n?y.__wrapped__=f:n=f;var y=f;o=o.__wrapped__}return y.__wrapped__=t,n},A.prototype.reverse=function sl(){var t=this.__wrapped__;if(t instanceof pe){var n=t;return this.__actions__.length&&(n=new pe(this)),(n=n.reverse()).__actions__.push({func:bo,args:[za],thisArg:C}),new zn(n,this.__chain__)}return this.thru(za)},A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=function Pc(){return qu(this.__wrapped__,this.__actions__)},A.prototype.first=A.prototype.head,cr&&(A.prototype[cr]=function Gc(){return this}),A}();Ke._=ji,(ft=function(){return ji}.call(At,P,At,Nt))!==C&&(Nt.exports=ft)}.call(this)},8740:(Nt,At,P)=>{var ft=P(6009),C=P(5701);function X(h,G){if(arguments.length<2)throw new Error("mnemonist/fixed-deque: expecting an Array class and a capacity.");if("number"!=typeof G||G<=0)throw new Error("mnemonist/fixed-deque: `capacity` should be a positive number.");this.ArrayClass=h,this.capacity=G,this.items=new h(this.capacity),this.clear()}X.prototype.clear=function(){this.start=0,this.size=0},X.prototype.push=function(h){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.push: deque capacity ("+this.capacity+") exceeded!");return this.items[(this.start+this.size)%this.capacity]=h,++this.size},X.prototype.unshift=function(h){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.unshift: deque capacity ("+this.capacity+") exceeded!");var G=this.start-1;return 0===this.start&&(G=this.capacity-1),this.items[G]=h,this.start=G,++this.size},X.prototype.pop=function(){if(0===this.size)return;const h=(this.start+this.size-1)%this.capacity;return this.size--,this.items[h]},X.prototype.shift=function(){if(0!==this.size){var h=this.start;return this.size--,this.start++,this.start===this.capacity&&(this.start=0),this.items[h]}},X.prototype.peekFirst=function(){if(0!==this.size)return this.items[this.start]},X.prototype.peekLast=function(){if(0!==this.size){var h=this.start+this.size-1;return h>this.capacity&&(h-=this.capacity),this.items[h]}},X.prototype.get=function(h){if(0!==this.size)return(h=this.start+h)>this.capacity&&(h-=this.capacity),this.items[h]},X.prototype.forEach=function(h,G){G=arguments.length>1?G:this;for(var T=this.capacity,O=this.size,x=this.start,w=0;w<O;)h.call(G,this.items[x],w,this),w++,++x===T&&(x=0)},X.prototype.toArray=function(){var h=this.start+this.size;if(h<this.capacity)return this.items.slice(this.start,h);for(var G=new this.ArrayClass(this.size),T=this.capacity,O=this.size,x=this.start,w=0;w<O;)G[w]=this.items[x],w++,++x===T&&(x=0);return G},X.prototype.values=function(){var h=this.items,G=this.capacity,T=this.size,O=this.start,x=0;return new C(function(){if(x>=T)return{done:!0};var w=h[O];return O++,x++,O===G&&(O=0),{value:w,done:!1}})},X.prototype.entries=function(){var h=this.items,G=this.capacity,T=this.size,O=this.start,x=0;return new C(function(){if(x>=T)return{done:!0};var w=h[O];return++O===G&&(O=0),{value:[x++,w],done:!1}})},"undefined"!=typeof Symbol&&(X.prototype[Symbol.iterator]=X.prototype.values),X.prototype.inspect=function(){var h=this.toArray();return h.type=this.ArrayClass.name,h.capacity=this.capacity,Object.defineProperty(h,"constructor",{value:X,enumerable:!1}),h},"undefined"!=typeof Symbol&&(X.prototype[Symbol.for("nodejs.util.inspect.custom")]=X.prototype.inspect),X.from=function(h,G,T){if(arguments.length<3&&"number"!=typeof(T=ft.guessLength(h)))throw new Error("mnemonist/fixed-deque.from: could not guess iterable length. Please provide desired capacity as last argument.");var O=new X(G,T);if(ft.isArrayLike(h)){var x,w;for(x=0,w=h.length;x<w;x++)O.items[x]=h[x];return O.size=w,O}return ft.forEach(h,function(E){O.push(E)}),O},Nt.exports=X},7451:(Nt,At,P)=>{var ft=P(5701),C=P(6009);function X(h,G){if(arguments.length<2)throw new Error("mnemonist/fixed-stack: expecting an Array class and a capacity.");if("number"!=typeof G||G<=0)throw new Error("mnemonist/fixed-stack: `capacity` should be a positive number.");this.capacity=G,this.ArrayClass=h,this.items=new this.ArrayClass(this.capacity),this.clear()}X.prototype.clear=function(){this.size=0},X.prototype.push=function(h){if(this.size===this.capacity)throw new Error("mnemonist/fixed-stack.push: stack capacity ("+this.capacity+") exceeded!");return this.items[this.size++]=h,this.size},X.prototype.pop=function(){if(0!==this.size)return this.items[--this.size]},X.prototype.peek=function(){return this.items[this.size-1]},X.prototype.forEach=function(h,G){G=arguments.length>1?G:this;for(var T=0,O=this.items.length;T<O;T++)h.call(G,this.items[O-T-1],T,this)},X.prototype.toArray=function(){for(var h=new this.ArrayClass(this.size),G=this.size-1,T=this.size;T--;)h[T]=this.items[G-T];return h},X.prototype.values=function(){var h=this.items,G=this.size,T=0;return new ft(function(){if(T>=G)return{done:!0};var O=h[G-T-1];return T++,{value:O,done:!1}})},X.prototype.entries=function(){var h=this.items,G=this.size,T=0;return new ft(function(){if(T>=G)return{done:!0};var O=h[G-T-1];return{value:[T++,O],done:!1}})},"undefined"!=typeof Symbol&&(X.prototype[Symbol.iterator]=X.prototype.values),X.prototype.toString=function(){return this.toArray().join(",")},X.prototype.toJSON=function(){return this.toArray()},X.prototype.inspect=function(){var h=this.toArray();return h.type=this.ArrayClass.name,h.capacity=this.capacity,Object.defineProperty(h,"constructor",{value:X,enumerable:!1}),h},"undefined"!=typeof Symbol&&(X.prototype[Symbol.for("nodejs.util.inspect.custom")]=X.prototype.inspect),X.from=function(h,G,T){if(arguments.length<3&&"number"!=typeof(T=C.guessLength(h)))throw new Error("mnemonist/fixed-stack.from: could not guess iterable length. Please provide desired capacity as last argument.");var O=new X(G,T);if(C.isArrayLike(h)){var x,w;for(x=0,w=h.length;x<w;x++)O.items[x]=h[x];return O.size=w,O}return C.forEach(h,function(E){O.push(E)}),O},Nt.exports=X},4547:(Nt,At,P)=>{var ft=P(4467),C=P(2062),X=P(6009),h=C.DEFAULT_COMPARATOR,G=C.reverseComparator;function T(Z,$,F,L){for(var vt,bt,at=$[L];L>F&&Z(at,bt=$[vt=L-1>>1])<0;)$[L]=bt,L=vt;$[L]=at}function O(Z,$,F){for(var ht,L=$.length,at=F,vt=$[F],bt=2*F+1;bt<L;)(ht=bt+1)<L&&Z($[bt],$[ht])>=0&&(bt=ht),$[F]=$[bt],bt=2*(F=bt)+1;$[F]=vt,T(Z,$,at,F)}function x(Z,$,F){$.push(F),T(Z,$,0,$.length-1)}function w(Z,$){var F=$.pop();if(0!==$.length){var L=$[0];return $[0]=F,O(Z,$,0),L}return F}function E(Z,$,F){if(0===$.length)throw new Error("mnemonist/heap.replace: cannot pop an empty heap.");var L=$[0];return $[0]=F,O(Z,$,0),L}function I(Z,$,F){var L;return 0!==$.length&&Z($[0],F)<0&&(L=$[0],$[0]=F,F=L,O(Z,$,0)),F}function N(Z,$){for(var at=$.length>>1;--at>=0;)O(Z,$,at)}function D(Z,$){for(var F=$.length,L=0,at=new Array(F);L<F;)at[L++]=w(Z,$);return at}function rt(Z){if(this.clear(),this.comparator=Z||h,"function"!=typeof this.comparator)throw new Error("mnemonist/Heap.constructor: given comparator should be a function.")}function ct(Z){if(this.clear(),this.comparator=Z||h,"function"!=typeof this.comparator)throw new Error("mnemonist/MaxHeap.constructor: given comparator should be a function.");this.comparator=G(this.comparator)}rt.prototype.clear=function(){this.items=[],this.size=0},rt.prototype.push=function(Z){return x(this.comparator,this.items,Z),++this.size},rt.prototype.peek=function(){return this.items[0]},rt.prototype.pop=function(){return 0!==this.size&&this.size--,w(this.comparator,this.items)},rt.prototype.replace=function(Z){return E(this.comparator,this.items,Z)},rt.prototype.pushpop=function(Z){return I(this.comparator,this.items,Z)},rt.prototype.consume=function(){return this.size=0,D(this.comparator,this.items)},rt.prototype.toArray=function(){return D(this.comparator,this.items.slice())},rt.prototype.inspect=function(){var Z=this.toArray();return Object.defineProperty(Z,"constructor",{value:rt,enumerable:!1}),Z},"undefined"!=typeof Symbol&&(rt.prototype[Symbol.for("nodejs.util.inspect.custom")]=rt.prototype.inspect),ct.prototype=rt.prototype,rt.from=function(Z,$){var L,F=new rt($);return L=X.isArrayLike(Z)?Z.slice():X.toArray(Z),N(F.comparator,L),F.items=L,F.size=L.length,F},ct.from=function(Z,$){var L,F=new ct($);return L=X.isArrayLike(Z)?Z.slice():X.toArray(Z),N(F.comparator,L),F.items=L,F.size=L.length,F},rt.siftUp=O,rt.siftDown=T,rt.push=x,rt.pop=w,rt.replace=E,rt.pushpop=I,rt.heapify=N,rt.consume=D,rt.nsmallest=function nt(Z,$,F){2===arguments.length&&(F=$,$=Z,Z=h);var at,vt,bt,dt,L=G(Z),ht=1/0;if(1===$){if(X.isArrayLike(F)){for(at=0,vt=F.length;at<vt;at++)bt=F[at],(ht===1/0||Z(bt,ht)<0)&&(ht=bt);return(dt=new F.constructor(1))[0]=ht,dt}return ft(F,function(Tt){(ht===1/0||Z(Tt,ht)<0)&&(ht=Tt)}),[ht]}if(X.isArrayLike(F)){if($>=F.length)return F.slice().sort(Z);for(dt=F.slice(0,$),N(L,dt),at=$,vt=F.length;at<vt;at++)L(F[at],dt[0])>0&&E(L,dt,F[at]);return dt.sort(Z)}var St=X.guessLength(F);return null!==St&&St<$&&($=St),dt=new Array($),at=0,ft(F,function(Tt){at<$?dt[at]=Tt:(at===$&&N(L,dt),L(Tt,dt[0])>0&&E(L,dt,Tt)),at++}),dt.length>at&&(dt.length=at),dt.sort(Z)},rt.nlargest=function q(Z,$,F){2===arguments.length&&(F=$,$=Z,Z=h);var at,vt,bt,dt,L=G(Z),ht=-1/0;if(1===$){if(X.isArrayLike(F)){for(at=0,vt=F.length;at<vt;at++)bt=F[at],(ht===-1/0||Z(bt,ht)>0)&&(ht=bt);return(dt=new F.constructor(1))[0]=ht,dt}return ft(F,function(Tt){(ht===-1/0||Z(Tt,ht)>0)&&(ht=Tt)}),[ht]}if(X.isArrayLike(F)){if($>=F.length)return F.slice().sort(L);for(dt=F.slice(0,$),N(Z,dt),at=$,vt=F.length;at<vt;at++)Z(F[at],dt[0])>0&&E(Z,dt,F[at]);return dt.sort(L)}var St=X.guessLength(F);return null!==St&&St<$&&($=St),dt=new Array($),at=0,ft(F,function(Tt){at<$?dt[at]=Tt:(at===$&&N(Z,dt),Z(Tt,dt[0])>0&&E(Z,dt,Tt)),at++}),dt.length>at&&(dt.length=at),dt.sort(L)},rt.MinHeap=rt,rt.MaxHeap=ct,Nt.exports=rt},8090:(Nt,At,P)=>{var ft=P(5701),C=P(6116).getPointerArray;function X(h,G){arguments.length<2&&(G=h,h=Array);var T=C(G);this.size=0,this.length=G,this.dense=new T(G),this.sparse=new T(G),this.vals=new h(G)}X.prototype.clear=function(){this.size=0},X.prototype.has=function(h){var G=this.sparse[h];return G<this.size&&this.dense[G]===h},X.prototype.get=function(h){var G=this.sparse[h];if(G<this.size&&this.dense[G]===h)return this.vals[G]},X.prototype.set=function(h,G){var T=this.sparse[h];return T<this.size&&this.dense[T]===h?(this.vals[T]=G,this):(this.dense[this.size]=h,this.sparse[h]=this.size,this.vals[this.size]=G,this.size++,this)},X.prototype.delete=function(h){var G=this.sparse[h];return!(G>=this.size||this.dense[G]!==h||(this.dense[this.sparse[h]]=G=this.dense[this.size-1],this.sparse[G]=this.sparse[h],this.size--,0))},X.prototype.forEach=function(h,G){G=arguments.length>1?G:this;for(var T=0;T<this.size;T++)h.call(G,this.vals[T],this.dense[T])},X.prototype.keys=function(){var h=this.size,G=this.dense,T=0;return new ft(function(){if(T<h){var O=G[T];return T++,{value:O}}return{done:!0}})},X.prototype.values=function(){var h=this.size,G=this.vals,T=0;return new ft(function(){if(T<h){var O=G[T];return T++,{value:O}}return{done:!0}})},X.prototype.entries=function(){var h=this.size,G=this.dense,T=this.vals,O=0;return new ft(function(){if(O<h){var x=[G[O],T[O]];return O++,{value:x}}return{done:!0}})},"undefined"!=typeof Symbol&&(X.prototype[Symbol.iterator]=X.prototype.entries),X.prototype.inspect=function(){for(var h=new Map,G=0;G<this.size;G++)h.set(this.dense[G],this.vals[G]);return Object.defineProperty(h,"constructor",{value:X,enumerable:!1}),h.length=this.length,this.vals.constructor!==Array&&(h.type=this.vals.constructor.name),h},"undefined"!=typeof Symbol&&(X.prototype[Symbol.for("nodejs.util.inspect.custom")]=X.prototype.inspect),Nt.exports=X},5766:(Nt,At,P)=>{var ft=P(5701),C=P(6116).getPointerArray;function X(h){var G=C(h);this.start=0,this.size=0,this.capacity=h,this.dense=new G(h),this.sparse=new G(h)}X.prototype.clear=function(){this.start=0,this.size=0},X.prototype.has=function(h){if(0===this.size)return!1;var G=this.sparse[h];return(G<this.capacity&&G>=this.start&&G<this.start+this.size||G<(this.start+this.size)%this.capacity)&&this.dense[G]===h},X.prototype.enqueue=function(h){var G=this.sparse[h];return 0!==this.size&&(G<this.capacity&&G>=this.start&&G<this.start+this.size||G<(this.start+this.size)%this.capacity)&&this.dense[G]===h||(this.dense[G=(this.start+this.size)%this.capacity]=h,this.sparse[h]=G,this.size++),this},X.prototype.dequeue=function(){if(0!==this.size){var h=this.start;this.size--,this.start++,this.start===this.capacity&&(this.start=0);var G=this.dense[h];return this.sparse[G]=this.capacity,G}},X.prototype.forEach=function(h,G){G=arguments.length>1?G:this;for(var T=this.capacity,O=this.size,x=this.start,w=0;w<O;)h.call(G,this.dense[x],w,this),w++,++x===T&&(x=0)},X.prototype.values=function(){var h=this.dense,G=this.capacity,T=this.size,O=this.start,x=0;return new ft(function(){if(x>=T)return{done:!0};var w=h[O];return O++,x++,O===G&&(O=0),{value:w,done:!1}})},"undefined"!=typeof Symbol&&(X.prototype[Symbol.iterator]=X.prototype.values),X.prototype.inspect=function(){var h=[];return this.forEach(function(G){h.push(G)}),Object.defineProperty(h,"constructor",{value:X,enumerable:!1}),h.capacity=this.capacity,h},"undefined"!=typeof Symbol&&(X.prototype[Symbol.for("nodejs.util.inspect.custom")]=X.prototype.inspect),Nt.exports=X},4268:(Nt,At,P)=>{var ft=P(5701),C=P(6116).getPointerArray;function X(h){var G=C(h);this.size=0,this.length=h,this.dense=new G(h),this.sparse=new G(h)}X.prototype.clear=function(){this.size=0},X.prototype.has=function(h){var G=this.sparse[h];return G<this.size&&this.dense[G]===h},X.prototype.add=function(h){var G=this.sparse[h];return G<this.size&&this.dense[G]===h||(this.dense[this.size]=h,this.sparse[h]=this.size,this.size++),this},X.prototype.delete=function(h){var G=this.sparse[h];return!(G>=this.size||this.dense[G]!==h||(this.dense[this.sparse[h]]=G=this.dense[this.size-1],this.sparse[G]=this.sparse[h],this.size--,0))},X.prototype.forEach=function(h,G){G=arguments.length>1?G:this;for(var T,O=0;O<this.size;O++)h.call(G,T=this.dense[O],T)},X.prototype.values=function(){var h=this.size,G=this.dense,T=0;return new ft(function(){if(T<h){var O=G[T];return T++,{value:O}}return{done:!0}})},"undefined"!=typeof Symbol&&(X.prototype[Symbol.iterator]=X.prototype.values),X.prototype.inspect=function(){for(var h=new Set,G=0;G<this.size;G++)h.add(this.dense[G]);return Object.defineProperty(h,"constructor",{value:X,enumerable:!1}),h.length=this.length,h},"undefined"!=typeof Symbol&&(X.prototype[Symbol.for("nodejs.util.inspect.custom")]=X.prototype.inspect),Nt.exports=X},2062:(Nt,At)=>{At.DEFAULT_COMPARATOR=function(h,G){return h<G?-1:h>G?1:0},At.DEFAULT_REVERSE_COMPARATOR=function(h,G){return h<G?1:h>G?-1:0},At.reverseComparator=function C(h){return function(G,T){return h(T,G)}},At.createTupleComparator=function X(h){return 2===h?function(G,T){return G[0]<T[0]?-1:G[0]>T[0]?1:G[1]<T[1]?-1:G[1]>T[1]?1:0}:function(G,T){for(var O=0;O<h;){if(G[O]<T[O])return-1;if(G[O]>T[O])return 1;O++}return 0}}},6009:(Nt,At,P)=>{var ft=P(4467),C=P(6116);function h(O){return"number"==typeof O.length?O.length:"number"==typeof O.size?O.size:void 0}At.isArrayLike=function X(O){return Array.isArray(O)||C.isTypedArray(O)},At.guessLength=h,At.toArray=function G(O){var x=h(O),w="number"==typeof x?new Array(x):[],E=0;return ft(O,function(I){w[E++]=I}),w},At.toArrayWithIndices=function T(O){var x=h(O),w="number"==typeof x?C.getPointerArray(x):Array,E="number"==typeof x?new Array(x):[],I="number"==typeof x?new w(x):[],N=0;return ft(O,function(D){E[N]=D,I[N]=N++}),[E,I]}},6116:(Nt,At)=>{var P=Math.pow(2,8)-1,ft=Math.pow(2,16)-1,C=Math.pow(2,32)-1,X=Math.pow(2,7)-1,h=Math.pow(2,15)-1,G=Math.pow(2,31)-1;At.getPointerArray=function(O){var x=O-1;if(x<=P)return Uint8Array;if(x<=ft)return Uint16Array;if(x<=C)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},At.getSignedPointerArray=function(O){var x=O-1;return x<=X?Int8Array:x<=h?Int16Array:x<=G?Int32Array:Float64Array},At.getNumberType=function(O){return O===(0|O)?-1===Math.sign(O)?O<=127&&O>=-128?Int8Array:O<=32767&&O>=-32768?Int16Array:Int32Array:O<=255?Uint8Array:O<=65535?Uint16Array:Uint32Array:Float64Array};var T={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};At.getMinimalRepresentation=function(O,x){var I,N,D,nt,q,w=null,E=0;for(nt=0,q=O.length;nt<q;nt++)D=x?x(O[nt]):O[nt],N=At.getNumberType(D),(I=T[N.name])>E&&(E=I,w=N);return w},At.isTypedArray=function(O){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(O)},At.concat=function(){var x,w,E,O=0;for(x=0,E=arguments.length;x<E;x++)O+=arguments[x].length;var I=new arguments[0].constructor(O);for(x=0,w=0;x<E;x++)I.set(arguments[x],w),w+=arguments[x].length;return I},At.indices=function(O){for(var w=new(At.getPointerArray(O))(O),E=0;E<O;E++)w[E]=E;return w}},4467:(Nt,At,P)=>{var ft=P(8123),C=ft.ARRAY_BUFFER_SUPPORT,X=ft.SYMBOL_SUPPORT;Nt.exports=function(G,T){var O,x,w,E,I;if(!G)throw new Error("obliterator/forEach: invalid iterable.");if("function"!=typeof T)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(G)||C&&ArrayBuffer.isView(G)||"string"==typeof G||"[object Arguments]"===G.toString())for(w=0,E=G.length;w<E;w++)T(G[w],w);else if("function"!=typeof G.forEach)if(X&&Symbol.iterator in G&&"function"!=typeof G.next&&(G=G[Symbol.iterator]()),"function"!=typeof G.next)for(x in G)G.hasOwnProperty(x)&&T(G[x],x);else for(O=G,w=0;!0!==(I=O.next()).done;)T(I.value,w),w++;else G.forEach(T)}},5701:Nt=>{function At(P){if("function"!=typeof P)throw new Error("obliterator/iterator: expecting a function!");this.next=P}"undefined"!=typeof Symbol&&(At.prototype[Symbol.iterator]=function(){return this}),At.of=function(){var P=arguments,ft=P.length,C=0;return new At(function(){return C>=ft?{done:!0}:{done:!1,value:P[C++]}})},At.empty=function(){return new At(function(){return{done:!0}})},At.fromSequence=function(P){var ft=0,C=P.length;return new At(function(){return ft>=C?{done:!0}:{done:!1,value:P[ft++]}})},At.is=function(P){return P instanceof At||"object"==typeof P&&null!==P&&"function"==typeof P.next},Nt.exports=At},8123:(Nt,At)=>{At.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,At.SYMBOL_SUPPORT="undefined"!=typeof Symbol},8859:Nt=>{function At(ft){return function(C){return"number"!=typeof C&&(C=C.length),Math.floor(ft()*C)}}var P=At(Math.random);P.createRandomIndex=At,Nt.exports=P},340:(Nt,At,P)=>{var ft=P(9471),C=P(2992),X=P(7657),h=P(5583),G=P(1929),T=P(8083),O=P(3818);O.alea=ft,O.xor128=C,O.xorwow=X,O.xorshift7=h,O.xor4096=G,O.tychei=T,Nt.exports=O},9471:function(Nt,At,P){var ft;!function(C,X,h){function G(w){var E=this,I=function x(){var w=4022871197;return function(I){I=String(I);for(var N=0;N<I.length;N++){var D=.02519603282416938*(w+=I.charCodeAt(N));D-=w=D>>>0,w=(D*=w)>>>0,w+=4294967296*(D-=w)}return 2.3283064365386963e-10*(w>>>0)}}();E.next=function(){var N=2091639*E.s0+2.3283064365386963e-10*E.c;return E.s0=E.s1,E.s1=E.s2,E.s2=N-(E.c=0|N)},E.c=1,E.s0=I(" "),E.s1=I(" "),E.s2=I(" "),E.s0-=I(w),E.s0<0&&(E.s0+=1),E.s1-=I(w),E.s1<0&&(E.s1+=1),E.s2-=I(w),E.s2<0&&(E.s2+=1),I=null}function T(w,E){return E.c=w.c,E.s0=w.s0,E.s1=w.s1,E.s2=w.s2,E}function O(w,E){var I=new G(w),N=E&&E.state,D=I.next;return D.int32=function(){return 4294967296*I.next()|0},D.double=function(){return D()+11102230246251565e-32*(2097152*D()|0)},D.quick=D,N&&("object"==typeof N&&T(N,I),D.state=function(){return T(I,{})}),D}X&&X.exports?X.exports=O:P.amdD&&P.amdO?void 0!==(ft=function(){return O}.call(At,P,At,X))&&(X.exports=ft):this.alea=O}(0,Nt=P.nmd(Nt))},8083:function(Nt,At,P){var ft;!function(C,X,h){function G(x){var w=this,E="";w.next=function(){var N=w.b,D=w.c,nt=w.d,q=w.a;return N=N<<25^N>>>7^D,D=D-nt|0,nt=nt<<24^nt>>>8^q,q=q-N|0,w.b=N=N<<20^N>>>12^D,w.c=D=D-nt|0,w.d=nt<<16^D>>>16^q,w.a=q-N|0},w.a=0,w.b=0,w.c=-1640531527,w.d=1367130551,x===Math.floor(x)?(w.a=x/4294967296|0,w.b=0|x):E+=x;for(var I=0;I<E.length+20;I++)w.b^=0|E.charCodeAt(I),w.next()}function T(x,w){return w.a=x.a,w.b=x.b,w.c=x.c,w.d=x.d,w}function O(x,w){var E=new G(x),I=w&&w.state,N=function(){return(E.next()>>>0)/4294967296};return N.double=function(){do{var q=((E.next()>>>11)+(E.next()>>>0)/4294967296)/(1<<21)}while(0===q);return q},N.int32=E.next,N.quick=N,I&&("object"==typeof I&&T(I,E),N.state=function(){return T(E,{})}),N}X&&X.exports?X.exports=O:P.amdD&&P.amdO?void 0!==(ft=function(){return O}.call(At,P,At,X))&&(X.exports=ft):this.tychei=O}(0,Nt=P.nmd(Nt))},2992:function(Nt,At,P){var ft;!function(C,X,h){function G(x){var w=this,E="";w.x=0,w.y=0,w.z=0,w.w=0,w.next=function(){var N=w.x^w.x<<11;return w.x=w.y,w.y=w.z,w.z=w.w,w.w^=w.w>>>19^N^N>>>8},x===(0|x)?w.x=x:E+=x;for(var I=0;I<E.length+64;I++)w.x^=0|E.charCodeAt(I),w.next()}function T(x,w){return w.x=x.x,w.y=x.y,w.z=x.z,w.w=x.w,w}function O(x,w){var E=new G(x),I=w&&w.state,N=function(){return(E.next()>>>0)/4294967296};return N.double=function(){do{var q=((E.next()>>>11)+(E.next()>>>0)/4294967296)/(1<<21)}while(0===q);return q},N.int32=E.next,N.quick=N,I&&("object"==typeof I&&T(I,E),N.state=function(){return T(E,{})}),N}X&&X.exports?X.exports=O:P.amdD&&P.amdO?void 0!==(ft=function(){return O}.call(At,P,At,X))&&(X.exports=ft):this.xor128=O}(0,Nt=P.nmd(Nt))},1929:function(Nt,At,P){var ft;!function(C,X,h){function G(x){var w=this;w.next=function(){var nt,q,I=w.w,N=w.X,D=w.i;return w.w=I=I+1640531527|0,q=N[D+34&127],nt=N[D=D+1&127],q^=q<<13,nt^=nt<<17,q=N[D]=(q^=q>>>15)^(nt^=nt>>>12),w.i=D,q+(I^I>>>16)|0},function E(I,N){var D,nt,q,rt,ct,Z=[],$=128;for(N===(0|N)?(nt=N,N=null):(N+="\0",nt=0,$=Math.max($,N.length)),q=0,rt=-32;rt<$;++rt)N&&(nt^=N.charCodeAt((rt+32)%N.length)),0===rt&&(ct=nt),nt^=nt<<10,nt^=nt>>>15,nt^=nt<<4,nt^=nt>>>13,rt>=0&&(q=0==(D=Z[127&rt]^=nt+(ct=ct+1640531527|0))?q+1:0);for(q>=128&&(Z[127&(N&&N.length||0)]=-1),q=127,rt=512;rt>0;--rt)nt=Z[q+34&127],D=Z[q=q+1&127],nt^=nt<<13,D^=D<<17,Z[q]=(nt^=nt>>>15)^(D^=D>>>12);I.w=ct,I.X=Z,I.i=q}(w,x)}function T(x,w){return w.i=x.i,w.w=x.w,w.X=x.X.slice(),w}function O(x,w){null==x&&(x=+new Date);var E=new G(x),I=w&&w.state,N=function(){return(E.next()>>>0)/4294967296};return N.double=function(){do{var q=((E.next()>>>11)+(E.next()>>>0)/4294967296)/(1<<21)}while(0===q);return q},N.int32=E.next,N.quick=N,I&&(I.X&&T(I,E),N.state=function(){return T(E,{})}),N}X&&X.exports?X.exports=O:P.amdD&&P.amdO?void 0!==(ft=function(){return O}.call(At,P,At,X))&&(X.exports=ft):this.xor4096=O}(0,Nt=P.nmd(Nt))},5583:function(Nt,At,P){var ft;!function(C,X,h){function G(x){var w=this;w.next=function(){var D,nt,I=w.x,N=w.i;return D=I[N],nt=(D^=D>>>7)^D<<24,nt^=(D=I[N+1&7])^D>>>10,nt^=(D=I[N+3&7])^D>>>3,nt^=(D=I[N+4&7])^D<<7,D=I[N+7&7],I[N]=nt^=(D^=D<<13)^D<<9,w.i=N+1&7,nt},function E(I,N){var D,q=[];if(N===(0|N))q[0]=N;else for(N=""+N,D=0;D<N.length;++D)q[7&D]=q[7&D]<<15^N.charCodeAt(D)+q[D+1&7]<<13;for(;q.length<8;)q.push(0);for(D=0;D<8&&0===q[D];++D);for(8==D&&(q[7]=-1),I.x=q,I.i=0,D=256;D>0;--D)I.next()}(w,x)}function T(x,w){return w.x=x.x.slice(),w.i=x.i,w}function O(x,w){null==x&&(x=+new Date);var E=new G(x),I=w&&w.state,N=function(){return(E.next()>>>0)/4294967296};return N.double=function(){do{var q=((E.next()>>>11)+(E.next()>>>0)/4294967296)/(1<<21)}while(0===q);return q},N.int32=E.next,N.quick=N,I&&(I.x&&T(I,E),N.state=function(){return T(E,{})}),N}X&&X.exports?X.exports=O:P.amdD&&P.amdO?void 0!==(ft=function(){return O}.call(At,P,At,X))&&(X.exports=ft):this.xorshift7=O}(0,Nt=P.nmd(Nt))},7657:function(Nt,At,P){var ft;!function(C,X,h){function G(x){var w=this,E="";w.next=function(){var N=w.x^w.x>>>2;return w.x=w.y,w.y=w.z,w.z=w.w,w.w=w.v,(w.d=w.d+362437|0)+(w.v=w.v^w.v<<4^N^N<<1)|0},w.x=0,w.y=0,w.z=0,w.w=0,w.v=0,x===(0|x)?w.x=x:E+=x;for(var I=0;I<E.length+64;I++)w.x^=0|E.charCodeAt(I),I==E.length&&(w.d=w.x<<10^w.x>>>4),w.next()}function T(x,w){return w.x=x.x,w.y=x.y,w.z=x.z,w.w=x.w,w.v=x.v,w.d=x.d,w}function O(x,w){var E=new G(x),I=w&&w.state,N=function(){return(E.next()>>>0)/4294967296};return N.double=function(){do{var q=((E.next()>>>11)+(E.next()>>>0)/4294967296)/(1<<21)}while(0===q);return q},N.int32=E.next,N.quick=N,I&&("object"==typeof I&&T(I,E),N.state=function(){return T(E,{})}),N}X&&X.exports?X.exports=O:P.amdD&&P.amdO?void 0!==(ft=function(){return O}.call(At,P,At,X))&&(X.exports=ft):this.xorwow=O}(0,Nt=P.nmd(Nt))},3818:function(Nt,At,P){var ft;!function(C,X,h){var D,G=256,w=h.pow(G,6),E=h.pow(2,52),I=2*E,N=255;function nt(L,at,vt){var bt=[],ht=Z(ct((at=1==at?{entropy:!0}:at||{}).entropy?[L,F(X)]:null==L?function $(){try{var L;return D&&(L=D.randomBytes)?L=L(G):(L=new Uint8Array(G),(C.crypto||C.msCrypto).getRandomValues(L)),F(L)}catch(bt){var at=C.navigator,vt=at&&at.plugins;return[+new Date,C,vt,C.screen,F(X)]}}():L,3),bt),dt=new q(bt),St=function(){for(var Tt=dt.g(6),Pt=w,jt=0;Tt<E;)Tt=(Tt+jt)*G,Pt*=G,jt=dt.g(1);for(;Tt>=I;)Tt/=2,Pt/=2,jt>>>=1;return(Tt+jt)/Pt};return St.int32=function(){return 0|dt.g(4)},St.quick=function(){return dt.g(4)/4294967296},St.double=St,Z(F(dt.S),X),(at.pass||vt||function(Tt,Pt,jt,te){return te&&(te.S&&rt(te,dt),Tt.state=function(){return rt(dt,{})}),jt?(h.random=Tt,Pt):Tt})(St,ht,"global"in at?at.global:this==h,at.state)}function q(L){var at,vt=L.length,bt=this,ht=0,dt=bt.i=bt.j=0,St=bt.S=[];for(vt||(L=[vt++]);ht<G;)St[ht]=ht++;for(ht=0;ht<G;ht++)St[ht]=St[dt=N&dt+L[ht%vt]+(at=St[ht])],St[dt]=at;(bt.g=function(Tt){for(var Pt,jt=0,te=bt.i,Kt=bt.j,Qt=bt.S;Tt--;)Pt=Qt[te=N&te+1],jt=jt*G+Qt[N&(Qt[te]=Qt[Kt=N&Kt+Pt])+(Qt[Kt]=Pt)];return bt.i=te,bt.j=Kt,jt})(G)}function rt(L,at){return at.i=L.i,at.j=L.j,at.S=L.S.slice(),at}function ct(L,at){var ht,vt=[],bt=typeof L;if(at&&"object"==bt)for(ht in L)try{vt.push(ct(L[ht],at-1))}catch(dt){}return vt.length?vt:"string"==bt?L:L+"\0"}function Z(L,at){for(var bt,vt=L+"",ht=0;ht<vt.length;)at[N&ht]=N&(bt^=19*at[N&ht])+vt.charCodeAt(ht++);return F(at)}function F(L){return String.fromCharCode.apply(0,L)}if(Z(h.random(),X),Nt.exports){Nt.exports=nt;try{D=P(5042)}catch(L){}}else void 0!==(ft=function(){return nt}.call(At,P,At,Nt))&&(Nt.exports=ft)}("undefined"!=typeof self?self:this,[],Math)},5042:()=>{}}]);